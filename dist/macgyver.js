(function (Vue$1, $) {
  'use strict';

  Vue$1 = Vue$1 && Vue$1.hasOwnProperty('default') ? Vue$1['default'] : Vue$1;
  $ = $ && $.hasOwnProperty('default') ? $['default'] : $;

  function _typeof(obj) {
    "@babel/helpers - typeof";

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      _typeof = function (obj) {
        return typeof obj;
      };
    } else {
      _typeof = function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return _typeof(obj);
  }

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);

    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(object);
      if (enumerableOnly) symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
      keys.push.apply(keys, symbols);
    }

    return keys;
  }

  function _objectSpread2(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i] != null ? arguments[i] : {};

      if (i % 2) {
        ownKeys(Object(source), true).forEach(function (key) {
          _defineProperty(target, key, source[key]);
        });
      } else if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
      } else {
        ownKeys(Object(source)).forEach(function (key) {
          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
      }
    }

    return target;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
  }

  function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
  }

  function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };

    return _setPrototypeOf(o, p);
  }

  function _isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  function _construct(Parent, args, Class) {
    if (_isNativeReflectConstruct()) {
      _construct = Reflect.construct;
    } else {
      _construct = function _construct(Parent, args, Class) {
        var a = [null];
        a.push.apply(a, args);
        var Constructor = Function.bind.apply(Parent, a);
        var instance = new Constructor();
        if (Class) _setPrototypeOf(instance, Class.prototype);
        return instance;
      };
    }

    return _construct.apply(null, arguments);
  }

  function _isNativeFunction(fn) {
    return Function.toString.call(fn).indexOf("[native code]") !== -1;
  }

  function _wrapNativeSuper(Class) {
    var _cache = typeof Map === "function" ? new Map() : undefined;

    _wrapNativeSuper = function _wrapNativeSuper(Class) {
      if (Class === null || !_isNativeFunction(Class)) return Class;

      if (typeof Class !== "function") {
        throw new TypeError("Super expression must either be null or a function");
      }

      if (typeof _cache !== "undefined") {
        if (_cache.has(Class)) return _cache.get(Class);

        _cache.set(Class, Wrapper);
      }

      function Wrapper() {
        return _construct(Class, arguments, _getPrototypeOf(this).constructor);
      }

      Wrapper.prototype = Object.create(Class.prototype, {
        constructor: {
          value: Wrapper,
          enumerable: false,
          writable: true,
          configurable: true
        }
      });
      return _setPrototypeOf(Wrapper, Class);
    };

    return _wrapNativeSuper(Class);
  }

  function _slicedToArray(arr, i) {
    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
  }

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
  }

  function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
  }

  function _arrayWithHoles(arr) {
    if (Array.isArray(arr)) return arr;
  }

  function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
  }

  function _iterableToArrayLimit(arr, i) {
    if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"] != null) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  function _wrapRegExp(re, groups) {
    _wrapRegExp = function (re, groups) {
      return new BabelRegExp(re, undefined, groups);
    };

    var _RegExp = _wrapNativeSuper(RegExp);

    var _super = RegExp.prototype;

    var _groups = new WeakMap();

    function BabelRegExp(re, flags, groups) {
      var _this = _RegExp.call(this, re, flags);

      _groups.set(_this, groups || _groups.get(re));

      return _this;
    }

    _inherits(BabelRegExp, _RegExp);

    BabelRegExp.prototype.exec = function (str) {
      var result = _super.exec.call(this, str);

      if (result) result.groups = buildGroups(result, this);
      return result;
    };

    BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {
      if (typeof substitution === "string") {
        var groups = _groups.get(this);

        return _super[Symbol.replace].call(this, str, substitution.replace(/\$<([^>]+)>/g, function (_, name) {
          return "$" + groups[name];
        }));
      } else if (typeof substitution === "function") {
        var _this = this;

        return _super[Symbol.replace].call(this, str, function () {
          var args = [];
          args.push.apply(args, arguments);

          if (typeof args[args.length - 1] !== "object") {
            args.push(buildGroups(args, _this));
          }

          return substitution.apply(this, args);
        });
      } else {
        return _super[Symbol.replace].call(this, str, substitution);
      }
    };

    function buildGroups(result, re) {
      var g = _groups.get(re);

      return Object.keys(g).reduce(function (groups, name) {
        groups[name] = result[g[name]];
        return groups;
      }, Object.create(null));
    }

    return _wrapRegExp.apply(this, arguments);
  }

  var global$1 = (typeof global !== "undefined" ? global :
              typeof self !== "undefined" ? self :
              typeof window !== "undefined" ? window : {});

  /**
   * Checks if `value` is classified as an `Array` object.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an array, else `false`.
   * @example
   *
   * _.isArray([1, 2, 3]);
   * // => true
   *
   * _.isArray(document.body.children);
   * // => false
   *
   * _.isArray('abc');
   * // => false
   *
   * _.isArray(_.noop);
   * // => false
   */
  var isArray = Array.isArray;

  var isArray_1 = isArray;

  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

  function commonjsRequire () {
  	throw new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');
  }

  function unwrapExports (x) {
  	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
  }

  function createCommonjsModule(fn, module) {
  	return module = { exports: {} }, fn(module, module.exports), module.exports;
  }

  /** Detect free variable `global` from Node.js. */
  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;

  var _freeGlobal = freeGlobal;

  /** Detect free variable `self`. */
  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

  /** Used as a reference to the global object. */
  var root = _freeGlobal || freeSelf || Function('return this')();

  var _root = root;

  /** Built-in value references. */
  var Symbol$1 = _root.Symbol;

  var _Symbol = Symbol$1;

  /** Used for built-in method references. */
  var objectProto = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$1 = objectProto.hasOwnProperty;

  /**
   * Used to resolve the
   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
   * of values.
   */
  var nativeObjectToString = objectProto.toString;

  /** Built-in value references. */
  var symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;

  /**
   * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
   *
   * @private
   * @param {*} value The value to query.
   * @returns {string} Returns the raw `toStringTag`.
   */
  function getRawTag(value) {
    var isOwn = hasOwnProperty$1.call(value, symToStringTag),
        tag = value[symToStringTag];

    try {
      value[symToStringTag] = undefined;
      var unmasked = true;
    } catch (e) {}

    var result = nativeObjectToString.call(value);
    if (unmasked) {
      if (isOwn) {
        value[symToStringTag] = tag;
      } else {
        delete value[symToStringTag];
      }
    }
    return result;
  }

  var _getRawTag = getRawTag;

  /** Used for built-in method references. */
  var objectProto$1 = Object.prototype;

  /**
   * Used to resolve the
   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
   * of values.
   */
  var nativeObjectToString$1 = objectProto$1.toString;

  /**
   * Converts `value` to a string using `Object.prototype.toString`.
   *
   * @private
   * @param {*} value The value to convert.
   * @returns {string} Returns the converted string.
   */
  function objectToString(value) {
    return nativeObjectToString$1.call(value);
  }

  var _objectToString = objectToString;

  /** `Object#toString` result references. */
  var nullTag = '[object Null]',
      undefinedTag = '[object Undefined]';

  /** Built-in value references. */
  var symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;

  /**
   * The base implementation of `getTag` without fallbacks for buggy environments.
   *
   * @private
   * @param {*} value The value to query.
   * @returns {string} Returns the `toStringTag`.
   */
  function baseGetTag(value) {
    if (value == null) {
      return value === undefined ? undefinedTag : nullTag;
    }
    return (symToStringTag$1 && symToStringTag$1 in Object(value))
      ? _getRawTag(value)
      : _objectToString(value);
  }

  var _baseGetTag = baseGetTag;

  /**
   * Checks if `value` is object-like. A value is object-like if it's not `null`
   * and has a `typeof` result of "object".
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
   * @example
   *
   * _.isObjectLike({});
   * // => true
   *
   * _.isObjectLike([1, 2, 3]);
   * // => true
   *
   * _.isObjectLike(_.noop);
   * // => false
   *
   * _.isObjectLike(null);
   * // => false
   */
  function isObjectLike(value) {
    return value != null && typeof value == 'object';
  }

  var isObjectLike_1 = isObjectLike;

  /** `Object#toString` result references. */
  var symbolTag = '[object Symbol]';

  /**
   * Checks if `value` is classified as a `Symbol` primitive or object.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
   * @example
   *
   * _.isSymbol(Symbol.iterator);
   * // => true
   *
   * _.isSymbol('abc');
   * // => false
   */
  function isSymbol(value) {
    return typeof value == 'symbol' ||
      (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);
  }

  var isSymbol_1 = isSymbol;

  /** Used to match property names within property paths. */
  var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
      reIsPlainProp = /^\w*$/;

  /**
   * Checks if `value` is a property name and not a property path.
   *
   * @private
   * @param {*} value The value to check.
   * @param {Object} [object] The object to query keys on.
   * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
   */
  function isKey(value, object) {
    if (isArray_1(value)) {
      return false;
    }
    var type = typeof value;
    if (type == 'number' || type == 'symbol' || type == 'boolean' ||
        value == null || isSymbol_1(value)) {
      return true;
    }
    return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
      (object != null && value in Object(object));
  }

  var _isKey = isKey;

  /**
   * Checks if `value` is the
   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an object, else `false`.
   * @example
   *
   * _.isObject({});
   * // => true
   *
   * _.isObject([1, 2, 3]);
   * // => true
   *
   * _.isObject(_.noop);
   * // => true
   *
   * _.isObject(null);
   * // => false
   */
  function isObject(value) {
    var type = typeof value;
    return value != null && (type == 'object' || type == 'function');
  }

  var isObject_1 = isObject;

  /** `Object#toString` result references. */
  var asyncTag = '[object AsyncFunction]',
      funcTag = '[object Function]',
      genTag = '[object GeneratorFunction]',
      proxyTag = '[object Proxy]';

  /**
   * Checks if `value` is classified as a `Function` object.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a function, else `false`.
   * @example
   *
   * _.isFunction(_);
   * // => true
   *
   * _.isFunction(/abc/);
   * // => false
   */
  function isFunction(value) {
    if (!isObject_1(value)) {
      return false;
    }
    // The use of `Object#toString` avoids issues with the `typeof` operator
    // in Safari 9 which returns 'object' for typed arrays and other constructors.
    var tag = _baseGetTag(value);
    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
  }

  var isFunction_1 = isFunction;

  /** Used to detect overreaching core-js shims. */
  var coreJsData = _root['__core-js_shared__'];

  var _coreJsData = coreJsData;

  /** Used to detect methods masquerading as native. */
  var maskSrcKey = (function() {
    var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');
    return uid ? ('Symbol(src)_1.' + uid) : '';
  }());

  /**
   * Checks if `func` has its source masked.
   *
   * @private
   * @param {Function} func The function to check.
   * @returns {boolean} Returns `true` if `func` is masked, else `false`.
   */
  function isMasked(func) {
    return !!maskSrcKey && (maskSrcKey in func);
  }

  var _isMasked = isMasked;

  /** Used for built-in method references. */
  var funcProto = Function.prototype;

  /** Used to resolve the decompiled source of functions. */
  var funcToString = funcProto.toString;

  /**
   * Converts `func` to its source code.
   *
   * @private
   * @param {Function} func The function to convert.
   * @returns {string} Returns the source code.
   */
  function toSource(func) {
    if (func != null) {
      try {
        return funcToString.call(func);
      } catch (e) {}
      try {
        return (func + '');
      } catch (e) {}
    }
    return '';
  }

  var _toSource = toSource;

  /**
   * Used to match `RegExp`
   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
   */
  var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

  /** Used to detect host constructors (Safari). */
  var reIsHostCtor = /^\[object .+?Constructor\]$/;

  /** Used for built-in method references. */
  var funcProto$1 = Function.prototype,
      objectProto$2 = Object.prototype;

  /** Used to resolve the decompiled source of functions. */
  var funcToString$1 = funcProto$1.toString;

  /** Used to check objects for own properties. */
  var hasOwnProperty$2 = objectProto$2.hasOwnProperty;

  /** Used to detect if a method is native. */
  var reIsNative = RegExp('^' +
    funcToString$1.call(hasOwnProperty$2).replace(reRegExpChar, '\\$&')
    .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
  );

  /**
   * The base implementation of `_.isNative` without bad shim checks.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a native function,
   *  else `false`.
   */
  function baseIsNative(value) {
    if (!isObject_1(value) || _isMasked(value)) {
      return false;
    }
    var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;
    return pattern.test(_toSource(value));
  }

  var _baseIsNative = baseIsNative;

  /**
   * Gets the value at `key` of `object`.
   *
   * @private
   * @param {Object} [object] The object to query.
   * @param {string} key The key of the property to get.
   * @returns {*} Returns the property value.
   */
  function getValue(object, key) {
    return object == null ? undefined : object[key];
  }

  var _getValue = getValue;

  /**
   * Gets the native function at `key` of `object`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {string} key The key of the method to get.
   * @returns {*} Returns the function if it's native, else `undefined`.
   */
  function getNative(object, key) {
    var value = _getValue(object, key);
    return _baseIsNative(value) ? value : undefined;
  }

  var _getNative = getNative;

  /* Built-in method references that are verified to be native. */
  var nativeCreate = _getNative(Object, 'create');

  var _nativeCreate = nativeCreate;

  /**
   * Removes all key-value entries from the hash.
   *
   * @private
   * @name clear
   * @memberOf Hash
   */
  function hashClear() {
    this.__data__ = _nativeCreate ? _nativeCreate(null) : {};
    this.size = 0;
  }

  var _hashClear = hashClear;

  /**
   * Removes `key` and its value from the hash.
   *
   * @private
   * @name delete
   * @memberOf Hash
   * @param {Object} hash The hash to modify.
   * @param {string} key The key of the value to remove.
   * @returns {boolean} Returns `true` if the entry was removed, else `false`.
   */
  function hashDelete(key) {
    var result = this.has(key) && delete this.__data__[key];
    this.size -= result ? 1 : 0;
    return result;
  }

  var _hashDelete = hashDelete;

  /** Used to stand-in for `undefined` hash values. */
  var HASH_UNDEFINED = '__lodash_hash_undefined__';

  /** Used for built-in method references. */
  var objectProto$3 = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$3 = objectProto$3.hasOwnProperty;

  /**
   * Gets the hash value for `key`.
   *
   * @private
   * @name get
   * @memberOf Hash
   * @param {string} key The key of the value to get.
   * @returns {*} Returns the entry value.
   */
  function hashGet(key) {
    var data = this.__data__;
    if (_nativeCreate) {
      var result = data[key];
      return result === HASH_UNDEFINED ? undefined : result;
    }
    return hasOwnProperty$3.call(data, key) ? data[key] : undefined;
  }

  var _hashGet = hashGet;

  /** Used for built-in method references. */
  var objectProto$4 = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$4 = objectProto$4.hasOwnProperty;

  /**
   * Checks if a hash value for `key` exists.
   *
   * @private
   * @name has
   * @memberOf Hash
   * @param {string} key The key of the entry to check.
   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
   */
  function hashHas(key) {
    var data = this.__data__;
    return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$4.call(data, key);
  }

  var _hashHas = hashHas;

  /** Used to stand-in for `undefined` hash values. */
  var HASH_UNDEFINED$1 = '__lodash_hash_undefined__';

  /**
   * Sets the hash `key` to `value`.
   *
   * @private
   * @name set
   * @memberOf Hash
   * @param {string} key The key of the value to set.
   * @param {*} value The value to set.
   * @returns {Object} Returns the hash instance.
   */
  function hashSet(key, value) {
    var data = this.__data__;
    this.size += this.has(key) ? 0 : 1;
    data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;
    return this;
  }

  var _hashSet = hashSet;

  /**
   * Creates a hash object.
   *
   * @private
   * @constructor
   * @param {Array} [entries] The key-value pairs to cache.
   */
  function Hash(entries) {
    var index = -1,
        length = entries == null ? 0 : entries.length;

    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  }

  // Add methods to `Hash`.
  Hash.prototype.clear = _hashClear;
  Hash.prototype['delete'] = _hashDelete;
  Hash.prototype.get = _hashGet;
  Hash.prototype.has = _hashHas;
  Hash.prototype.set = _hashSet;

  var _Hash = Hash;

  /**
   * Removes all key-value entries from the list cache.
   *
   * @private
   * @name clear
   * @memberOf ListCache
   */
  function listCacheClear() {
    this.__data__ = [];
    this.size = 0;
  }

  var _listCacheClear = listCacheClear;

  /**
   * Performs a
   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
   * comparison between two values to determine if they are equivalent.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to compare.
   * @param {*} other The other value to compare.
   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
   * @example
   *
   * var object = { 'a': 1 };
   * var other = { 'a': 1 };
   *
   * _.eq(object, object);
   * // => true
   *
   * _.eq(object, other);
   * // => false
   *
   * _.eq('a', 'a');
   * // => true
   *
   * _.eq('a', Object('a'));
   * // => false
   *
   * _.eq(NaN, NaN);
   * // => true
   */
  function eq(value, other) {
    return value === other || (value !== value && other !== other);
  }

  var eq_1 = eq;

  /**
   * Gets the index at which the `key` is found in `array` of key-value pairs.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} key The key to search for.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */
  function assocIndexOf(array, key) {
    var length = array.length;
    while (length--) {
      if (eq_1(array[length][0], key)) {
        return length;
      }
    }
    return -1;
  }

  var _assocIndexOf = assocIndexOf;

  /** Used for built-in method references. */
  var arrayProto = Array.prototype;

  /** Built-in value references. */
  var splice = arrayProto.splice;

  /**
   * Removes `key` and its value from the list cache.
   *
   * @private
   * @name delete
   * @memberOf ListCache
   * @param {string} key The key of the value to remove.
   * @returns {boolean} Returns `true` if the entry was removed, else `false`.
   */
  function listCacheDelete(key) {
    var data = this.__data__,
        index = _assocIndexOf(data, key);

    if (index < 0) {
      return false;
    }
    var lastIndex = data.length - 1;
    if (index == lastIndex) {
      data.pop();
    } else {
      splice.call(data, index, 1);
    }
    --this.size;
    return true;
  }

  var _listCacheDelete = listCacheDelete;

  /**
   * Gets the list cache value for `key`.
   *
   * @private
   * @name get
   * @memberOf ListCache
   * @param {string} key The key of the value to get.
   * @returns {*} Returns the entry value.
   */
  function listCacheGet(key) {
    var data = this.__data__,
        index = _assocIndexOf(data, key);

    return index < 0 ? undefined : data[index][1];
  }

  var _listCacheGet = listCacheGet;

  /**
   * Checks if a list cache value for `key` exists.
   *
   * @private
   * @name has
   * @memberOf ListCache
   * @param {string} key The key of the entry to check.
   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
   */
  function listCacheHas(key) {
    return _assocIndexOf(this.__data__, key) > -1;
  }

  var _listCacheHas = listCacheHas;

  /**
   * Sets the list cache `key` to `value`.
   *
   * @private
   * @name set
   * @memberOf ListCache
   * @param {string} key The key of the value to set.
   * @param {*} value The value to set.
   * @returns {Object} Returns the list cache instance.
   */
  function listCacheSet(key, value) {
    var data = this.__data__,
        index = _assocIndexOf(data, key);

    if (index < 0) {
      ++this.size;
      data.push([key, value]);
    } else {
      data[index][1] = value;
    }
    return this;
  }

  var _listCacheSet = listCacheSet;

  /**
   * Creates an list cache object.
   *
   * @private
   * @constructor
   * @param {Array} [entries] The key-value pairs to cache.
   */
  function ListCache(entries) {
    var index = -1,
        length = entries == null ? 0 : entries.length;

    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  }

  // Add methods to `ListCache`.
  ListCache.prototype.clear = _listCacheClear;
  ListCache.prototype['delete'] = _listCacheDelete;
  ListCache.prototype.get = _listCacheGet;
  ListCache.prototype.has = _listCacheHas;
  ListCache.prototype.set = _listCacheSet;

  var _ListCache = ListCache;

  /* Built-in method references that are verified to be native. */
  var Map$1 = _getNative(_root, 'Map');

  var _Map = Map$1;

  /**
   * Removes all key-value entries from the map.
   *
   * @private
   * @name clear
   * @memberOf MapCache
   */
  function mapCacheClear() {
    this.size = 0;
    this.__data__ = {
      'hash': new _Hash,
      'map': new (_Map || _ListCache),
      'string': new _Hash
    };
  }

  var _mapCacheClear = mapCacheClear;

  /**
   * Checks if `value` is suitable for use as unique object key.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
   */
  function isKeyable(value) {
    var type = typeof value;
    return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
      ? (value !== '__proto__')
      : (value === null);
  }

  var _isKeyable = isKeyable;

  /**
   * Gets the data for `map`.
   *
   * @private
   * @param {Object} map The map to query.
   * @param {string} key The reference key.
   * @returns {*} Returns the map data.
   */
  function getMapData(map, key) {
    var data = map.__data__;
    return _isKeyable(key)
      ? data[typeof key == 'string' ? 'string' : 'hash']
      : data.map;
  }

  var _getMapData = getMapData;

  /**
   * Removes `key` and its value from the map.
   *
   * @private
   * @name delete
   * @memberOf MapCache
   * @param {string} key The key of the value to remove.
   * @returns {boolean} Returns `true` if the entry was removed, else `false`.
   */
  function mapCacheDelete(key) {
    var result = _getMapData(this, key)['delete'](key);
    this.size -= result ? 1 : 0;
    return result;
  }

  var _mapCacheDelete = mapCacheDelete;

  /**
   * Gets the map value for `key`.
   *
   * @private
   * @name get
   * @memberOf MapCache
   * @param {string} key The key of the value to get.
   * @returns {*} Returns the entry value.
   */
  function mapCacheGet(key) {
    return _getMapData(this, key).get(key);
  }

  var _mapCacheGet = mapCacheGet;

  /**
   * Checks if a map value for `key` exists.
   *
   * @private
   * @name has
   * @memberOf MapCache
   * @param {string} key The key of the entry to check.
   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
   */
  function mapCacheHas(key) {
    return _getMapData(this, key).has(key);
  }

  var _mapCacheHas = mapCacheHas;

  /**
   * Sets the map `key` to `value`.
   *
   * @private
   * @name set
   * @memberOf MapCache
   * @param {string} key The key of the value to set.
   * @param {*} value The value to set.
   * @returns {Object} Returns the map cache instance.
   */
  function mapCacheSet(key, value) {
    var data = _getMapData(this, key),
        size = data.size;

    data.set(key, value);
    this.size += data.size == size ? 0 : 1;
    return this;
  }

  var _mapCacheSet = mapCacheSet;

  /**
   * Creates a map cache object to store key-value pairs.
   *
   * @private
   * @constructor
   * @param {Array} [entries] The key-value pairs to cache.
   */
  function MapCache(entries) {
    var index = -1,
        length = entries == null ? 0 : entries.length;

    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  }

  // Add methods to `MapCache`.
  MapCache.prototype.clear = _mapCacheClear;
  MapCache.prototype['delete'] = _mapCacheDelete;
  MapCache.prototype.get = _mapCacheGet;
  MapCache.prototype.has = _mapCacheHas;
  MapCache.prototype.set = _mapCacheSet;

  var _MapCache = MapCache;

  /** Error message constants. */
  var FUNC_ERROR_TEXT = 'Expected a function';

  /**
   * Creates a function that memoizes the result of `func`. If `resolver` is
   * provided, it determines the cache key for storing the result based on the
   * arguments provided to the memoized function. By default, the first argument
   * provided to the memoized function is used as the map cache key. The `func`
   * is invoked with the `this` binding of the memoized function.
   *
   * **Note:** The cache is exposed as the `cache` property on the memoized
   * function. Its creation may be customized by replacing the `_.memoize.Cache`
   * constructor with one whose instances implement the
   * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
   * method interface of `clear`, `delete`, `get`, `has`, and `set`.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Function
   * @param {Function} func The function to have its output memoized.
   * @param {Function} [resolver] The function to resolve the cache key.
   * @returns {Function} Returns the new memoized function.
   * @example
   *
   * var object = { 'a': 1, 'b': 2 };
   * var other = { 'c': 3, 'd': 4 };
   *
   * var values = _.memoize(_.values);
   * values(object);
   * // => [1, 2]
   *
   * values(other);
   * // => [3, 4]
   *
   * object.a = 2;
   * values(object);
   * // => [1, 2]
   *
   * // Modify the result cache.
   * values.cache.set(object, ['a', 'b']);
   * values(object);
   * // => ['a', 'b']
   *
   * // Replace `_.memoize.Cache`.
   * _.memoize.Cache = WeakMap;
   */
  function memoize(func, resolver) {
    if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {
      throw new TypeError(FUNC_ERROR_TEXT);
    }
    var memoized = function() {
      var args = arguments,
          key = resolver ? resolver.apply(this, args) : args[0],
          cache = memoized.cache;

      if (cache.has(key)) {
        return cache.get(key);
      }
      var result = func.apply(this, args);
      memoized.cache = cache.set(key, result) || cache;
      return result;
    };
    memoized.cache = new (memoize.Cache || _MapCache);
    return memoized;
  }

  // Expose `MapCache`.
  memoize.Cache = _MapCache;

  var memoize_1 = memoize;

  /** Used as the maximum memoize cache size. */
  var MAX_MEMOIZE_SIZE = 500;

  /**
   * A specialized version of `_.memoize` which clears the memoized function's
   * cache when it exceeds `MAX_MEMOIZE_SIZE`.
   *
   * @private
   * @param {Function} func The function to have its output memoized.
   * @returns {Function} Returns the new memoized function.
   */
  function memoizeCapped(func) {
    var result = memoize_1(func, function(key) {
      if (cache.size === MAX_MEMOIZE_SIZE) {
        cache.clear();
      }
      return key;
    });

    var cache = result.cache;
    return result;
  }

  var _memoizeCapped = memoizeCapped;

  /** Used to match property names within property paths. */
  var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

  /** Used to match backslashes in property paths. */
  var reEscapeChar = /\\(\\)?/g;

  /**
   * Converts `string` to a property path array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the property path array.
   */
  var stringToPath = _memoizeCapped(function(string) {
    var result = [];
    if (string.charCodeAt(0) === 46 /* . */) {
      result.push('');
    }
    string.replace(rePropName, function(match, number, quote, subString) {
      result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));
    });
    return result;
  });

  var _stringToPath = stringToPath;

  /**
   * A specialized version of `_.map` for arrays without support for iteratee
   * shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the new mapped array.
   */
  function arrayMap(array, iteratee) {
    var index = -1,
        length = array == null ? 0 : array.length,
        result = Array(length);

    while (++index < length) {
      result[index] = iteratee(array[index], index, array);
    }
    return result;
  }

  var _arrayMap = arrayMap;

  /** Used as references for various `Number` constants. */
  var INFINITY = 1 / 0;

  /** Used to convert symbols to primitives and strings. */
  var symbolProto = _Symbol ? _Symbol.prototype : undefined,
      symbolToString = symbolProto ? symbolProto.toString : undefined;

  /**
   * The base implementation of `_.toString` which doesn't convert nullish
   * values to empty strings.
   *
   * @private
   * @param {*} value The value to process.
   * @returns {string} Returns the string.
   */
  function baseToString(value) {
    // Exit early for strings to avoid a performance hit in some environments.
    if (typeof value == 'string') {
      return value;
    }
    if (isArray_1(value)) {
      // Recursively convert values (susceptible to call stack limits).
      return _arrayMap(value, baseToString) + '';
    }
    if (isSymbol_1(value)) {
      return symbolToString ? symbolToString.call(value) : '';
    }
    var result = (value + '');
    return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
  }

  var _baseToString = baseToString;

  /**
   * Converts `value` to a string. An empty string is returned for `null`
   * and `undefined` values. The sign of `-0` is preserved.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to convert.
   * @returns {string} Returns the converted string.
   * @example
   *
   * _.toString(null);
   * // => ''
   *
   * _.toString(-0);
   * // => '-0'
   *
   * _.toString([1, 2, 3]);
   * // => '1,2,3'
   */
  function toString(value) {
    return value == null ? '' : _baseToString(value);
  }

  var toString_1 = toString;

  /**
   * Casts `value` to a path array if it's not one.
   *
   * @private
   * @param {*} value The value to inspect.
   * @param {Object} [object] The object to query keys on.
   * @returns {Array} Returns the cast property path array.
   */
  function castPath(value, object) {
    if (isArray_1(value)) {
      return value;
    }
    return _isKey(value, object) ? [value] : _stringToPath(toString_1(value));
  }

  var _castPath = castPath;

  /** Used as references for various `Number` constants. */
  var INFINITY$1 = 1 / 0;

  /**
   * Converts `value` to a string key if it's not a string or symbol.
   *
   * @private
   * @param {*} value The value to inspect.
   * @returns {string|symbol} Returns the key.
   */
  function toKey(value) {
    if (typeof value == 'string' || isSymbol_1(value)) {
      return value;
    }
    var result = (value + '');
    return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;
  }

  var _toKey = toKey;

  /**
   * The base implementation of `_.get` without support for default values.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Array|string} path The path of the property to get.
   * @returns {*} Returns the resolved value.
   */
  function baseGet(object, path) {
    path = _castPath(path, object);

    var index = 0,
        length = path.length;

    while (object != null && index < length) {
      object = object[_toKey(path[index++])];
    }
    return (index && index == length) ? object : undefined;
  }

  var _baseGet = baseGet;

  /**
   * Gets the value at `path` of `object`. If the resolved value is
   * `undefined`, the `defaultValue` is returned in its place.
   *
   * @static
   * @memberOf _
   * @since 3.7.0
   * @category Object
   * @param {Object} object The object to query.
   * @param {Array|string} path The path of the property to get.
   * @param {*} [defaultValue] The value returned for `undefined` resolved values.
   * @returns {*} Returns the resolved value.
   * @example
   *
   * var object = { 'a': [{ 'b': { 'c': 3 } }] };
   *
   * _.get(object, 'a[0].b.c');
   * // => 3
   *
   * _.get(object, ['a', '0', 'b', 'c']);
   * // => 3
   *
   * _.get(object, 'a.b.c', 'default');
   * // => 'default'
   */
  function get(object, path, defaultValue) {
    var result = object == null ? undefined : _baseGet(object, path);
    return result === undefined ? defaultValue : result;
  }

  var get_1 = get;

  /**
   * A specialized version of `_.reduce` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} [accumulator] The initial value.
   * @param {boolean} [initAccum] Specify using the first element of `array` as
   *  the initial value.
   * @returns {*} Returns the accumulated value.
   */
  function arrayReduce(array, iteratee, accumulator, initAccum) {
    var index = -1,
        length = array == null ? 0 : array.length;

    if (initAccum && length) {
      accumulator = array[++index];
    }
    while (++index < length) {
      accumulator = iteratee(accumulator, array[index], index, array);
    }
    return accumulator;
  }

  var _arrayReduce = arrayReduce;

  /**
   * The base implementation of `_.propertyOf` without support for deep paths.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Function} Returns the new accessor function.
   */
  function basePropertyOf(object) {
    return function(key) {
      return object == null ? undefined : object[key];
    };
  }

  var _basePropertyOf = basePropertyOf;

  /** Used to map Latin Unicode letters to basic Latin letters. */
  var deburredLetters = {
    // Latin-1 Supplement block.
    '\xc0': 'A',  '\xc1': 'A', '\xc2': 'A', '\xc3': 'A', '\xc4': 'A', '\xc5': 'A',
    '\xe0': 'a',  '\xe1': 'a', '\xe2': 'a', '\xe3': 'a', '\xe4': 'a', '\xe5': 'a',
    '\xc7': 'C',  '\xe7': 'c',
    '\xd0': 'D',  '\xf0': 'd',
    '\xc8': 'E',  '\xc9': 'E', '\xca': 'E', '\xcb': 'E',
    '\xe8': 'e',  '\xe9': 'e', '\xea': 'e', '\xeb': 'e',
    '\xcc': 'I',  '\xcd': 'I', '\xce': 'I', '\xcf': 'I',
    '\xec': 'i',  '\xed': 'i', '\xee': 'i', '\xef': 'i',
    '\xd1': 'N',  '\xf1': 'n',
    '\xd2': 'O',  '\xd3': 'O', '\xd4': 'O', '\xd5': 'O', '\xd6': 'O', '\xd8': 'O',
    '\xf2': 'o',  '\xf3': 'o', '\xf4': 'o', '\xf5': 'o', '\xf6': 'o', '\xf8': 'o',
    '\xd9': 'U',  '\xda': 'U', '\xdb': 'U', '\xdc': 'U',
    '\xf9': 'u',  '\xfa': 'u', '\xfb': 'u', '\xfc': 'u',
    '\xdd': 'Y',  '\xfd': 'y', '\xff': 'y',
    '\xc6': 'Ae', '\xe6': 'ae',
    '\xde': 'Th', '\xfe': 'th',
    '\xdf': 'ss',
    // Latin Extended-A block.
    '\u0100': 'A',  '\u0102': 'A', '\u0104': 'A',
    '\u0101': 'a',  '\u0103': 'a', '\u0105': 'a',
    '\u0106': 'C',  '\u0108': 'C', '\u010a': 'C', '\u010c': 'C',
    '\u0107': 'c',  '\u0109': 'c', '\u010b': 'c', '\u010d': 'c',
    '\u010e': 'D',  '\u0110': 'D', '\u010f': 'd', '\u0111': 'd',
    '\u0112': 'E',  '\u0114': 'E', '\u0116': 'E', '\u0118': 'E', '\u011a': 'E',
    '\u0113': 'e',  '\u0115': 'e', '\u0117': 'e', '\u0119': 'e', '\u011b': 'e',
    '\u011c': 'G',  '\u011e': 'G', '\u0120': 'G', '\u0122': 'G',
    '\u011d': 'g',  '\u011f': 'g', '\u0121': 'g', '\u0123': 'g',
    '\u0124': 'H',  '\u0126': 'H', '\u0125': 'h', '\u0127': 'h',
    '\u0128': 'I',  '\u012a': 'I', '\u012c': 'I', '\u012e': 'I', '\u0130': 'I',
    '\u0129': 'i',  '\u012b': 'i', '\u012d': 'i', '\u012f': 'i', '\u0131': 'i',
    '\u0134': 'J',  '\u0135': 'j',
    '\u0136': 'K',  '\u0137': 'k', '\u0138': 'k',
    '\u0139': 'L',  '\u013b': 'L', '\u013d': 'L', '\u013f': 'L', '\u0141': 'L',
    '\u013a': 'l',  '\u013c': 'l', '\u013e': 'l', '\u0140': 'l', '\u0142': 'l',
    '\u0143': 'N',  '\u0145': 'N', '\u0147': 'N', '\u014a': 'N',
    '\u0144': 'n',  '\u0146': 'n', '\u0148': 'n', '\u014b': 'n',
    '\u014c': 'O',  '\u014e': 'O', '\u0150': 'O',
    '\u014d': 'o',  '\u014f': 'o', '\u0151': 'o',
    '\u0154': 'R',  '\u0156': 'R', '\u0158': 'R',
    '\u0155': 'r',  '\u0157': 'r', '\u0159': 'r',
    '\u015a': 'S',  '\u015c': 'S', '\u015e': 'S', '\u0160': 'S',
    '\u015b': 's',  '\u015d': 's', '\u015f': 's', '\u0161': 's',
    '\u0162': 'T',  '\u0164': 'T', '\u0166': 'T',
    '\u0163': 't',  '\u0165': 't', '\u0167': 't',
    '\u0168': 'U',  '\u016a': 'U', '\u016c': 'U', '\u016e': 'U', '\u0170': 'U', '\u0172': 'U',
    '\u0169': 'u',  '\u016b': 'u', '\u016d': 'u', '\u016f': 'u', '\u0171': 'u', '\u0173': 'u',
    '\u0174': 'W',  '\u0175': 'w',
    '\u0176': 'Y',  '\u0177': 'y', '\u0178': 'Y',
    '\u0179': 'Z',  '\u017b': 'Z', '\u017d': 'Z',
    '\u017a': 'z',  '\u017c': 'z', '\u017e': 'z',
    '\u0132': 'IJ', '\u0133': 'ij',
    '\u0152': 'Oe', '\u0153': 'oe',
    '\u0149': "'n", '\u017f': 's'
  };

  /**
   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
   * letters to basic Latin letters.
   *
   * @private
   * @param {string} letter The matched letter to deburr.
   * @returns {string} Returns the deburred letter.
   */
  var deburrLetter = _basePropertyOf(deburredLetters);

  var _deburrLetter = deburrLetter;

  /** Used to match Latin Unicode letters (excluding mathematical operators). */
  var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;

  /** Used to compose unicode character classes. */
  var rsComboMarksRange = '\\u0300-\\u036f',
      reComboHalfMarksRange = '\\ufe20-\\ufe2f',
      rsComboSymbolsRange = '\\u20d0-\\u20ff',
      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;

  /** Used to compose unicode capture groups. */
  var rsCombo = '[' + rsComboRange + ']';

  /**
   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
   */
  var reComboMark = RegExp(rsCombo, 'g');

  /**
   * Deburrs `string` by converting
   * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
   * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
   * letters to basic Latin letters and removing
   * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
   *
   * @static
   * @memberOf _
   * @since 3.0.0
   * @category String
   * @param {string} [string=''] The string to deburr.
   * @returns {string} Returns the deburred string.
   * @example
   *
   * _.deburr('déjà vu');
   * // => 'deja vu'
   */
  function deburr(string) {
    string = toString_1(string);
    return string && string.replace(reLatin, _deburrLetter).replace(reComboMark, '');
  }

  var deburr_1 = deburr;

  /** Used to match words composed of alphanumeric characters. */
  var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;

  /**
   * Splits an ASCII `string` into an array of its words.
   *
   * @private
   * @param {string} The string to inspect.
   * @returns {Array} Returns the words of `string`.
   */
  function asciiWords(string) {
    return string.match(reAsciiWord) || [];
  }

  var _asciiWords = asciiWords;

  /** Used to detect strings that need a more robust regexp to match words. */
  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;

  /**
   * Checks if `string` contains a word composed of Unicode symbols.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {boolean} Returns `true` if a word is found, else `false`.
   */
  function hasUnicodeWord(string) {
    return reHasUnicodeWord.test(string);
  }

  var _hasUnicodeWord = hasUnicodeWord;

  /** Used to compose unicode character classes. */
  var rsAstralRange = '\\ud800-\\udfff',
      rsComboMarksRange$1 = '\\u0300-\\u036f',
      reComboHalfMarksRange$1 = '\\ufe20-\\ufe2f',
      rsComboSymbolsRange$1 = '\\u20d0-\\u20ff',
      rsComboRange$1 = rsComboMarksRange$1 + reComboHalfMarksRange$1 + rsComboSymbolsRange$1,
      rsDingbatRange = '\\u2700-\\u27bf',
      rsLowerRange = 'a-z\\xdf-\\xf6\\xf8-\\xff',
      rsMathOpRange = '\\xac\\xb1\\xd7\\xf7',
      rsNonCharRange = '\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',
      rsPunctuationRange = '\\u2000-\\u206f',
      rsSpaceRange = ' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
      rsUpperRange = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
      rsVarRange = '\\ufe0e\\ufe0f',
      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;

  /** Used to compose unicode capture groups. */
  var rsApos = "['\u2019]",
      rsBreak = '[' + rsBreakRange + ']',
      rsCombo$1 = '[' + rsComboRange$1 + ']',
      rsDigits = '\\d+',
      rsDingbat = '[' + rsDingbatRange + ']',
      rsLower = '[' + rsLowerRange + ']',
      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',
      rsFitz = '\\ud83c[\\udffb-\\udfff]',
      rsModifier = '(?:' + rsCombo$1 + '|' + rsFitz + ')',
      rsNonAstral = '[^' + rsAstralRange + ']',
      rsRegional = '(?:\\ud83c[\\udde6-\\uddff]){2}',
      rsSurrPair = '[\\ud800-\\udbff][\\udc00-\\udfff]',
      rsUpper = '[' + rsUpperRange + ']',
      rsZWJ = '\\u200d';

  /** Used to compose unicode regexes. */
  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',
      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',
      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',
      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',
      reOptMod = rsModifier + '?',
      rsOptVar = '[' + rsVarRange + ']?',
      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',
      rsOrdLower = '\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])',
      rsOrdUpper = '\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])',
      rsSeq = rsOptVar + reOptMod + rsOptJoin,
      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;

  /** Used to match complex or compound words. */
  var reUnicodeWord = RegExp([
    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',
    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',
    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,
    rsUpper + '+' + rsOptContrUpper,
    rsOrdUpper,
    rsOrdLower,
    rsDigits,
    rsEmoji
  ].join('|'), 'g');

  /**
   * Splits a Unicode `string` into an array of its words.
   *
   * @private
   * @param {string} The string to inspect.
   * @returns {Array} Returns the words of `string`.
   */
  function unicodeWords(string) {
    return string.match(reUnicodeWord) || [];
  }

  var _unicodeWords = unicodeWords;

  /**
   * Splits `string` into an array of its words.
   *
   * @static
   * @memberOf _
   * @since 3.0.0
   * @category String
   * @param {string} [string=''] The string to inspect.
   * @param {RegExp|string} [pattern] The pattern to match words.
   * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
   * @returns {Array} Returns the words of `string`.
   * @example
   *
   * _.words('fred, barney, & pebbles');
   * // => ['fred', 'barney', 'pebbles']
   *
   * _.words('fred, barney, & pebbles', /[^, ]+/g);
   * // => ['fred', 'barney', '&', 'pebbles']
   */
  function words(string, pattern, guard) {
    string = toString_1(string);
    pattern = guard ? undefined : pattern;

    if (pattern === undefined) {
      return _hasUnicodeWord(string) ? _unicodeWords(string) : _asciiWords(string);
    }
    return string.match(pattern) || [];
  }

  var words_1 = words;

  /** Used to compose unicode capture groups. */
  var rsApos$1 = "['\u2019]";

  /** Used to match apostrophes. */
  var reApos = RegExp(rsApos$1, 'g');

  /**
   * Creates a function like `_.camelCase`.
   *
   * @private
   * @param {Function} callback The function to combine each word.
   * @returns {Function} Returns the new compounder function.
   */
  function createCompounder(callback) {
    return function(string) {
      return _arrayReduce(words_1(deburr_1(string).replace(reApos, '')), callback, '');
    };
  }

  var _createCompounder = createCompounder;

  /**
   * The base implementation of `_.slice` without an iteratee call guard.
   *
   * @private
   * @param {Array} array The array to slice.
   * @param {number} [start=0] The start position.
   * @param {number} [end=array.length] The end position.
   * @returns {Array} Returns the slice of `array`.
   */
  function baseSlice(array, start, end) {
    var index = -1,
        length = array.length;

    if (start < 0) {
      start = -start > length ? 0 : (length + start);
    }
    end = end > length ? length : end;
    if (end < 0) {
      end += length;
    }
    length = start > end ? 0 : ((end - start) >>> 0);
    start >>>= 0;

    var result = Array(length);
    while (++index < length) {
      result[index] = array[index + start];
    }
    return result;
  }

  var _baseSlice = baseSlice;

  /**
   * Casts `array` to a slice if it's needed.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {number} start The start position.
   * @param {number} [end=array.length] The end position.
   * @returns {Array} Returns the cast slice.
   */
  function castSlice(array, start, end) {
    var length = array.length;
    end = end === undefined ? length : end;
    return (!start && end >= length) ? array : _baseSlice(array, start, end);
  }

  var _castSlice = castSlice;

  /** Used to compose unicode character classes. */
  var rsAstralRange$1 = '\\ud800-\\udfff',
      rsComboMarksRange$2 = '\\u0300-\\u036f',
      reComboHalfMarksRange$2 = '\\ufe20-\\ufe2f',
      rsComboSymbolsRange$2 = '\\u20d0-\\u20ff',
      rsComboRange$2 = rsComboMarksRange$2 + reComboHalfMarksRange$2 + rsComboSymbolsRange$2,
      rsVarRange$1 = '\\ufe0e\\ufe0f';

  /** Used to compose unicode capture groups. */
  var rsZWJ$1 = '\\u200d';

  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */
  var reHasUnicode = RegExp('[' + rsZWJ$1 + rsAstralRange$1  + rsComboRange$2 + rsVarRange$1 + ']');

  /**
   * Checks if `string` contains Unicode symbols.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {boolean} Returns `true` if a symbol is found, else `false`.
   */
  function hasUnicode(string) {
    return reHasUnicode.test(string);
  }

  var _hasUnicode = hasUnicode;

  /**
   * Converts an ASCII `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */
  function asciiToArray(string) {
    return string.split('');
  }

  var _asciiToArray = asciiToArray;

  /** Used to compose unicode character classes. */
  var rsAstralRange$2 = '\\ud800-\\udfff',
      rsComboMarksRange$3 = '\\u0300-\\u036f',
      reComboHalfMarksRange$3 = '\\ufe20-\\ufe2f',
      rsComboSymbolsRange$3 = '\\u20d0-\\u20ff',
      rsComboRange$3 = rsComboMarksRange$3 + reComboHalfMarksRange$3 + rsComboSymbolsRange$3,
      rsVarRange$2 = '\\ufe0e\\ufe0f';

  /** Used to compose unicode capture groups. */
  var rsAstral = '[' + rsAstralRange$2 + ']',
      rsCombo$2 = '[' + rsComboRange$3 + ']',
      rsFitz$1 = '\\ud83c[\\udffb-\\udfff]',
      rsModifier$1 = '(?:' + rsCombo$2 + '|' + rsFitz$1 + ')',
      rsNonAstral$1 = '[^' + rsAstralRange$2 + ']',
      rsRegional$1 = '(?:\\ud83c[\\udde6-\\uddff]){2}',
      rsSurrPair$1 = '[\\ud800-\\udbff][\\udc00-\\udfff]',
      rsZWJ$2 = '\\u200d';

  /** Used to compose unicode regexes. */
  var reOptMod$1 = rsModifier$1 + '?',
      rsOptVar$1 = '[' + rsVarRange$2 + ']?',
      rsOptJoin$1 = '(?:' + rsZWJ$2 + '(?:' + [rsNonAstral$1, rsRegional$1, rsSurrPair$1].join('|') + ')' + rsOptVar$1 + reOptMod$1 + ')*',
      rsSeq$1 = rsOptVar$1 + reOptMod$1 + rsOptJoin$1,
      rsSymbol = '(?:' + [rsNonAstral$1 + rsCombo$2 + '?', rsCombo$2, rsRegional$1, rsSurrPair$1, rsAstral].join('|') + ')';

  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */
  var reUnicode = RegExp(rsFitz$1 + '(?=' + rsFitz$1 + ')|' + rsSymbol + rsSeq$1, 'g');

  /**
   * Converts a Unicode `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */
  function unicodeToArray(string) {
    return string.match(reUnicode) || [];
  }

  var _unicodeToArray = unicodeToArray;

  /**
   * Converts `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */
  function stringToArray(string) {
    return _hasUnicode(string)
      ? _unicodeToArray(string)
      : _asciiToArray(string);
  }

  var _stringToArray = stringToArray;

  /**
   * Creates a function like `_.lowerFirst`.
   *
   * @private
   * @param {string} methodName The name of the `String` case method to use.
   * @returns {Function} Returns the new case function.
   */
  function createCaseFirst(methodName) {
    return function(string) {
      string = toString_1(string);

      var strSymbols = _hasUnicode(string)
        ? _stringToArray(string)
        : undefined;

      var chr = strSymbols
        ? strSymbols[0]
        : string.charAt(0);

      var trailing = strSymbols
        ? _castSlice(strSymbols, 1).join('')
        : string.slice(1);

      return chr[methodName]() + trailing;
    };
  }

  var _createCaseFirst = createCaseFirst;

  /**
   * Converts the first character of `string` to upper case.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category String
   * @param {string} [string=''] The string to convert.
   * @returns {string} Returns the converted string.
   * @example
   *
   * _.upperFirst('fred');
   * // => 'Fred'
   *
   * _.upperFirst('FRED');
   * // => 'FRED'
   */
  var upperFirst = _createCaseFirst('toUpperCase');

  var upperFirst_1 = upperFirst;

  /**
   * Converts `string` to
   * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).
   *
   * @static
   * @memberOf _
   * @since 3.1.0
   * @category String
   * @param {string} [string=''] The string to convert.
   * @returns {string} Returns the start cased string.
   * @example
   *
   * _.startCase('--foo-bar--');
   * // => 'Foo Bar'
   *
   * _.startCase('fooBar');
   * // => 'Foo Bar'
   *
   * _.startCase('__FOO_BAR__');
   * // => 'FOO BAR'
   */
  var startCase = _createCompounder(function(result, word, index) {
    return result + (index ? ' ' : '') + upperFirst_1(word);
  });

  var startCase_1 = startCase;

  var defineProperty = (function() {
    try {
      var func = _getNative(Object, 'defineProperty');
      func({}, '', {});
      return func;
    } catch (e) {}
  }());

  var _defineProperty$1 = defineProperty;

  /**
   * The base implementation of `assignValue` and `assignMergeValue` without
   * value checks.
   *
   * @private
   * @param {Object} object The object to modify.
   * @param {string} key The key of the property to assign.
   * @param {*} value The value to assign.
   */
  function baseAssignValue(object, key, value) {
    if (key == '__proto__' && _defineProperty$1) {
      _defineProperty$1(object, key, {
        'configurable': true,
        'enumerable': true,
        'value': value,
        'writable': true
      });
    } else {
      object[key] = value;
    }
  }

  var _baseAssignValue = baseAssignValue;

  /**
   * Creates a base function for methods like `_.forIn` and `_.forOwn`.
   *
   * @private
   * @param {boolean} [fromRight] Specify iterating from right to left.
   * @returns {Function} Returns the new base function.
   */
  function createBaseFor(fromRight) {
    return function(object, iteratee, keysFunc) {
      var index = -1,
          iterable = Object(object),
          props = keysFunc(object),
          length = props.length;

      while (length--) {
        var key = props[fromRight ? length : ++index];
        if (iteratee(iterable[key], key, iterable) === false) {
          break;
        }
      }
      return object;
    };
  }

  var _createBaseFor = createBaseFor;

  /**
   * The base implementation of `baseForOwn` which iterates over `object`
   * properties returned by `keysFunc` and invokes `iteratee` for each property.
   * Iteratee functions may exit iteration early by explicitly returning `false`.
   *
   * @private
   * @param {Object} object The object to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {Function} keysFunc The function to get the keys of `object`.
   * @returns {Object} Returns `object`.
   */
  var baseFor = _createBaseFor();

  var _baseFor = baseFor;

  /**
   * The base implementation of `_.times` without support for iteratee shorthands
   * or max array length checks.
   *
   * @private
   * @param {number} n The number of times to invoke `iteratee`.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the array of results.
   */
  function baseTimes(n, iteratee) {
    var index = -1,
        result = Array(n);

    while (++index < n) {
      result[index] = iteratee(index);
    }
    return result;
  }

  var _baseTimes = baseTimes;

  /** `Object#toString` result references. */
  var argsTag = '[object Arguments]';

  /**
   * The base implementation of `_.isArguments`.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an `arguments` object,
   */
  function baseIsArguments(value) {
    return isObjectLike_1(value) && _baseGetTag(value) == argsTag;
  }

  var _baseIsArguments = baseIsArguments;

  /** Used for built-in method references. */
  var objectProto$5 = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$5 = objectProto$5.hasOwnProperty;

  /** Built-in value references. */
  var propertyIsEnumerable = objectProto$5.propertyIsEnumerable;

  /**
   * Checks if `value` is likely an `arguments` object.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an `arguments` object,
   *  else `false`.
   * @example
   *
   * _.isArguments(function() { return arguments; }());
   * // => true
   *
   * _.isArguments([1, 2, 3]);
   * // => false
   */
  var isArguments = _baseIsArguments(function() { return arguments; }()) ? _baseIsArguments : function(value) {
    return isObjectLike_1(value) && hasOwnProperty$5.call(value, 'callee') &&
      !propertyIsEnumerable.call(value, 'callee');
  };

  var isArguments_1 = isArguments;

  /**
   * This method returns `false`.
   *
   * @static
   * @memberOf _
   * @since 4.13.0
   * @category Util
   * @returns {boolean} Returns `false`.
   * @example
   *
   * _.times(2, _.stubFalse);
   * // => [false, false]
   */
  function stubFalse() {
    return false;
  }

  var stubFalse_1 = stubFalse;

  var isBuffer_1 = createCommonjsModule(function (module, exports) {
  /** Detect free variable `exports`. */
  var freeExports =  exports && !exports.nodeType && exports;

  /** Detect free variable `module`. */
  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports`. */
  var moduleExports = freeModule && freeModule.exports === freeExports;

  /** Built-in value references. */
  var Buffer = moduleExports ? _root.Buffer : undefined;

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;

  /**
   * Checks if `value` is a buffer.
   *
   * @static
   * @memberOf _
   * @since 4.3.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
   * @example
   *
   * _.isBuffer(new Buffer(2));
   * // => true
   *
   * _.isBuffer(new Uint8Array(2));
   * // => false
   */
  var isBuffer = nativeIsBuffer || stubFalse_1;

  module.exports = isBuffer;
  });

  /** Used as references for various `Number` constants. */
  var MAX_SAFE_INTEGER = 9007199254740991;

  /** Used to detect unsigned integer values. */
  var reIsUint = /^(?:0|[1-9]\d*)$/;

  /**
   * Checks if `value` is a valid array-like index.
   *
   * @private
   * @param {*} value The value to check.
   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
   */
  function isIndex(value, length) {
    var type = typeof value;
    length = length == null ? MAX_SAFE_INTEGER : length;

    return !!length &&
      (type == 'number' ||
        (type != 'symbol' && reIsUint.test(value))) &&
          (value > -1 && value % 1 == 0 && value < length);
  }

  var _isIndex = isIndex;

  /** Used as references for various `Number` constants. */
  var MAX_SAFE_INTEGER$1 = 9007199254740991;

  /**
   * Checks if `value` is a valid array-like length.
   *
   * **Note:** This method is loosely based on
   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
   * @example
   *
   * _.isLength(3);
   * // => true
   *
   * _.isLength(Number.MIN_VALUE);
   * // => false
   *
   * _.isLength(Infinity);
   * // => false
   *
   * _.isLength('3');
   * // => false
   */
  function isLength(value) {
    return typeof value == 'number' &&
      value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER$1;
  }

  var isLength_1 = isLength;

  /** `Object#toString` result references. */
  var argsTag$1 = '[object Arguments]',
      arrayTag = '[object Array]',
      boolTag = '[object Boolean]',
      dateTag = '[object Date]',
      errorTag = '[object Error]',
      funcTag$1 = '[object Function]',
      mapTag = '[object Map]',
      numberTag = '[object Number]',
      objectTag = '[object Object]',
      regexpTag = '[object RegExp]',
      setTag = '[object Set]',
      stringTag = '[object String]',
      weakMapTag = '[object WeakMap]';

  var arrayBufferTag = '[object ArrayBuffer]',
      dataViewTag = '[object DataView]',
      float32Tag = '[object Float32Array]',
      float64Tag = '[object Float64Array]',
      int8Tag = '[object Int8Array]',
      int16Tag = '[object Int16Array]',
      int32Tag = '[object Int32Array]',
      uint8Tag = '[object Uint8Array]',
      uint8ClampedTag = '[object Uint8ClampedArray]',
      uint16Tag = '[object Uint16Array]',
      uint32Tag = '[object Uint32Array]';

  /** Used to identify `toStringTag` values of typed arrays. */
  var typedArrayTags = {};
  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
  typedArrayTags[uint32Tag] = true;
  typedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =
  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
  typedArrayTags[errorTag] = typedArrayTags[funcTag$1] =
  typedArrayTags[mapTag] = typedArrayTags[numberTag] =
  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
  typedArrayTags[setTag] = typedArrayTags[stringTag] =
  typedArrayTags[weakMapTag] = false;

  /**
   * The base implementation of `_.isTypedArray` without Node.js optimizations.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
   */
  function baseIsTypedArray(value) {
    return isObjectLike_1(value) &&
      isLength_1(value.length) && !!typedArrayTags[_baseGetTag(value)];
  }

  var _baseIsTypedArray = baseIsTypedArray;

  /**
   * The base implementation of `_.unary` without support for storing metadata.
   *
   * @private
   * @param {Function} func The function to cap arguments for.
   * @returns {Function} Returns the new capped function.
   */
  function baseUnary(func) {
    return function(value) {
      return func(value);
    };
  }

  var _baseUnary = baseUnary;

  var _nodeUtil = createCommonjsModule(function (module, exports) {
  /** Detect free variable `exports`. */
  var freeExports =  exports && !exports.nodeType && exports;

  /** Detect free variable `module`. */
  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports`. */
  var moduleExports = freeModule && freeModule.exports === freeExports;

  /** Detect free variable `process` from Node.js. */
  var freeProcess = moduleExports && _freeGlobal.process;

  /** Used to access faster Node.js helpers. */
  var nodeUtil = (function() {
    try {
      // Use `util.types` for Node.js 10+.
      var types = freeModule && freeModule.require && freeModule.require('util').types;

      if (types) {
        return types;
      }

      // Legacy `process.binding('util')` for Node.js < 10.
      return freeProcess && freeProcess.binding && freeProcess.binding('util');
    } catch (e) {}
  }());

  module.exports = nodeUtil;
  });

  /* Node.js helper references. */
  var nodeIsTypedArray = _nodeUtil && _nodeUtil.isTypedArray;

  /**
   * Checks if `value` is classified as a typed array.
   *
   * @static
   * @memberOf _
   * @since 3.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
   * @example
   *
   * _.isTypedArray(new Uint8Array);
   * // => true
   *
   * _.isTypedArray([]);
   * // => false
   */
  var isTypedArray = nodeIsTypedArray ? _baseUnary(nodeIsTypedArray) : _baseIsTypedArray;

  var isTypedArray_1 = isTypedArray;

  /** Used for built-in method references. */
  var objectProto$6 = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$6 = objectProto$6.hasOwnProperty;

  /**
   * Creates an array of the enumerable property names of the array-like `value`.
   *
   * @private
   * @param {*} value The value to query.
   * @param {boolean} inherited Specify returning inherited property names.
   * @returns {Array} Returns the array of property names.
   */
  function arrayLikeKeys(value, inherited) {
    var isArr = isArray_1(value),
        isArg = !isArr && isArguments_1(value),
        isBuff = !isArr && !isArg && isBuffer_1(value),
        isType = !isArr && !isArg && !isBuff && isTypedArray_1(value),
        skipIndexes = isArr || isArg || isBuff || isType,
        result = skipIndexes ? _baseTimes(value.length, String) : [],
        length = result.length;

    for (var key in value) {
      if ((inherited || hasOwnProperty$6.call(value, key)) &&
          !(skipIndexes && (
             // Safari 9 has enumerable `arguments.length` in strict mode.
             key == 'length' ||
             // Node.js 0.10 has enumerable non-index properties on buffers.
             (isBuff && (key == 'offset' || key == 'parent')) ||
             // PhantomJS 2 has enumerable non-index properties on typed arrays.
             (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
             // Skip index properties.
             _isIndex(key, length)
          ))) {
        result.push(key);
      }
    }
    return result;
  }

  var _arrayLikeKeys = arrayLikeKeys;

  /** Used for built-in method references. */
  var objectProto$7 = Object.prototype;

  /**
   * Checks if `value` is likely a prototype object.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
   */
  function isPrototype(value) {
    var Ctor = value && value.constructor,
        proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$7;

    return value === proto;
  }

  var _isPrototype = isPrototype;

  /**
   * Creates a unary function that invokes `func` with its argument transformed.
   *
   * @private
   * @param {Function} func The function to wrap.
   * @param {Function} transform The argument transform.
   * @returns {Function} Returns the new function.
   */
  function overArg(func, transform) {
    return function(arg) {
      return func(transform(arg));
    };
  }

  var _overArg = overArg;

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeKeys = _overArg(Object.keys, Object);

  var _nativeKeys = nativeKeys;

  /** Used for built-in method references. */
  var objectProto$8 = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$7 = objectProto$8.hasOwnProperty;

  /**
   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names.
   */
  function baseKeys(object) {
    if (!_isPrototype(object)) {
      return _nativeKeys(object);
    }
    var result = [];
    for (var key in Object(object)) {
      if (hasOwnProperty$7.call(object, key) && key != 'constructor') {
        result.push(key);
      }
    }
    return result;
  }

  var _baseKeys = baseKeys;

  /**
   * Checks if `value` is array-like. A value is considered array-like if it's
   * not a function and has a `value.length` that's an integer greater than or
   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
   * @example
   *
   * _.isArrayLike([1, 2, 3]);
   * // => true
   *
   * _.isArrayLike(document.body.children);
   * // => true
   *
   * _.isArrayLike('abc');
   * // => true
   *
   * _.isArrayLike(_.noop);
   * // => false
   */
  function isArrayLike(value) {
    return value != null && isLength_1(value.length) && !isFunction_1(value);
  }

  var isArrayLike_1 = isArrayLike;

  /**
   * Creates an array of the own enumerable property names of `object`.
   *
   * **Note:** Non-object values are coerced to objects. See the
   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
   * for more details.
   *
   * @static
   * @since 0.1.0
   * @memberOf _
   * @category Object
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names.
   * @example
   *
   * function Foo() {
   *   this.a = 1;
   *   this.b = 2;
   * }
   *
   * Foo.prototype.c = 3;
   *
   * _.keys(new Foo);
   * // => ['a', 'b'] (iteration order is not guaranteed)
   *
   * _.keys('hi');
   * // => ['0', '1']
   */
  function keys(object) {
    return isArrayLike_1(object) ? _arrayLikeKeys(object) : _baseKeys(object);
  }

  var keys_1 = keys;

  /**
   * The base implementation of `_.forOwn` without support for iteratee shorthands.
   *
   * @private
   * @param {Object} object The object to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Object} Returns `object`.
   */
  function baseForOwn(object, iteratee) {
    return object && _baseFor(object, iteratee, keys_1);
  }

  var _baseForOwn = baseForOwn;

  /**
   * Removes all key-value entries from the stack.
   *
   * @private
   * @name clear
   * @memberOf Stack
   */
  function stackClear() {
    this.__data__ = new _ListCache;
    this.size = 0;
  }

  var _stackClear = stackClear;

  /**
   * Removes `key` and its value from the stack.
   *
   * @private
   * @name delete
   * @memberOf Stack
   * @param {string} key The key of the value to remove.
   * @returns {boolean} Returns `true` if the entry was removed, else `false`.
   */
  function stackDelete(key) {
    var data = this.__data__,
        result = data['delete'](key);

    this.size = data.size;
    return result;
  }

  var _stackDelete = stackDelete;

  /**
   * Gets the stack value for `key`.
   *
   * @private
   * @name get
   * @memberOf Stack
   * @param {string} key The key of the value to get.
   * @returns {*} Returns the entry value.
   */
  function stackGet(key) {
    return this.__data__.get(key);
  }

  var _stackGet = stackGet;

  /**
   * Checks if a stack value for `key` exists.
   *
   * @private
   * @name has
   * @memberOf Stack
   * @param {string} key The key of the entry to check.
   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
   */
  function stackHas(key) {
    return this.__data__.has(key);
  }

  var _stackHas = stackHas;

  /** Used as the size to enable large array optimizations. */
  var LARGE_ARRAY_SIZE = 200;

  /**
   * Sets the stack `key` to `value`.
   *
   * @private
   * @name set
   * @memberOf Stack
   * @param {string} key The key of the value to set.
   * @param {*} value The value to set.
   * @returns {Object} Returns the stack cache instance.
   */
  function stackSet(key, value) {
    var data = this.__data__;
    if (data instanceof _ListCache) {
      var pairs = data.__data__;
      if (!_Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
        pairs.push([key, value]);
        this.size = ++data.size;
        return this;
      }
      data = this.__data__ = new _MapCache(pairs);
    }
    data.set(key, value);
    this.size = data.size;
    return this;
  }

  var _stackSet = stackSet;

  /**
   * Creates a stack cache object to store key-value pairs.
   *
   * @private
   * @constructor
   * @param {Array} [entries] The key-value pairs to cache.
   */
  function Stack(entries) {
    var data = this.__data__ = new _ListCache(entries);
    this.size = data.size;
  }

  // Add methods to `Stack`.
  Stack.prototype.clear = _stackClear;
  Stack.prototype['delete'] = _stackDelete;
  Stack.prototype.get = _stackGet;
  Stack.prototype.has = _stackHas;
  Stack.prototype.set = _stackSet;

  var _Stack = Stack;

  /** Used to stand-in for `undefined` hash values. */
  var HASH_UNDEFINED$2 = '__lodash_hash_undefined__';

  /**
   * Adds `value` to the array cache.
   *
   * @private
   * @name add
   * @memberOf SetCache
   * @alias push
   * @param {*} value The value to cache.
   * @returns {Object} Returns the cache instance.
   */
  function setCacheAdd(value) {
    this.__data__.set(value, HASH_UNDEFINED$2);
    return this;
  }

  var _setCacheAdd = setCacheAdd;

  /**
   * Checks if `value` is in the array cache.
   *
   * @private
   * @name has
   * @memberOf SetCache
   * @param {*} value The value to search for.
   * @returns {number} Returns `true` if `value` is found, else `false`.
   */
  function setCacheHas(value) {
    return this.__data__.has(value);
  }

  var _setCacheHas = setCacheHas;

  /**
   *
   * Creates an array cache object to store unique values.
   *
   * @private
   * @constructor
   * @param {Array} [values] The values to cache.
   */
  function SetCache(values) {
    var index = -1,
        length = values == null ? 0 : values.length;

    this.__data__ = new _MapCache;
    while (++index < length) {
      this.add(values[index]);
    }
  }

  // Add methods to `SetCache`.
  SetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;
  SetCache.prototype.has = _setCacheHas;

  var _SetCache = SetCache;

  /**
   * A specialized version of `_.some` for arrays without support for iteratee
   * shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if any element passes the predicate check,
   *  else `false`.
   */
  function arraySome(array, predicate) {
    var index = -1,
        length = array == null ? 0 : array.length;

    while (++index < length) {
      if (predicate(array[index], index, array)) {
        return true;
      }
    }
    return false;
  }

  var _arraySome = arraySome;

  /**
   * Checks if a `cache` value for `key` exists.
   *
   * @private
   * @param {Object} cache The cache to query.
   * @param {string} key The key of the entry to check.
   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
   */
  function cacheHas(cache, key) {
    return cache.has(key);
  }

  var _cacheHas = cacheHas;

  /** Used to compose bitmasks for value comparisons. */
  var COMPARE_PARTIAL_FLAG = 1,
      COMPARE_UNORDERED_FLAG = 2;

  /**
   * A specialized version of `baseIsEqualDeep` for arrays with support for
   * partial deep comparisons.
   *
   * @private
   * @param {Array} array The array to compare.
   * @param {Array} other The other array to compare.
   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
   * @param {Function} customizer The function to customize comparisons.
   * @param {Function} equalFunc The function to determine equivalents of values.
   * @param {Object} stack Tracks traversed `array` and `other` objects.
   * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
   */
  function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
        arrLength = array.length,
        othLength = other.length;

    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
      return false;
    }
    // Assume cyclic values are equal.
    var stacked = stack.get(array);
    if (stacked && stack.get(other)) {
      return stacked == other;
    }
    var index = -1,
        result = true,
        seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new _SetCache : undefined;

    stack.set(array, other);
    stack.set(other, array);

    // Ignore non-index properties.
    while (++index < arrLength) {
      var arrValue = array[index],
          othValue = other[index];

      if (customizer) {
        var compared = isPartial
          ? customizer(othValue, arrValue, index, other, array, stack)
          : customizer(arrValue, othValue, index, array, other, stack);
      }
      if (compared !== undefined) {
        if (compared) {
          continue;
        }
        result = false;
        break;
      }
      // Recursively compare arrays (susceptible to call stack limits).
      if (seen) {
        if (!_arraySome(other, function(othValue, othIndex) {
              if (!_cacheHas(seen, othIndex) &&
                  (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
                return seen.push(othIndex);
              }
            })) {
          result = false;
          break;
        }
      } else if (!(
            arrValue === othValue ||
              equalFunc(arrValue, othValue, bitmask, customizer, stack)
          )) {
        result = false;
        break;
      }
    }
    stack['delete'](array);
    stack['delete'](other);
    return result;
  }

  var _equalArrays = equalArrays;

  /** Built-in value references. */
  var Uint8Array = _root.Uint8Array;

  var _Uint8Array = Uint8Array;

  /**
   * Converts `map` to its key-value pairs.
   *
   * @private
   * @param {Object} map The map to convert.
   * @returns {Array} Returns the key-value pairs.
   */
  function mapToArray(map) {
    var index = -1,
        result = Array(map.size);

    map.forEach(function(value, key) {
      result[++index] = [key, value];
    });
    return result;
  }

  var _mapToArray = mapToArray;

  /**
   * Converts `set` to an array of its values.
   *
   * @private
   * @param {Object} set The set to convert.
   * @returns {Array} Returns the values.
   */
  function setToArray(set) {
    var index = -1,
        result = Array(set.size);

    set.forEach(function(value) {
      result[++index] = value;
    });
    return result;
  }

  var _setToArray = setToArray;

  /** Used to compose bitmasks for value comparisons. */
  var COMPARE_PARTIAL_FLAG$1 = 1,
      COMPARE_UNORDERED_FLAG$1 = 2;

  /** `Object#toString` result references. */
  var boolTag$1 = '[object Boolean]',
      dateTag$1 = '[object Date]',
      errorTag$1 = '[object Error]',
      mapTag$1 = '[object Map]',
      numberTag$1 = '[object Number]',
      regexpTag$1 = '[object RegExp]',
      setTag$1 = '[object Set]',
      stringTag$1 = '[object String]',
      symbolTag$1 = '[object Symbol]';

  var arrayBufferTag$1 = '[object ArrayBuffer]',
      dataViewTag$1 = '[object DataView]';

  /** Used to convert symbols to primitives and strings. */
  var symbolProto$1 = _Symbol ? _Symbol.prototype : undefined,
      symbolValueOf = symbolProto$1 ? symbolProto$1.valueOf : undefined;

  /**
   * A specialized version of `baseIsEqualDeep` for comparing objects of
   * the same `toStringTag`.
   *
   * **Note:** This function only supports comparing values with tags of
   * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
   *
   * @private
   * @param {Object} object The object to compare.
   * @param {Object} other The other object to compare.
   * @param {string} tag The `toStringTag` of the objects to compare.
   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
   * @param {Function} customizer The function to customize comparisons.
   * @param {Function} equalFunc The function to determine equivalents of values.
   * @param {Object} stack Tracks traversed `object` and `other` objects.
   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
   */
  function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
    switch (tag) {
      case dataViewTag$1:
        if ((object.byteLength != other.byteLength) ||
            (object.byteOffset != other.byteOffset)) {
          return false;
        }
        object = object.buffer;
        other = other.buffer;

      case arrayBufferTag$1:
        if ((object.byteLength != other.byteLength) ||
            !equalFunc(new _Uint8Array(object), new _Uint8Array(other))) {
          return false;
        }
        return true;

      case boolTag$1:
      case dateTag$1:
      case numberTag$1:
        // Coerce booleans to `1` or `0` and dates to milliseconds.
        // Invalid dates are coerced to `NaN`.
        return eq_1(+object, +other);

      case errorTag$1:
        return object.name == other.name && object.message == other.message;

      case regexpTag$1:
      case stringTag$1:
        // Coerce regexes to strings and treat strings, primitives and objects,
        // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
        // for more details.
        return object == (other + '');

      case mapTag$1:
        var convert = _mapToArray;

      case setTag$1:
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG$1;
        convert || (convert = _setToArray);

        if (object.size != other.size && !isPartial) {
          return false;
        }
        // Assume cyclic values are equal.
        var stacked = stack.get(object);
        if (stacked) {
          return stacked == other;
        }
        bitmask |= COMPARE_UNORDERED_FLAG$1;

        // Recursively compare objects (susceptible to call stack limits).
        stack.set(object, other);
        var result = _equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
        stack['delete'](object);
        return result;

      case symbolTag$1:
        if (symbolValueOf) {
          return symbolValueOf.call(object) == symbolValueOf.call(other);
        }
    }
    return false;
  }

  var _equalByTag = equalByTag;

  /**
   * Appends the elements of `values` to `array`.
   *
   * @private
   * @param {Array} array The array to modify.
   * @param {Array} values The values to append.
   * @returns {Array} Returns `array`.
   */
  function arrayPush(array, values) {
    var index = -1,
        length = values.length,
        offset = array.length;

    while (++index < length) {
      array[offset + index] = values[index];
    }
    return array;
  }

  var _arrayPush = arrayPush;

  /**
   * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
   * `keysFunc` and `symbolsFunc` to get the enumerable property names and
   * symbols of `object`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Function} keysFunc The function to get the keys of `object`.
   * @param {Function} symbolsFunc The function to get the symbols of `object`.
   * @returns {Array} Returns the array of property names and symbols.
   */
  function baseGetAllKeys(object, keysFunc, symbolsFunc) {
    var result = keysFunc(object);
    return isArray_1(object) ? result : _arrayPush(result, symbolsFunc(object));
  }

  var _baseGetAllKeys = baseGetAllKeys;

  /**
   * A specialized version of `_.filter` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {Array} Returns the new filtered array.
   */
  function arrayFilter(array, predicate) {
    var index = -1,
        length = array == null ? 0 : array.length,
        resIndex = 0,
        result = [];

    while (++index < length) {
      var value = array[index];
      if (predicate(value, index, array)) {
        result[resIndex++] = value;
      }
    }
    return result;
  }

  var _arrayFilter = arrayFilter;

  /**
   * This method returns a new empty array.
   *
   * @static
   * @memberOf _
   * @since 4.13.0
   * @category Util
   * @returns {Array} Returns the new empty array.
   * @example
   *
   * var arrays = _.times(2, _.stubArray);
   *
   * console.log(arrays);
   * // => [[], []]
   *
   * console.log(arrays[0] === arrays[1]);
   * // => false
   */
  function stubArray() {
    return [];
  }

  var stubArray_1 = stubArray;

  /** Used for built-in method references. */
  var objectProto$9 = Object.prototype;

  /** Built-in value references. */
  var propertyIsEnumerable$1 = objectProto$9.propertyIsEnumerable;

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeGetSymbols = Object.getOwnPropertySymbols;

  /**
   * Creates an array of the own enumerable symbols of `object`.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of symbols.
   */
  var getSymbols = !nativeGetSymbols ? stubArray_1 : function(object) {
    if (object == null) {
      return [];
    }
    object = Object(object);
    return _arrayFilter(nativeGetSymbols(object), function(symbol) {
      return propertyIsEnumerable$1.call(object, symbol);
    });
  };

  var _getSymbols = getSymbols;

  /**
   * Creates an array of own enumerable property names and symbols of `object`.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names and symbols.
   */
  function getAllKeys(object) {
    return _baseGetAllKeys(object, keys_1, _getSymbols);
  }

  var _getAllKeys = getAllKeys;

  /** Used to compose bitmasks for value comparisons. */
  var COMPARE_PARTIAL_FLAG$2 = 1;

  /** Used for built-in method references. */
  var objectProto$a = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$8 = objectProto$a.hasOwnProperty;

  /**
   * A specialized version of `baseIsEqualDeep` for objects with support for
   * partial deep comparisons.
   *
   * @private
   * @param {Object} object The object to compare.
   * @param {Object} other The other object to compare.
   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
   * @param {Function} customizer The function to customize comparisons.
   * @param {Function} equalFunc The function to determine equivalents of values.
   * @param {Object} stack Tracks traversed `object` and `other` objects.
   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
   */
  function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
    var isPartial = bitmask & COMPARE_PARTIAL_FLAG$2,
        objProps = _getAllKeys(object),
        objLength = objProps.length,
        othProps = _getAllKeys(other),
        othLength = othProps.length;

    if (objLength != othLength && !isPartial) {
      return false;
    }
    var index = objLength;
    while (index--) {
      var key = objProps[index];
      if (!(isPartial ? key in other : hasOwnProperty$8.call(other, key))) {
        return false;
      }
    }
    // Assume cyclic values are equal.
    var stacked = stack.get(object);
    if (stacked && stack.get(other)) {
      return stacked == other;
    }
    var result = true;
    stack.set(object, other);
    stack.set(other, object);

    var skipCtor = isPartial;
    while (++index < objLength) {
      key = objProps[index];
      var objValue = object[key],
          othValue = other[key];

      if (customizer) {
        var compared = isPartial
          ? customizer(othValue, objValue, key, other, object, stack)
          : customizer(objValue, othValue, key, object, other, stack);
      }
      // Recursively compare objects (susceptible to call stack limits).
      if (!(compared === undefined
            ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))
            : compared
          )) {
        result = false;
        break;
      }
      skipCtor || (skipCtor = key == 'constructor');
    }
    if (result && !skipCtor) {
      var objCtor = object.constructor,
          othCtor = other.constructor;

      // Non `Object` object instances with different constructors are not equal.
      if (objCtor != othCtor &&
          ('constructor' in object && 'constructor' in other) &&
          !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
            typeof othCtor == 'function' && othCtor instanceof othCtor)) {
        result = false;
      }
    }
    stack['delete'](object);
    stack['delete'](other);
    return result;
  }

  var _equalObjects = equalObjects;

  /* Built-in method references that are verified to be native. */
  var DataView = _getNative(_root, 'DataView');

  var _DataView = DataView;

  /* Built-in method references that are verified to be native. */
  var Promise$1 = _getNative(_root, 'Promise');

  var _Promise = Promise$1;

  /* Built-in method references that are verified to be native. */
  var Set$1 = _getNative(_root, 'Set');

  var _Set = Set$1;

  /* Built-in method references that are verified to be native. */
  var WeakMap$1 = _getNative(_root, 'WeakMap');

  var _WeakMap = WeakMap$1;

  /** `Object#toString` result references. */
  var mapTag$2 = '[object Map]',
      objectTag$1 = '[object Object]',
      promiseTag = '[object Promise]',
      setTag$2 = '[object Set]',
      weakMapTag$1 = '[object WeakMap]';

  var dataViewTag$2 = '[object DataView]';

  /** Used to detect maps, sets, and weakmaps. */
  var dataViewCtorString = _toSource(_DataView),
      mapCtorString = _toSource(_Map),
      promiseCtorString = _toSource(_Promise),
      setCtorString = _toSource(_Set),
      weakMapCtorString = _toSource(_WeakMap);

  /**
   * Gets the `toStringTag` of `value`.
   *
   * @private
   * @param {*} value The value to query.
   * @returns {string} Returns the `toStringTag`.
   */
  var getTag = _baseGetTag;

  // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
  if ((_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag$2) ||
      (_Map && getTag(new _Map) != mapTag$2) ||
      (_Promise && getTag(_Promise.resolve()) != promiseTag) ||
      (_Set && getTag(new _Set) != setTag$2) ||
      (_WeakMap && getTag(new _WeakMap) != weakMapTag$1)) {
    getTag = function(value) {
      var result = _baseGetTag(value),
          Ctor = result == objectTag$1 ? value.constructor : undefined,
          ctorString = Ctor ? _toSource(Ctor) : '';

      if (ctorString) {
        switch (ctorString) {
          case dataViewCtorString: return dataViewTag$2;
          case mapCtorString: return mapTag$2;
          case promiseCtorString: return promiseTag;
          case setCtorString: return setTag$2;
          case weakMapCtorString: return weakMapTag$1;
        }
      }
      return result;
    };
  }

  var _getTag = getTag;

  /** Used to compose bitmasks for value comparisons. */
  var COMPARE_PARTIAL_FLAG$3 = 1;

  /** `Object#toString` result references. */
  var argsTag$2 = '[object Arguments]',
      arrayTag$1 = '[object Array]',
      objectTag$2 = '[object Object]';

  /** Used for built-in method references. */
  var objectProto$b = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$9 = objectProto$b.hasOwnProperty;

  /**
   * A specialized version of `baseIsEqual` for arrays and objects which performs
   * deep comparisons and tracks traversed objects enabling objects with circular
   * references to be compared.
   *
   * @private
   * @param {Object} object The object to compare.
   * @param {Object} other The other object to compare.
   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
   * @param {Function} customizer The function to customize comparisons.
   * @param {Function} equalFunc The function to determine equivalents of values.
   * @param {Object} [stack] Tracks traversed `object` and `other` objects.
   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
   */
  function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
    var objIsArr = isArray_1(object),
        othIsArr = isArray_1(other),
        objTag = objIsArr ? arrayTag$1 : _getTag(object),
        othTag = othIsArr ? arrayTag$1 : _getTag(other);

    objTag = objTag == argsTag$2 ? objectTag$2 : objTag;
    othTag = othTag == argsTag$2 ? objectTag$2 : othTag;

    var objIsObj = objTag == objectTag$2,
        othIsObj = othTag == objectTag$2,
        isSameTag = objTag == othTag;

    if (isSameTag && isBuffer_1(object)) {
      if (!isBuffer_1(other)) {
        return false;
      }
      objIsArr = true;
      objIsObj = false;
    }
    if (isSameTag && !objIsObj) {
      stack || (stack = new _Stack);
      return (objIsArr || isTypedArray_1(object))
        ? _equalArrays(object, other, bitmask, customizer, equalFunc, stack)
        : _equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
    }
    if (!(bitmask & COMPARE_PARTIAL_FLAG$3)) {
      var objIsWrapped = objIsObj && hasOwnProperty$9.call(object, '__wrapped__'),
          othIsWrapped = othIsObj && hasOwnProperty$9.call(other, '__wrapped__');

      if (objIsWrapped || othIsWrapped) {
        var objUnwrapped = objIsWrapped ? object.value() : object,
            othUnwrapped = othIsWrapped ? other.value() : other;

        stack || (stack = new _Stack);
        return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
      }
    }
    if (!isSameTag) {
      return false;
    }
    stack || (stack = new _Stack);
    return _equalObjects(object, other, bitmask, customizer, equalFunc, stack);
  }

  var _baseIsEqualDeep = baseIsEqualDeep;

  /**
   * The base implementation of `_.isEqual` which supports partial comparisons
   * and tracks traversed objects.
   *
   * @private
   * @param {*} value The value to compare.
   * @param {*} other The other value to compare.
   * @param {boolean} bitmask The bitmask flags.
   *  1 - Unordered comparison
   *  2 - Partial comparison
   * @param {Function} [customizer] The function to customize comparisons.
   * @param {Object} [stack] Tracks traversed `value` and `other` objects.
   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
   */
  function baseIsEqual(value, other, bitmask, customizer, stack) {
    if (value === other) {
      return true;
    }
    if (value == null || other == null || (!isObjectLike_1(value) && !isObjectLike_1(other))) {
      return value !== value && other !== other;
    }
    return _baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
  }

  var _baseIsEqual = baseIsEqual;

  /** Used to compose bitmasks for value comparisons. */
  var COMPARE_PARTIAL_FLAG$4 = 1,
      COMPARE_UNORDERED_FLAG$2 = 2;

  /**
   * The base implementation of `_.isMatch` without support for iteratee shorthands.
   *
   * @private
   * @param {Object} object The object to inspect.
   * @param {Object} source The object of property values to match.
   * @param {Array} matchData The property names, values, and compare flags to match.
   * @param {Function} [customizer] The function to customize comparisons.
   * @returns {boolean} Returns `true` if `object` is a match, else `false`.
   */
  function baseIsMatch(object, source, matchData, customizer) {
    var index = matchData.length,
        length = index,
        noCustomizer = !customizer;

    if (object == null) {
      return !length;
    }
    object = Object(object);
    while (index--) {
      var data = matchData[index];
      if ((noCustomizer && data[2])
            ? data[1] !== object[data[0]]
            : !(data[0] in object)
          ) {
        return false;
      }
    }
    while (++index < length) {
      data = matchData[index];
      var key = data[0],
          objValue = object[key],
          srcValue = data[1];

      if (noCustomizer && data[2]) {
        if (objValue === undefined && !(key in object)) {
          return false;
        }
      } else {
        var stack = new _Stack;
        if (customizer) {
          var result = customizer(objValue, srcValue, key, object, source, stack);
        }
        if (!(result === undefined
              ? _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$4 | COMPARE_UNORDERED_FLAG$2, customizer, stack)
              : result
            )) {
          return false;
        }
      }
    }
    return true;
  }

  var _baseIsMatch = baseIsMatch;

  /**
   * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` if suitable for strict
   *  equality comparisons, else `false`.
   */
  function isStrictComparable(value) {
    return value === value && !isObject_1(value);
  }

  var _isStrictComparable = isStrictComparable;

  /**
   * Gets the property names, values, and compare flags of `object`.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the match data of `object`.
   */
  function getMatchData(object) {
    var result = keys_1(object),
        length = result.length;

    while (length--) {
      var key = result[length],
          value = object[key];

      result[length] = [key, value, _isStrictComparable(value)];
    }
    return result;
  }

  var _getMatchData = getMatchData;

  /**
   * A specialized version of `matchesProperty` for source values suitable
   * for strict equality comparisons, i.e. `===`.
   *
   * @private
   * @param {string} key The key of the property to get.
   * @param {*} srcValue The value to match.
   * @returns {Function} Returns the new spec function.
   */
  function matchesStrictComparable(key, srcValue) {
    return function(object) {
      if (object == null) {
        return false;
      }
      return object[key] === srcValue &&
        (srcValue !== undefined || (key in Object(object)));
    };
  }

  var _matchesStrictComparable = matchesStrictComparable;

  /**
   * The base implementation of `_.matches` which doesn't clone `source`.
   *
   * @private
   * @param {Object} source The object of property values to match.
   * @returns {Function} Returns the new spec function.
   */
  function baseMatches(source) {
    var matchData = _getMatchData(source);
    if (matchData.length == 1 && matchData[0][2]) {
      return _matchesStrictComparable(matchData[0][0], matchData[0][1]);
    }
    return function(object) {
      return object === source || _baseIsMatch(object, source, matchData);
    };
  }

  var _baseMatches = baseMatches;

  /**
   * The base implementation of `_.hasIn` without support for deep paths.
   *
   * @private
   * @param {Object} [object] The object to query.
   * @param {Array|string} key The key to check.
   * @returns {boolean} Returns `true` if `key` exists, else `false`.
   */
  function baseHasIn(object, key) {
    return object != null && key in Object(object);
  }

  var _baseHasIn = baseHasIn;

  /**
   * Checks if `path` exists on `object`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Array|string} path The path to check.
   * @param {Function} hasFunc The function to check properties.
   * @returns {boolean} Returns `true` if `path` exists, else `false`.
   */
  function hasPath(object, path, hasFunc) {
    path = _castPath(path, object);

    var index = -1,
        length = path.length,
        result = false;

    while (++index < length) {
      var key = _toKey(path[index]);
      if (!(result = object != null && hasFunc(object, key))) {
        break;
      }
      object = object[key];
    }
    if (result || ++index != length) {
      return result;
    }
    length = object == null ? 0 : object.length;
    return !!length && isLength_1(length) && _isIndex(key, length) &&
      (isArray_1(object) || isArguments_1(object));
  }

  var _hasPath = hasPath;

  /**
   * Checks if `path` is a direct or inherited property of `object`.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Object
   * @param {Object} object The object to query.
   * @param {Array|string} path The path to check.
   * @returns {boolean} Returns `true` if `path` exists, else `false`.
   * @example
   *
   * var object = _.create({ 'a': _.create({ 'b': 2 }) });
   *
   * _.hasIn(object, 'a');
   * // => true
   *
   * _.hasIn(object, 'a.b');
   * // => true
   *
   * _.hasIn(object, ['a', 'b']);
   * // => true
   *
   * _.hasIn(object, 'b');
   * // => false
   */
  function hasIn(object, path) {
    return object != null && _hasPath(object, path, _baseHasIn);
  }

  var hasIn_1 = hasIn;

  /** Used to compose bitmasks for value comparisons. */
  var COMPARE_PARTIAL_FLAG$5 = 1,
      COMPARE_UNORDERED_FLAG$3 = 2;

  /**
   * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
   *
   * @private
   * @param {string} path The path of the property to get.
   * @param {*} srcValue The value to match.
   * @returns {Function} Returns the new spec function.
   */
  function baseMatchesProperty(path, srcValue) {
    if (_isKey(path) && _isStrictComparable(srcValue)) {
      return _matchesStrictComparable(_toKey(path), srcValue);
    }
    return function(object) {
      var objValue = get_1(object, path);
      return (objValue === undefined && objValue === srcValue)
        ? hasIn_1(object, path)
        : _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$5 | COMPARE_UNORDERED_FLAG$3);
    };
  }

  var _baseMatchesProperty = baseMatchesProperty;

  /**
   * This method returns the first argument it receives.
   *
   * @static
   * @since 0.1.0
   * @memberOf _
   * @category Util
   * @param {*} value Any value.
   * @returns {*} Returns `value`.
   * @example
   *
   * var object = { 'a': 1 };
   *
   * console.log(_.identity(object) === object);
   * // => true
   */
  function identity(value) {
    return value;
  }

  var identity_1 = identity;

  /**
   * The base implementation of `_.property` without support for deep paths.
   *
   * @private
   * @param {string} key The key of the property to get.
   * @returns {Function} Returns the new accessor function.
   */
  function baseProperty(key) {
    return function(object) {
      return object == null ? undefined : object[key];
    };
  }

  var _baseProperty = baseProperty;

  /**
   * A specialized version of `baseProperty` which supports deep paths.
   *
   * @private
   * @param {Array|string} path The path of the property to get.
   * @returns {Function} Returns the new accessor function.
   */
  function basePropertyDeep(path) {
    return function(object) {
      return _baseGet(object, path);
    };
  }

  var _basePropertyDeep = basePropertyDeep;

  /**
   * Creates a function that returns the value at `path` of a given object.
   *
   * @static
   * @memberOf _
   * @since 2.4.0
   * @category Util
   * @param {Array|string} path The path of the property to get.
   * @returns {Function} Returns the new accessor function.
   * @example
   *
   * var objects = [
   *   { 'a': { 'b': 2 } },
   *   { 'a': { 'b': 1 } }
   * ];
   *
   * _.map(objects, _.property('a.b'));
   * // => [2, 1]
   *
   * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
   * // => [1, 2]
   */
  function property(path) {
    return _isKey(path) ? _baseProperty(_toKey(path)) : _basePropertyDeep(path);
  }

  var property_1 = property;

  /**
   * The base implementation of `_.iteratee`.
   *
   * @private
   * @param {*} [value=_.identity] The value to convert to an iteratee.
   * @returns {Function} Returns the iteratee.
   */
  function baseIteratee(value) {
    // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
    // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
    if (typeof value == 'function') {
      return value;
    }
    if (value == null) {
      return identity_1;
    }
    if (typeof value == 'object') {
      return isArray_1(value)
        ? _baseMatchesProperty(value[0], value[1])
        : _baseMatches(value);
    }
    return property_1(value);
  }

  var _baseIteratee = baseIteratee;

  /**
   * Creates an object with the same keys as `object` and values generated
   * by running each own enumerable string keyed property of `object` thru
   * `iteratee`. The iteratee is invoked with three arguments:
   * (value, key, object).
   *
   * @static
   * @memberOf _
   * @since 2.4.0
   * @category Object
   * @param {Object} object The object to iterate over.
   * @param {Function} [iteratee=_.identity] The function invoked per iteration.
   * @returns {Object} Returns the new mapped object.
   * @see _.mapKeys
   * @example
   *
   * var users = {
   *   'fred':    { 'user': 'fred',    'age': 40 },
   *   'pebbles': { 'user': 'pebbles', 'age': 1 }
   * };
   *
   * _.mapValues(users, function(o) { return o.age; });
   * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
   *
   * // The `_.property` iteratee shorthand.
   * _.mapValues(users, 'age');
   * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
   */
  function mapValues(object, iteratee) {
    var result = {};
    iteratee = _baseIteratee(iteratee);

    _baseForOwn(object, function(value, key, object) {
      _baseAssignValue(result, key, iteratee(value, key, object));
    });
    return result;
  }

  var mapValues_1 = mapValues;

  /** Used for built-in method references. */
  var objectProto$c = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$a = objectProto$c.hasOwnProperty;

  /**
   * Assigns `value` to `key` of `object` if the existing value is not equivalent
   * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
   * for equality comparisons.
   *
   * @private
   * @param {Object} object The object to modify.
   * @param {string} key The key of the property to assign.
   * @param {*} value The value to assign.
   */
  function assignValue(object, key, value) {
    var objValue = object[key];
    if (!(hasOwnProperty$a.call(object, key) && eq_1(objValue, value)) ||
        (value === undefined && !(key in object))) {
      _baseAssignValue(object, key, value);
    }
  }

  var _assignValue = assignValue;

  /**
   * The base implementation of `_.set`.
   *
   * @private
   * @param {Object} object The object to modify.
   * @param {Array|string} path The path of the property to set.
   * @param {*} value The value to set.
   * @param {Function} [customizer] The function to customize path creation.
   * @returns {Object} Returns `object`.
   */
  function baseSet(object, path, value, customizer) {
    if (!isObject_1(object)) {
      return object;
    }
    path = _castPath(path, object);

    var index = -1,
        length = path.length,
        lastIndex = length - 1,
        nested = object;

    while (nested != null && ++index < length) {
      var key = _toKey(path[index]),
          newValue = value;

      if (index != lastIndex) {
        var objValue = nested[key];
        newValue = customizer ? customizer(objValue, key, nested) : undefined;
        if (newValue === undefined) {
          newValue = isObject_1(objValue)
            ? objValue
            : (_isIndex(path[index + 1]) ? [] : {});
        }
      }
      _assignValue(nested, key, newValue);
      nested = nested[key];
    }
    return object;
  }

  var _baseSet = baseSet;

  /**
   * The base implementation of  `_.pickBy` without support for iteratee shorthands.
   *
   * @private
   * @param {Object} object The source object.
   * @param {string[]} paths The property paths to pick.
   * @param {Function} predicate The function invoked per property.
   * @returns {Object} Returns the new object.
   */
  function basePickBy(object, paths, predicate) {
    var index = -1,
        length = paths.length,
        result = {};

    while (++index < length) {
      var path = paths[index],
          value = _baseGet(object, path);

      if (predicate(value, path)) {
        _baseSet(result, _castPath(path, object), value);
      }
    }
    return result;
  }

  var _basePickBy = basePickBy;

  /** Built-in value references. */
  var getPrototype = _overArg(Object.getPrototypeOf, Object);

  var _getPrototype = getPrototype;

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeGetSymbols$1 = Object.getOwnPropertySymbols;

  /**
   * Creates an array of the own and inherited enumerable symbols of `object`.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of symbols.
   */
  var getSymbolsIn = !nativeGetSymbols$1 ? stubArray_1 : function(object) {
    var result = [];
    while (object) {
      _arrayPush(result, _getSymbols(object));
      object = _getPrototype(object);
    }
    return result;
  };

  var _getSymbolsIn = getSymbolsIn;

  /**
   * This function is like
   * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
   * except that it includes inherited enumerable properties.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names.
   */
  function nativeKeysIn(object) {
    var result = [];
    if (object != null) {
      for (var key in Object(object)) {
        result.push(key);
      }
    }
    return result;
  }

  var _nativeKeysIn = nativeKeysIn;

  /** Used for built-in method references. */
  var objectProto$d = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$b = objectProto$d.hasOwnProperty;

  /**
   * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names.
   */
  function baseKeysIn(object) {
    if (!isObject_1(object)) {
      return _nativeKeysIn(object);
    }
    var isProto = _isPrototype(object),
        result = [];

    for (var key in object) {
      if (!(key == 'constructor' && (isProto || !hasOwnProperty$b.call(object, key)))) {
        result.push(key);
      }
    }
    return result;
  }

  var _baseKeysIn = baseKeysIn;

  /**
   * Creates an array of the own and inherited enumerable property names of `object`.
   *
   * **Note:** Non-object values are coerced to objects.
   *
   * @static
   * @memberOf _
   * @since 3.0.0
   * @category Object
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names.
   * @example
   *
   * function Foo() {
   *   this.a = 1;
   *   this.b = 2;
   * }
   *
   * Foo.prototype.c = 3;
   *
   * _.keysIn(new Foo);
   * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
   */
  function keysIn$1(object) {
    return isArrayLike_1(object) ? _arrayLikeKeys(object, true) : _baseKeysIn(object);
  }

  var keysIn_1 = keysIn$1;

  /**
   * Creates an array of own and inherited enumerable property names and
   * symbols of `object`.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names and symbols.
   */
  function getAllKeysIn(object) {
    return _baseGetAllKeys(object, keysIn_1, _getSymbolsIn);
  }

  var _getAllKeysIn = getAllKeysIn;

  /**
   * Creates an object composed of the `object` properties `predicate` returns
   * truthy for. The predicate is invoked with two arguments: (value, key).
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Object
   * @param {Object} object The source object.
   * @param {Function} [predicate=_.identity] The function invoked per property.
   * @returns {Object} Returns the new object.
   * @example
   *
   * var object = { 'a': 1, 'b': '2', 'c': 3 };
   *
   * _.pickBy(object, _.isNumber);
   * // => { 'a': 1, 'c': 3 }
   */
  function pickBy(object, predicate) {
    if (object == null) {
      return {};
    }
    var props = _arrayMap(_getAllKeysIn(object), function(prop) {
      return [prop];
    });
    predicate = _baseIteratee(predicate);
    return _basePickBy(object, props, function(value, path) {
      return predicate(value, path[0]);
    });
  }

  var pickBy_1 = pickBy;

  /** `Object#toString` result references. */
  var mapTag$3 = '[object Map]',
      setTag$3 = '[object Set]';

  /** Used for built-in method references. */
  var objectProto$e = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$c = objectProto$e.hasOwnProperty;

  /**
   * Checks if `value` is an empty object, collection, map, or set.
   *
   * Objects are considered empty if they have no own enumerable string keyed
   * properties.
   *
   * Array-like values such as `arguments` objects, arrays, buffers, strings, or
   * jQuery-like collections are considered empty if they have a `length` of `0`.
   * Similarly, maps and sets are considered empty if they have a `size` of `0`.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is empty, else `false`.
   * @example
   *
   * _.isEmpty(null);
   * // => true
   *
   * _.isEmpty(true);
   * // => true
   *
   * _.isEmpty(1);
   * // => true
   *
   * _.isEmpty([1, 2, 3]);
   * // => false
   *
   * _.isEmpty({ 'a': 1 });
   * // => false
   */
  function isEmpty(value) {
    if (value == null) {
      return true;
    }
    if (isArrayLike_1(value) &&
        (isArray_1(value) || typeof value == 'string' || typeof value.splice == 'function' ||
          isBuffer_1(value) || isTypedArray_1(value) || isArguments_1(value))) {
      return !value.length;
    }
    var tag = _getTag(value);
    if (tag == mapTag$3 || tag == setTag$3) {
      return !value.size;
    }
    if (_isPrototype(value)) {
      return !_baseKeys(value).length;
    }
    for (var key in value) {
      if (hasOwnProperty$c.call(value, key)) {
        return false;
      }
    }
    return true;
  }

  var isEmpty_1 = isEmpty;

  /**
   * A specialized version of `_.forEach` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns `array`.
   */
  function arrayEach(array, iteratee) {
    var index = -1,
        length = array == null ? 0 : array.length;

    while (++index < length) {
      if (iteratee(array[index], index, array) === false) {
        break;
      }
    }
    return array;
  }

  var _arrayEach = arrayEach;

  /**
   * Copies properties of `source` to `object`.
   *
   * @private
   * @param {Object} source The object to copy properties from.
   * @param {Array} props The property identifiers to copy.
   * @param {Object} [object={}] The object to copy properties to.
   * @param {Function} [customizer] The function to customize copied values.
   * @returns {Object} Returns `object`.
   */
  function copyObject(source, props, object, customizer) {
    var isNew = !object;
    object || (object = {});

    var index = -1,
        length = props.length;

    while (++index < length) {
      var key = props[index];

      var newValue = customizer
        ? customizer(object[key], source[key], key, object, source)
        : undefined;

      if (newValue === undefined) {
        newValue = source[key];
      }
      if (isNew) {
        _baseAssignValue(object, key, newValue);
      } else {
        _assignValue(object, key, newValue);
      }
    }
    return object;
  }

  var _copyObject = copyObject;

  /**
   * The base implementation of `_.assign` without support for multiple sources
   * or `customizer` functions.
   *
   * @private
   * @param {Object} object The destination object.
   * @param {Object} source The source object.
   * @returns {Object} Returns `object`.
   */
  function baseAssign(object, source) {
    return object && _copyObject(source, keys_1(source), object);
  }

  var _baseAssign = baseAssign;

  /**
   * The base implementation of `_.assignIn` without support for multiple sources
   * or `customizer` functions.
   *
   * @private
   * @param {Object} object The destination object.
   * @param {Object} source The source object.
   * @returns {Object} Returns `object`.
   */
  function baseAssignIn(object, source) {
    return object && _copyObject(source, keysIn_1(source), object);
  }

  var _baseAssignIn = baseAssignIn;

  var _cloneBuffer = createCommonjsModule(function (module, exports) {
  /** Detect free variable `exports`. */
  var freeExports =  exports && !exports.nodeType && exports;

  /** Detect free variable `module`. */
  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports`. */
  var moduleExports = freeModule && freeModule.exports === freeExports;

  /** Built-in value references. */
  var Buffer = moduleExports ? _root.Buffer : undefined,
      allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;

  /**
   * Creates a clone of  `buffer`.
   *
   * @private
   * @param {Buffer} buffer The buffer to clone.
   * @param {boolean} [isDeep] Specify a deep clone.
   * @returns {Buffer} Returns the cloned buffer.
   */
  function cloneBuffer(buffer, isDeep) {
    if (isDeep) {
      return buffer.slice();
    }
    var length = buffer.length,
        result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

    buffer.copy(result);
    return result;
  }

  module.exports = cloneBuffer;
  });

  /**
   * Copies the values of `source` to `array`.
   *
   * @private
   * @param {Array} source The array to copy values from.
   * @param {Array} [array=[]] The array to copy values to.
   * @returns {Array} Returns `array`.
   */
  function copyArray(source, array) {
    var index = -1,
        length = source.length;

    array || (array = Array(length));
    while (++index < length) {
      array[index] = source[index];
    }
    return array;
  }

  var _copyArray = copyArray;

  /**
   * Copies own symbols of `source` to `object`.
   *
   * @private
   * @param {Object} source The object to copy symbols from.
   * @param {Object} [object={}] The object to copy symbols to.
   * @returns {Object} Returns `object`.
   */
  function copySymbols(source, object) {
    return _copyObject(source, _getSymbols(source), object);
  }

  var _copySymbols = copySymbols;

  /**
   * Copies own and inherited symbols of `source` to `object`.
   *
   * @private
   * @param {Object} source The object to copy symbols from.
   * @param {Object} [object={}] The object to copy symbols to.
   * @returns {Object} Returns `object`.
   */
  function copySymbolsIn(source, object) {
    return _copyObject(source, _getSymbolsIn(source), object);
  }

  var _copySymbolsIn = copySymbolsIn;

  /** Used for built-in method references. */
  var objectProto$f = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$d = objectProto$f.hasOwnProperty;

  /**
   * Initializes an array clone.
   *
   * @private
   * @param {Array} array The array to clone.
   * @returns {Array} Returns the initialized clone.
   */
  function initCloneArray(array) {
    var length = array.length,
        result = new array.constructor(length);

    // Add properties assigned by `RegExp#exec`.
    if (length && typeof array[0] == 'string' && hasOwnProperty$d.call(array, 'index')) {
      result.index = array.index;
      result.input = array.input;
    }
    return result;
  }

  var _initCloneArray = initCloneArray;

  /**
   * Creates a clone of `arrayBuffer`.
   *
   * @private
   * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
   * @returns {ArrayBuffer} Returns the cloned array buffer.
   */
  function cloneArrayBuffer(arrayBuffer) {
    var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
    new _Uint8Array(result).set(new _Uint8Array(arrayBuffer));
    return result;
  }

  var _cloneArrayBuffer = cloneArrayBuffer;

  /**
   * Creates a clone of `dataView`.
   *
   * @private
   * @param {Object} dataView The data view to clone.
   * @param {boolean} [isDeep] Specify a deep clone.
   * @returns {Object} Returns the cloned data view.
   */
  function cloneDataView(dataView, isDeep) {
    var buffer = isDeep ? _cloneArrayBuffer(dataView.buffer) : dataView.buffer;
    return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
  }

  var _cloneDataView = cloneDataView;

  /** Used to match `RegExp` flags from their coerced string values. */
  var reFlags = /\w*$/;

  /**
   * Creates a clone of `regexp`.
   *
   * @private
   * @param {Object} regexp The regexp to clone.
   * @returns {Object} Returns the cloned regexp.
   */
  function cloneRegExp(regexp) {
    var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
    result.lastIndex = regexp.lastIndex;
    return result;
  }

  var _cloneRegExp = cloneRegExp;

  /** Used to convert symbols to primitives and strings. */
  var symbolProto$2 = _Symbol ? _Symbol.prototype : undefined,
      symbolValueOf$1 = symbolProto$2 ? symbolProto$2.valueOf : undefined;

  /**
   * Creates a clone of the `symbol` object.
   *
   * @private
   * @param {Object} symbol The symbol object to clone.
   * @returns {Object} Returns the cloned symbol object.
   */
  function cloneSymbol(symbol) {
    return symbolValueOf$1 ? Object(symbolValueOf$1.call(symbol)) : {};
  }

  var _cloneSymbol = cloneSymbol;

  /**
   * Creates a clone of `typedArray`.
   *
   * @private
   * @param {Object} typedArray The typed array to clone.
   * @param {boolean} [isDeep] Specify a deep clone.
   * @returns {Object} Returns the cloned typed array.
   */
  function cloneTypedArray(typedArray, isDeep) {
    var buffer = isDeep ? _cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
  }

  var _cloneTypedArray = cloneTypedArray;

  /** `Object#toString` result references. */
  var boolTag$2 = '[object Boolean]',
      dateTag$2 = '[object Date]',
      mapTag$4 = '[object Map]',
      numberTag$2 = '[object Number]',
      regexpTag$2 = '[object RegExp]',
      setTag$4 = '[object Set]',
      stringTag$2 = '[object String]',
      symbolTag$2 = '[object Symbol]';

  var arrayBufferTag$2 = '[object ArrayBuffer]',
      dataViewTag$3 = '[object DataView]',
      float32Tag$1 = '[object Float32Array]',
      float64Tag$1 = '[object Float64Array]',
      int8Tag$1 = '[object Int8Array]',
      int16Tag$1 = '[object Int16Array]',
      int32Tag$1 = '[object Int32Array]',
      uint8Tag$1 = '[object Uint8Array]',
      uint8ClampedTag$1 = '[object Uint8ClampedArray]',
      uint16Tag$1 = '[object Uint16Array]',
      uint32Tag$1 = '[object Uint32Array]';

  /**
   * Initializes an object clone based on its `toStringTag`.
   *
   * **Note:** This function only supports cloning values with tags of
   * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.
   *
   * @private
   * @param {Object} object The object to clone.
   * @param {string} tag The `toStringTag` of the object to clone.
   * @param {boolean} [isDeep] Specify a deep clone.
   * @returns {Object} Returns the initialized clone.
   */
  function initCloneByTag(object, tag, isDeep) {
    var Ctor = object.constructor;
    switch (tag) {
      case arrayBufferTag$2:
        return _cloneArrayBuffer(object);

      case boolTag$2:
      case dateTag$2:
        return new Ctor(+object);

      case dataViewTag$3:
        return _cloneDataView(object, isDeep);

      case float32Tag$1: case float64Tag$1:
      case int8Tag$1: case int16Tag$1: case int32Tag$1:
      case uint8Tag$1: case uint8ClampedTag$1: case uint16Tag$1: case uint32Tag$1:
        return _cloneTypedArray(object, isDeep);

      case mapTag$4:
        return new Ctor;

      case numberTag$2:
      case stringTag$2:
        return new Ctor(object);

      case regexpTag$2:
        return _cloneRegExp(object);

      case setTag$4:
        return new Ctor;

      case symbolTag$2:
        return _cloneSymbol(object);
    }
  }

  var _initCloneByTag = initCloneByTag;

  /** Built-in value references. */
  var objectCreate = Object.create;

  /**
   * The base implementation of `_.create` without support for assigning
   * properties to the created object.
   *
   * @private
   * @param {Object} proto The object to inherit from.
   * @returns {Object} Returns the new object.
   */
  var baseCreate = (function() {
    function object() {}
    return function(proto) {
      if (!isObject_1(proto)) {
        return {};
      }
      if (objectCreate) {
        return objectCreate(proto);
      }
      object.prototype = proto;
      var result = new object;
      object.prototype = undefined;
      return result;
    };
  }());

  var _baseCreate = baseCreate;

  /**
   * Initializes an object clone.
   *
   * @private
   * @param {Object} object The object to clone.
   * @returns {Object} Returns the initialized clone.
   */
  function initCloneObject(object) {
    return (typeof object.constructor == 'function' && !_isPrototype(object))
      ? _baseCreate(_getPrototype(object))
      : {};
  }

  var _initCloneObject = initCloneObject;

  /** `Object#toString` result references. */
  var mapTag$5 = '[object Map]';

  /**
   * The base implementation of `_.isMap` without Node.js optimizations.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a map, else `false`.
   */
  function baseIsMap(value) {
    return isObjectLike_1(value) && _getTag(value) == mapTag$5;
  }

  var _baseIsMap = baseIsMap;

  /* Node.js helper references. */
  var nodeIsMap = _nodeUtil && _nodeUtil.isMap;

  /**
   * Checks if `value` is classified as a `Map` object.
   *
   * @static
   * @memberOf _
   * @since 4.3.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a map, else `false`.
   * @example
   *
   * _.isMap(new Map);
   * // => true
   *
   * _.isMap(new WeakMap);
   * // => false
   */
  var isMap = nodeIsMap ? _baseUnary(nodeIsMap) : _baseIsMap;

  var isMap_1 = isMap;

  /** `Object#toString` result references. */
  var setTag$5 = '[object Set]';

  /**
   * The base implementation of `_.isSet` without Node.js optimizations.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a set, else `false`.
   */
  function baseIsSet(value) {
    return isObjectLike_1(value) && _getTag(value) == setTag$5;
  }

  var _baseIsSet = baseIsSet;

  /* Node.js helper references. */
  var nodeIsSet = _nodeUtil && _nodeUtil.isSet;

  /**
   * Checks if `value` is classified as a `Set` object.
   *
   * @static
   * @memberOf _
   * @since 4.3.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a set, else `false`.
   * @example
   *
   * _.isSet(new Set);
   * // => true
   *
   * _.isSet(new WeakSet);
   * // => false
   */
  var isSet = nodeIsSet ? _baseUnary(nodeIsSet) : _baseIsSet;

  var isSet_1 = isSet;

  /** Used to compose bitmasks for cloning. */
  var CLONE_DEEP_FLAG = 1,
      CLONE_FLAT_FLAG = 2,
      CLONE_SYMBOLS_FLAG = 4;

  /** `Object#toString` result references. */
  var argsTag$3 = '[object Arguments]',
      arrayTag$2 = '[object Array]',
      boolTag$3 = '[object Boolean]',
      dateTag$3 = '[object Date]',
      errorTag$2 = '[object Error]',
      funcTag$2 = '[object Function]',
      genTag$1 = '[object GeneratorFunction]',
      mapTag$6 = '[object Map]',
      numberTag$3 = '[object Number]',
      objectTag$3 = '[object Object]',
      regexpTag$3 = '[object RegExp]',
      setTag$6 = '[object Set]',
      stringTag$3 = '[object String]',
      symbolTag$3 = '[object Symbol]',
      weakMapTag$2 = '[object WeakMap]';

  var arrayBufferTag$3 = '[object ArrayBuffer]',
      dataViewTag$4 = '[object DataView]',
      float32Tag$2 = '[object Float32Array]',
      float64Tag$2 = '[object Float64Array]',
      int8Tag$2 = '[object Int8Array]',
      int16Tag$2 = '[object Int16Array]',
      int32Tag$2 = '[object Int32Array]',
      uint8Tag$2 = '[object Uint8Array]',
      uint8ClampedTag$2 = '[object Uint8ClampedArray]',
      uint16Tag$2 = '[object Uint16Array]',
      uint32Tag$2 = '[object Uint32Array]';

  /** Used to identify `toStringTag` values supported by `_.clone`. */
  var cloneableTags = {};
  cloneableTags[argsTag$3] = cloneableTags[arrayTag$2] =
  cloneableTags[arrayBufferTag$3] = cloneableTags[dataViewTag$4] =
  cloneableTags[boolTag$3] = cloneableTags[dateTag$3] =
  cloneableTags[float32Tag$2] = cloneableTags[float64Tag$2] =
  cloneableTags[int8Tag$2] = cloneableTags[int16Tag$2] =
  cloneableTags[int32Tag$2] = cloneableTags[mapTag$6] =
  cloneableTags[numberTag$3] = cloneableTags[objectTag$3] =
  cloneableTags[regexpTag$3] = cloneableTags[setTag$6] =
  cloneableTags[stringTag$3] = cloneableTags[symbolTag$3] =
  cloneableTags[uint8Tag$2] = cloneableTags[uint8ClampedTag$2] =
  cloneableTags[uint16Tag$2] = cloneableTags[uint32Tag$2] = true;
  cloneableTags[errorTag$2] = cloneableTags[funcTag$2] =
  cloneableTags[weakMapTag$2] = false;

  /**
   * The base implementation of `_.clone` and `_.cloneDeep` which tracks
   * traversed objects.
   *
   * @private
   * @param {*} value The value to clone.
   * @param {boolean} bitmask The bitmask flags.
   *  1 - Deep clone
   *  2 - Flatten inherited properties
   *  4 - Clone symbols
   * @param {Function} [customizer] The function to customize cloning.
   * @param {string} [key] The key of `value`.
   * @param {Object} [object] The parent object of `value`.
   * @param {Object} [stack] Tracks traversed objects and their clone counterparts.
   * @returns {*} Returns the cloned value.
   */
  function baseClone(value, bitmask, customizer, key, object, stack) {
    var result,
        isDeep = bitmask & CLONE_DEEP_FLAG,
        isFlat = bitmask & CLONE_FLAT_FLAG,
        isFull = bitmask & CLONE_SYMBOLS_FLAG;

    if (customizer) {
      result = object ? customizer(value, key, object, stack) : customizer(value);
    }
    if (result !== undefined) {
      return result;
    }
    if (!isObject_1(value)) {
      return value;
    }
    var isArr = isArray_1(value);
    if (isArr) {
      result = _initCloneArray(value);
      if (!isDeep) {
        return _copyArray(value, result);
      }
    } else {
      var tag = _getTag(value),
          isFunc = tag == funcTag$2 || tag == genTag$1;

      if (isBuffer_1(value)) {
        return _cloneBuffer(value, isDeep);
      }
      if (tag == objectTag$3 || tag == argsTag$3 || (isFunc && !object)) {
        result = (isFlat || isFunc) ? {} : _initCloneObject(value);
        if (!isDeep) {
          return isFlat
            ? _copySymbolsIn(value, _baseAssignIn(result, value))
            : _copySymbols(value, _baseAssign(result, value));
        }
      } else {
        if (!cloneableTags[tag]) {
          return object ? value : {};
        }
        result = _initCloneByTag(value, tag, isDeep);
      }
    }
    // Check for circular references and return its corresponding clone.
    stack || (stack = new _Stack);
    var stacked = stack.get(value);
    if (stacked) {
      return stacked;
    }
    stack.set(value, result);

    if (isSet_1(value)) {
      value.forEach(function(subValue) {
        result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
      });
    } else if (isMap_1(value)) {
      value.forEach(function(subValue, key) {
        result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));
      });
    }

    var keysFunc = isFull
      ? (isFlat ? _getAllKeysIn : _getAllKeys)
      : (isFlat ? keysIn : keys_1);

    var props = isArr ? undefined : keysFunc(value);
    _arrayEach(props || value, function(subValue, key) {
      if (props) {
        key = subValue;
        subValue = value[key];
      }
      // Recursively populate clone (susceptible to call stack limits).
      _assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));
    });
    return result;
  }

  var _baseClone = baseClone;

  /** Used to compose bitmasks for cloning. */
  var CLONE_DEEP_FLAG$1 = 1,
      CLONE_SYMBOLS_FLAG$1 = 4;

  /**
   * This method is like `_.clone` except that it recursively clones `value`.
   *
   * @static
   * @memberOf _
   * @since 1.0.0
   * @category Lang
   * @param {*} value The value to recursively clone.
   * @returns {*} Returns the deep cloned value.
   * @see _.clone
   * @example
   *
   * var objects = [{ 'a': 1 }, { 'b': 2 }];
   *
   * var deep = _.cloneDeep(objects);
   * console.log(deep[0] === objects[0]);
   * // => false
   */
  function cloneDeep(value) {
    return _baseClone(value, CLONE_DEEP_FLAG$1 | CLONE_SYMBOLS_FLAG$1);
  }

  var cloneDeep_1 = cloneDeep;

  /**
   * Creates a `_.find` or `_.findLast` function.
   *
   * @private
   * @param {Function} findIndexFunc The function to find the collection index.
   * @returns {Function} Returns the new find function.
   */
  function createFind(findIndexFunc) {
    return function(collection, predicate, fromIndex) {
      var iterable = Object(collection);
      if (!isArrayLike_1(collection)) {
        var iteratee = _baseIteratee(predicate);
        collection = keys_1(collection);
        predicate = function(key) { return iteratee(iterable[key], key, iterable); };
      }
      var index = findIndexFunc(collection, predicate, fromIndex);
      return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;
    };
  }

  var _createFind = createFind;

  /**
   * The base implementation of `_.findIndex` and `_.findLastIndex` without
   * support for iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {Function} predicate The function invoked per iteration.
   * @param {number} fromIndex The index to search from.
   * @param {boolean} [fromRight] Specify iterating from right to left.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */
  function baseFindIndex(array, predicate, fromIndex, fromRight) {
    var length = array.length,
        index = fromIndex + (fromRight ? 1 : -1);

    while ((fromRight ? index-- : ++index < length)) {
      if (predicate(array[index], index, array)) {
        return index;
      }
    }
    return -1;
  }

  var _baseFindIndex = baseFindIndex;

  /** Used as references for various `Number` constants. */
  var NAN = 0 / 0;

  /** Used to match leading and trailing whitespace. */
  var reTrim = /^\s+|\s+$/g;

  /** Used to detect bad signed hexadecimal string values. */
  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

  /** Used to detect binary string values. */
  var reIsBinary = /^0b[01]+$/i;

  /** Used to detect octal string values. */
  var reIsOctal = /^0o[0-7]+$/i;

  /** Built-in method references without a dependency on `root`. */
  var freeParseInt = parseInt;

  /**
   * Converts `value` to a number.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to process.
   * @returns {number} Returns the number.
   * @example
   *
   * _.toNumber(3.2);
   * // => 3.2
   *
   * _.toNumber(Number.MIN_VALUE);
   * // => 5e-324
   *
   * _.toNumber(Infinity);
   * // => Infinity
   *
   * _.toNumber('3.2');
   * // => 3.2
   */
  function toNumber(value) {
    if (typeof value == 'number') {
      return value;
    }
    if (isSymbol_1(value)) {
      return NAN;
    }
    if (isObject_1(value)) {
      var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
      value = isObject_1(other) ? (other + '') : other;
    }
    if (typeof value != 'string') {
      return value === 0 ? value : +value;
    }
    value = value.replace(reTrim, '');
    var isBinary = reIsBinary.test(value);
    return (isBinary || reIsOctal.test(value))
      ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
      : (reIsBadHex.test(value) ? NAN : +value);
  }

  var toNumber_1 = toNumber;

  /** Used as references for various `Number` constants. */
  var INFINITY$2 = 1 / 0,
      MAX_INTEGER = 1.7976931348623157e+308;

  /**
   * Converts `value` to a finite number.
   *
   * @static
   * @memberOf _
   * @since 4.12.0
   * @category Lang
   * @param {*} value The value to convert.
   * @returns {number} Returns the converted number.
   * @example
   *
   * _.toFinite(3.2);
   * // => 3.2
   *
   * _.toFinite(Number.MIN_VALUE);
   * // => 5e-324
   *
   * _.toFinite(Infinity);
   * // => 1.7976931348623157e+308
   *
   * _.toFinite('3.2');
   * // => 3.2
   */
  function toFinite(value) {
    if (!value) {
      return value === 0 ? value : 0;
    }
    value = toNumber_1(value);
    if (value === INFINITY$2 || value === -INFINITY$2) {
      var sign = (value < 0 ? -1 : 1);
      return sign * MAX_INTEGER;
    }
    return value === value ? value : 0;
  }

  var toFinite_1 = toFinite;

  /**
   * Converts `value` to an integer.
   *
   * **Note:** This method is loosely based on
   * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to convert.
   * @returns {number} Returns the converted integer.
   * @example
   *
   * _.toInteger(3.2);
   * // => 3
   *
   * _.toInteger(Number.MIN_VALUE);
   * // => 0
   *
   * _.toInteger(Infinity);
   * // => 1.7976931348623157e+308
   *
   * _.toInteger('3.2');
   * // => 3
   */
  function toInteger(value) {
    var result = toFinite_1(value),
        remainder = result % 1;

    return result === result ? (remainder ? result - remainder : result) : 0;
  }

  var toInteger_1 = toInteger;

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeMax = Math.max;

  /**
   * This method is like `_.find` except that it returns the index of the first
   * element `predicate` returns truthy for instead of the element itself.
   *
   * @static
   * @memberOf _
   * @since 1.1.0
   * @category Array
   * @param {Array} array The array to inspect.
   * @param {Function} [predicate=_.identity] The function invoked per iteration.
   * @param {number} [fromIndex=0] The index to search from.
   * @returns {number} Returns the index of the found element, else `-1`.
   * @example
   *
   * var users = [
   *   { 'user': 'barney',  'active': false },
   *   { 'user': 'fred',    'active': false },
   *   { 'user': 'pebbles', 'active': true }
   * ];
   *
   * _.findIndex(users, function(o) { return o.user == 'barney'; });
   * // => 0
   *
   * // The `_.matches` iteratee shorthand.
   * _.findIndex(users, { 'user': 'fred', 'active': false });
   * // => 1
   *
   * // The `_.matchesProperty` iteratee shorthand.
   * _.findIndex(users, ['active', false]);
   * // => 0
   *
   * // The `_.property` iteratee shorthand.
   * _.findIndex(users, 'active');
   * // => 2
   */
  function findIndex(array, predicate, fromIndex) {
    var length = array == null ? 0 : array.length;
    if (!length) {
      return -1;
    }
    var index = fromIndex == null ? 0 : toInteger_1(fromIndex);
    if (index < 0) {
      index = nativeMax(length + index, 0);
    }
    return _baseFindIndex(array, _baseIteratee(predicate), index);
  }

  var findIndex_1 = findIndex;

  /**
   * Iterates over elements of `collection`, returning the first element
   * `predicate` returns truthy for. The predicate is invoked with three
   * arguments: (value, index|key, collection).
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Collection
   * @param {Array|Object} collection The collection to inspect.
   * @param {Function} [predicate=_.identity] The function invoked per iteration.
   * @param {number} [fromIndex=0] The index to search from.
   * @returns {*} Returns the matched element, else `undefined`.
   * @example
   *
   * var users = [
   *   { 'user': 'barney',  'age': 36, 'active': true },
   *   { 'user': 'fred',    'age': 40, 'active': false },
   *   { 'user': 'pebbles', 'age': 1,  'active': true }
   * ];
   *
   * _.find(users, function(o) { return o.age < 40; });
   * // => object for 'barney'
   *
   * // The `_.matches` iteratee shorthand.
   * _.find(users, { 'age': 1, 'active': true });
   * // => object for 'pebbles'
   *
   * // The `_.matchesProperty` iteratee shorthand.
   * _.find(users, ['active', false]);
   * // => object for 'fred'
   *
   * // The `_.property` iteratee shorthand.
   * _.find(users, 'active');
   * // => object for 'barney'
   */
  var find = _createFind(findIndex_1);

  var find_1 = find;

  /**
   * Creates a `baseEach` or `baseEachRight` function.
   *
   * @private
   * @param {Function} eachFunc The function to iterate over a collection.
   * @param {boolean} [fromRight] Specify iterating from right to left.
   * @returns {Function} Returns the new base function.
   */
  function createBaseEach(eachFunc, fromRight) {
    return function(collection, iteratee) {
      if (collection == null) {
        return collection;
      }
      if (!isArrayLike_1(collection)) {
        return eachFunc(collection, iteratee);
      }
      var length = collection.length,
          index = fromRight ? length : -1,
          iterable = Object(collection);

      while ((fromRight ? index-- : ++index < length)) {
        if (iteratee(iterable[index], index, iterable) === false) {
          break;
        }
      }
      return collection;
    };
  }

  var _createBaseEach = createBaseEach;

  /**
   * The base implementation of `_.forEach` without support for iteratee shorthands.
   *
   * @private
   * @param {Array|Object} collection The collection to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array|Object} Returns `collection`.
   */
  var baseEach = _createBaseEach(_baseForOwn);

  var _baseEach = baseEach;

  /**
   * The base implementation of `_.map` without support for iteratee shorthands.
   *
   * @private
   * @param {Array|Object} collection The collection to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the new mapped array.
   */
  function baseMap(collection, iteratee) {
    var index = -1,
        result = isArrayLike_1(collection) ? Array(collection.length) : [];

    _baseEach(collection, function(value, key, collection) {
      result[++index] = iteratee(value, key, collection);
    });
    return result;
  }

  var _baseMap = baseMap;

  /**
   * Creates an array of values by running each element in `collection` thru
   * `iteratee`. The iteratee is invoked with three arguments:
   * (value, index|key, collection).
   *
   * Many lodash methods are guarded to work as iteratees for methods like
   * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.
   *
   * The guarded methods are:
   * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,
   * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,
   * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,
   * `template`, `trim`, `trimEnd`, `trimStart`, and `words`
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Collection
   * @param {Array|Object} collection The collection to iterate over.
   * @param {Function} [iteratee=_.identity] The function invoked per iteration.
   * @returns {Array} Returns the new mapped array.
   * @example
   *
   * function square(n) {
   *   return n * n;
   * }
   *
   * _.map([4, 8], square);
   * // => [16, 64]
   *
   * _.map({ 'a': 4, 'b': 8 }, square);
   * // => [16, 64] (iteration order is not guaranteed)
   *
   * var users = [
   *   { 'user': 'barney' },
   *   { 'user': 'fred' }
   * ];
   *
   * // The `_.property` iteratee shorthand.
   * _.map(users, 'user');
   * // => ['barney', 'fred']
   */
  function map(collection, iteratee) {
    var func = isArray_1(collection) ? _arrayMap : _baseMap;
    return func(collection, _baseIteratee(iteratee));
  }

  var map_1 = map;

  /** Used for built-in method references. */
  var objectProto$g = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$e = objectProto$g.hasOwnProperty;

  /**
   * The base implementation of `_.has` without support for deep paths.
   *
   * @private
   * @param {Object} [object] The object to query.
   * @param {Array|string} key The key to check.
   * @returns {boolean} Returns `true` if `key` exists, else `false`.
   */
  function baseHas(object, key) {
    return object != null && hasOwnProperty$e.call(object, key);
  }

  var _baseHas = baseHas;

  /**
   * Checks if `path` is a direct property of `object`.
   *
   * @static
   * @since 0.1.0
   * @memberOf _
   * @category Object
   * @param {Object} object The object to query.
   * @param {Array|string} path The path to check.
   * @returns {boolean} Returns `true` if `path` exists, else `false`.
   * @example
   *
   * var object = { 'a': { 'b': 2 } };
   * var other = _.create({ 'a': _.create({ 'b': 2 }) });
   *
   * _.has(object, 'a');
   * // => true
   *
   * _.has(object, 'a.b');
   * // => true
   *
   * _.has(object, ['a', 'b']);
   * // => true
   *
   * _.has(other, 'a');
   * // => false
   */
  function has(object, path) {
    return object != null && _hasPath(object, path, _baseHas);
  }

  var has_1 = has;

  /** `Object#toString` result references. */
  var objectTag$4 = '[object Object]';

  /** Used for built-in method references. */
  var funcProto$2 = Function.prototype,
      objectProto$h = Object.prototype;

  /** Used to resolve the decompiled source of functions. */
  var funcToString$2 = funcProto$2.toString;

  /** Used to check objects for own properties. */
  var hasOwnProperty$f = objectProto$h.hasOwnProperty;

  /** Used to infer the `Object` constructor. */
  var objectCtorString = funcToString$2.call(Object);

  /**
   * Checks if `value` is a plain object, that is, an object created by the
   * `Object` constructor or one with a `[[Prototype]]` of `null`.
   *
   * @static
   * @memberOf _
   * @since 0.8.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
   * @example
   *
   * function Foo() {
   *   this.a = 1;
   * }
   *
   * _.isPlainObject(new Foo);
   * // => false
   *
   * _.isPlainObject([1, 2, 3]);
   * // => false
   *
   * _.isPlainObject({ 'x': 0, 'y': 0 });
   * // => true
   *
   * _.isPlainObject(Object.create(null));
   * // => true
   */
  function isPlainObject(value) {
    if (!isObjectLike_1(value) || _baseGetTag(value) != objectTag$4) {
      return false;
    }
    var proto = _getPrototype(value);
    if (proto === null) {
      return true;
    }
    var Ctor = hasOwnProperty$f.call(proto, 'constructor') && proto.constructor;
    return typeof Ctor == 'function' && Ctor instanceof Ctor &&
      funcToString$2.call(Ctor) == objectCtorString;
  }

  var isPlainObject_1 = isPlainObject;

  /** `Object#toString` result references. */
  var stringTag$4 = '[object String]';

  /**
   * Checks if `value` is classified as a `String` primitive or object.
   *
   * @static
   * @since 0.1.0
   * @memberOf _
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a string, else `false`.
   * @example
   *
   * _.isString('abc');
   * // => true
   *
   * _.isString(1);
   * // => false
   */
  function isString(value) {
    return typeof value == 'string' ||
      (!isArray_1(value) && isObjectLike_1(value) && _baseGetTag(value) == stringTag$4);
  }

  var isString_1 = isString;

  /**
   * A specialized version of `_.every` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if all elements pass the predicate check,
   *  else `false`.
   */
  function arrayEvery(array, predicate) {
    var index = -1,
        length = array == null ? 0 : array.length;

    while (++index < length) {
      if (!predicate(array[index], index, array)) {
        return false;
      }
    }
    return true;
  }

  var _arrayEvery = arrayEvery;

  /**
   * The base implementation of `_.every` without support for iteratee shorthands.
   *
   * @private
   * @param {Array|Object} collection The collection to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if all elements pass the predicate check,
   *  else `false`
   */
  function baseEvery(collection, predicate) {
    var result = true;
    _baseEach(collection, function(value, index, collection) {
      result = !!predicate(value, index, collection);
      return result;
    });
    return result;
  }

  var _baseEvery = baseEvery;

  /**
   * Checks if the given arguments are from an iteratee call.
   *
   * @private
   * @param {*} value The potential iteratee value argument.
   * @param {*} index The potential iteratee index or key argument.
   * @param {*} object The potential iteratee object argument.
   * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
   *  else `false`.
   */
  function isIterateeCall(value, index, object) {
    if (!isObject_1(object)) {
      return false;
    }
    var type = typeof index;
    if (type == 'number'
          ? (isArrayLike_1(object) && _isIndex(index, object.length))
          : (type == 'string' && index in object)
        ) {
      return eq_1(object[index], value);
    }
    return false;
  }

  var _isIterateeCall = isIterateeCall;

  /**
   * Checks if `predicate` returns truthy for **all** elements of `collection`.
   * Iteration is stopped once `predicate` returns falsey. The predicate is
   * invoked with three arguments: (value, index|key, collection).
   *
   * **Note:** This method returns `true` for
   * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because
   * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of
   * elements of empty collections.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Collection
   * @param {Array|Object} collection The collection to iterate over.
   * @param {Function} [predicate=_.identity] The function invoked per iteration.
   * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
   * @returns {boolean} Returns `true` if all elements pass the predicate check,
   *  else `false`.
   * @example
   *
   * _.every([true, 1, null, 'yes'], Boolean);
   * // => false
   *
   * var users = [
   *   { 'user': 'barney', 'age': 36, 'active': false },
   *   { 'user': 'fred',   'age': 40, 'active': false }
   * ];
   *
   * // The `_.matches` iteratee shorthand.
   * _.every(users, { 'user': 'barney', 'active': false });
   * // => false
   *
   * // The `_.matchesProperty` iteratee shorthand.
   * _.every(users, ['active', false]);
   * // => true
   *
   * // The `_.property` iteratee shorthand.
   * _.every(users, 'active');
   * // => false
   */
  function every(collection, predicate, guard) {
    var func = isArray_1(collection) ? _arrayEvery : _baseEvery;
    if (guard && _isIterateeCall(collection, predicate, guard)) {
      predicate = undefined;
    }
    return func(collection, _baseIteratee(predicate));
  }

  var every_1 = every;

  /** Used to compose bitmasks for cloning. */
  var CLONE_DEEP_FLAG$2 = 1;

  /**
   * Creates a function that performs a partial deep comparison between a given
   * object and `source`, returning `true` if the given object has equivalent
   * property values, else `false`.
   *
   * **Note:** The created function is equivalent to `_.isMatch` with `source`
   * partially applied.
   *
   * Partial comparisons will match empty array and empty object `source`
   * values against any array or object value, respectively. See `_.isEqual`
   * for a list of supported value comparisons.
   *
   * @static
   * @memberOf _
   * @since 3.0.0
   * @category Util
   * @param {Object} source The object of property values to match.
   * @returns {Function} Returns the new spec function.
   * @example
   *
   * var objects = [
   *   { 'a': 1, 'b': 2, 'c': 3 },
   *   { 'a': 4, 'b': 5, 'c': 6 }
   * ];
   *
   * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));
   * // => [{ 'a': 4, 'b': 5, 'c': 6 }]
   */
  function matches(source) {
    return _baseMatches(_baseClone(source, CLONE_DEEP_FLAG$2));
  }

  var matches_1 = matches;

  /**
   * A faster alternative to `Function#apply`, this function invokes `func`
   * with the `this` binding of `thisArg` and the arguments of `args`.
   *
   * @private
   * @param {Function} func The function to invoke.
   * @param {*} thisArg The `this` binding of `func`.
   * @param {Array} args The arguments to invoke `func` with.
   * @returns {*} Returns the result of `func`.
   */
  function apply(func, thisArg, args) {
    switch (args.length) {
      case 0: return func.call(thisArg);
      case 1: return func.call(thisArg, args[0]);
      case 2: return func.call(thisArg, args[0], args[1]);
      case 3: return func.call(thisArg, args[0], args[1], args[2]);
    }
    return func.apply(thisArg, args);
  }

  var _apply = apply;

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeMax$1 = Math.max;

  /**
   * A specialized version of `baseRest` which transforms the rest array.
   *
   * @private
   * @param {Function} func The function to apply a rest parameter to.
   * @param {number} [start=func.length-1] The start position of the rest parameter.
   * @param {Function} transform The rest array transform.
   * @returns {Function} Returns the new function.
   */
  function overRest(func, start, transform) {
    start = nativeMax$1(start === undefined ? (func.length - 1) : start, 0);
    return function() {
      var args = arguments,
          index = -1,
          length = nativeMax$1(args.length - start, 0),
          array = Array(length);

      while (++index < length) {
        array[index] = args[start + index];
      }
      index = -1;
      var otherArgs = Array(start + 1);
      while (++index < start) {
        otherArgs[index] = args[index];
      }
      otherArgs[start] = transform(array);
      return _apply(func, this, otherArgs);
    };
  }

  var _overRest = overRest;

  /**
   * Creates a function that returns `value`.
   *
   * @static
   * @memberOf _
   * @since 2.4.0
   * @category Util
   * @param {*} value The value to return from the new function.
   * @returns {Function} Returns the new constant function.
   * @example
   *
   * var objects = _.times(2, _.constant({ 'a': 1 }));
   *
   * console.log(objects);
   * // => [{ 'a': 1 }, { 'a': 1 }]
   *
   * console.log(objects[0] === objects[1]);
   * // => true
   */
  function constant(value) {
    return function() {
      return value;
    };
  }

  var constant_1 = constant;

  /**
   * The base implementation of `setToString` without support for hot loop shorting.
   *
   * @private
   * @param {Function} func The function to modify.
   * @param {Function} string The `toString` result.
   * @returns {Function} Returns `func`.
   */
  var baseSetToString = !_defineProperty$1 ? identity_1 : function(func, string) {
    return _defineProperty$1(func, 'toString', {
      'configurable': true,
      'enumerable': false,
      'value': constant_1(string),
      'writable': true
    });
  };

  var _baseSetToString = baseSetToString;

  /** Used to detect hot functions by number of calls within a span of milliseconds. */
  var HOT_COUNT = 800,
      HOT_SPAN = 16;

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeNow = Date.now;

  /**
   * Creates a function that'll short out and invoke `identity` instead
   * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
   * milliseconds.
   *
   * @private
   * @param {Function} func The function to restrict.
   * @returns {Function} Returns the new shortable function.
   */
  function shortOut(func) {
    var count = 0,
        lastCalled = 0;

    return function() {
      var stamp = nativeNow(),
          remaining = HOT_SPAN - (stamp - lastCalled);

      lastCalled = stamp;
      if (remaining > 0) {
        if (++count >= HOT_COUNT) {
          return arguments[0];
        }
      } else {
        count = 0;
      }
      return func.apply(undefined, arguments);
    };
  }

  var _shortOut = shortOut;

  /**
   * Sets the `toString` method of `func` to return `string`.
   *
   * @private
   * @param {Function} func The function to modify.
   * @param {Function} string The `toString` result.
   * @returns {Function} Returns `func`.
   */
  var setToString = _shortOut(_baseSetToString);

  var _setToString = setToString;

  /**
   * The base implementation of `_.rest` which doesn't validate or coerce arguments.
   *
   * @private
   * @param {Function} func The function to apply a rest parameter to.
   * @param {number} [start=func.length-1] The start position of the rest parameter.
   * @returns {Function} Returns the new function.
   */
  function baseRest(func, start) {
    return _setToString(_overRest(func, start, identity_1), func + '');
  }

  var _baseRest = baseRest;

  /** Used for built-in method references. */
  var objectProto$i = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty$g = objectProto$i.hasOwnProperty;

  /**
   * Assigns own and inherited enumerable string keyed properties of source
   * objects to the destination object for all destination properties that
   * resolve to `undefined`. Source objects are applied from left to right.
   * Once a property is set, additional values of the same property are ignored.
   *
   * **Note:** This method mutates `object`.
   *
   * @static
   * @since 0.1.0
   * @memberOf _
   * @category Object
   * @param {Object} object The destination object.
   * @param {...Object} [sources] The source objects.
   * @returns {Object} Returns `object`.
   * @see _.defaultsDeep
   * @example
   *
   * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
   * // => { 'a': 1, 'b': 2 }
   */
  var defaults = _baseRest(function(object, sources) {
    object = Object(object);

    var index = -1;
    var length = sources.length;
    var guard = length > 2 ? sources[2] : undefined;

    if (guard && _isIterateeCall(sources[0], sources[1], guard)) {
      length = 1;
    }

    while (++index < length) {
      var source = sources[index];
      var props = keysIn_1(source);
      var propsIndex = -1;
      var propsLength = props.length;

      while (++propsIndex < propsLength) {
        var key = props[propsIndex];
        var value = object[key];

        if (value === undefined ||
            (eq_1(value, objectProto$i[key]) && !hasOwnProperty$g.call(object, key))) {
          object[key] = source[key];
        }
      }
    }

    return object;
  });

  var defaults_1 = defaults;

  // from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js
  var performance = global$1.performance || {};
  var performanceNow =
    performance.now        ||
    performance.mozNow     ||
    performance.msNow      ||
    performance.oNow       ||
    performance.webkitNow  ||
    function(){ return (new Date()).getTime() };

  var typeChecker = function (type) {
      var typeString = "[object " + type + "]";
      return function (value) {
          return getClassName(value) === typeString;
      };
  };
  var getClassName = function (value) { return Object.prototype.toString.call(value); };
  var comparable = function (value) {
      if (value instanceof Date) {
          return value.getTime();
      }
      else if (isArray$1(value)) {
          return value.map(comparable);
      }
      else if (value && typeof value.toJSON === "function") {
          return value.toJSON();
      }
      return value;
  };
  var isArray$1 = typeChecker("Array");
  var isObject$1 = typeChecker("Object");
  var isFunction$1 = typeChecker("Function");
  var isVanillaObject = function (value) {
      return (value &&
          (value.constructor === Object ||
              value.constructor === Array ||
              value.constructor.toString() === "function Object() { [native code] }" ||
              value.constructor.toString() === "function Array() { [native code] }") &&
          !value.toJSON);
  };
  var equals = function (a, b) {
      if (a == null && a == b) {
          return true;
      }
      if (a === b) {
          return true;
      }
      if (Object.prototype.toString.call(a) !== Object.prototype.toString.call(b)) {
          return false;
      }
      if (isArray$1(a)) {
          if (a.length !== b.length) {
              return false;
          }
          for (var i = 0, length_1 = a.length; i < length_1; i++) {
              if (!equals(a[i], b[i]))
                  return false;
          }
          return true;
      }
      else if (isObject$1(a)) {
          if (Object.keys(a).length !== Object.keys(b).length) {
              return false;
          }
          for (var key in a) {
              if (!equals(a[key], b[key]))
                  return false;
          }
          return true;
      }
      return false;
  };

  var __extends = (undefined && undefined.__extends) || (function () {
      var extendStatics = function (d, b) {
          extendStatics = Object.setPrototypeOf ||
              ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
              function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
          return extendStatics(d, b);
      };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++)
          for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
              r[k] = a[j];
      return r;
  };
  /**
   * Walks through each value given the context - used for nested operations. E.g:
   * { "person.address": { $eq: "blarg" }}
   */
  var walkKeyPathValues = function (item, keyPath, next, depth, key, owner) {
      var currentKey = keyPath[depth];
      // if array, then try matching. Might fall through for cases like:
      // { $eq: [1, 2, 3] }, [ 1, 2, 3 ].
      if (isArray$1(item) && isNaN(Number(currentKey))) {
          for (var i = 0, length_1 = item.length; i < length_1; i++) {
              // if FALSE is returned, then terminate walker. For operations, this simply
              // means that the search critera was met.
              if (!walkKeyPathValues(item[i], keyPath, next, depth, i, item)) {
                  return false;
              }
          }
      }
      if (depth === keyPath.length || item == null) {
          return next(item, key, owner);
      }
      return walkKeyPathValues(item[currentKey], keyPath, next, depth + 1, currentKey, item);
  };
  var BaseOperation = /** @class */ (function () {
      function BaseOperation(params, owneryQuery, options) {
          this.params = params;
          this.owneryQuery = owneryQuery;
          this.options = options;
          this.init();
      }
      BaseOperation.prototype.init = function () { };
      BaseOperation.prototype.reset = function () {
          this.done = false;
          this.success = false;
      };
      return BaseOperation;
  }());
  var GroupOperation = /** @class */ (function (_super) {
      __extends(GroupOperation, _super);
      function GroupOperation(params, owneryQuery, options, _children) {
          var _this = _super.call(this, params, owneryQuery, options) || this;
          _this._children = _children;
          return _this;
      }
      /**
       */
      GroupOperation.prototype.reset = function () {
          this.success = false;
          this.done = false;
          for (var i = 0, length_2 = this._children.length; i < length_2; i++) {
              this._children[i].reset();
          }
      };
      /**
       */
      GroupOperation.prototype.childrenNext = function (item, key, owner) {
          var done = true;
          var success = true;
          for (var i = 0, length_3 = this._children.length; i < length_3; i++) {
              var childOperation = this._children[i];
              childOperation.next(item, key, owner);
              if (!childOperation.success) {
                  success = false;
              }
              if (childOperation.done) {
                  if (!childOperation.success) {
                      break;
                  }
              }
              else {
                  done = false;
              }
          }
          this.done = done;
          this.success = success;
      };
      return GroupOperation;
  }(BaseOperation));
  var QueryOperation = /** @class */ (function (_super) {
      __extends(QueryOperation, _super);
      function QueryOperation() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      /**
       */
      QueryOperation.prototype.next = function (item, key, parent) {
          this.childrenNext(item, key, parent);
      };
      return QueryOperation;
  }(GroupOperation));
  var NestedOperation = /** @class */ (function (_super) {
      __extends(NestedOperation, _super);
      function NestedOperation(keyPath, params, owneryQuery, options, children) {
          var _this = _super.call(this, params, owneryQuery, options, children) || this;
          _this.keyPath = keyPath;
          /**
           */
          _this._nextNestedValue = function (value, key, owner) {
              _this.childrenNext(value, key, owner);
              return !_this.done;
          };
          return _this;
      }
      /**
       */
      NestedOperation.prototype.next = function (item, key, parent) {
          walkKeyPathValues(item, this.keyPath, this._nextNestedValue, 0, key, parent);
      };
      return NestedOperation;
  }(GroupOperation));
  var createTester = function (a, compare) {
      if (a instanceof Function) {
          return a;
      }
      if (a instanceof RegExp) {
          return function (b) { return typeof b === "string" && a.test(b); };
      }
      var comparableA = comparable(a);
      return function (b) { return compare(comparableA, comparable(b)); };
  };
  var EqualsOperation = /** @class */ (function (_super) {
      __extends(EqualsOperation, _super);
      function EqualsOperation() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      EqualsOperation.prototype.init = function () {
          this._test = createTester(this.params, this.options.compare);
      };
      EqualsOperation.prototype.next = function (item, key, parent) {
          if (this._test(item, key, parent)) {
              this.done = true;
              this.success = true;
          }
      };
      return EqualsOperation;
  }(BaseOperation));
  var NopeOperation = /** @class */ (function (_super) {
      __extends(NopeOperation, _super);
      function NopeOperation() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      NopeOperation.prototype.next = function () {
          this.done = true;
          this.success = false;
      };
      return NopeOperation;
  }(BaseOperation));
  var numericalOperationCreator = function (createNumericalOperation) { return function (params, owneryQuery, options) {
      return params == null
          ? new NopeOperation(params, owneryQuery, options)
          : createNumericalOperation(params, owneryQuery, options);
  }; };
  var createOperation = function (name, params, parentQuery, options) {
      var operationCreator = options.operations[name];
      if (!operationCreator) {
          throw new Error("Unsupported operation: " + name);
      }
      return operationCreator(params, parentQuery, options);
  };
  var containsOperation = function (query) {
      for (var key in query) {
          if (key.charAt(0) === "$")
              return true;
      }
      return false;
  };
  var createNestedOperation = function (keyPath, nestedQuery, owneryQuery, options) {
      if (containsOperation(nestedQuery)) {
          var _a = createQueryOperations(nestedQuery, options), selfOperations = _a[0], nestedOperations = _a[1];
          if (nestedOperations.length) {
              throw new Error("Property queries must contain only operations, or exact objects.");
          }
          return new NestedOperation(keyPath, nestedQuery, owneryQuery, options, selfOperations);
      }
      return new NestedOperation(keyPath, nestedQuery, owneryQuery, options, [
          new EqualsOperation(nestedQuery, owneryQuery, options)
      ]);
  };
  var createQueryOperation = function (query, owneryQuery, options) {
      var _a = createQueryOperations(query, options), selfOperations = _a[0], nestedOperations = _a[1];
      var ops = __spreadArrays([
          new NestedOperation([], query, owneryQuery, options, selfOperations)
      ], nestedOperations);
      if (ops.length === 1) {
          return ops[0];
      }
      return new QueryOperation(query, owneryQuery, options, ops);
  };
  var createQueryOperations = function (query, options) {
      var selfOperations = [];
      var nestedOperations = [];
      if (!isVanillaObject(query)) {
          selfOperations.push(new EqualsOperation(query, query, options));
          return [selfOperations, nestedOperations];
      }
      for (var key in query) {
          if (key.charAt(0) === "$") {
              var op = createOperation(key, query[key], query, options);
              // probably just a flag for another operation (like $options)
              if (op != null) {
                  selfOperations.push(op);
              }
          }
          else {
              nestedOperations.push(createNestedOperation(key.split("."), query[key], query, options));
          }
      }
      return [selfOperations, nestedOperations];
  };
  var createQueryTester = function (query, _a) {
      var _b = _a === void 0 ? {} : _a, compare = _b.compare, operations = _b.operations;
      var operation = createQueryOperation(query, null, {
          compare: compare || equals,
          operations: Object.assign({}, operations || {})
      });
      return function (item, key, owner) {
          operation.reset();
          operation.next(item, key, owner);
          return operation.success;
      };
  };

  var __extends$1 = (undefined && undefined.__extends) || (function () {
      var extendStatics = function (d, b) {
          extendStatics = Object.setPrototypeOf ||
              ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
              function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
          return extendStatics(d, b);
      };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  var $Ne = /** @class */ (function (_super) {
      __extends$1($Ne, _super);
      function $Ne() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      $Ne.prototype.init = function () {
          this._test = createTester(this.params, this.options.compare);
      };
      $Ne.prototype.reset = function () {
          _super.prototype.reset.call(this);
          this.success = true;
      };
      $Ne.prototype.next = function (item) {
          if (this._test(item)) {
              this.done = true;
              this.success = false;
          }
      };
      return $Ne;
  }(BaseOperation));
  var $ElemMatch = /** @class */ (function (_super) {
      __extends$1($ElemMatch, _super);
      function $ElemMatch() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      $ElemMatch.prototype.init = function () {
          this._queryOperation = createQueryOperation(this.params, this.owneryQuery, this.options);
      };
      $ElemMatch.prototype.reset = function () {
          this._queryOperation.reset();
      };
      $ElemMatch.prototype.next = function (item, key, owner) {
          this._queryOperation.next(item, key, owner);
          this.done = this._queryOperation.done;
          this.success = this._queryOperation.success;
      };
      return $ElemMatch;
  }(BaseOperation));
  var $Not = /** @class */ (function (_super) {
      __extends$1($Not, _super);
      function $Not() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      $Not.prototype.next = function (item, key, owner) {
          _super.prototype.next.call(this, item, key, owner);
          this.success = !this.success;
      };
      return $Not;
  }($ElemMatch));
  var $Or = /** @class */ (function (_super) {
      __extends$1($Or, _super);
      function $Or() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      $Or.prototype.init = function () {
          var _this = this;
          this._ops = this.params.map(function (op) {
              return createQueryOperation(op, null, _this.options);
          });
      };
      $Or.prototype.reset = function () {
          this.done = false;
          this.success = false;
          for (var i = 0, length_1 = this._ops.length; i < length_1; i++) {
              this._ops[i].reset();
          }
      };
      $Or.prototype.next = function (item, key, owner) {
          var done = false;
          var success = false;
          for (var i = 0, length_2 = this._ops.length; i < length_2; i++) {
              var op = this._ops[i];
              op.next(item, key, owner);
              if (op.success) {
                  done = true;
                  success = op.success;
                  break;
              }
          }
          this.success = success;
          this.done = done;
      };
      return $Or;
  }(BaseOperation));
  var $Nor = /** @class */ (function (_super) {
      __extends$1($Nor, _super);
      function $Nor() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      $Nor.prototype.next = function (item, key, owner) {
          _super.prototype.next.call(this, item, key, owner);
          this.success = !this.success;
      };
      return $Nor;
  }($Or));
  var $Exists = /** @class */ (function (_super) {
      __extends$1($Exists, _super);
      function $Exists() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      $Exists.prototype.next = function (item, key, owner) {
          if (owner.hasOwnProperty(key) === this.params) {
              this.done = true;
              this.success = true;
          }
      };
      return $Exists;
  }(BaseOperation));
  var $And = /** @class */ (function (_super) {
      __extends$1($And, _super);
      function $And(params, owneryQuery, options) {
          return _super.call(this, params, owneryQuery, options, params.map(function (query) { return createQueryOperation(query, owneryQuery, options); })) || this;
      }
      $And.prototype.next = function (item, key, owner) {
          this.childrenNext(item, key, owner);
      };
      return $And;
  }(GroupOperation));
  var $eq = function (params, owneryQuery, options) {
      return new EqualsOperation(params, owneryQuery, options);
  };
  var $ne = function (params, owneryQuery, options) {
      return new $Ne(params, owneryQuery, options);
  };
  var $or = function (params, owneryQuery, options) {
      return new $Or(params, owneryQuery, options);
  };
  var $nor = function (params, owneryQuery, options) {
      return new $Nor(params, owneryQuery, options);
  };
  var $elemMatch = function (params, owneryQuery, options) {
      return new $ElemMatch(params, owneryQuery, options);
  };
  var $nin = function (params, owneryQuery, options) {
      return new $Nor(params, owneryQuery, options);
  };
  var $in = function (params, owneryQuery, options) {
      return new $Or(params, owneryQuery, options);
  };
  var $lt = numericalOperationCreator(function (params, owneryQuery, options) {
      return new EqualsOperation(function (b) { return b < params; }, owneryQuery, options);
  });
  var $lte = numericalOperationCreator(function (params, owneryQuery, options) {
      return new EqualsOperation(function (b) { return b <= params; }, owneryQuery, options);
  });
  var $gt = numericalOperationCreator(function (params, owneryQuery, options) {
      return new EqualsOperation(function (b) { return b > params; }, owneryQuery, options);
  });
  var $gte = numericalOperationCreator(function (params, owneryQuery, options) {
      return new EqualsOperation(function (b) { return b >= params; }, owneryQuery, options);
  });
  var $mod = function (_a, owneryQuery, options) {
      var mod = _a[0], equalsValue = _a[1];
      return new EqualsOperation(function (b) { return comparable(b) % mod === equalsValue; }, owneryQuery, options);
  };
  var $exists = function (params, owneryQuery, options) { return new $Exists(params, owneryQuery, options); };
  var $regex = function (pattern, owneryQuery, options) {
      return new EqualsOperation(new RegExp(pattern, owneryQuery.$options), owneryQuery, options);
  };
  var $not = function (params, owneryQuery, options) {
      return new $Not(params, owneryQuery, options);
  };
  var $type = function (clazz, owneryQuery, options) {
      return new EqualsOperation(function (b) { return (b != null ? b instanceof clazz || b.constructor === clazz : false); }, owneryQuery, options);
  };
  var $and = function (params, ownerQuery, options) {
      return new $And(params, ownerQuery, options);
  };
  var $all = $and;
  var $size = function (params, ownerQuery, options) {
      return new EqualsOperation(function (b) { return b && b.length === params; }, ownerQuery, options);
  };
  var $options = function () { return null; };
  var $where = function (params, ownerQuery, options) {
      var test;
      if (isFunction$1(params)) {
          test = params;
      }
      else {
          test = new Function("obj", "return " + params);
      }
      return new EqualsOperation(function (b) { return test.bind(b)(b); }, ownerQuery, options);
  };

  var defaultOperations = /*#__PURE__*/Object.freeze({
    __proto__: null,
    $eq: $eq,
    $ne: $ne,
    $or: $or,
    $nor: $nor,
    $elemMatch: $elemMatch,
    $nin: $nin,
    $in: $in,
    $lt: $lt,
    $lte: $lte,
    $gt: $gt,
    $gte: $gte,
    $mod: $mod,
    $exists: $exists,
    $regex: $regex,
    $not: $not,
    $type: $type,
    $and: $and,
    $all: $all,
    $size: $size,
    $options: $options,
    $where: $where
  });

  var createDefaultQueryTester = function (query, _a) {
      var _b = _a === void 0 ? {} : _a, compare = _b.compare, operations = _b.operations;
      return createQueryTester(query, {
          compare: compare,
          operations: Object.assign({}, defaultOperations, operations || {})
      });
  };

  var _this = undefined;
  var $macgyver = {};
  /**
  * Storage for all MacGyver registered widgets
  * Each key is the unique reference name of the component e.g. `"mgText"`
  * Each value is the original options object definition passed to `Vue.mgCompoenent(name, options)`
  * @var {Object}
  */

  $macgyver.widgets = {};
  $macgyver.$nextId = 0;

  $macgyver.nextId = function () {
    return "mgForm".concat($macgyver.$nextId++);
  };
  /**
  * Set of convenience functions to manage on-screen MacGyver forms
  */


  $macgyver.forms = {};
  /**
  * Set the given forms spec config
  * @param {string} id The ID of the form to set the config of
  * @param {Object|Array} config The config to set
  * @returns {MacGyver} The chainable MacGyver instance
  */

  $macgyver.forms.setConfig = function (id, config) {
    if (!$macgyver.$forms[id]) $macgyver.$forms[id] = {
      config: {},
      data: {}
    };
    $macgyver.$forms[id].config = $macgyver.compileSpec(config).spec;
    return $macgyver;
  };
  /**
  * Set the given forms spec data
  * @param {string} id The ID of the form to set the config of
  * @param {Object|Array} data The data population to set
  * @returns {MacGyver} The chainable MacGyver instance
  */


  $macgyver.forms.setData = function (id, data) {
    if (!$macgyver.$forms[id]) $macgyver.$forms[id] = {
      config: {},
      data: {}
    };
    $macgyver.$forms[id].data = data;
    return $macgyver;
  };
  /**
  * Convenience function to validate all MacGyver forms on a screen and return the array of failed validations
  * @param {string} [id] The form ID to validate, if omitted the first form on the page is used
  * @param {boolean} [showErrors=true] Allow the form to display a list of errors as well as returning them
  * @returns {array <Object>} Collection where each item is {error}
  */


  $macgyver.forms.validate = function (id) {
    if (!$macgyver.$forms[id]) throw new Error('Invalid MacGyver form');
    console.warn('FIXME: Validation not yet supported');

    return true;
  };
  /**
  * Emit a message to a specific mgForm element
  * @param {string} id The ID of the form to emit to
  * @param {string} msg The message to emit
  * @param {*} [payload...] The payload of the message to emit
  */


  $macgyver.forms.emit = function (id, msg) {
    var _$macgyver$$forms$id;

    if (!$macgyver.$forms[id]) throw new Error('Unknown form ID');

    for (var _len = arguments.length, payload = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
      payload[_key - 2] = arguments[_key];
    }

    (_$macgyver$$forms$id = $macgyver.$forms[id]).$emit.apply(_$macgyver$$forms$id, [msg].concat(payload));
  };
  /**
  * Emit a message to all child controls of a given form
  * @param {string} id The ID of the form to emit to
  * @param {string} msg The message to emit
  * @param {*} [payload...] The payload of the message to emit
  */


  $macgyver.forms.emitDown = function (id, msg) {
    var _$macgyver$$forms$id2;

    if (!$macgyver.$forms[id]) throw new Error('Unknown form ID');

    for (var _len2 = arguments.length, payload = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
      payload[_key2 - 2] = arguments[_key2];
    }

    (_$macgyver$$forms$id2 = $macgyver.$forms[id]).$emitDown.apply(_$macgyver$$forms$id2, [msg].concat(payload));
  };

  $macgyver.forms.getPath = function (id, path, fallback) {
    return $macgyver.utils.getPath($macgyver.$forms[id], path, fallback);
  };
  /**
  * Compute the data prototype of the form
  * This is an empty object with all the defaults populated
  * @param {Object} spec The form spec object to exmaine
  * @returns {Object} A prototype data object with all defaults populated
  */


  $macgyver.forms.getPrototype = function (spec) {
    return $macgyver.flatten(spec, {
      type: 'spec',
      want: 'array',
      wantDataPath: true
    }).reduce(function (data, node) {
      if (!node.path || !node["default"]) return data; // No path or default speciifed - skip

      $macgyver.utils.setPath(data, node.path, node["default"]);
      return data;
    }, {});
  }; // $macgyver.notify{} {{{

  /**
  * A collection of ways MacGyver can notify the user
  * These should be replaced by whatever your local framework supports
  */


  $macgyver.notify = {};
  /**
  * Signify that a loading event is taking place
  * This function should be overridden by the framework to include whatever load handling is requried
  * By default it uses https://www.npmjs.com/package/@momsfriendlydevco/loader
  * @param {string} id The unique ID for the loading item
  * @param {boolean} [status=true] Whether the item is performing an operation that requires loading
  * @param {Object} [options] Additional options
  * @param {boolean} [options.foreground=false] Whether the loading event should occur in the foreground
  */

  $macgyver.notify.loading = function (id) {
    var status = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    var options = arguments.length > 2 ? arguments[2] : undefined;

    if (status && options && options.foreground) {
      console.log('[$macgyver]', 'Loading foreground', id, {
        status: status
      });
    } else if (status) {
      console.log('[$macgyver]', 'Loading background', id, {
        status: status
      });
    } else {
      console.log('[$macgyver]', 'Stop loading', id, {
        status: status
      });
    }
  };
  /**
  * Provide a warning message to the user
  * @param {string} message The message to display
  */


  $macgyver.notify.warn = function (message) {
    return console.log('[$macgyver]', 'WARN', message);
  };
  /**
  * Provide an error message to the user
  * @param {string} message The message to display
  */


  $macgyver.notify.error = function (message) {
    return console.log('[$macgyver]', message);
  }; // }}}

  /**
  * Flatten the a spec into an object lookup where each key is the dotted notation of the key
  * NOTE: Specifying {want:'array'} will add the extra property 'path' onto the output collection
  * @param {Object|array} root The data or spec object to examine, this should be the root object but can also convert arrays into objects on the fly (although this is slower)
  * @param {Object} [options] Optional settings to use
  * @param {number} [options.maxDepth=0] How far down the tree to recurse, set to falsy to infinitely recurse
  * @param {Object|function} [options.filter] Either a Lodash match expression or a function to run on each widget - only truthy values are appended to the output. Function is called as `(widget, dataPath, specPath, depth)`
  * @param {Object|function} [options.filterChildren] Either a Lodash match expression or a function to run on each widget - only truthy values are recursed into. Function is called as `(widget, dataPath, specPath, depth)`
  * @param {string} [type="auto"] How to recurse into items. ENUM: 'auto' (try to determine how to recurse from root element), 'spec', 'data'
  * @param {string} [want="object"] How to return the output. ENUM: 'object' (an object where each key is the path and the value is the object), 'array' (a flattened version of an object), object is faster
  * @param {boolean|string} [wantDataPath=false] Whether to mutate the output widget with a dotted notation string indicating where to look in a data object for the value of the widget, if this is a string it specifies the key to use as storage
  * @param {boolean} [wantSpec=false] Whether to mutate the output widget with the widget specification as an object for each item
  * @param {boolean|string} [wantSpecPath=false] Whether to mutate the output widget with a dotted notation path on where to find the widget within a spec object, if this is a string it specifies the key to use as storage
  */


  $macgyver.flatten = function (root, options) {
    var settings = defaults_1(options, {
      root: isArray_1(root) ? $macgyver.compileSpec(root).spec : root,
      maxDepth: 0,
      filter: undefined,
      filterChildren: undefined,
      type: 'auto',
      want: 'object',
      wantDataPath: false,
      wantSpec: false,
      wantSpecPath: false
    });

    if (settings.filter && !isFunction_1(settings.filter) && isObject_1(settings.filter)) settings.filter = matches_1(settings.filter);
    if (settings.want != 'object' && settings.want != 'array') throw new Error('$macgyver.flatten({want}) can only be "object" or "array"');

    if (settings.type == 'auto') {
      if (settings.root && settings.root.items) {
        settings.type = 'spec';
      } else if (every_1(settings.root, function (k, v) {
        return !v.items;
      })) {
        settings.type = 'data';
      } else {
        throw new Error('Cannot determine type of input object to $macgyver.flatten(), specify it explicitly with {type=spec|data}');
      }
    }

    var found = settings.want == 'object' ? {} : [];

    var depthScanner = function depthScanner(node, dataPath, specPath, depth) {
      if (!isObject_1(node)) return; // Add to bucket of found objects?

      if (!settings.filter // No filter
      || settings.filter.call(node, node, path, depth) // OR we pass the filter
      ) {
          if (settings.wantDataPath) node[isString_1(settings.wantDataPath) ? settings.wantDataPath : 'path'] = dataPath.concat([node.id]).filter(function (i) {
            return i;
          }).join('.');
          if (settings.wantSpecPath) node[isString_1(settings.wantSpecPath) ? settings.wantSpecPath : 'specPath'] = specPath.join('.');

          if (settings.want == 'object') {
            if (node.id) found[node.id] = node;
          } else {
            found.push(node);
          }
        } // Recurse into children?


      var recursionSubject = settings.type == 'spec' ? node.items : node;

      if (isArray_1(recursionSubject) && (!settings.filterChildren // No filter
      || settings.filterChildren.call(node, node, dataPath, specPath, depth) // ...or we pass the filter
      ) && (!settings.maxDepth || depth <= settings.maxDepth)) {
        recursionSubject.forEach(function (item, itemIndex) {
          return depthScanner(item, dataPath, specPath.concat(settings.type == 'spec' ? ['items', itemIndex] : [itemIndex]), depth + 1);
        });
      }
    };

    depthScanner(settings.root, [], [], 0);
    return found;
  };
  /**
  * Apply various criteria to a 'rough' spec to turn it into a clean one
  *
  * NOTE: 'Shorthand' is a simple `{id1: spec1, id2: spec2}` way of setting up a form. See the widget config for an example
  *       Shorthand may also have types that omit the `mg` prefix e.g. `text` instead of `mgText`
  *
  * @param {Object|array} spec A MacGyver spec to process and mutate
  * @param {Object} [options] Additional options to use
  * @param {boolean} [options.clone=true] Whether to clone the object before neatening, slow but Vue disallows mutation
  * @param {boolean} [options.convertArray=true] Convert arrays to object if not already in that format
  * @param {function} [options.convertArrayWrapper] Function used to convert from array - defaults to a simple mgContainer wrapper. Called as (spec)
  * @param {boolean} [options.convertShorthand=true] Accept shorthand format and convert if necessary
  * @param {function} [options.convertShorthandDetect] Function used to detect shorthand format - defaults to object with valid string keys sans 'id' field. Called as (spec)
  * @param {function} [options.convertShorthandTranslate] Function used to convert shorthand format. Called as (spec)
  * @param {boolean} [options.widgetDefaults=true] Assign each item its default values from the widget config if that setting is omitted
  * @param {string} [options.widgetTitles=true] Add any missing title fields from the ID
  * @param {boolean} [options.deblank=true] Reformat null/undefined/empty forms into a skeleton form
  * @returns {Object} An object composed of the keys {spec}
  */


  $macgyver.compileSpec = function (spec, options) {
    var settings = _objectSpread2({
      clone: true,
      convertArray: true,
      convertArrayWrapper: function convertArrayWrapper(items) {
        return {
          type: 'mgContainer',
          showTitles: false,
          items: items
        };
      },
      convertShorthand: true,
      convertShorthandDetect: function convertShorthandDetect(spec) {
        return isPlainObject_1(spec) // Simple object
        && !has_1(spec, 'type') // It doesn't have a type key (i.e. there is only one item in this object
        && every_1(spec, function (v, k) {
          return !has_1(v, 'id') && (!has_1(v, 'type') || v.type != 'mgContainer');
        });
      },
      // Each item lacks an ID and either doesn't have a type or that type is not a container
      convertShorthandTranslate: function convertShorthandTranslate(spec) {
        return {
          type: 'mgContainer',
          items: map_1(spec, function (widget, id) {
            var _widget$type;

            if (isString_1(widget)) widget = {
              type: widget
            }; // Widget is a straight string (e.g. 'boolean'), then fall through to type finders

            if ((_widget$type = widget.type) === null || _widget$type === void 0 ? void 0 : _widget$type.startsWith('mg')) {
              // Already a defined MacGyver spec
              return widget;
            } else if (isString_1(id) && id.startsWith('mg')) {
              // ID is type, payload is widget
              return _objectSpread2(_objectSpread2({}, widget), {}, {
                type: id
              });
            } else if (widget.type) {
              // We have a type - try to match it against known widgets (or error out)
              var typeLCase = widget.type.toLowerCase();

              var found = find_1($macgyver.widgets, function (mgWidget) {
                return (// Search for likely widgets
                  mgWidget.meta.id.substr(2).toLowerCase() == typeLCase // matches `mg${TYPE}`
                  || mgWidget.meta.shorthand.includes(typeLCase)
                );
              } // is included in shorthand alternatives
              );

              if (found) {
                // Found either a widget of form `mg${type}` or a widget with that type as a shorthand
                return _objectSpread2(_objectSpread2({
                  id: id
                }, widget), {}, {
                  type: found.meta.id
                });
              } else {
                // No idea what this widget is, wrap in an mgError
                return {
                  type: 'mgError',
                  text: "Unknown widget type \"".concat(widget.type, "\": ") + JSON.stringify(widget, null, '\t')
                };
              }
            } else if (isPlainObject_1(widget)) {
              // Given object but it explicitly does not have a type - assume mgText
              return _objectSpread2(_objectSpread2({
                id: id
              }, widget), {}, {
                type: 'mgText'
              });
            } else {
              // Can't determine any type to link against - error out
              return {
                type: 'mgError',
                text: "No widget type specified: " + JSON.stringify(widget, null, '\t')
              };
            }
          })
        };
      },
      widgetDefaults: true,
      widgetTitles: true,
      deblank: true
    }, options);

    var spec = settings.clone ? cloneDeep_1(spec) : spec; // Output spec

    if (settings.deblank && isEmpty_1(spec)) {
      // Convert empty or unusable values into a skeleton
      spec = {
        type: 'mgContainer',
        items: []
      };
    }

    if (settings.convertArray && isArray_1(spec)) {
      // convert array spec -> object?
      spec = settings.convertArrayWrapper(spec);
    }

    if (settings.convertShorthand && settings.convertShorthandDetect(spec)) {
      // Is shorthand format
      spec = settings.convertShorthandTranslate(spec);
    }
    /**
    * Collection of items that have a showIf property
    * @var {array<Object>} Each widget with a showIf property
    */


    var showIfs = [];
    $macgyver.flatten(spec, {
      type: 'spec',
      want: 'array',
      wantDataPath: '$dataPath',
      wantSpecPath: '$specPath'
    }).forEach(function (widget) {
      if (!widget.type || !$macgyver.widgets[widget.type]) {
        // Remap unknown widget (we already did shorthand remapping above so this should be a 1:1 match)
        console.log("Unknown widget '".concat(widget.type, "'"), widget);
        widget = {
          type: 'mgError',
          text: "Unknown widget type \"".concat(widget.type, "\": ") + JSON.stringify(widget)
        };
      } else if (settings.widgetDefaults) {
        var _ref, _$macgyver$widgets$wi;

        // Apply defaults to widget
        Object.assign(widget, (_ref = (_$macgyver$widgets$wi = $macgyver.widgets[widget.type].config, pickBy_1(_$macgyver$widgets$wi, function (v, k) {
          return !has_1(widget, k) && has_1(v, 'default');
        })), mapValues_1(_ref, function (v) {
          return v["default"];
        })));
      } // Glue .show property to all elements that omit it


      widget.show = widget.show == undefined ? true : !!widget.show; // Add all widgets with a .showIf expression into a quick-lookup collection

      if (widget.showIf) {
        widget.showIf = $macgyver.utils.evalCompile(widget.showIf); // Compile showIf property so its as fast as possible

        showIfs.push(widget);
      }

      if (settings.widgetTitles && !widget.title && widget.id) widget.title = startCase_1(widget.id);
    });
    return {
      spec: spec,
      showIfs: showIfs
    };
  };
  /**
  * Register of known forms to their Vue instance / plain object mapping
  * For front-end MacGyver this is the VueInstance object of the registered form
  * For the back-end this is a simple object of the form `{config, data}`
  * @var {VueInstance|Object>}
  * @property {Object} config The form spec
  * @property {Object} data The current form data
  */


  $macgyver.$forms = {};
  /**
  * Set of misc utility helper functions
  * @var {Object};
  */

  $macgyver.utils = {};
  /**
  * Local storage for the global object
  * This is a wrapper until `globalThis` becomes available in both Node and the browser
  * @var {Object} The global scope
  */

  $macgyver.utils.global = function () {
    if (typeof self !== 'undefined') {
      return self;
    }

    if (typeof window !== 'undefined') {
      return window;
    }

    if (typeof global$1 !== 'undefined') {
      return global$1;
    }

    throw new Error('unable to locate global object');
  }();
  /**
  * Fetch any artbitrary data set from a URL
  * This function is designed to accept a customizable single-string URL which the user can customize and a spec options object that the requesting widget can define
  * NOTE: This function will invoke the loading notifier and call the warning notifier on an error
  *
  * @param {string} [url] The URL to fetch
  * @param {Object} options Additional options
  * @param {string} [options.url] Alternate way to pass the URL
  * @param {boolean} [options.type='object'] What data type to expect from the server. ENUM: 'object', 'array', 'raw'. If array and mappings are specified each member of the collection is mapped and an array returned
  * @param {function} [options.format] Data formatter, defaults to a simple passthrough. Called as `(output, session)`
  * @param {string|function} [options.formatError] Error thrown if the formatter fails, can be a string or function called as `(err)`. Defaults to 'Unable to format data feed from ${url} - ${err.toString()}`
  * @param {string} [options.from] The field from where to retrieve the value
  *
  * @param {Object <Object>} [options.mappings={}] Mappings to extract, each key is the mapping name with the value as an object containing the below spec
  * @param {boolean} [options.mappings.required=false] Whether the mapping is required
  *
  * @returns {Object} The extracted data object
  *
  * @example Fetch a simple collection
  * fetch('/api/datafeeds/random/users')
  *
  * @example Generate a random number as an object and return the extracted value as the promise response
  * fetch('/api/datafeeds/random/number?$extract=number', {mappings: {extract: {required: true}, format: d => d.extract}});
  *
  * @example Fetch a collection of items extracting both 'id' and 'title' fields
  * fetch('/api/datafeeds/random/users?$title=name&$id=_id', {mappings: {_id: {required: true}, title: {required: true}}})
  */


  $macgyver.utils.fetch = function (url, options) {
    return Promise.resolve() // Sanity checks {{{
    .then(function () {
      return $macgyver.$http || Promise.reject('No Axios compatible HTTP library - set $macgyver.$http to the library reference');
    }) // }}}
    // Injection options from URL {{{
    .then(function () {
      if (isPlainObject_1(url)) {
        var _ref2 = [url.url, url];
        url = _ref2[0];
        options = _ref2[1];
      } else {
        options.url = url;
      }

      if (!url) throw new Error('Unknown URL to fetch');
    }) // }}}
    // Create the initial session {{{
    .then(function () {
      return {
        mappings: {},
        // Parsed mappings (either a copy of settings.mappings || extracted from the URL)
        parsedUrl: new URL(url, window.location),
        settings: _objectSpread2({
          type: 'object',
          mappings: {},
          // Optional mappings the user provided
          format: function format(data, session) {
            return data;
          },
          formatError: function formatError(err) {
            return "Unable to format data feed from ".concat(url, " - ").concat(err.toString());
          }
        }, options)
      };
    }) // }}}
    // Extract mappings from the URL string {{{
    .then(function (session) {
      if (!isEmpty_1(options.mappings)) {
        // Mappings are specified in options
        session.mappings = options.mappings;
      } else {
        // Try to extract mappings if options doesn't already have a parsed set
        Array.from(session.parsedUrl.searchParams.entries()).forEach(function (pair) {
          var _pair = _slicedToArray(pair, 2),
              k = _pair[0],
              v = _pair[1];

          if (k.startsWith('$')) {
            session.mappings[k.substr(1)] = {
              required: false,
              from: v
            };
            session.parsedUrl.searchParams["delete"](k);
          }
        });
      }

      return session;
    }) // }}}
    // Make the request {{{
    .then(function (session) {
      return $macgyver.$http.get(session.parsedUrl.toString()).then(function (res) {
        return session.response = res;
      }).then(function () {
        return session;
      });
    }) // }}}
    // Apply object cohersion + mappings {{{
    .then(function (session) {
      switch (session.settings.type) {
        case 'array':
          if (!isArray_1(session.response.data)) throw "Expected an array from data feed \"".concat(url, "\" but got a non-array");

          if (!isEmpty_1(session.mappings)) {
            session.output = session.response.data.map(function (item, itemIndex) {
              return mapValues_1(session.mappings, function (v, k) {
                if (v.required && item[v.from] === undefined) throw new Error("Required field ".concat(v.from, " is not present in data feed for item #").concat(itemIndex + 1));
                return item[v.from];
              });
            });
          } else {
            session.output = session.response.data;
          }

          return session;

        case 'object':
          if (!isPlainObject_1(session.response.data)) throw "Expected object return from data feed \"".concat(url, "\" but got a non-plain-object");

          if (!isEmpty_1(session.mappings)) {
            session.output = mapValues_1(session.mappings, function (v, k) {
              if (v.required && session.response.data[k] === undefined) throw new Error("Required field ".concat(k, " is not present in data feed for item #").concat(itemIndex + 1));
              return session.response.data[v.from];
            });
          } else {
            session.output = session.response.data;
          }

          return session;

        case 'raw':
          session.output = session.response.data;
          return session;
      }
    }) // }}}
    // Apply formatter {{{
    .then(function (session) {
      try {
        return session.settings.format(session.output, session);
      } catch (err) {
        throw isString_1(session.settings.formatError) ? session.settings.formatError : session.settings.formatError(err);
      }
    }) // }}}
    ["catch"](function (err) {
      $macgyver.notify.error(err);
      throw err;
    })["finally"](function () {
      return $macgyver.notify.loading(url, false);
    });
  };
  /**
  * Attempt to parse a rough JS expression into a Sift / Mongo compatible expression
  * This makes future calls to $macgyver.utils.evalMatch() much quicker
  * TODO: This probably needs replacing / merging with [sift-shorthand](https://github.com/hash-bang/sift-shorthand) at some point
  * @param {Object|string} expression Input expression, if this is an object it is assumed to already be a sift expression and returned uneffected
  * @param {boolean} [asFunc=true] Return a Sift filtering function (the most efficient method), if falsy return the compiled object (useful for debugging)
  * @returns {Sift} Sift function for use with $macgyver.utils.evalMatch()
  */


  $macgyver.utils.evalCompile = function (expression) {
    var asFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    var match;

    if (isFunction_1(expression)) {
      // Already compiled Sift function
      if (!asFunc) throw new Error('Cannot convert compiled Sift object back to an object - disable asFunc parameter');
      return expression;
    } else if (isPlainObject_1(expression)) {
      // An object but not as Sift function
      return asFunc ? createDefaultQueryTester(expression) : expression;
    } else if (isString_1(expression) && (match = /*#__PURE__*/_wrapRegExp(/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([\.0-9A-Z_a-z]+)([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*==?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*!=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*<=?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*>=?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+\$lte?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+\$gte?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)(.+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/, {
      left: 1,
      operand: 2,
      right: 3
    }).exec(expression))) {
      // Simple direct (in)equality e.g. `a == 1', `b != 'this'`
      match.groups.operand = match.groups.operand.trim();

      if (isFinite(match.groups.right)) {
        match.groups.right = +match.groups.right;
      } else if (/^(["']).*\1$/.test(match.groups.right)) {
        // Enclosed in " or '
        match.groups.right = match.groups.right.substr(1, match.groups.right.length - 2);
      } // Convert string to boolean


      if (isString_1(match.groups.right) && match.groups.right.toLowerCase() === 'true') match.groups.right = true;
      if (isString_1(match.groups.right) && match.groups.right.toLowerCase() === 'false') match.groups.right = false;
      var obj;

      if (['=', '==', '$eq'].includes(match.groups.operand)) {
        // Direct equality
        obj = _defineProperty({}, match.groups.left, match.groups.right);
      } else {
        var siftOperand = ['!=', '$ne'].includes(match.groups.operand) ? '$ne' : ['>', '$gt'].includes(match.groups.operand) ? '$gt' : ['<', '$lt'].includes(match.groups.operand) ? '$lt' : ['>=', '$gte'].includes(match.groups.operand) ? '$gte' : ['<=', '$lte'].includes(match.groups.operand) ? '$lte' : function (e) {
          throw e;
        }(new Error("Unknown operand \"".concat(match.groups.operand, "\" while parsing expression \"").concat(expression, "\"")));
        obj = _defineProperty({}, match.groups.left, _defineProperty({}, siftOperand, match.groups.right));
      }

      return asFunc ? createDefaultQueryTester(obj) : obj;
    } else {
      throw new Error("Error parsinng expression \"".concat(expression, "\", $macgyver.utils.evalCompile() can only process simple expressions for now, use Sift object syntax for more complex tests"));
    }
  };
  /**
  * Evaluate an expression and return if it matches the given environment
  * This function is used by the `showIf` parameter to determine field visibility
  * NOTE: Passing a string to this function is possible but its better to precompile the expression via $macgyver.utils.evalCompile() first so its quicker to process each time
  * @param {string|Object|Sift} expression String expression (which will be parsed), object (which will be parsed) or Sift object to filter by in asending order of efficiency
  * @param {Object} env Local environment to compare
  */


  $macgyver.utils.evalMatch = function (expression, env) {
    return [env].filter($macgyver.utils.evalCompile(expression)).length == 1;
  };
  /**
  * Set a dotted notation or array path to a set value
  * This function will correctly populate any missing entities, calling vm.$set on each traversal of the path
  * Passing undefined as a value removes the key (unless removeUndefined is set to false)
  * *
  * @param {Object} [target] The target to set the path of, if omitted the `vm` object is used as the base for traversal
  * @param {string|array} path The path to set within the target / vm
  * @param {*} value The value to set
  * @param {Object} [options] Additional options
  * @param {boolean} [options.arrayNumeric=true] Process numeric path segments as arrays
  * @param {boolean} [options.removeUndefined=true] If undefined is specified as a value the key is removed instead of being set
  * @param {boolean} [options.debug=false] Also print out debugging information when setting the value
  * @returns {Object} The set value, like $set()
  *
  * @example Set a deeply nested path within a target object
  * $macgyver.utils.setPath(this, 'foo.bar.baz', 123); // this.$data.foo.bar.baz = 123
  *
  * @example Set a deeply nested path, with arrays, assuming VM as the root node
  * $macgyver.utils.setPath('foo.1.bar', 123); // vm.$data.foo = [{bar: 123}]
  */


  $macgyver.utils.setPath = function (target, path, value, options) {
    // Argument mangling {{{
    if (isString_1(target) || isArray_1(target) || value === undefined) {
      // called as (path, value)
      var _ref3 = [_this, target, path, value];
      target = _ref3[0];
      path = _ref3[1];
      value = _ref3[2];
      options = _ref3[3];
    } else if (!isObject_1(target)) {
      throw new Error('Cannot use $setPath on non-object target');
    } // }}}


    var settings = _objectSpread2({
      arrayNumeric: true,
      debug: false,
      removeUndefined: true
    }, options);

    if (settings.debug) console.debug('[$setPath]', path, '=', value, {
      target: target,
      options: options
    });
    var node = target;
    if (!path) throw new Error('Cannot $setPath with undefined path');
    (isString_1(path) ? path.split('.') : path).some(function (chunk, chunkIndex, chunks) {
      if (chunkIndex == chunks.length - 1) {
        // Leaf node
        if (settings.removeUndefined && value === undefined) {
          $macgyver.utils.unset(node, chunk);
        } else {
          $macgyver.utils.set(node, chunk, value);
        }
      } else if (node[chunk] === undefined) {
        // This chunk (and all following chunks) does't exist - populate from here
        chunks.slice(chunkIndex, chunks.length - 1).forEach(function (chunk) {
          if (settings.arrayNumeric && isFinite(chunk)) {
            $macgyver.utils.set(node, chunk, []);
          } else {
            $macgyver.utils.set(node, chunk, {});
          }

          node = node[chunk];
        });
        $macgyver.utils.set(node, chunks[chunks.length - 1], value);
        return true;
      } else {
        node = node[chunk];
        return false;
      }
    });
    return value;
  };
  /**
  * Mapping around Vue.set (if its available) or simple key/val setting
  * @param {Object} target The target object to mutate
  * @param {string} key The key to set
  * @param {*} val The value to set
  * @returns {*} The set value
  */


  $macgyver.utils.set = $macgyver.utils.global.Vue ? Vue.set : function (target, key, val) {
    return target[key] = val;
  };
  /**
  * Mapping around Vue.unset (if its available) or simple key delettion
  * @param {Object} target The target object to mutate
  * @param {string} key The key to remove
  */

  $macgyver.utils.unset = $macgyver.utils.global.Vue ? Vue.unset : function (target, key) {
    delete target[key];
  };
  /**
  * Provides a function to quickly get a data path on a Vue component by its path
  * This function is designed to work as simillaly as possible to _.get()
  * @param {Object} target The source object, usually the root controller
  * @param {string|array} path Either a path in dotted or array notation
  * @param {*} [fallback=undefined] Optional fallback to return if no value is found
  * @returns {*} Either the found value or the fallback
  */

  $macgyver.utils.getPath = function (target, path, fallback) {
    return get_1(target, path, fallback);
  };
  /**
  * Attempt to increment a string ID
  * This is usually used when we have a base ID and want to duplicate the widget
  * If ID is blank, blank is returned (assumes base parent also has no ID)
  * @param {string} str The string to increment
  * @returns {string} An incremented version of str
  */


  $macgyver.utils.incrementId = function (str) {
    if (!str) {
      return str;
    } else if (/[0-9]$/.test(str)) {
      // Ends in a number
      var extracted = /*#__PURE__*/_wrapRegExp(/^(.*)([0-9]+)$/, {
        prefix: 1,
        numeric: 2
      }).exec(str); // Extract numeric suffix


      return extracted.groups.prefix + (parseInt(extracted.groups.prefix) + 1);
    } else {
      // No idea - just append '2'
      return str + '2';
    }
  };

  /**
  * Main MacGyver "service" (acutally just a Vue prototype extension)
  * This service requires {$http, $toast} to be available on the prototype
  * @var {Object}
  */

  Vue$1.prototype.$macgyver = function () {
    var $macgyver$1 = $macgyver;
    /**
    * Generic fallback action handler
    * @var {function} Called as `(action, params...)`
    i*/

    $macgyver$1.$eval = function () {
      var _console;

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      return (_console = console).warn.apply(_console, ['Fallback $macgyver.$eval('].concat(args, [')']));
    }; // Absorb various methods from a Vue prototype


    var vInstance = new Vue$1();
    ['$on', '$off', '$once', '$emit'].forEach(function (method) {
      return $macgyver$1[method] = vInstance[method].bind(vInstance);
    }); // Auto-bind to Axios if its defined

    if ($macgyver$1.utils.global.axios) $macgyver$1.$http = $macgyver$1.utils.global.axios;

    Vue$1.mgComponent = function (name, component) {
      if (macgyver.widgets[name]) throw new Error("Cannot redeclare MacGyver component \"".concat(name, "\""));
      if (!name.startsWith('mg')) throw new Error("All MacGyver components must be prefixed with \"mg\", given \"".concat(name, "\""));
      macgyver.widgets[name] = _objectSpread2(_objectSpread2({}, component), {}, {
        meta: _objectSpread2({
          id: _.camelCase(name),
          title: _.startCase(name),
          icon: 'far fa-rectangle-wide',
          category: 'Misc',
          preferId: false,
          shorthand: [],
          format: true,
          formatClass: ''
        }, component.meta)
      });

      var vueComponent = _objectSpread2({
        inject: component.inject || ['$mgForm'],
        // Defer to component injects or default to injecting $mgForm
        data: function data() {
          return _objectSpread2({
            data: undefined
          }, component.data ? component.data() : {});
        },
        props: _objectSpread2({
          $type: {
            type: String,
            "default": name
          },
          $dataPath: {
            type: String
          },
          $specPath: {
            type: String
          },
          // FIXME: Having a `change` property conflicts with event handlers called `change`.
          change: {
            type: Function
          },
          value: {}
        }, _.mapValues(component.props || {}, function (prop) {
          // Rewrite MacGyver props into Vue compatible props
          var newProp = _objectSpread2({}, prop["default"] ? {
            "default": prop["default"]
          } : {}); // FIXME: This needs putting into each mgComponent declaration for Vue validation
          // Convert prop type to Vue native instances {{{


          if (prop.vueType) {
            var propType = _.chain(prop.vueType).castArray() // Splat into an array (even if its a simple string)
            .map(function (type) {
              // Map each item into the native type
              switch (type) {
                // String to type bindings (usually via vueType)
                case 'array':
                  return Array;

                case 'boolean':
                  return Boolean;

                case 'date':
                  return Date;

                case 'number':
                  return Number;

                case 'object':
                  return Object;

                case 'string':
                  return String;

                case 'any':
                  return;
                // Do not append type checking

                default:
                  console.warn("Unknown vueType JS primative \"".concat(type, "\" while declaring component \"").concat(name, "\" - assuming \"string\""));
                  return String;
              }
            }).filter().thru(function (v) {
              return v.length < 2 ? v[0] : v;
            }) // Flatten 1 item arrays into its native type
            .value();

            if (propType) newProp.type = propType; // Only allocate type if there is one (i.e. ignore 'any' types)
          } else {
            switch (prop.type) {
              case 'mgText':
              case 'mgChoiceAutocomplete':
              case 'mgChoiceButtons':
              case 'mgChoiceDropdown':
              case 'mgChoiceRadio':
              case 'mgChoiceTree':
              case 'mgCode':
              case 'mgColor':
              case 'mgEmail':
              case 'mgIcon':
              case 'mgPassword':
              case 'mgRestQuery':
              case 'mgTextArea':
              case 'mgUnknown':
              case 'mgUrl':
              case 'mgWysiwyg':
                newProp.type = String;
                break;

              case 'mgNumber':
                newProp.type = Number;
                break;

              case 'mgChoiceCheckbox':
              case 'mgToggle':
                newProp.type = Boolean;
                break;

              case 'mgChoiceList':
              case 'mgChoiceTags':
              case 'mgList':
              case 'mgTable':
                newProp.type = Array;
                break;

              case 'mgQuery':
                newProp.type = Object;

              case 'mgDate':
              case 'mgDatetime':
              case 'mgTime':
                newProp.type = Date;
                break;

              case Number:
              case String:
              case Array:
              case Object:
              case Date:
                console.warn('Used native binding in component prop (e.g. `{type: Array}`). Always use mg* component types so these components are editable in the mgFormEditor');
                newProp.type = prop.type; // Native Vue types

                break;

              case Function:
                console.warn('Used native binding in component prop (e.g. `{type: Function}`). Always use mg* component types so these components are editable in the mgFormEditor');
                newProp.type = Function;
                break;

              default:
                console.warn("Unknown primative mapping of prop type \"".concat(prop.type, "\" while declaring component \"").concat(name, "\" - assuming \"String\""));
                newProp.type = String;
            }
          } // }}}


          return newProp;
        })),
        methods: _objectSpread2({
          mgSetup: function mgSetup() {
            var _this = this;

            // Setup event listners {{{
            this.$on('mgIdentify', function (reply) {
              return reply(_this);
            }); // }}}
            // Read in initial data value {{{

            var refresher = function refresher() {
              // FIXME: Match empty strings also?
              if (_this.$props.value) {
                // Standalone value
                _this.data = _.clone(_this.$props.value);
              } else if (_this.$props.$dataPath) {
                // Has a data path
                _this.data = _.get(_this.$mgForm.formData, _this.$props.$dataPath);
              } else if (_this.$props["default"]) {
                // Has a default
                _this.data = _.clone(_this.$props["default"]);
              }
            };

            this.$on('mgRefresh', refresher);
            this.$on('mgRefreshForm', refresher);
            refresher(); // }}}
            // Data watcher which transforms change operations into emitters to the nearest parent form {{{

            this.$watch('data', function (value) {
              // Emit `mgChange` to form element (if there is a parent form)
              // FIXME: Skip when this.$props.value is defined?
              if (_this.$mgForm && _this.$props.$dataPath) _this.$mgForm.$emit('mgChange', {
                path: _this.$props.$dataPath,
                value: value
              }); // Emit regular `change` event

              _this.$emit('change', value); // Is there a prop attached which monitors change?
              // FIXME: Having a `change` property conflicts with event handlers called `change`.
              // FIXME: Use `call` with a context?


              if (_this.$props.change) _this.$props.change(value);
            }, {
              deep: true
            }); // }}}
          }
        }, component.methods),
        created: function created() {
          this.mgSetup();
          if (component.created) return component.created.call(this); // Call components own created() method if there is one
        }
      }, _.omit(component, [// Import remaining Vue properties that are not explicitly merged in above
      'inject', 'data', 'props', 'methods', 'created']));

      return Vue$1.component(name, vueComponent);
    };

    return $macgyver$1;
  }();

  var script = Vue$1.prototype.$macgyver;

  function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {
      if (typeof shadowMode !== 'boolean') {
          createInjectorSSR = createInjector;
          createInjector = shadowMode;
          shadowMode = false;
      }
      // Vue.extend constructor export interop.
      const options = typeof script === 'function' ? script.options : script;
      // render functions
      if (template && template.render) {
          options.render = template.render;
          options.staticRenderFns = template.staticRenderFns;
          options._compiled = true;
          // functional template
          if (isFunctionalTemplate) {
              options.functional = true;
          }
      }
      // scopedId
      if (scopeId) {
          options._scopeId = scopeId;
      }
      let hook;
      if (moduleIdentifier) {
          // server build
          hook = function (context) {
              // 2.3 injection
              context =
                  context || // cached call
                      (this.$vnode && this.$vnode.ssrContext) || // stateful
                      (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional
              // 2.2 with runInNewContext: true
              if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
                  context = __VUE_SSR_CONTEXT__;
              }
              // inject component styles
              if (style) {
                  style.call(this, createInjectorSSR(context));
              }
              // register component module identifier for async chunk inference
              if (context && context._registeredComponents) {
                  context._registeredComponents.add(moduleIdentifier);
              }
          };
          // used by ssr in case component is cached and beforeCreate
          // never gets called
          options._ssrRegister = hook;
      }
      else if (style) {
          hook = shadowMode
              ? function (context) {
                  style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));
              }
              : function (context) {
                  style.call(this, createInjector(context));
              };
      }
      if (hook) {
          if (options.functional) {
              // register for functional component in vue file
              const originalRender = options.render;
              options.render = function renderWithStyleInjection(h, context) {
                  hook.call(context);
                  return originalRender(h, context);
              };
          }
          else {
              // inject component registration as beforeCreate hook
              const existing = options.beforeCreate;
              options.beforeCreate = existing ? [].concat(existing, hook) : [hook];
          }
      }
      return script;
  }

  /* script */
  const __vue_script__ = script;

  /* template */

    /* style */
    const __vue_inject_styles__ = undefined;
    /* scoped */
    const __vue_scope_id__ = undefined;
    /* module identifier */
    const __vue_module_identifier__ = undefined;
    /* functional template */
    const __vue_is_functional_template__ = undefined;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__ = normalizeComponent(
      {},
      __vue_inject_styles__,
      __vue_script__,
      __vue_scope_id__,
      __vue_is_functional_template__,
      __vue_module_identifier__,
      false,
      undefined,
      undefined,
      undefined
    );

  /**
  * Main MacGyver loader
  */
  window.macgyver = __vue_component__;
  Promise.resolve().then(function () { return emit; });
  Promise.resolve().then(function () { return setPath; });
  Promise.resolve().then(function () { return watchAll; }); // Import all MacGyver components
  // NOTE: These are defined as dynamic imports as we need window.macgyver to be a accessible

  Promise.resolve().then(function () { return mgAlert; });
  Promise.resolve().then(function () { return mgChoiceAutocomplete; });
  Promise.resolve().then(function () { return mgButton; });
  Promise.resolve().then(function () { return mgCheckBox; });
  Promise.resolve().then(function () { return mgChoiceButtons; });
  Promise.resolve().then(function () { return mgChoiceCheckbox; });
  Promise.resolve().then(function () { return mgChoiceDropdown; });
  Promise.resolve().then(function () { return mgChoiceList; });
  Promise.resolve().then(function () { return mgChoicePopup; }); // FIXME: Needs $prompt

  Promise.resolve().then(function () { return mgChoiceRadio; });
  Promise.resolve().then(function () { return mgChoiceTags; });
  Promise.resolve().then(function () { return mgChoiceTree; });
  Promise.resolve().then(function () { return mgCode; });
  Promise.resolve().then(function () { return mgColor; });
  Promise.resolve().then(function () { return mgComponent; });
  Promise.resolve().then(function () { return mgContainer; });
  Promise.resolve().then(function () { return mgDate; });
  Promise.resolve().then(function () { return mgDatetime; });
  Promise.resolve().then(function () { return mgEmail; });
  Promise.resolve().then(function () { return mgError; });
  Promise.resolve().then(function () { return mgFormEditor; });
  Promise.resolve().then(function () { return mgForm; }); //... import('./components/mgGridDashboard');

  Promise.resolve().then(function () { return mgGrid; });
  Promise.resolve().then(function () { return mgHeading; });
  Promise.resolve().then(function () { return mgHtml; });
  Promise.resolve().then(function () { return mgIcon; }); // Not in showcase

  Promise.resolve().then(function () { return mgInfoBlock; }); // Not in showcase
  //... import('./components/mgInfoChart');

  Promise.resolve().then(function () { return mgLabel; });
  Promise.resolve().then(function () { return mgList; });
  Promise.resolve().then(function () { return mgNumber; });
  Promise.resolve().then(function () { return mgPassword; });
  Promise.resolve().then(function () { return mgPermissions; });
  Promise.resolve().then(function () { return mgPlaceholder; });
  Promise.resolve().then(function () { return mgQuery; });
  Promise.resolve().then(function () { return mgRestQuery; }); // FIXME: Needs $prompt

  Promise.resolve().then(function () { return mgSeperator; });
  Promise.resolve().then(function () { return mgTable; });
  Promise.resolve().then(function () { return mgTextArea; });
  Promise.resolve().then(function () { return mgText; });
  Promise.resolve().then(function () { return mgTime; });
  Promise.resolve().then(function () { return mgToggle; });
  Promise.resolve().then(function () { return mgUrl; });
  Promise.resolve().then(function () { return mgVideo; });
  Promise.resolve().then(function () { return mgWysiwyg; });

  var methods = {}; // Method's to glue onto vm.$emit

  /**
  * Extend the base Vue.prototype.$emit with Vue.prototype.$emit.broadcast()
  * This is effectively the same as an $emit.down from the root node
  * NOTE: This also broadcasts to app.vue
  * @param {string} msg The name of the event to emit
  * @param {*} [payload...] The payload of the event
  */

  methods.broadcast = function (msg) {
    var _app$vue$$emit, _app$vue$$emit$down;

    for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      payload[_key - 1] = arguments[_key];
    }

    (_app$vue$$emit = app.vue.$emit).call.apply(_app$vue$$emit, [app.vue, msg].concat(payload));

    (_app$vue$$emit$down = app.vue.$emit.down).call.apply(_app$vue$$emit$down, [app.vue, msg].concat(payload));
  };
  /**
  * Extend the base Vue.prototype.$emit with Vue.prototype.$emit.down() which recurses though all children emitting a message
  * NOTE: This does not include the current component level, only the children
  * @param {string} msg The name of the event to emit
  * @param {*} [payload...] The payload of the event
  */


  methods.down = function (msg) {
    for (var _len2 = arguments.length, payload = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
      payload[_key2 - 1] = arguments[_key2];
    }

    this.$children.forEach(function (child) {
      var _child$$emit, _child$$emit$down;

      (_child$$emit = child.$emit).call.apply(_child$$emit, [child, msg].concat(payload));

      (_child$$emit$down = child.$emit.down).call.apply(_child$$emit$down, [child, msg].concat(payload));
    });
  };
  /**
  * Extend the base methods.$emit with Vue.prototype.$emit.up() which recurses though all parents emitting a message
  * NOTE: This does not include the current component level, only the parents
  * @param {string} msg The name of the event to emit
  * @param {*} [payload...] The payload of the event
  */


  methods.up = function (msg) {
    if (!this || !this.$parent) throw new Error('Unable to $emit.up() on non Vue component');
    var node = this;

    for (var _len3 = arguments.length, payload = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
      payload[_key3 - 1] = arguments[_key3];
    }

    while (node.$parent) {
      var _node$$emit;

      node = node.$parent;

      (_node$$emit = node.$emit).call.apply(_node$$emit, [node, msg].concat(payload));
    }
  };
  /**
  * Extend the base Vue.prototype.$emit with promise support
  * Any function returning a promise will be waited on
  * NOTE: As of 2019-07-10 (Vue 2.6.10) it is not possible to glue this as vm.$emit.promise for some reason, maybe one day this will change
  * @param {string} msg The name of the event to emit
  * @param {*} [payload...] The payload of the event
  * @returns {Promise} A promise which will resolve with the Promise.all result of all listeners
  */


  methods.promise = function (msg) {
    for (var _len4 = arguments.length, payload = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
      payload[_key4 - 1] = arguments[_key4];
    }

    var node = this;
    if (!node || !this._isVue) throw new Error('Unable to $emit.promise() on non Vue component');
    if (!node._events[msg] || !this._events[msg].length) return Promise.resolve(); // No listeners anyway

    return Promise.all(node._events[msg].map(function (e) {
      return Promise.resolve(e.apply(node, payload));
    })).then(function (responses) {
      return responses[0];
    });
  };
  /**
  * Return if anything is listening to a given event
  * This is useful if the event broadcast would involve some non-trivial processing and it would be beneficial to skip if nothing is listening anyway
  * @param {string} msg The name of the event to emit
  */


  methods.hasListeners = function (msg) {
    if (!this || !this.$parent) throw new Error('Unable to $emitHasSubscribers() on non Vue component');
    return this._events[msg] && this._events[msg].length > 0;
  };

  Vue.mixin({
    beforeCreate: function beforeCreate() {
      var _this = this;

      this.$emit = this.$emit.bind(this); // Rebind $emit to this vm so we get the right context
      // Long-winded version of _.mapValues() where we remap each method to a binding of this vm

      Object.assign(this.$emit, Object.fromEntries(Object.entries(methods).map(function (i) {
        return [i[0], i[1].bind(_this)];
      })));
    }
  });

  /* script */
  const __vue_script__$1 = methods;

  /* template */

    /* style */
    const __vue_inject_styles__$1 = undefined;
    /* scoped */
    const __vue_scope_id__$1 = undefined;
    /* module identifier */
    const __vue_module_identifier__$1 = undefined;
    /* functional template */
    const __vue_is_functional_template__$1 = undefined;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$1 = normalizeComponent(
      {},
      __vue_inject_styles__$1,
      __vue_script__$1,
      __vue_scope_id__$1,
      __vue_is_functional_template__$1,
      __vue_module_identifier__$1,
      false,
      undefined,
      undefined,
      undefined
    );

  var emit = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$1
  });

  /**
  * Set a dotted notation or array path to a set value
  * This function will correctly populate any missing entities, calling vm.$set on each traversal of the path
  * Passing undefined as a value removes the key (unless removeUndefined is set to false)
  *
  * @param {Object} [target] The target to set the path of, if omitted the `vm` object is used as the base for traversal 
  * @param {string|array} path The path to set within the target / vm
  * @param {*} value The value to set
  * @param {Object} [options] Additional options
  * @param {boolean} [options.arrayNumeric=true] Process numeric path segments as arrays
  * @param {boolean} [options.removeUndefined=true] If undefined is specified as a value the key is removed instead of being set
  * @param {boolean} [options.debug=false] Also print out debugging information when setting the value
  * @returns {Object} The set value, like $set()
  *
  * @example Set a deeply nested path within a target object
  * vm.$setPath(this, 'foo.bar.baz', 123); // this.$data.foo.bar.baz = 123
  *
  * @example Set a deeply nested path, with arrays, assuming VM as the root node
  * vm.$setPath('foo.1.bar', 123); // vm.$data.foo = [{bar: 123}]
  */
  var script$1 = Vue.prototype.$setPath = function (target, path, value, options) {
    var _this = this;

    // Argument mangling {{{
    if (_.isString(target) || _.isArray(target) || value === undefined) {
      // called as (path, value)
      var _ref = [this, target, path, value];
      target = _ref[0];
      path = _ref[1];
      value = _ref[2];
      options = _ref[3];
    } else if (!_.isObject(target)) {
      throw new Error('Cannot use $setPath on non-object target');
    } // }}}


    var settings = _objectSpread2({
      arrayNumeric: true,
      debug: false,
      removeUndefined: true
    }, options);

    if (settings.debug) console.log('[$setPath]', path, '=', value, {
      target: target,
      options: options
    });
    var node = target;
    if (!path) throw new Error('Cannot $setPath with undefined path');
    (_.isString(path) ? path.split('.') : path).some(function (chunk, chunkIndex, chunks) {
      if (chunkIndex == chunks.length - 1) {
        // Leaf node
        if (settings.removeUndefined && value === undefined) {
          _this.$unset(node, chunk);
        } else {
          _this.$set(node, chunk, value);
        }
      } else if (node[chunk] === undefined) {
        // This chunk (and all following chunks) does't exist - populate from here
        // FIXME: This is the version which doesn't set the final key.
        chunks.slice(chunkIndex).forEach(function (chunk) {
          if (settings.arrayNumeric && isFinite(chunk)) {
            _this.$set(node, chunk, []);
          } else {
            _this.$set(node, chunk, {});
          }

          node = node[chunk];
        });
        return true;
      } else {
        node = node[chunk];
        return false;
      }
    });
    return value;
  };

  /* script */
  const __vue_script__$2 = script$1;

  /* template */

    /* style */
    const __vue_inject_styles__$2 = undefined;
    /* scoped */
    const __vue_scope_id__$2 = undefined;
    /* module identifier */
    const __vue_module_identifier__$2 = undefined;
    /* functional template */
    const __vue_is_functional_template__$2 = undefined;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$2 = normalizeComponent(
      {},
      __vue_inject_styles__$2,
      __vue_script__$2,
      __vue_scope_id__$2,
      __vue_is_functional_template__$2,
      __vue_module_identifier__$2,
      false,
      undefined,
      undefined,
      undefined
    );

  var setPath = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$2
  });

  /**
  * Binds a simple vm.$watchAll([props...], handler) function into the prototype scope
  * This works similar to the Angular vm.$watch([...]) function
  * @param {array <string|array>} props Named properties within `vm` to watch, dotted notation or array notation is supported
  * @param {function} callback The callback to run when the watch triggers
  * @param {Object} [options] Additional options
  * @param {boolean} [options.immediate=false] Execute the callback immediately on register, needAll can cause the callback not to fire if all required paths are not available yet
  * @param {boolean} [options.needAll=false] Only fire the watcher when every single member listed has a non-undefined value
  * @param {boolean} [options.needAllLock=true] WHether, after seeing all paths, we ALWAYS route to the callback in future, even if the values become undefined. Set to falsy to always check for the paths presence
  * @param {boolean} [options.preventLoops=true] Assume that the watcher can effect a peer expression and that we should not keep retriggering this watch expression
  */
  var script$2 = Vue.prototype.$watchAll = function (props, callback, options) {
    var _arguments = arguments,
        _this = this;

    var settings = _objectSpread2({
      needAll: false,
      needAllLock: true,
      preventLoops: true,
      immediate: false
    }, options); // Remap handler based on the settings {{{


    var handler;

    if (settings.needAll) {
      // Remap handler with extra behaviour that checks all properties first
      var seenAll = false; // Whether at some point we have seen all values

      handler = function handler() {
        if (settings.needAllLock && seenAll) return callback.apply(_this, _arguments);
        if (settings.preventLoops && _this.$duringWatchAll) return; // Already updating

        if (settings.preventLoops) _this.$duringWatchAll = true;

        if (props.some(function (p) {
          return !_this.$hasPath(p);
        })) {
          // Not ready yet
          _this.$duringWatchAll = false;
          return;
        } else {
          seenAll = true;
        }

        callback.apply(_this, _arguments);
        if (settings.preventLoops) _this.$duringWatchAll = false;
      };
    } else {
      // No special treatment - just pass the callback
      handler = callback;
    } // }}}
    // Attach watcher to every named prop


    props.forEach(function (prop) {
      return _this.$watch(prop, handler.bind(null, prop));
    }); // Run handler immediately if needed

    if (settings.immediate) handler();
  };

  /* script */
  const __vue_script__$3 = script$2;

  /* template */

    /* style */
    const __vue_inject_styles__$3 = undefined;
    /* scoped */
    const __vue_scope_id__$3 = undefined;
    /* module identifier */
    const __vue_module_identifier__$3 = undefined;
    /* functional template */
    const __vue_is_functional_template__$3 = undefined;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$3 = normalizeComponent(
      {},
      __vue_inject_styles__$3,
      __vue_script__$3,
      __vue_scope_id__$3,
      __vue_is_functional_template__$3,
      __vue_module_identifier__$3,
      false,
      undefined,
      undefined,
      undefined
    );

  var watchAll = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$3
  });

  var script$3 = Vue.mgComponent('mgAlert', {
    meta: {
      title: 'Alert Box',
      icon: 'far fa-exclamation-triangle',
      category: 'General Decoration',
      preferId: false
    },
    props: {
      text: {
        type: 'mgText',
        "default": 'This is an alert!'
      },
      className: {
        type: 'mgChoiceButtons',
        "default": 'alert-info',
        iconSelected: 'fa fa-fw fa-check',
        iconDefault: 'fa fa-fw',
        "enum": [{
          id: 'alert alert-success',
          "class": 'btn-success'
        }, {
          id: 'alert alert-info',
          "class": 'btn-info'
        }, {
          id: 'alert alert-warning',
          "class": 'btn-warning'
        }, {
          id: 'alert alert-danger',
          "class": 'btn-danger'
        }]
      }
    }
  });

  /* script */
  const __vue_script__$4 = script$3;

  /* template */
  var __vue_render__ = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { class: _vm.$props.className }, [
      _vm._v("\n\t" + _vm._s(_vm.data || _vm.$props.text) + "\n")
    ])
  };
  var __vue_staticRenderFns__ = [];
  __vue_render__._withStripped = true;

    /* style */
    const __vue_inject_styles__$4 = undefined;
    /* scoped */
    const __vue_scope_id__$4 = undefined;
    /* module identifier */
    const __vue_module_identifier__$4 = undefined;
    /* functional template */
    const __vue_is_functional_template__$4 = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$4 = normalizeComponent(
      { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },
      __vue_inject_styles__$4,
      __vue_script__$4,
      __vue_scope_id__$4,
      __vue_is_functional_template__$4,
      __vue_module_identifier__$4,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgAlert = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$4
  });

  var vueSelect = createCommonjsModule(function (module, exports) {
  !function(t,e){module.exports=e();}("undefined"!=typeof self?self:commonjsGlobal,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o});},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=8)}([function(t,e){function n(t){return (n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(e){return "function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=o=function(t){return n(t)}:t.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},o(e)}t.exports=o;},function(t,e,n){},function(t,e,n){var o=n(4),i=n(5),r=n(6);t.exports=function(t){return o(t)||i(t)||r()};},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}};},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)};},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};},function(t,e,n){var o=n(1);n.n(o).a;},function(t,e,n){n.r(e);var o=n(2),i=n.n(o),r=n(0),s=n.n(r),a=n(3),l=n.n(a),u={watch:{typeAheadPointer:function(){this.maybeAdjustScroll();}},methods:{maybeAdjustScroll:function(){var t=this.pixelsToPointerTop(),e=this.pixelsToPointerBottom();return t<=this.viewport().top?this.scrollTo(t):e>=this.viewport().bottom?this.scrollTo(this.viewport().top+this.pointerHeight()):void 0},pixelsToPointerTop:function(){var t=0;if(this.$refs.dropdownMenu)for(var e=0;e<this.typeAheadPointer;e++)t+=this.$refs.dropdownMenu.children[e].offsetHeight;return t},pixelsToPointerBottom:function(){return this.pixelsToPointerTop()+this.pointerHeight()},pointerHeight:function(){var t=!!this.$refs.dropdownMenu&&this.$refs.dropdownMenu.children[this.typeAheadPointer];return t?t.offsetHeight:0},viewport:function(){return {top:this.$refs.dropdownMenu?this.$refs.dropdownMenu.scrollTop:0,bottom:this.$refs.dropdownMenu?this.$refs.dropdownMenu.offsetHeight+this.$refs.dropdownMenu.scrollTop:0}},scrollTo:function(t){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.scrollTop=t:null}}},c={data:function(){return {typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t,this.maybeAdjustScroll&&this.maybeAdjustScroll();break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t,this.maybeAdjustScroll&&this.maybeAdjustScroll();break}},typeAheadSelect:function(){this.filteredOptions[this.typeAheadPointer]?this.select(this.filteredOptions[this.typeAheadPointer]):this.taggable&&this.search.length&&this.select(this.search),this.clearSearchOnSelect&&(this.search="");}}},p={props:{loading:{type:Boolean,default:!1}},data:function(){return {mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading);},loading:function(t){this.mutableLoading=t;}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function h(t,e,n,o,i,r,s,a){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s);},u._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot);}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)};}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,l):[l];}return {exports:t,options:u}}var d={Deselect:h({},function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[e("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])},[],!1,null,null,null).exports,OpenIndicator:h({},function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[e("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])},[],!1,null,null,null).exports};function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o);}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){l()(t,e,n[e]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e));});}return t}var b={components:y({},d),mixins:[u,c,p],props:{value:{},components:{type:Object,default:function(){return {}}},options:{type:Array,default:function(){return []}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return !0}},getOptionLabel:{type:Function,default:function(t){return "object"===s()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(t),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):t}},getOptionKey:{type:Function,default:function(t){if("object"===s()(t)&&t.id)return t.id;try{return JSON.stringify(t)}catch(t){return console.warn("[vue-select warn]: Could not stringify option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey")}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect();}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,n){return (e||"").toLowerCase().indexOf(n.toLowerCase())>-1}},filter:{type:Function,default:function(t,e){var n=this;return t.filter(function(t){var o=n.getOptionLabel(t);return "number"==typeof o&&(o=o.toString()),n.filterBy(t,o,e)})}},createOption:{type:Function,default:function(t){return "object"===s()(this.optionList[0])?l()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return ["function","boolean"].includes(s()(t))}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return [13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(t,e){return t}}},data:function(){return {search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},watch:{options:function(t,e){var n=this;!this.taggable&&("function"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(t,e,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value);},value:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t);},multiple:function(){this.clearSelection();}},created:function(){this.mutableLoading=this.loading,void 0!==this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value),this.$on("option:created",this.maybePushTag);},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map(function(t){return e.findOptionFromReducedValue(t)}):this.$data._value=this.findOptionFromReducedValue(t);},select:function(t){this.isOptionSelected(t)||(this.taggable&&!this.optionExists(t)&&(t=this.createOption(t),this.$emit("option:created",t)),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t)),this.onAfterSelect(t);},deselect:function(t){var e=this;this.updateValue(this.selectedValue.filter(function(n){return !e.optionComparator(n,t)}));},clearSelection:function(){this.updateValue(this.multiple?[]:null);},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="");},updateValue:function(t){var e=this;this.isTrackingValues&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map(function(t){return e.reduce(t)}):this.reduce(t)),this.$emit("input",t);},toggleDropdown:function(t){var e=t.target;[].concat(i()(this.$refs.deselectButtons||[]),i()([this.$refs.clearButton]||!1)).some(function(t){return t.contains(e)||t===e})||(this.open?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus()));},isOptionSelected:function(t){var e=this;return this.selectedValue.some(function(n){return e.optionComparator(n,t)})},optionComparator:function(t,e){if("object"!==s()(t)&&"object"!==s()(e)){if(t===e)return !0}else{if(t===this.reduce(e))return !0;if(this.getOptionLabel(t)===this.getOptionLabel(e)||this.getOptionLabel(t)===e)return !0;if(this.reduce(t)===this.reduce(e))return !0}return !1},findOptionFromReducedValue:function(t){var e=this;return this.options.find(function(n){return JSON.stringify(e.reduce(n))===JSON.stringify(t)})||t},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur");},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.clearable){var t=null;this.multiple&&(t=i()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t);}},optionExists:function(t){var e=this;return this.optionList.some(function(n){return "object"===s()(n)&&e.getOptionLabel(n)===t||n===t})},normalizeOptionForSlot:function(t){return "object"===s()(t)?t:l()({},this.label,t)},maybePushTag:function(t){this.pushTags&&this.pushedTags.push(t);},onEscape:function(){this.search.length?this.search="":this.searchEl.blur();},onSearchBlur:function(){if(!this.mousedown||this.searching)return this.clearSearchOnBlur&&(this.search=""),void this.closeSearchOptions();this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions();},onSearchFocus:function(){this.open=!0,this.$emit("search:focus");},onMousedown:function(){this.mousedown=!0;},onMouseUp:function(){this.mousedown=!1;},onSearchKeyDown:function(t){var e=this,n=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},o={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach(function(t){return o[t]=n});var i=this.mapKeydown(o,this);if("function"==typeof i[t.keyCode])return i[t.keyCode](t)}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushedTags)},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this;return {search:{attributes:{disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-expanded":this.dropdownOpen,"aria-label":"Search for option",ref:"search",role:"combobox",type:"search",autocomplete:"off",value:this.search},events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}}}},childComponents:function(){return y({},d,{},this.components)},stateClasses:function(){return {"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},clearSearchOnBlur:function(){return this.clearSearchOnSelect&&!this.multiple},searching:function(){return !!this.search},dropdownOpen:function(){return !this.noDrop&&(this.open&&!this.mutableLoading)},searchPlaceholder:function(){if(this.isValueEmpty&&this.placeholder)return this.placeholder},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;return this.taggable&&this.search.length&&!this.optionExists(this.search)&&e.unshift(this.search),e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return !this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}}},g=(n(7),h(b,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-select",class:t.stateClasses,attrs:{dir:t.dir}},[n("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",on:{mousedown:function(e){return e.preventDefault(),t.toggleDropdown(e)}}},[n("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[t._l(t.selectedValue,function(e){return t._t("selected-option-container",[n("span",{key:t.getOptionKey(e),staticClass:"vs__selected"},[t._t("selected-option",[t._v("\n            "+t._s(t.getOptionLabel(e))+"\n          ")],null,t.normalizeOptionForSlot(e)),t._v(" "),t.multiple?n("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:t.disabled,type:"button","aria-label":"Deselect option"},on:{click:function(n){return t.deselect(e)}}},[n(t.childComponents.Deselect,{tag:"component"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})}),t._v(" "),t._t("search",[n("input",t._g(t._b({staticClass:"vs__search"},"input",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(" "),n("div",{ref:"actions",staticClass:"vs__actions"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:t.disabled,type:"button",title:"Clear selection"},on:{click:t.clearSelection}},[n(t.childComponents.Deselect,{tag:"component"})],1),t._v(" "),t._t("open-indicator",[t.noDrop?t._e():n(t.childComponents.OpenIndicator,t._b({tag:"component"},"component",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(" "),t._t("spinner",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[t._v("Loading...")])],null,t.scope.spinner)],2)]),t._v(" "),n("transition",{attrs:{name:t.transition}},[t.dropdownOpen?n("ul",{ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{role:"listbox"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._l(t.filteredOptions,function(e,o){return n("li",{key:t.getOptionKey(e),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--selected":t.isOptionSelected(e),"vs__dropdown-option--highlight":o===t.typeAheadPointer,"vs__dropdown-option--disabled":!t.selectable(e)},attrs:{role:"option"},on:{mouseover:function(n){t.selectable(e)&&(t.typeAheadPointer=o);},mousedown:function(n){n.preventDefault(),n.stopPropagation(),t.selectable(e)&&t.select(e);}}},[t._t("option",[t._v("\n          "+t._s(t.getOptionLabel(e))+"\n        ")],null,t.normalizeOptionForSlot(e))],2)}),t._v(" "),t.filteredOptions.length?t._e():n("li",{staticClass:"vs__no-options",on:{mousedown:function(t){t.stopPropagation();}}},[t._t("no-options",[t._v("Sorry, no matching options.")])],2)],2):t._e()])],1)},[],!1,null,null,null).exports),m={ajax:p,pointer:c,pointerScroll:u};n.d(e,"VueSelect",function(){return g}),n.d(e,"mixins",function(){return m});e.default=g;}])});

  });

  var VueSelect = unwrapExports(vueSelect);
  var vueSelect_1 = vueSelect.VueSelect;

  var _enumSource;
  Vue.component("v-select", VueSelect);
  var script$4 = Vue.mgComponent("mgChoiceAutocomplete", {
    meta: {
      title: "Autocomplete",
      icon: "far fa-chevron-circle-down",
      category: "Choice Selectors",
      preferId: true,
      shorthand: ["choice", "choose", "dropdown", "pick"]
    },
    data: function data() {
      return {
        selected: [],
        enumIter: []
      };
    },
    props: {
      enumSource: (_enumSource = {
        type: "mgChoiceButtons",
        "default": "list",
        "enum": ["list", "url"]
      }, _defineProperty(_enumSource, "default", "list"), _defineProperty(_enumSource, "help", "Where to populate the list data from"), _enumSource),
      "enum": {
        type: "mgTable",
        title: "List items",
        showIf: 'enumSource == "list"',
        items: [{
          id: "id",
          type: "mgText",
          required: true
        }, {
          id: "title",
          type: "mgText",
          required: true
        }, {
          id: "icon",
          type: "mgIcon"
        }]
      },
      enumUrl: {
        type: "mgUrl",
        vueType: ["string", "object"],
        showIf: 'enumSource == "url"',
        help: "Data feed URL to fetch choice values from"
      },
      optionKeyPath: {
        type: "mgText",
        "default": "id",
        help: "Path within data feed for options key",
        showIf: 'enumSource == "url"'
      },
      optionLabelPath: {
        type: "mgText",
        "default": "title",
        help: "Path within data feed for options label",
        showIf: 'enumSource == "url"'
      },
      placeholder: {
        type: "mgText",
        help: "Ghost text to display when there is no value"
      },
      required: {
        type: "mgToggle",
        "default": false,
        help: "One choice must be selected"
      },
      focus: {
        type: "mgToggle",
        "default": false,
        help: "Auto-focus the element when it appears on screen"
      }
    },
    created: function created() {
      var _this = this;

      this.$on("mgValidate", function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      }); // FIXME: No need to respond to changes during settings adjustments
      //this.$watch('$props.enumUrl', () => this.fetchEnum(), {immediate: true});

      /*
      this.$watch('$props.enum', ()=> {
      	if (_.isArray(this.$props.enum) && _.isString(this.$props.enum[0])) { // Array of strings
      		this.setEnum(this.$props.enum.map(i => ({id: _.camelCase(i), title: i})));
      	} else if (_.isArray(this.$props.enum) && _.isObject(this.$props.enum[0])) { // Collection
      		this.setEnum(this.$props.enum);
      	}
      }, {immediate: true});
      */
    },
    mounted: function mounted() {
      if (this.$props.focus) {
        // NOTE: Focus selection does NOT work if DevTools is open in Chome
        this.$refs.select.searchEl.focus();
      }
    },
    methods: {
      changeHandler: function changeHandler(e) {
        console.log("changeHandler", e);
        if (!e) return this.data = this.selected = null;
        this.data = this.getOptionKey(e);
        this.selected = e;
      },

      /**
      * Triggered when the search text changes.
      *
      * @param search {String} Current search text
      * @param loading {Function} Toggle loading class
      */
      searchHandler: function searchHandler(search, loading) {
        console.log("searchHandler", search); // TODO: Debounce

        loading(true);
        this.fetchEnum(search).then(function () {
          return loading(false);
        });
      },
      fetchEnum: function fetchEnum(query) {
        var _this2 = this;

        console.log("fetchEnum", this.$props.enumUrl, query);
        if (!this.$props.enumUrl || !query) return Promise.resolve();
        return this.$macgyver.utils.fetch(this.$props.enumUrl + query, {
          type: "array"
        }).then(function (data) {
          return _this2.setEnum(data);
        });
      },

      /**
      * Populate the enumIter object
      * This function also correctly populates the selected item (or the default)
      * Each item is assumed to have the spec `{id: String, title: String, icon?: String}`
      * @param {array<Object>} enumIter The new iterable enum
      */
      setEnum: function setEnum(enumIter) {
        var _this3 = this;

        this.enumIter = enumIter;

        if (this.data) {
          this.selected = this.enumIter.find(function (e) {
            return _this3.getOptionKey(e) == _this3.data;
          }) || this.data;
        } else if (this.$props["default"]) {
          this.selected = this.enumIter.find(function (e) {
            return _this3.getOptionKey(e) == _this3.$props["default"];
          }) || this.$props["default"];
        }
      },

      /**
      * Retrieve option label based on path specified in properties.
      * @param {Object} option The selected option within enum
      */
      getOptionLabel: function getOptionLabel(option) {
        return _.get(option, this.$props.optionLabelPath, '');
      },

      /**
      * Retrieve option key based on path specified in properties.
      * @param {Object} option The selected option within enum
      */
      getOptionKey: function getOptionKey(option) {
        return _.get(option, this.$props.optionKeyPath, '');
      }
    }
  });

  /* script */
  const __vue_script__$5 = script$4;

  /* template */
  var __vue_render__$1 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("v-select", {
      ref: "select",
      attrs: {
        value: _vm.selected,
        label: "title",
        options: _vm.enumIter,
        placeholder: _vm.$props.placeholder,
        clearable: !_vm.$props.required,
        "get-option-key": _vm.getOptionKey,
        "get-option-label": _vm.getOptionLabel
      },
      on: { search: _vm.searchHandler, input: _vm.changeHandler },
      scopedSlots: _vm._u([
        {
          key: "selected-option",
          fn: function(option) {
            return [
              option.icon ? _c("i", { class: option.icon }) : _vm._e(),
              _vm._v("\n\t\t" + _vm._s(_vm.getOptionLabel(option)) + "\n\t")
            ]
          }
        },
        {
          key: "option",
          fn: function(option) {
            return [
              option.icon ? _c("i", { class: option.icon }) : _vm._e(),
              _vm._v("\n\t\t" + _vm._s(_vm.getOptionLabel(option)) + "\n\t")
            ]
          }
        }
      ])
    })
  };
  var __vue_staticRenderFns__$1 = [];
  __vue_render__$1._withStripped = true;

    /* style */
    const __vue_inject_styles__$5 = undefined;
    /* scoped */
    const __vue_scope_id__$5 = undefined;
    /* module identifier */
    const __vue_module_identifier__$5 = undefined;
    /* functional template */
    const __vue_is_functional_template__$5 = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$5 = normalizeComponent(
      { render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 },
      __vue_inject_styles__$5,
      __vue_script__$5,
      __vue_scope_id__$5,
      __vue_is_functional_template__$5,
      __vue_module_identifier__$5,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgChoiceAutocomplete = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$5
  });

  var script$5 = Vue.mgComponent('mgButton', {
    meta: {
      title: 'Button',
      icon: 'far fa-mouse-pointer',
      category: 'Interaction',
      preferId: false
    },
    props: {
      text: {
        type: 'mgText'
      },
      icon: {
        type: 'mgIcon',
        "default": 'far fa-check'
      },
      tooltip: {
        type: 'mgText'
      },
      action: {
        type: 'mgText',
        vueType: 'any'
      },
      className: {
        type: 'mgText',
        advanced: true,
        "default": 'btn btn-light'
      }
    }
  });

  /* script */
  const __vue_script__$6 = script$5;

  /* template */
  var __vue_render__$2 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "a",
      {
        directives: [
          {
            name: "tooltip",
            rawName: "v-tooltip",
            value: _vm.$props.tooltip,
            expression: "$props.tooltip"
          }
        ],
        class: _vm.$props.className,
        on: {
          click: function($event) {
            return _vm.$mgForm.run(_vm.$props.action)
          }
        }
      },
      [
        _vm.$props.icon ? _c("i", { class: _vm.$props.icon }) : _vm._e(),
        _vm._v("\n\t" + _vm._s(_vm.$props.text) + "\n")
      ]
    )
  };
  var __vue_staticRenderFns__$2 = [];
  __vue_render__$2._withStripped = true;

    /* style */
    const __vue_inject_styles__$6 = undefined;
    /* scoped */
    const __vue_scope_id__$6 = undefined;
    /* module identifier */
    const __vue_module_identifier__$6 = undefined;
    /* functional template */
    const __vue_is_functional_template__$6 = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$6 = normalizeComponent(
      { render: __vue_render__$2, staticRenderFns: __vue_staticRenderFns__$2 },
      __vue_inject_styles__$6,
      __vue_script__$6,
      __vue_scope_id__$6,
      __vue_is_functional_template__$6,
      __vue_module_identifier__$6,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgButton = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$6
  });

  var script$6 = Vue.mgComponent('mgCheckBox', {
    meta: {
      title: 'Check Box',
      icon: 'far fa-check-square',
      category: 'Simple Inputs',
      preferId: true,
      format: function format(v) {
        return v ? 'Yes' : 'No';
      },
      formatClass: 'text-center'
    }
  });

  /* script */
  const __vue_script__$7 = script$6;

  /* template */
  var __vue_render__$3 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "text-center" }, [
      _c("input", {
        directives: [
          {
            name: "model",
            rawName: "v-model",
            value: _vm.data,
            expression: "data"
          }
        ],
        attrs: { type: "checkbox" },
        domProps: {
          checked: Array.isArray(_vm.data)
            ? _vm._i(_vm.data, null) > -1
            : _vm.data
        },
        on: {
          change: function($event) {
            var $$a = _vm.data,
              $$el = $event.target,
              $$c = $$el.checked ? true : false;
            if (Array.isArray($$a)) {
              var $$v = null,
                $$i = _vm._i($$a, $$v);
              if ($$el.checked) {
                $$i < 0 && (_vm.data = $$a.concat([$$v]));
              } else {
                $$i > -1 &&
                  (_vm.data = $$a.slice(0, $$i).concat($$a.slice($$i + 1)));
              }
            } else {
              _vm.data = $$c;
            }
          }
        }
      })
    ])
  };
  var __vue_staticRenderFns__$3 = [];
  __vue_render__$3._withStripped = true;

    /* style */
    const __vue_inject_styles__$7 = undefined;
    /* scoped */
    const __vue_scope_id__$7 = undefined;
    /* module identifier */
    const __vue_module_identifier__$7 = undefined;
    /* functional template */
    const __vue_is_functional_template__$7 = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$7 = normalizeComponent(
      { render: __vue_render__$3, staticRenderFns: __vue_staticRenderFns__$3 },
      __vue_inject_styles__$7,
      __vue_script__$7,
      __vue_scope_id__$7,
      __vue_is_functional_template__$7,
      __vue_module_identifier__$7,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgCheckBox = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$7
  });

  var script$7 = Vue.mgComponent('mgChoiceButtons', {
    meta: {
      title: 'Choice Buttons',
      icon: 'fas fa-ellipsis-h',
      category: 'Choice Selectors',
      preferId: true
    },
    data: function data() {
      return {
        enumIter: []
      };
    },
    props: {
      "enum": {
        type: 'mgTable',
        title: 'List items',
        items: [{
          id: 'id',
          title: 'ID'
        }, {
          id: 'title',
          title: 'Title'
        }, {
          id: 'tooltip',
          title: 'Tooltip'
        }, {
          id: 'icon',
          title: 'Icon',
          type: 'mgIcon'
        }, {
          id: 'class',
          title: 'Classes'
        }, {
          id: 'classActive',
          title: 'Active Class'
        }, {
          id: 'classInactive',
          title: 'Inactive Class'
        } // Implied: {id: 'action', title: 'Action on select', type: 'function'},
        ]
      },
      required: {
        type: 'mgToggle',
        "default": false,
        help: 'One choice must be selected'
      },
      classWrapper: {
        type: 'mgText',
        "default": 'btn-group',
        title: 'Group CSS class',
        advanced: true
      },
      itemClassActive: {
        type: 'mgText',
        "default": 'btn btn-primary',
        advanced: true
      },
      itemClassInactive: {
        type: 'mgText',
        "default": 'btn btn-light',
        advanced: true
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    },
    methods: {
      select: function select(item) {
        this.data = item.id;
        if (item.action) this.$mgForm.run(item.action);
      }
    },
    watch: {
      '$props.enum': {
        immediate: true,
        handler: function handler() {
          if (_.isArray(this.$props["enum"]) && _.isString(this.$props["enum"][0])) {
            // Array of strings
            this.enumIter = this.$props["enum"].map(function (i) {
              return {
                id: _.camelCase(i),
                title: i
              };
            });
          } else if (_.isArray(this.$props["enum"]) && _.isObject(this.$props["enum"][0])) {
            // Collection
            this.enumIter = this.$props["enum"];
          }
        }
      }
    }
  });

  const isOldIE = typeof navigator !== 'undefined' &&
      /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());
  function createInjector(context) {
      return (id, style) => addStyle(id, style);
  }
  let HEAD;
  const styles = {};
  function addStyle(id, css) {
      const group = isOldIE ? css.media || 'default' : id;
      const style = styles[group] || (styles[group] = { ids: new Set(), styles: [] });
      if (!style.ids.has(id)) {
          style.ids.add(id);
          let code = css.source;
          if (css.map) {
              // https://developer.chrome.com/devtools/docs/javascript-debugging
              // this makes source maps inside style tags work properly in Chrome
              code += '\n/*# sourceURL=' + css.map.sources[0] + ' */';
              // http://stackoverflow.com/a/26603875
              code +=
                  '\n/*# sourceMappingURL=data:application/json;base64,' +
                      btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +
                      ' */';
          }
          if (!style.element) {
              style.element = document.createElement('style');
              style.element.type = 'text/css';
              if (css.media)
                  style.element.setAttribute('media', css.media);
              if (HEAD === undefined) {
                  HEAD = document.head || document.getElementsByTagName('head')[0];
              }
              HEAD.appendChild(style.element);
          }
          if ('styleSheet' in style.element) {
              style.styles.push(code);
              style.element.styleSheet.cssText = style.styles
                  .filter(Boolean)
                  .join('\n');
          }
          else {
              const index = style.ids.size - 1;
              const textNode = document.createTextNode(code);
              const nodes = style.element.childNodes;
              if (nodes[index])
                  style.element.removeChild(nodes[index]);
              if (nodes.length)
                  style.element.insertBefore(textNode, nodes[index]);
              else
                  style.element.appendChild(textNode);
          }
      }
  }

  /* script */
  const __vue_script__$8 = script$7;

  /* template */
  var __vue_render__$4 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "mg-choice-buttons", class: _vm.$props.classWrapper },
      _vm._l(_vm.enumIter, function(item) {
        return _c(
          "a",
          {
            directives: [
              {
                name: "tooltip",
                rawName: "v-tooltip",
                value: item.tooltip,
                expression: "item.tooltip"
              }
            ],
            key: item.id,
            class:
              item.id && _vm.data == item.id
                ? item.classActive || item.class || _vm.$props.itemClassActive
                : item.classInactive ||
                  item.class ||
                  _vm.$props.itemClassInactive,
            on: {
              click: function($event) {
                return _vm.select(item)
              }
            }
          },
          [
            item.icon ? _c("i", { class: item.icon }) : _vm._e(),
            _vm._v("\n\t\t" + _vm._s(item.title) + "\n\t")
          ]
        )
      }),
      0
    )
  };
  var __vue_staticRenderFns__$4 = [];
  __vue_render__$4._withStripped = true;

    /* style */
    const __vue_inject_styles__$8 = function (inject) {
      if (!inject) return
      inject("data-v-2f2f544d_0", { source: "\n.fa-invisible:before {\n\tcontent: \"\\f111\";\n\tvisibility: hidden;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgChoiceButtons.vue"],"names":[],"mappings":";AA4EA;CACA,gBAAA;CACA,kBAAA;AACA","file":"mgChoiceButtons.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgChoiceButtons', {\n\tmeta: {\n\t\ttitle: 'Choice Buttons',\n\t\ticon: 'fas fa-ellipsis-h',\n\t\tcategory: 'Choice Selectors',\n\t\tpreferId: true,\n\t},\n\tdata() { return {\n\t\tenumIter: [],\n\t}},\n\tprops: {\n\t\tenum: {\n\t\t\ttype: 'mgTable',\n\t\t\ttitle: 'List items',\n\t\t\titems: [\n\t\t\t\t{id: 'id', title: 'ID'},\n\t\t\t\t{id: 'title', title: 'Title'},\n\t\t\t\t{id: 'tooltip', title: 'Tooltip'},\n\t\t\t\t{id: 'icon', title: 'Icon', type: 'mgIcon'},\n\t\t\t\t{id: 'class', title: 'Classes'},\n\t\t\t\t{id: 'classActive', title: 'Active Class'},\n\t\t\t\t{id: 'classInactive', title: 'Inactive Class'},\n\t\t\t\t// Implied: {id: 'action', title: 'Action on select', type: 'function'},\n\t\t\t],\n\t\t},\n\t\trequired: {type: 'mgToggle', default: false, help: 'One choice must be selected'},\n\t\tclassWrapper: {type: 'mgText', default: 'btn-group', title: 'Group CSS class', advanced: true},\n\t\titemClassActive: {type: 'mgText', default: 'btn btn-primary', advanced: true},\n\t\titemClassInactive: {type: 'mgText', default: 'btn btn-light', advanced: true},\n\t},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && !this.data) return reply(`${this.$props.title} is required`);\n\t\t});\n\t},\n\tmethods: {\n\t\tselect(item) {\n\t\t\tthis.data = item.id;\n\t\t\tif (item.action) this.$mgForm.run(item.action);\n\t\t},\n\t},\n\twatch: {\n\t\t'$props.enum': {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tif (_.isArray(this.$props.enum) && _.isString(this.$props.enum[0])) { // Array of strings\n\t\t\t\t\tthis.enumIter = this.$props.enum.map(i => ({id: _.camelCase(i), title: i}));\n\t\t\t\t} else if (_.isArray(this.$props.enum) && _.isObject(this.$props.enum[0])) { // Collection\n\t\t\t\t\tthis.enumIter = this.$props.enum;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-choice-buttons\" :class=\"$props.classWrapper\">\n\t\t<a\n\t\t\tv-for=\"item in enumIter\"\n\t\t\t:key=\"item.id\"\n\t\t\t:class=\"item.id && data == item.id\n\t\t\t\t? item.classActive || item.class || $props.itemClassActive\n\t\t\t\t: item.classInactive || item.class || $props.itemClassInactive\n\t\t\t\"\n\t\t\tv-tooltip=\"item.tooltip\"\n\t\t\t@click=\"select(item)\"\n\t\t>\n\t\t\t<i v-if=\"item.icon\" :class=\"item.icon\"/>\n\t\t\t{{item.title}}\n\t\t</a>\n\t</div>\n</template>\n\n<style>\n.fa-invisible:before {\n\tcontent: \"\\f111\";\n\tvisibility: hidden;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$8 = undefined;
    /* module identifier */
    const __vue_module_identifier__$8 = undefined;
    /* functional template */
    const __vue_is_functional_template__$8 = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$8 = normalizeComponent(
      { render: __vue_render__$4, staticRenderFns: __vue_staticRenderFns__$4 },
      __vue_inject_styles__$8,
      __vue_script__$8,
      __vue_scope_id__$8,
      __vue_is_functional_template__$8,
      __vue_module_identifier__$8,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgChoiceButtons = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$8
  });

  var script$8 = Vue.mgComponent('mgChoiceCheckbox', {
    meta: {
      title: 'Checkbox multiple-choice',
      icon: 'far fa-list',
      category: 'Choice Selectors',
      preferId: true
    },
    data: function data() {
      return {
        enumIter: []
      };
    },
    props: {
      "enum": {
        type: 'mgList',
        title: 'List items',
        "enum": {
          type: 'mgTable',
          title: 'List items',
          items: [{
            id: 'id',
            title: 'ID'
          }, {
            id: 'title',
            title: 'Title'
          }, {
            id: 'tooltip',
            title: 'Tooltip'
          }]
        }
      },
      required: {
        type: 'mgToggle',
        "default": false,
        help: 'One choice must be selected'
      },
      sort: {
        type: 'mgChoiceRadio',
        "default": 'addOrder',
        advanced: true,
        help: 'Sort newly ticked items into their correct position',
        "enum": [{
          id: 'addOrder',
          title: 'No sorting'
        }, {
          id: 'sortId',
          title: 'Sort by item ID'
        }, {
          id: 'sortTitle',
          title: 'Sort by title'
        }]
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
      if (!_.isArray(this.data)) this.data = [];
    },
    methods: {
      change: function change(id) {
        var _this2 = this;

        if (!this.data) this.data = [];

        if (this.data.some(function (i) {
          return i == id;
        })) {
          // Checked
          this.data = this.data.filter(function (i) {
            return i != id;
          });
        } else {
          this.data.push(id);

          if (this.$props.sort == 'sortId') {
            this.data.sort();
          } else if (this.$props.sort == 'sortTitle') {
            this.data = _.sortBy(this.data, function (i) {
              return _this2["enum"].find(function (e) {
                return e.id == i;
              });
            });
          }
        }
      }
    },
    watch: {
      '$props.enum': {
        immediate: true,
        handler: function handler() {
          if (_.isArray(this.$props["enum"]) && _.isString(this.$props["enum"][0])) {
            // Array of strings
            this.enumIter = this.$props["enum"].map(function (i) {
              return {
                id: _.camelCase(i),
                title: i
              };
            });
          } else if (_.isArray(this.$props["enum"]) && _.isObject(this.$props["enum"][0])) {
            // Collection
            this.enumIter = this.$props["enum"];
          }
        }
      }
    }
  });

  /* script */
  const __vue_script__$9 = script$8;

  /* template */
  var __vue_render__$5 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      _vm._l(_vm.enumIter, function(item) {
        return _c("div", { key: item.id, staticClass: "form-check" }, [
          _c("input", {
            attrs: {
              type: "checkbox",
              id: "mg-choice-checkbox-" + _vm.$props.id + "-" + item.id
            },
            domProps: { checked: _vm.data.includes(item.id) },
            on: {
              change: function($event) {
                return _vm.change(item.id)
              }
            }
          }),
          _vm._v(" "),
          _c(
            "label",
            {
              staticClass: "form-check-label",
              attrs: {
                for: "mg-choice-checkbox-" + _vm.$props.id + "-" + item.id
              }
            },
            [_vm._v("\n\t\t\t" + _vm._s(item.title) + "\n\t\t")]
          )
        ])
      }),
      0
    )
  };
  var __vue_staticRenderFns__$5 = [];
  __vue_render__$5._withStripped = true;

    /* style */
    const __vue_inject_styles__$9 = undefined;
    /* scoped */
    const __vue_scope_id__$9 = undefined;
    /* module identifier */
    const __vue_module_identifier__$9 = undefined;
    /* functional template */
    const __vue_is_functional_template__$9 = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$9 = normalizeComponent(
      { render: __vue_render__$5, staticRenderFns: __vue_staticRenderFns__$5 },
      __vue_inject_styles__$9,
      __vue_script__$9,
      __vue_scope_id__$9,
      __vue_is_functional_template__$9,
      __vue_module_identifier__$9,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgChoiceCheckbox = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$9
  });

  var _enumSource$1;
  Vue.component('v-select', VueSelect);
  var script$9 = Vue.mgComponent('mgChoiceDropdown', {
    meta: {
      title: 'Dropdown multiple-choice',
      icon: 'far fa-chevron-circle-down',
      category: 'Choice Selectors',
      preferId: true,
      shorthand: ['choice', 'choose', 'dropdown', 'pick']
    },
    data: function data() {
      return {
        selected: [],
        enumIter: []
      };
    },
    props: {
      enumSource: (_enumSource$1 = {
        type: 'mgChoiceButtons',
        "default": 'list',
        "enum": ['list', 'url']
      }, _defineProperty(_enumSource$1, "default", 'list'), _defineProperty(_enumSource$1, "help", 'Where to populate the list data from'), _enumSource$1),
      "enum": {
        type: 'mgTable',
        title: 'List items',
        showIf: 'enumSource == "list"',
        items: [{
          id: 'id',
          type: 'mgText',
          required: true
        }, {
          id: 'title',
          type: 'mgText',
          required: true
        }, {
          id: 'icon',
          type: 'mgIcon'
        }]
      },
      enumUrl: {
        type: 'mgUrl',
        vueType: ['string', 'object'],
        showIf: 'enumSource == "url"',
        help: 'Data feed URL to fetch choice values from'
      },
      optionKeyPath: {
        type: "mgText",
        "default": "id",
        help: "Path within data feed for options key",
        showIf: 'enumSource == "url"'
      },
      optionLabelPath: {
        type: "mgText",
        "default": "title",
        help: "Path within data feed for options label",
        showIf: 'enumSource == "url"'
      },
      placeholder: {
        type: 'mgText',
        help: 'Ghost text to display when there is no value'
      },
      required: {
        type: 'mgToggle',
        "default": false,
        help: 'One choice must be selected'
      },
      focus: {
        type: 'mgToggle',
        "default": false,
        help: 'Auto-focus the element when it appears on screen'
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
      this.$watch('$props.enumUrl', function () {
        if (!_this.$props.enumUrl) return;

        _this.$macgyver.utils.fetch(_this.$props.enumUrl, {
          type: 'array'
        }).then(function (data) {
          return _this.setEnum(data);
        });
      }, {
        immediate: true
      });
      this.$watch('$props.enum', function () {
        if (_.isArray(_this.$props["enum"]) && _.isString(_this.$props["enum"][0])) {
          // Array of strings
          _this.setEnum(_this.$props["enum"].map(function (i) {
            return {
              id: _.camelCase(i),
              title: i
            };
          }));
        } else if (_.isArray(_this.$props["enum"]) && _.isObject(_this.$props["enum"][0])) {
          // Collection
          _this.setEnum(_this.$props["enum"]);
        }
      }, {
        immediate: true
      });
    },
    methods: {
      changeHandler: function changeHandler(e) {
        if (!e) return this.data = this.selected = null;
        this.data = this.getOptionKey(e);
        this.selected = e;
      },

      /**
      * Populate the enumIter object
      * This function also correctly populates the selected item (or the default)
      * Each item is assumed to have the spec `{id: String, title: String, icon?: String}`
      * @param {array<Object>} enumIter The new iterable enum
      */
      setEnum: function setEnum(enumIter) {
        var _this2 = this;

        this.enumIter = enumIter;

        if (this.data) {
          this.selected = this.enumIter.find(function (e) {
            return _this2.getOptionKey(e) == _this2.data;
          }) || this.data;
        } else if (this.$props["default"]) {
          this.selected = this.enumIter.find(function (e) {
            return _this2.getOptionKey(e) == _this2.$props["default"];
          }) || this.$props["default"];
        }
      },

      /**
      * Retrieve option label based on path specified in properties.
      * @param {Object} option The selected option within enum
      */
      getOptionLabel: function getOptionLabel(option) {
        return _.get(option, this.$props.optionLabelPath, '');
      },

      /**
      * Retrieve option key based on path specified in properties.
      * @param {Object} option The selected option within enum
      */
      getOptionKey: function getOptionKey(option) {
        return _.get(option, this.$props.optionKeyPath, '');
      }
    },
    mounted: function mounted() {
      if (this.$props.focus) {
        // NOTE: Focus selection does NOT work if DevTools is open in Chome
        this.$refs.select.searchEl.focus();
      }
    }
  });

  /* script */
  const __vue_script__$a = script$9;

  /* template */
  var __vue_render__$6 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("v-select", {
      ref: "select",
      attrs: {
        value: _vm.selected,
        label: "title",
        options: _vm.enumIter,
        placeholder: _vm.$props.placeholder,
        clearable: !_vm.$props.required,
        "get-option-key": _vm.getOptionKey,
        "get-option-label": _vm.getOptionLabel
      },
      on: { input: _vm.changeHandler },
      scopedSlots: _vm._u([
        {
          key: "selected-option",
          fn: function(option) {
            return [
              option.icon ? _c("i", { class: option.icon }) : _vm._e(),
              _vm._v("\n\t\t" + _vm._s(_vm.getOptionLabel(option)) + "\n\t")
            ]
          }
        },
        {
          key: "option",
          fn: function(option) {
            return [
              option.icon ? _c("i", { class: option.icon }) : _vm._e(),
              _vm._v("\n\t\t" + _vm._s(_vm.getOptionLabel(option)) + "\n\t")
            ]
          }
        }
      ])
    })
  };
  var __vue_staticRenderFns__$6 = [];
  __vue_render__$6._withStripped = true;

    /* style */
    const __vue_inject_styles__$a = function (inject) {
      if (!inject) return
      inject("data-v-32b8a274_0", { source: "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Make look consistant with Bootstrap */\n.v-select.open .dropdown-toggle {\n\tborder-color: #5cb3fd;\n}\n\n/* Remove weird dropdown icon that Bootstrap adds */\n.v-select .dropdown-toggle::after {\n\tdisplay: none;\n}\n\n/* Wider spacing for clear button */\n.v-select .dropdown-toggle .clear {\n\tmargin-right: 10px;\n}\n\n/* Align dropdown icon correctly */\n.v-select .open-indicator {\n\tmargin-top: -2px;\n}\n.v-select .vs__selected i {\n\tmargin-right: 5px;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgChoiceDropdown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA,wCAAA;AACA;CACA,qBAAA;AACA;;AAEA,mDAAA;AACA;CACA,aAAA;AACA;;AAEA,mCAAA;AACA;CACA,kBAAA;AACA;;AAEA,kCAAA;AACA;CACA,gBAAA;AACA;AAEA;CACA,iBAAA;AACA","file":"mgChoiceDropdown.vue","sourcesContent":["<script>\nimport VueSelect from 'vue-select';\nimport 'vue-select/dist/vue-select.css';\n\nVue.component('v-select', VueSelect);\n\nexport default Vue.mgComponent('mgChoiceDropdown', {\n\tmeta: {\n\t\ttitle: 'Dropdown multiple-choice',\n\t\ticon: 'far fa-chevron-circle-down',\n\t\tcategory: 'Choice Selectors',\n\t\tpreferId: true,\n\t\tshorthand: ['choice', 'choose', 'dropdown', 'pick'],\n\t},\n\tdata() { return {\n\t\tselected: [],\n\t\tenumIter: [],\n\t}},\n\tprops: {\n\t\tenumSource: {type: 'mgChoiceButtons', default: 'list', enum: ['list', 'url'], default: 'list', help: 'Where to populate the list data from'},\n\t\tenum: {\n\t\t\ttype: 'mgTable',\n\t\t\ttitle: 'List items',\n\t\t\tshowIf: 'enumSource == \"list\"',\n\t\t\titems: [\n\t\t\t\t{id: 'id', type: 'mgText', required: true},\n\t\t\t\t{id: 'title', type: 'mgText', required: true},\n\t\t\t\t{id: 'icon', type: 'mgIcon'},\n\t\t\t],\n\t\t},\n\t\tenumUrl: {type: 'mgUrl', vueType: ['string', 'object'], showIf: 'enumSource == \"url\"', help: 'Data feed URL to fetch choice values from'},\n\t\toptionKeyPath: {\n\t\t\ttype: \"mgText\",\n\t\t\tdefault: \"id\",\n\t\t\thelp: \"Path within data feed for options key\",\n\t\t\tshowIf: 'enumSource == \"url\"',\n\t\t},\n\t\toptionLabelPath: {\n\t\t\ttype: \"mgText\",\n\t\t\tdefault: \"title\",\n\t\t\thelp: \"Path within data feed for options label\",\n\t\t\tshowIf: 'enumSource == \"url\"',\n\t\t},\n\t\tplaceholder: {type: 'mgText', help: 'Ghost text to display when there is no value'},\n\t\trequired: {type: 'mgToggle', default: false, help: 'One choice must be selected'},\n\t\tfocus: {type: 'mgToggle', default: false, help: 'Auto-focus the element when it appears on screen'},\n\t},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && !this.data) return reply(`${this.$props.title} is required`);\n\t\t});\n\n\t\tthis.$watch('$props.enumUrl', ()=> {\n\t\t\tif (!this.$props.enumUrl) return;\n\t\t\tthis.$macgyver.utils.fetch(this.$props.enumUrl, {type: 'array'})\n\t\t\t\t.then(data => this.setEnum(data))\n\t\t}, {immediate: true});\n\n\t\tthis.$watch('$props.enum', ()=> {\n\t\t\tif (_.isArray(this.$props.enum) && _.isString(this.$props.enum[0])) { // Array of strings\n\t\t\t\tthis.setEnum(this.$props.enum.map(i => ({id: _.camelCase(i), title: i})));\n\t\t\t} else if (_.isArray(this.$props.enum) && _.isObject(this.$props.enum[0])) { // Collection\n\t\t\t\tthis.setEnum(this.$props.enum);\n\t\t\t}\n\t\t}, {immediate: true});\n\t},\n\tmethods: {\n\t\tchangeHandler(e) {\n\t\t\tif (!e) return this.data = this.selected = null;\n\t\t\tthis.data = this.getOptionKey(e);\n\t\t\tthis.selected = e;\n\t\t},\n\n\t\t/**\n\t\t* Populate the enumIter object\n\t\t* This function also correctly populates the selected item (or the default)\n\t\t* Each item is assumed to have the spec `{id: String, title: String, icon?: String}`\n\t\t* @param {array<Object>} enumIter The new iterable enum\n\t\t*/\n\t\tsetEnum(enumIter) {\n\t\t\tthis.enumIter = enumIter;\n\n\t\t\tif (this.data) {\n\t\t\t\tthis.selected =\n\t\t\t\t\tthis.enumIter.find(\n\t\t\t\t\t\t(e) => this.getOptionKey(e) == this.data\n\t\t\t\t\t) || this.data;\n\t\t\t} else if (this.$props.default) {\n\t\t\t\tthis.selected =\n\t\t\t\t\tthis.enumIter.find(\n\t\t\t\t\t\t(e) => this.getOptionKey(e) == this.$props.default\n\t\t\t\t\t) || this.$props.default;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* Retrieve option label based on path specified in properties.\n\t\t* @param {Object} option The selected option within enum\n\t\t*/\n\t\tgetOptionLabel(option) {\n\t\t\treturn _.get(option, this.$props.optionLabelPath, '');\n\t\t},\n\n\t\t/**\n\t\t* Retrieve option key based on path specified in properties.\n\t\t* @param {Object} option The selected option within enum\n\t\t*/\n\t\tgetOptionKey(option) {\n\t\t\treturn _.get(option, this.$props.optionKeyPath, '');\n\t\t},\n\t},\n\tmounted() {\n\t\tif (this.$props.focus) {\n\t\t\t// NOTE: Focus selection does NOT work if DevTools is open in Chome\n\t\t\tthis.$refs.select.searchEl.focus();\n\t\t}\n\t},\n});\n</script>\n\n<template>\n\t<v-select\n\t\tref=\"select\"\n\t\t:value=\"selected\"\n\t\tlabel=\"title\"\n\t\t:options=\"enumIter\"\n\t\t:placeholder=\"$props.placeholder\"\n\t\t:clearable=\"!$props.required\"\n\t\t:get-option-key=\"getOptionKey\"\n\t\t:get-option-label=\"getOptionLabel\"\n\t\t@input=\"changeHandler\"\n\t>\n\t\t<template #selected-option=\"option\">\n\t\t\t<!-- TODO: getOptionIcon -->\n\t\t\t<i v-if=\"option.icon\" :class=\"option.icon\" />\n\t\t\t{{ getOptionLabel(option) }}\n\t\t</template>\n\t\t<template #option=\"option\">\n\t\t\t<i v-if=\"option.icon\" :class=\"option.icon\" />\n\t\t\t{{ getOptionLabel(option) }}\n\t\t</template>\n\t</v-select>\n</template>\n\n<style>\n/* Make look consistant with Bootstrap */\n.v-select.open .dropdown-toggle {\n\tborder-color: #5cb3fd;\n}\n\n/* Remove weird dropdown icon that Bootstrap adds */\n.v-select .dropdown-toggle::after {\n\tdisplay: none;\n}\n\n/* Wider spacing for clear button */\n.v-select .dropdown-toggle .clear {\n\tmargin-right: 10px;\n}\n\n/* Align dropdown icon correctly */\n.v-select .open-indicator {\n\tmargin-top: -2px;\n}\n\n.v-select .vs__selected i {\n\tmargin-right: 5px;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$a = undefined;
    /* module identifier */
    const __vue_module_identifier__$a = undefined;
    /* functional template */
    const __vue_is_functional_template__$a = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$a = normalizeComponent(
      { render: __vue_render__$6, staticRenderFns: __vue_staticRenderFns__$6 },
      __vue_inject_styles__$a,
      __vue_script__$a,
      __vue_scope_id__$a,
      __vue_is_functional_template__$a,
      __vue_module_identifier__$a,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgChoiceDropdown = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$a
  });

  var script$a = Vue.mgComponent('mgChoiceList', {
    meta: {
      title: 'Radio multiple-choice',
      icon: 'far fa-list-ol',
      category: 'Choice Selectors',
      preferId: true
    },
    data: function data() {
      return {
        enumIter: []
      };
    },
    props: {
      "enum": {
        type: 'mgTable',
        title: 'List items',
        "default": [],
        items: [{
          id: 'title',
          type: 'mgText'
        }, {
          id: 'icon',
          type: 'mgIcon',
          "interface": 'modal'
        }]
      },
      required: {
        type: 'mgToggle',
        "default": false,
        help: 'One choice must be selected'
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    },
    methods: {
      select: function select(id) {
        this.data = id;
      }
    },
    watch: {
      '$props.enum': {
        immediate: true,
        handler: function handler() {
          if (_.isArray(this.$props["enum"]) && _.isString(this.$props["enum"][0])) {
            // Array of strings
            this.enumIter = this.$props["enum"].map(function (i) {
              return {
                id: _.camelCase(i),
                title: i
              };
            });
          } else if (_.isArray(this.$props["enum"]) && _.isObject(this.$props["enum"][0])) {
            // Collection
            this.enumIter = this.$props["enum"];
          }
        }
      }
    }
  });

  /* script */
  const __vue_script__$b = script$a;

  /* template */
  var __vue_render__$7 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "mg-choice-list list-group" },
      _vm._l(_vm.enumIter, function(item) {
        return _c(
          "a",
          {
            key: item.id,
            staticClass: "list-group-item",
            class: _vm.data == item.id && "active",
            on: {
              click: function($event) {
                _vm.data = item.id;
              }
            }
          },
          [
            item.icon ? _c("i", { class: item.icon }) : _vm._e(),
            _vm._v("\n\t\t" + _vm._s(item.title) + "\n\t")
          ]
        )
      }),
      0
    )
  };
  var __vue_staticRenderFns__$7 = [];
  __vue_render__$7._withStripped = true;

    /* style */
    const __vue_inject_styles__$b = function (inject) {
      if (!inject) return
      inject("data-v-2fdd7ca8_0", { source: "\n.mg-choice-list .list-group-item.active {\n\tcolor: #fff;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgChoiceList.vue"],"names":[],"mappings":";AAgEA;CACA,WAAA;AACA","file":"mgChoiceList.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgChoiceList', {\n\tmeta: {\n\t\ttitle: 'Radio multiple-choice',\n\t\ticon: 'far fa-list-ol',\n\t\tcategory: 'Choice Selectors',\n\t\tpreferId: true,\n\t},\n\tdata() { return {\n\t\tenumIter: [],\n\t}},\n\tprops: {\n\t\tenum: {\n\t\t\ttype: 'mgTable',\n\t\t\ttitle: 'List items',\n\t\t\tdefault: [],\n\t\t\titems: [\n\t\t\t\t{id: 'title', type: 'mgText'},\n\t\t\t\t{id: 'icon', type: 'mgIcon', interface: 'modal'},\n\t\t\t],\n\t\t},\n\t\trequired: {type: 'mgToggle', default: false, help: 'One choice must be selected'},\n\t},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && !this.data) return reply(`${this.$props.title} is required`);\n\t\t});\n\t},\n\tmethods: {\n\t\tselect(id) {\n\t\t\tthis.data = id;\n\t\t},\n\t},\n\twatch: {\n\t\t'$props.enum': {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tif (_.isArray(this.$props.enum) && _.isString(this.$props.enum[0])) { // Array of strings\n\t\t\t\t\tthis.enumIter = this.$props.enum.map(i => ({id: _.camelCase(i), title: i}));\n\t\t\t\t} else if (_.isArray(this.$props.enum) && _.isObject(this.$props.enum[0])) { // Collection\n\t\t\t\t\tthis.enumIter = this.$props.enum;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-choice-list list-group\">\n\t\t<a\n\t\t\tv-for=\"item in enumIter\"\n\t\t\t:key=\"item.id\"\n\t\t\tclass=\"list-group-item\"\n\t\t\t:class=\"data == item.id && 'active'\"\n\t\t\t@click=\"data = item.id\"\n\t\t>\n\t\t\t<i v-if=\"item.icon\" :class=\"item.icon\"/>\n\t\t\t{{item.title}}\n\t\t</a>\n\t</div>\n</template>\n\n<style>\n.mg-choice-list .list-group-item.active {\n\tcolor: #fff;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$b = undefined;
    /* module identifier */
    const __vue_module_identifier__$b = undefined;
    /* functional template */
    const __vue_is_functional_template__$b = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$b = normalizeComponent(
      { render: __vue_render__$7, staticRenderFns: __vue_staticRenderFns__$7 },
      __vue_inject_styles__$b,
      __vue_script__$b,
      __vue_scope_id__$b,
      __vue_is_functional_template__$b,
      __vue_module_identifier__$b,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgChoiceList = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$b
  });

  var script$b = Vue.mgComponent('mgChoicePopup', {
    meta: {
      title: 'Choice Popup',
      icon: 'fas fa-window-maximize',
      category: 'Choice Selectors',
      preferId: true
    },
    data: function data() {
      return {
        activeTitle: undefined,
        enumIter: []
      };
    },
    props: {
      "enum": {
        type: 'mgTable',
        title: 'List items',
        items: [{
          id: 'id',
          title: 'ID'
        }, {
          id: 'title',
          title: 'Title'
        }, {
          id: 'class',
          title: 'Classes'
        }, {
          id: 'classActive',
          title: 'Active Class'
        }, {
          id: 'classInactive',
          title: 'Inactive Class'
        }]
      },
      required: {
        type: 'mgToggle',
        "default": false,
        help: 'One choice must be selected'
      },
      popupTitle: {
        type: 'mgText',
        "default": 'Select item',
        advanced: true
      },
      inactiveText: {
        type: 'mgText',
        "default": 'Select item...',
        advanced: true
      },
      iconActive: {
        type: 'mgIcon',
        "default": 'far fa-check',
        advanced: true
      },
      iconInactive: {
        type: 'mgIcon',
        "default": 'far fa-ellipsis-h',
        advanced: true
      },
      classActive: {
        type: 'mgText',
        "default": 'btn btn-primary',
        advanced: true
      },
      classInactive: {
        type: 'mgText',
        "default": 'btn btn-default',
        advanced: true
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    },
    methods: {
      select: function select(id) {
        var _this2 = this;

        this.$prompt.macgyver({
          title: this.$props.popupTitle,
          form: {
            id: 'selected',
            type: 'mgChoiceButtons',
            "enum": this.enumIter,
            classWrapper: 'list-group',
            itemClassActive: 'list-group-item active',
            itemClassInactive: 'list-group-item'
          },
          data: {
            selected: this.data
          },
          buttons: [],
          onShow: function onShow() {
            // Bind to the mg-form element, detect the first change and close the dialog
            _this2.$macgyver.$forms.promptMacGyver.$on('mgChange', function () {
              return setTimeout(function () {
                // Timeout not really needed but it lets the button highlight before we close
                _this2.$prompt.$settings.$defer.resolve(_this2.$prompt.$settings.data);

                _this2.$prompt.close(true);
              }, 100);
            });
          }
        }).then(function (form) {
          return _this2.$set(_this2, 'data', form.selected);
        });
      }
    },
    watch: {
      data: function data() {
        var _this3 = this;

        if (this.data && this.enumIter.length) {
          var activeItem = this.enumIter.find(function (e) {
            return e.id == _this3.data;
          });
          this.$set(this, 'activeTitle', activeItem ? activeItem.title : '');
        }
      },
      '$props.enumUrl': {
        immediate: true,
        handler: function handler() {
          var _this4 = this;

          if (!this.$props.enumUrl) return;
          this.$macgyver.utils.fetch(this.$props.enumUrl, {
            type: 'array',
            mappings: {
              id: {
                required: true
              },
              title: {
                required: true
              }
            }
          }).tap(function (data) {
            return console.log('mgPopup got feed', data);
          }).then(function (data) {
            return _this4.$set(_this4.$props, 'enum', data);
          });
        }
      },
      '$props.enum': {
        immediate: true,
        handler: function handler() {
          if (_.isArray(this.$props["enum"]) && _.isString(this.$props["enum"][0])) {
            // Array of strings
            this.enumIter = this.$props["enum"].map(function (i) {
              return {
                id: _.camelCase(i),
                title: i
              };
            });
          } else if (_.isArray(this.$props["enum"]) && _.isObject(this.$props["enum"][0])) {
            // Collection
            this.enumIter = this.$props["enum"];
          }
        }
      }
    }
  });

  /* script */
  const __vue_script__$c = script$b;

  /* template */
  var __vue_render__$8 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-choice-popup" }, [
      _c(
        "a",
        {
          class: _vm.data ? _vm.$props.classActive : _vm.$props.classInactive,
          on: {
            click: function($event) {
              return _vm.select()
            }
          }
        },
        [
          _c("i", {
            class: _vm.data ? _vm.$props.iconActive : _vm.$props.iconInactive
          }),
          _vm._v(
            "\n\t\t" +
              _vm._s(this.data ? _vm.activeTitle : _vm.$props.inactiveText) +
              "\n\t"
          )
        ]
      )
    ])
  };
  var __vue_staticRenderFns__$8 = [];
  __vue_render__$8._withStripped = true;

    /* style */
    const __vue_inject_styles__$c = undefined;
    /* scoped */
    const __vue_scope_id__$c = undefined;
    /* module identifier */
    const __vue_module_identifier__$c = undefined;
    /* functional template */
    const __vue_is_functional_template__$c = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$c = normalizeComponent(
      { render: __vue_render__$8, staticRenderFns: __vue_staticRenderFns__$8 },
      __vue_inject_styles__$c,
      __vue_script__$c,
      __vue_scope_id__$c,
      __vue_is_functional_template__$c,
      __vue_module_identifier__$c,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgChoicePopup = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$c
  });

  var script$c = Vue.mgComponent('mgChoiceRadio', {
    meta: {
      title: 'Radio multiple-choice',
      icon: 'far fa-list-ul',
      category: 'Choice Selectors',
      preferId: true
    },
    data: function data() {
      return {
        enumIter: []
      };
    },
    props: {
      "enum": {
        type: 'mgTable',
        title: 'List items',
        items: [{
          id: 'id',
          title: 'ID'
        }, {
          id: 'title',
          title: 'Title'
        }]
      },
      required: {
        type: 'mgToggle',
        "default": false,
        help: 'One choice must be selected'
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    },
    methods: {
      select: function select(id) {
        this.data = id;
      }
    },
    watch: {
      '$props.enum': {
        immediate: true,
        handler: function handler() {
          if (_.isArray(this.$props["enum"]) && _.isString(this.$props["enum"][0])) {
            // Array of strings
            this.enumIter = this.$props["enum"].map(function (i) {
              return {
                id: _.camelCase(i),
                title: i
              };
            });
          } else if (_.isArray(this.$props["enum"]) && _.isObject(this.$props["enum"][0])) {
            // Collection
            this.enumIter = this.$props["enum"];
          }
        }
      }
    }
  });

  /* script */
  const __vue_script__$d = script$c;

  /* template */
  var __vue_render__$9 = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      _vm._l(_vm.enumIter, function(item) {
        return _c("div", { key: item.id, staticClass: "form-check" }, [
          _c("input", {
            directives: [
              {
                name: "model",
                rawName: "v-model",
                value: _vm.data,
                expression: "data"
              }
            ],
            attrs: {
              type: "radio",
              name: _vm.$props.id,
              id: "check-" + _vm.$props.id + "-" + item.id
            },
            domProps: { value: item.id, checked: _vm._q(_vm.data, item.id) },
            on: {
              change: function($event) {
                _vm.data = item.id;
              }
            }
          }),
          _vm._v(" "),
          _c(
            "label",
            {
              staticClass: "form-check-label",
              attrs: { for: "check-" + _vm.$props.id + "-" + item.id }
            },
            [_vm._v("\n\t\t\t" + _vm._s(item.title) + "\n\t\t")]
          )
        ])
      }),
      0
    )
  };
  var __vue_staticRenderFns__$9 = [];
  __vue_render__$9._withStripped = true;

    /* style */
    const __vue_inject_styles__$d = undefined;
    /* scoped */
    const __vue_scope_id__$d = undefined;
    /* module identifier */
    const __vue_module_identifier__$d = undefined;
    /* functional template */
    const __vue_is_functional_template__$d = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$d = normalizeComponent(
      { render: __vue_render__$9, staticRenderFns: __vue_staticRenderFns__$9 },
      __vue_inject_styles__$d,
      __vue_script__$d,
      __vue_scope_id__$d,
      __vue_is_functional_template__$d,
      __vue_module_identifier__$d,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgChoiceRadio = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$d
  });

  var _enumSource$2;
  Vue.component('v-select', VueSelect);
  var script$d = Vue.mgComponent('mgChoiceTags', {
    meta: {
      title: 'Dropdown multiple-choice',
      icon: 'far fa-tags',
      category: 'Choice Selectors',
      preferId: true
    },
    data: function data() {
      return {
        selected: [],
        enumIter: []
      };
    },
    props: {
      enumSource: (_enumSource$2 = {
        type: 'mgChoiceButtons',
        "default": 'list',
        "enum": ['list', 'url']
      }, _defineProperty(_enumSource$2, "default", 'list'), _defineProperty(_enumSource$2, "help", 'Where to populate the list data from'), _enumSource$2),
      "enum": {
        type: 'mgTable',
        title: 'List items',
        showIf: 'enumSource == "list"',
        items: [{
          id: 'id',
          type: 'mgText',
          required: true
        }, {
          id: 'title',
          type: 'mgText',
          required: true
        } //{id: 'icon', type: 'mgIcon'},
        ]
      },
      enumUrl: {
        type: 'mgUrl',
        vueType: ['string', 'object'],
        showIf: 'enumSource == "url"',
        help: 'Data feed URL to fetch choice values from'
      },
      optionKeyPath: {
        type: "mgText",
        "default": "id",
        help: "Path within data feed for options key",
        showIf: 'enumSource == "url"'
      },
      optionLabelPath: {
        type: "mgText",
        "default": "title",
        help: "Path within data feed for options label",
        showIf: 'enumSource == "url"'
      },
      placeholder: {
        type: 'mgText',
        help: 'Ghost text to display when there is no value'
      },
      required: {
        type: 'mgToggle',
        "default": false,
        help: 'One choice must be selected'
      },
      allowCreate: {
        type: 'mgToggle',
        "default": false,
        help: 'Allow the user to create their own tags in addition to the supplied ones'
      },
      showDropdown: {
        type: 'mgToggle',
        "default": true,
        help: 'When clicking, show a dropdown box. Disabling will only allow the user to use existing tags'
      },
      maxVisible: {
        type: 'mgNumber',
        "default": 0,
        help: 'Maximum number of tags to display before showing helper text, set to zero to disable'
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data || !_this.data.length) return reply("".concat(_this.$props.title, " is required"));
      });
      this.$watch('$props.enumUrl', function () {
        if (!_this.$props.enumUrl) return;

        _this.$macgyver.utils.fetch(_this.$props.enumUrl, {
          type: 'array'
        }).then(function (data) {
          return _this.setEnum(data);
        });
      }, {
        immediate: true
      });
      this.$watch('$props.enum', function () {
        if (_.isArray(_this.$props["enum"]) && _.isString(_this.$props["enum"][0])) {
          // Array of strings
          _this.setEnum(_this.$props["enum"].map(function (i) {
            return {
              id: _.camelCase(i),
              title: i
            };
          }));
        } else if (_.isArray(_this.$props["enum"]) && _.isObject(_this.$props["enum"][0])) {
          // Collection
          _this.setEnum(_this.$props["enum"]);
        }
      }, {
        immediate: true
      });
    },
    methods: {
      changeHandler: function changeHandler(e) {
        if (!e) return this.data = this.selected = null;
        this.data = this.getOptionKey(e);
        this.selected = e;
      },

      /**
      * Populate the enumIter object
      * This function also correctly populates the selected item (or the default)
      * Each item is assumed to have the spec `{id: String, title: String, icon?: String}`
      * @param {array<Object>} enumIter The new iterable enum
      */
      setEnum: function setEnum(enumIter) {
        var _this2 = this;

        this.enumIter = enumIter;

        if (this.data) {
          this.selected = this.enumIter.find(function (e) {
            return _this2.getOptionKey(e) == _this2.data;
          }) || this.data;
        } else if (this.$props["default"]) {
          this.selected = this.enumIter.find(function (e) {
            return _this2.getOptionKey(e) == _this2.$props["default"];
          }) || this.$props["default"];
        }
      },

      /**
      * Retrieve option label based on path specified in properties.
      * @param {Object} option The selected option within enum
      */
      getOptionLabel: function getOptionLabel(option) {
        return _.get(option, this.$props.optionLabelPath, '');
      },

      /**
      * Retrieve option key based on path specified in properties.
      * @param {Object} option The selected option within enum
      */
      getOptionKey: function getOptionKey(option) {
        return _.get(option, this.$props.optionKeyPath, '');
      }
    }
  });

  /* script */
  const __vue_script__$e = script$d;

  /* template */
  var __vue_render__$a = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("v-select", {
      staticClass: "mg-choice-tags",
      attrs: {
        value: _vm.selected,
        label: "title",
        options: _vm.enumIter,
        placeholder: _vm.$props.placeholder,
        taggable: _vm.$props.allowCreate,
        "no-drop": !_vm.$props.showDropdown,
        "close-on-select": false,
        multiple: true,
        "get-option-key": _vm.getOptionKey,
        "get-option-label": _vm.getOptionLabel
      },
      on: { input: _vm.changeHandler },
      scopedSlots: _vm._u([
        {
          key: "option",
          fn: function(option) {
            return [
              _c("i", {
                staticClass: "far fa-fw",
                class: _vm.selected.some(function(v) {
                  return _vm.getOptionKey(v) == _vm.getOptionKey(option)
                })
                  ? "fa-check"
                  : "",
                attrs: { "data-id": _vm.getOptionKey(option) }
              }),
              _vm._v("\n\t\t" + _vm._s(_vm.getOptionLabel(option)) + "\n\t")
            ]
          }
        },
        {
          key: "selected-option-container",
          fn: function(props) {
            return [
              !_vm.$props.maxVisible ||
              _vm.selected.length - 1 < _vm.$props.maxVisible
                ? _c("span", { staticClass: "vs__selected" }, [
                    _vm._v(
                      "\n\t\t\t" +
                        _vm._s(_vm.getOptionLabel(props.option)) +
                        "\n\t\t\t"
                    ),
                    _c("i", {
                      staticClass: "far fa-times ml-1 clickable",
                      on: {
                        click: function($event) {
                          return props.deselect(props.option)
                        }
                      }
                    })
                  ])
                : _vm.getOptionKey(props.option) ==
                  _vm.getOptionKey(_vm.selected[0])
                ? _c("span", { staticClass: "vs__selected_overflow" }, [
                    _vm._v(
                      "\n\t\t\t" +
                        _vm._s(_vm.selected.length) +
                        " items selected\n\t\t"
                    )
                  ])
                : _c("span")
            ]
          }
        }
      ])
    })
  };
  var __vue_staticRenderFns__$a = [];
  __vue_render__$a._withStripped = true;

    /* style */
    const __vue_inject_styles__$e = function (inject) {
      if (!inject) return
      inject("data-v-0ebbcb00_0", { source: "\n.mg-choice-tags.v-select .vs__selected > i {\n\tcursor: pointer;\n}\n.mg-choice-tags.v-select .vs__selected_overflow {\n\tmargin: 2px 10px;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgChoiceTags.vue"],"names":[],"mappings":";AAiKA;CACA,eAAA;AACA;AAEA;CACA,gBAAA;AACA","file":"mgChoiceTags.vue","sourcesContent":["<script>\n/**\n* NOTE: Toggling deselection from the menu is not yet supported until\n*       https://github.com/sagalbot/vue-select/pull/877\n*       Has been merged\n*       - MC 2020-01-10\n*/\n\nimport VueSelect from 'vue-select';\nimport 'vue-select/dist/vue-select.css';\n\nVue.component('v-select', VueSelect);\n\nexport default Vue.mgComponent('mgChoiceTags', {\n\tmeta: {\n\t\ttitle: 'Dropdown multiple-choice',\n\t\ticon: 'far fa-tags',\n\t\tcategory: 'Choice Selectors',\n\t\tpreferId: true,\n\t},\n\tdata() { return {\n\t\tselected: [],\n\t\tenumIter: [],\n\t}},\n\tprops: {\n\t\tenumSource: {type: 'mgChoiceButtons', default: 'list', enum: ['list', 'url'], default: 'list', help: 'Where to populate the list data from'},\n\t\tenum: {\n\t\t\ttype: 'mgTable',\n\t\t\ttitle: 'List items',\n\t\t\tshowIf: 'enumSource == \"list\"',\n\t\t\titems: [\n\t\t\t\t{id: 'id', type: 'mgText', required: true},\n\t\t\t\t{id: 'title', type: 'mgText', required: true},\n\t\t\t\t//{id: 'icon', type: 'mgIcon'},\n\t\t\t],\n\t\t},\n\t\tenumUrl: {type: 'mgUrl', vueType: ['string', 'object'], showIf: 'enumSource == \"url\"', help: 'Data feed URL to fetch choice values from'},\n\t\toptionKeyPath: {\n\t\t\ttype: \"mgText\",\n\t\t\tdefault: \"id\",\n\t\t\thelp: \"Path within data feed for options key\",\n\t\t\tshowIf: 'enumSource == \"url\"',\n\t\t},\n\t\toptionLabelPath: {\n\t\t\ttype: \"mgText\",\n\t\t\tdefault: \"title\",\n\t\t\thelp: \"Path within data feed for options label\",\n\t\t\tshowIf: 'enumSource == \"url\"',\n\t\t},\n\t\tplaceholder: {type: 'mgText', help: 'Ghost text to display when there is no value'},\n\t\trequired: {type: 'mgToggle', default: false, help: 'One choice must be selected'},\n\t\tallowCreate: {type: 'mgToggle', default: false, help: 'Allow the user to create their own tags in addition to the supplied ones'},\n\t\tshowDropdown: {type: 'mgToggle', default: true, help: 'When clicking, show a dropdown box. Disabling will only allow the user to use existing tags'},\n\t\tmaxVisible: {type: 'mgNumber', default: 0, help: 'Maximum number of tags to display before showing helper text, set to zero to disable'},\n\t},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && !this.data || !this.data.length) return reply(`${this.$props.title} is required`);\n\t\t});\n\n\t\tthis.$watch('$props.enumUrl', ()=> {\n\t\t\tif (!this.$props.enumUrl) return;\n\t\t\tthis.$macgyver.utils.fetch(this.$props.enumUrl, {type: 'array'})\n\t\t\t\t.then(data => this.setEnum(data))\n\t\t}, {immediate: true});\n\n\t\tthis.$watch('$props.enum', ()=> {\n\t\t\tif (_.isArray(this.$props.enum) && _.isString(this.$props.enum[0])) { // Array of strings\n\t\t\t\tthis.setEnum(this.$props.enum.map(i => ({id: _.camelCase(i), title: i})));\n\t\t\t} else if (_.isArray(this.$props.enum) && _.isObject(this.$props.enum[0])) { // Collection\n\t\t\t\tthis.setEnum(this.$props.enum);\n\t\t\t}\n\t\t}, {immediate: true});\n\t},\n\tmethods: {\n\t\tchangeHandler(e) {\n\t\t\tif (!e) return this.data = this.selected = null;\n\t\t\tthis.data = this.getOptionKey(e);\n\t\t\tthis.selected = e;\n\t\t},\n\n\t\t/**\n\t\t* Populate the enumIter object\n\t\t* This function also correctly populates the selected item (or the default)\n\t\t* Each item is assumed to have the spec `{id: String, title: String, icon?: String}`\n\t\t* @param {array<Object>} enumIter The new iterable enum\n\t\t*/\n\t\tsetEnum(enumIter) {\n\t\t\tthis.enumIter = enumIter;\n\n\t\t\tif (this.data) {\n\t\t\t\tthis.selected =\n\t\t\t\t\tthis.enumIter.find(\n\t\t\t\t\t\t(e) => this.getOptionKey(e) == this.data\n\t\t\t\t\t) || this.data;\n\t\t\t} else if (this.$props.default) {\n\t\t\t\tthis.selected =\n\t\t\t\t\tthis.enumIter.find(\n\t\t\t\t\t\t(e) => this.getOptionKey(e) == this.$props.default\n\t\t\t\t\t) || this.$props.default;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* Retrieve option label based on path specified in properties.\n\t\t* @param {Object} option The selected option within enum\n\t\t*/\n\t\tgetOptionLabel(option) {\n\t\t\treturn _.get(option, this.$props.optionLabelPath, '');\n\t\t},\n\n\t\t/**\n\t\t* Retrieve option key based on path specified in properties.\n\t\t* @param {Object} option The selected option within enum\n\t\t*/\n\t\tgetOptionKey(option) {\n\t\t\treturn _.get(option, this.$props.optionKeyPath, '');\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<v-select\n\t\tclass=\"mg-choice-tags\"\n\t\t:value=\"selected\"\n\t\tlabel=\"title\"\n\t\t:options=\"enumIter\"\n\t\t:placeholder=\"$props.placeholder\"\n\t\t:taggable=\"$props.allowCreate\"\n\t\t:no-drop=\"!$props.showDropdown\"\n\t\t:close-on-select=\"false\"\n\t\t:multiple=\"true\"\n\t\t:get-option-key=\"getOptionKey\"\n\t\t:get-option-label=\"getOptionLabel\"\n\t\t@input=\"changeHandler\"\n\t>\n\t\t<template #option=\"option\">\n\t\t\t<i\n\t\t\t\tclass=\"far fa-fw\"\n\t\t\t\t:class=\"selected.some(v => getOptionKey(v) == getOptionKey(option)) ? 'fa-check' : ''\"\n\t\t\t\t:data-id=\"getOptionKey(option)\"\n\t\t\t/>\n\t\t\t{{ getOptionLabel(option) }}\n\t\t</template>\n\t\t<template #selected-option-container=\"props\">\n\t\t\t<span v-if=\"!$props.maxVisible || selected.length - 1 < $props.maxVisible\" class=\"vs__selected\">\n\t\t\t\t{{ getOptionLabel(props.option) }}\n\t\t\t\t<i @click=\"props.deselect(props.option)\" class=\"far fa-times ml-1 clickable\"/>\n\t\t\t</span>\n\t\t\t<!-- Render only the first selected element - skip the rest -->\n\t\t\t<span v-else-if=\"getOptionKey(props.option) == getOptionKey(selected[0])\" class=\"vs__selected_overflow\">\n\t\t\t\t{{selected.length}} items selected\n\t\t\t</span>\n\t\t\t<!-- Not sure why Vue needs an empty element but if its not here it falls back to the v-select render -->\n\t\t\t<span v-else/>\n\t\t</template>\n\t</v-select>\n</template>\n\n<style>\n.mg-choice-tags.v-select .vs__selected > i {\n\tcursor: pointer;\n}\n\n.mg-choice-tags.v-select .vs__selected_overflow {\n\tmargin: 2px 10px;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$e = undefined;
    /* module identifier */
    const __vue_module_identifier__$e = undefined;
    /* functional template */
    const __vue_is_functional_template__$e = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$e = normalizeComponent(
      { render: __vue_render__$a, staticRenderFns: __vue_staticRenderFns__$a },
      __vue_inject_styles__$e,
      __vue_script__$e,
      __vue_scope_id__$e,
      __vue_is_functional_template__$e,
      __vue_module_identifier__$e,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgChoiceTags = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$e
  });

  var script$e = Vue.mgComponent('mgChoiceTree', {
    meta: {
      title: 'Choice Tree',
      icon: 'fas fa-stream',
      category: 'Choice Selectors',
      preferId: true
    },
    data: function data() {
      return {
        enumIter: undefined
      };
    },
    props: {
      "enum": {
        type: 'mgTable',
        title: 'List items',
        items: [{
          id: 'id',
          title: 'ID'
        }, {
          id: 'title',
          title: 'Title'
        }, {
          id: 'icon',
          title: 'Icon'
        } // Icon used to override both item.iconOpen + item.iconClosed
        // 'enum': FIXME: We can't recursively edit children yet
        ]
      },
      required: {
        type: 'mgToggle',
        "default": false,
        help: 'One choice must be selected'
      },
      collapsable: {
        type: 'mgToggle',
        "default": true,
        help: 'Allow branches to be closed'
      },
      selectBranches: {
        type: 'mgToggle',
        "default": false,
        help: 'Allow selection of tree branches rather than just end leaves'
      },
      classWrapper: {
        type: 'mgText',
        "default": 'mg-choice-tree',
        title: 'Group CSS class',
        advanced: true
      },
      branchClass: {
        type: 'mgText',
        "default": 'mg-choice-tree-branch list-group',
        title: 'Branch CSS class',
        advanced: true
      },
      itemClassActive: {
        type: 'mgText',
        title: 'Item class active',
        "default": 'btn btn-primary text-left',
        advanced: true
      },
      itemClassInactive: {
        type: 'mgText',
        title: 'Item class inactive',
        "default": 'btn btn-light text-left',
        advanced: true
      },
      iconClassBranch: {
        type: 'mgIcon',
        title: 'Branch icon base',
        "default": 'far fa-folder fa-lg',
        advanced: true
      },
      iconClassBranchOpen: {
        type: 'mgIcon',
        title: 'Branch icon open (overrides base)',
        "default": '',
        advanced: true
      },
      iconClassBranchClosed: {
        type: 'mgIcon',
        title: 'Branch icon closed (overrides base)',
        "default": '',
        advanced: true
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    },
    methods: {
      select: function select(item) {
        if (this.$props.collapsable && !item.isLeaf && !item.open) {
          // Item is closed - user probably wants it open
          console.log('Toggle open (node is closed)');
          item.isOpen = !item.isOpen;
        } else if ((item.isLeaf || this.$props.selectBranches) && item.active != item.id) {
          // Item is selectable but not selected - user probably wants it selected
          if (!this.$props.required && this.data == item.id) {
            console.log('Deselect');
            this.data = undefined;
          } else {
            console.log('Select');
            this.data = item.id;
            console.log('DATA', this.data);
          }
        } else if (this.$props.collapsable && !item.isLeaf) {
          // No idea, but item is not a leaf, maybe the user wants to toggle it?
          console.log('Toggle open');
          item.open = !item.isOpen;
        } else {
          // Give up
          console.warn('FIXME: No idea what the user wants to do when clicking on item', item);
        }

        this.$forceUpdate(); // FIXME: Not happy with this but no idea how to make the render function selectively update yet
      },
      toggleOpen: function toggleOpen(item) {
        item.isOpen = !item.isOpen;
        this.$forceUpdate(); // FIXME: Again, not happy
      }
    },
    watch: {
      /**
      * Remap the incomming `enum` into an iterable array-of-arrays
      * Each child will be of the form {id, title, enum?, isOpen, isLeaf}
      */
      '$props.enum': {
        immediate: true,
        handler: function handler() {
          if (!this.$props["enum"]) return; // Nothing to render yet

          var walkBranch = function walkBranch(items) {
            return items.map(function (item) {
              if (typeof item == 'string') item = {
                title: item,
                id: _.camelCase(item)
              };
              item.isOpen = true;
              item.isLeaf = !item["enum"] || item["enum"].length < 1;
              if (!item.isLeaf) item["enum"] = walkBranch(item["enum"]);
              return item;
            });
          };

          this.enumIter = walkBranch(this.$props["enum"]);
        }
      }
    },
    render: function render(h) {
      var _this2 = this;

      var renderBranch = function renderBranch(items, isOpen) {
        return h('div', {
          "class": [_this2.$props.branchClass, isOpen && 'open']
        }, items.map(function (item) {
          return [h('div', {
            "class": _this2.data == item.id ? _this2.$props.itemClassActive : _this2.$props.itemClassInactive,
            on: {
              click: function click(e) {
                _this2.select(item);

                e.stopPropagation();
              }
            }
          }, [h('i', {
            "class": item.isOpen && item.iconOpen ? item.iconOpen : item.isOpen && item.icon ? item.icon : item.isOpen && _this2.$props.iconClassBranchOpen ? _this2.$props.iconClassBranchOpen : !item.isOpen && item.iconClosed ? item.iconClosed : !item.isOpen && item.icon ? item.icon : !item.isOpen && _this2.$props.iconClassBranchClosed ? _this2.$props.iconClassBranchClosed : _this2.$props.iconClassBranch,
            on: {
              click: function click(e) {
                _this2.toggleOpen(item);

                e.stopPropagation();
              }
            }
          }), h('span', {
            "class": 'mg-choice-tree-title'
          }, item.title), item["enum"] ? renderBranch(item["enum"], item.isOpen) : undefined])];
        }));
      };

      return h('div', {
        "class": this.$props.classWrapper
      }, [renderBranch(this.enumIter, true)]);
    }
  });

  /* script */
  const __vue_script__$f = script$e;

  /* template */

    /* style */
    const __vue_inject_styles__$f = function (inject) {
      if (!inject) return
      inject("data-v-701e7bde_0", { source: "\n.mg-choice-tree-branch {\n\tmargin-left: 32px;\n}\n.mg-choice-tree-branch:not(.open) {\n\tdisplay: none;\n}\n.mg-choice-tree-branch i {\n\tmargin-right: 5px;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgChoiceTree.vue"],"names":[],"mappings":";AA8IA;CACA,iBAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,iBAAA;AACA","file":"mgChoiceTree.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgChoiceTree', {\n\tmeta: {\n\t\ttitle: 'Choice Tree',\n\t\ticon: 'fas fa-stream',\n\t\tcategory: 'Choice Selectors',\n\t\tpreferId: true,\n\t},\n\tdata() { return {\n\t\tenumIter: undefined,\n\t}},\n\tprops: {\n\t\tenum: {\n\t\t\ttype: 'mgTable',\n\t\t\ttitle: 'List items',\n\t\t\titems: [\n\t\t\t\t{id: 'id', title: 'ID'},\n\t\t\t\t{id: 'title', title: 'Title'},\n\t\t\t\t{id: 'icon', title: 'Icon'}, // Icon used to override both item.iconOpen + item.iconClosed\n\t\t\t\t// 'enum': FIXME: We can't recursively edit children yet\n\t\t\t],\n\t\t},\n\t\trequired: {type: 'mgToggle', default: false, help: 'One choice must be selected'},\n\t\tcollapsable: {type: 'mgToggle', default: true, help: 'Allow branches to be closed'},\n\t\tselectBranches: {type: 'mgToggle', default: false, help: 'Allow selection of tree branches rather than just end leaves'},\n\t\tclassWrapper: {type: 'mgText', default: 'mg-choice-tree', title: 'Group CSS class', advanced: true},\n\t\tbranchClass: {type: 'mgText', default: 'mg-choice-tree-branch list-group', title: 'Branch CSS class', advanced: true},\n\t\titemClassActive: {type: 'mgText', title: 'Item class active', default: 'btn btn-primary text-left', advanced: true},\n\t\titemClassInactive: {type: 'mgText', title: 'Item class inactive', default: 'btn btn-light text-left', advanced: true},\n\t\ticonClassBranch: {type: 'mgIcon', title: 'Branch icon base', default: 'far fa-folder fa-lg', advanced: true},\n\t\ticonClassBranchOpen: {type: 'mgIcon', title: 'Branch icon open (overrides base)', default: '', advanced: true},\n\t\ticonClassBranchClosed: {type: 'mgIcon', title: 'Branch icon closed (overrides base)', default: '', advanced: true},\n\t},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && !this.data) return reply(`${this.$props.title} is required`);\n\t\t});\n\t},\n\tmethods: {\n\t\tselect(item) {\n\t\t\tif (this.$props.collapsable && !item.isLeaf && !item.open) { // Item is closed - user probably wants it open\n\t\t\t\tconsole.log('Toggle open (node is closed)');\n\t\t\t\titem.isOpen = !item.isOpen;\n\t\t\t} else if ((item.isLeaf || this.$props.selectBranches) && item.active != item.id) { // Item is selectable but not selected - user probably wants it selected\n\t\t\t\tif (!this.$props.required && this.data == item.id) {\n\t\t\t\t\tconsole.log('Deselect');\n\t\t\t\t\tthis.data = undefined;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('Select');\n\t\t\t\t\tthis.data = item.id;\n\t\t\t\t\tconsole.log('DATA', this.data);\n\t\t\t\t}\n\t\t\t} else if (this.$props.collapsable && !item.isLeaf) { // No idea, but item is not a leaf, maybe the user wants to toggle it?\n\t\t\t\tconsole.log('Toggle open');\n\t\t\t\titem.open = !item.isOpen;\n\t\t\t} else { // Give up\n\t\t\t\tconsole.warn('FIXME: No idea what the user wants to do when clicking on item', item);\n\t\t\t}\n\n\t\t\tthis.$forceUpdate(); // FIXME: Not happy with this but no idea how to make the render function selectively update yet\n\t\t},\n\n\t\ttoggleOpen(item) {\n\t\t\titem.isOpen = !item.isOpen;\n\t\t\tthis.$forceUpdate(); // FIXME: Again, not happy\n\t\t},\n\t},\n\twatch: {\n\t\t/**\n\t\t* Remap the incomming `enum` into an iterable array-of-arrays\n\t\t* Each child will be of the form {id, title, enum?, isOpen, isLeaf}\n\t\t*/\n\t\t'$props.enum': {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tif (!this.$props.enum) return; // Nothing to render yet\n\n\t\t\t\tvar walkBranch = items => {\n\t\t\t\t\treturn items.map(item => {\n\t\t\t\t\t\tif (typeof item == 'string') item = {title: item, id: _.camelCase(item)};\n\t\t\t\t\t\titem.isOpen = true;\n\n\t\t\t\t\t\titem.isLeaf = !item.enum || item.enum.length < 1;\n\t\t\t\t\t\tif (!item.isLeaf) item.enum = walkBranch(item.enum);\n\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.enumIter = walkBranch(this.$props.enum);\n\t\t\t},\n\t\t},\n\t},\n\trender(h) {\n\t\tvar renderBranch = (items, isOpen) => h(\n\t\t\t'div',\n\t\t\t{class: [\n\t\t\t\tthis.$props.branchClass,\n\t\t\t\tisOpen && 'open',\n\t\t\t]},\n\t\t\titems.map(item => [\n\t\t\t\th(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: this.data == item.id ? this.$props.itemClassActive : this.$props.itemClassInactive,\n\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\tclick: e => {\n\t\t\t\t\t\t\t\tthis.select(item);\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\th('i', {\n\t\t\t\t\t\t\tclass:\n\t\t\t\t\t\t\t\titem.isOpen && item.iconOpen ? item.iconOpen\n\t\t\t\t\t\t\t\t: item.isOpen && item.icon ? item.icon\n\t\t\t\t\t\t\t\t: item.isOpen && this.$props.iconClassBranchOpen ? this.$props.iconClassBranchOpen\n\t\t\t\t\t\t\t\t: !item.isOpen && item.iconClosed ? item.iconClosed\n\t\t\t\t\t\t\t\t: !item.isOpen && item.icon ? item.icon\n\t\t\t\t\t\t\t\t: !item.isOpen && this.$props.iconClassBranchClosed ? this.$props.iconClassBranchClosed\n\t\t\t\t\t\t\t\t: this.$props.iconClassBranch,\n\t\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\t\tclick: e => {\n\t\t\t\t\t\t\t\t\tthis.toggleOpen(item);\n\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\t\t\th('span', {class: 'mg-choice-tree-title'}, item.title),\n\t\t\t\t\t\titem.enum ? renderBranch(item.enum, item.isOpen) : undefined,\n\t\t\t\t\t],\n\t\t\t\t),\n\t\t\t])\n\t\t);\n\n\t\treturn h('div', {class: this.$props.classWrapper}, [renderBranch(this.enumIter, true)]);\n\t},\n});\n</script>\n\n<style>\n.mg-choice-tree-branch {\n\tmargin-left: 32px;\n}\n\n.mg-choice-tree-branch:not(.open) {\n\tdisplay: none;\n}\n\n.mg-choice-tree-branch i {\n\tmargin-right: 5px;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$f = undefined;
    /* module identifier */
    const __vue_module_identifier__$f = undefined;
    /* functional template */
    const __vue_is_functional_template__$f = undefined;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$f = normalizeComponent(
      {},
      __vue_inject_styles__$f,
      __vue_script__$f,
      __vue_scope_id__$f,
      __vue_is_functional_template__$f,
      __vue_module_identifier__$f,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgChoiceTree = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$f
  });

  var vJsoneditor_min = createCommonjsModule(function (module, exports) {
  !function(e,t){module.exports=t();}("undefined"!=typeof self?self:commonjsGlobal,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n});},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./dist/",t(t.s=5)}([function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjI0MCIKICAgaGVpZ2h0PSIxNDQiCiAgIGlkPSJzdmc0MTM2IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1IgogICBzb2RpcG9kaTpkb2NuYW1lPSJqc29uZWRpdG9yLWljb25zLnN2ZyI+CiAgPHRpdGxlCiAgICAgaWQ9InRpdGxlNjUxMiI+SlNPTiBFZGl0b3IgSWNvbnM8L3RpdGxlPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQxNDgiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPkpTT04gRWRpdG9yIEljb25zPC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczQxNDYiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmNjNmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEwMjYiCiAgICAgaWQ9Im5hbWVkdmlldzQxNDQiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTMuMjI5MTgxIgogICAgIGlua3NjYXBlOmN5PSIxMTkuODI0MjkiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc0MTM2IgogICAgIHNob3dndWlkZXM9ImZhbHNlIgogICAgIGJvcmRlcmxheWVyPSJmYWxzZSIKICAgICBpbmtzY2FwZTpzaG93cGFnZXNoYWRvdz0idHJ1ZSIKICAgICBzaG93Ym9yZGVyPSJ0cnVlIj4KICAgIDxpbmtzY2FwZTpncmlkCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBpZD0iZ3JpZDQ2NDAiCiAgICAgICBlbXBzcGFjaW5nPSIyNCIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8IS0tIENyZWF0ZWQgd2l0aCBTVkctZWRpdCAtIGh0dHA6Ly9zdmctZWRpdC5nb29nbGVjb2RlLmNvbS8gLS0+CiAgPHJlY3QKICAgICBzdHlsZT0iZmlsbDojNGM0YzRjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIgogICAgIGlkPSJzdmdfMSIKICAgICBoZWlnaHQ9IjE2IgogICAgIHdpZHRoPSIxNiIKICAgICB5PSI0IgogICAgIHg9IjQiIC8+CiAgPHJlY3QKICAgICBpZD0ic3ZnXzEtNyIKICAgICBoZWlnaHQ9IjE2IgogICAgIHdpZHRoPSIxNiIKICAgICB5PSIzLjk5OTk5NSIKICAgICB4PSIyOC4wMDAwMDYiCiAgICAgc3R5bGU9ImZpbGw6I2VjM2YyOTtmaWxsLW9wYWNpdHk6MC45NDExNzY0NztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIgLz4KICA8cmVjdAogICAgIHN0eWxlPSJmaWxsOiM0YzRjNGM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAiCiAgICAgeD0iNTIuMDAwMDA0IgogICAgIHk9IjMuOTk5OTk1IgogICAgIHdpZHRoPSIxNiIKICAgICBoZWlnaHQ9IjE2IgogICAgIGlkPSJyZWN0NDE2NSIgLz4KICA8cmVjdAogICAgIGlkPSJyZWN0NDE3NSIKICAgICBoZWlnaHQ9IjE2IgogICAgIHdpZHRoPSIxNiIKICAgICB5PSIzLjk5OTk4NTIiCiAgICAgeD0iMTcyLjAwMDAyIgogICAgIHN0eWxlPSJmaWxsOiM0YzRjNGM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAiIC8+CiAgPHJlY3QKICAgICBpZD0icmVjdDQxNzUtMyIKICAgICBoZWlnaHQ9IjE2IgogICAgIHdpZHRoPSIxNiIKICAgICB5PSIzLjk5OTk5NSIKICAgICB4PSIxOTYiCiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIgLz4KICA8ZwogICAgIGlkPSJnNDI5OSIKICAgICBzdHlsZT0ic3Ryb2tlOm5vbmUiPgogICAgPHJlY3QKICAgICAgIHg9IjcuMDAwMDA0OCIKICAgICAgIHk9IjEwLjk5OTk5OCIKICAgICAgIHdpZHRoPSI5Ljk5OTk5MjQiCiAgICAgICBoZWlnaHQ9IjEuOTk5OTk4NiIKICAgICAgIGlkPSJzdmdfMS0xIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIgLz4KICAgIDxyZWN0CiAgICAgICB4PSIxMS4wMDAwMDUiCiAgICAgICB5PSI3LjAwMDAxMTQiCiAgICAgICB3aWR0aD0iMS45OTk5OTU1IgogICAgICAgaGVpZ2h0PSI5Ljk5OTk4MzgiCiAgICAgICBpZD0ic3ZnXzEtMS0xIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIgLz4KICA8L2c+CiAgPGcKICAgICBpZD0iZzQyOTktMyIKICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEwNjc4LC0wLjcwNzEwNjc4LDAuNzA3MTA2NzgsMC43MDcxMDY3OCwxOS4wMjk0MzUsMTIuMDAwMDAxKSIKICAgICBzdHlsZT0ic3Ryb2tlOm5vbmUiPgogICAgPHJlY3QKICAgICAgIHg9IjcuMDAwMDA0OCIKICAgICAgIHk9IjEwLjk5OTk5OCIKICAgICAgIHdpZHRoPSI5Ljk5OTk5MjQiCiAgICAgICBoZWlnaHQ9IjEuOTk5OTk4NiIKICAgICAgIGlkPSJzdmdfMS0xLTAiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIiAvPgogICAgPHJlY3QKICAgICAgIHg9IjExLjAwMDAwNSIKICAgICAgIHk9IjcuMDAwMDExNCIKICAgICAgIHdpZHRoPSIxLjk5OTk5NTUiCiAgICAgICBoZWlnaHQ9IjkuOTk5OTgzOCIKICAgICAgIGlkPSJzdmdfMS0xLTEtOSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAiIC8+CiAgPC9nPgogIDxyZWN0CiAgICAgaWQ9InN2Z18xLTctNSIKICAgICBoZWlnaHQ9IjYuOTk5OTkwNSIKICAgICB3aWR0aD0iNi45OTk5OTA5IgogICAgIHk9IjcuMDAwMDA0OCIKICAgICB4PSI1NS4wMDAwMDQiCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MCIgLz4KICA8cmVjdAogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiM0YzRjNGM7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICB4PSI1OCIKICAgICB5PSIxMC4wMDAwMSIKICAgICB3aWR0aD0iNi45OTk5OTA5IgogICAgIGhlaWdodD0iNi45OTk5OTA1IgogICAgIGlkPSJyZWN0NDM1NCIgLz4KICA8cmVjdAogICAgIGlkPSJzdmdfMS03LTUtNyIKICAgICBoZWlnaHQ9IjYuOTk5OTkwNSIKICAgICB3aWR0aD0iNi45OTk5OTA5IgogICAgIHk9IjEwLjAwMDAwNSIKICAgICB4PSI1OC4wMDAwMDQiCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzNjODBkZjtzdHJva2Utd2lkdGg6MDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eTowLjk0MTE3NjQ3IiAvPgogIDxnCiAgICAgaWQ9Imc0Mzc4Ij4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowIgogICAgICAgeD0iMTk4IgogICAgICAgeT0iMTAuOTk5OTk5IgogICAgICAgd2lkdGg9IjcuOTk5OTkwOSIKICAgICAgIGhlaWdodD0iMS45OTk5OTY1IgogICAgICAgaWQ9InN2Z18xLTctNS0zIiAvPgogICAgPHJlY3QKICAgICAgIGlkPSJyZWN0NDM3NCIKICAgICAgIGhlaWdodD0iMS45OTk5OTQ2IgogICAgICAgd2lkdGg9IjExLjk5OTk5NSIKICAgICAgIHk9IjcuMDAwMDAwNSIKICAgICAgIHg9IjE5OCIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAiIC8+CiAgICA8cmVjdAogICAgICAgaWQ9InJlY3Q0Mzc2IgogICAgICAgaGVpZ2h0PSIxLjk5OTk5OTUiCiAgICAgICB3aWR0aD0iMy45OTk5OTI4IgogICAgICAgeT0iMTQuOTk5OTk2IgogICAgICAgeD0iMTk4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MCIgLz4KICA8L2c+CiAgPGcKICAgICB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwtMjMuOTk5OTk1LDIzLjk5OTk5NSkiCiAgICAgaWQ9Imc0MzgzIj4KICAgIDxyZWN0CiAgICAgICBpZD0icmVjdDQzODUiCiAgICAgICBoZWlnaHQ9IjEuOTk5OTk2NSIKICAgICAgIHdpZHRoPSI3Ljk5OTk5MDkiCiAgICAgICB5PSIxMC45OTk5OTkiCiAgICAgICB4PSIxOTgiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAiCiAgICAgICB4PSIxOTgiCiAgICAgICB5PSI3LjAwMDAwMDUiCiAgICAgICB3aWR0aD0iMTEuOTk5OTk1IgogICAgICAgaGVpZ2h0PSIxLjk5OTk5NDYiCiAgICAgICBpZD0icmVjdDQzODciIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MCIKICAgICAgIHg9IjE5OCIKICAgICAgIHk9IjE0Ljk5OTk5NiIKICAgICAgIHdpZHRoPSIzLjk5OTk5MjgiCiAgICAgICBoZWlnaHQ9IjEuOTk5OTk5NSIKICAgICAgIGlkPSJyZWN0NDM4OSIgLz4KICA8L2c+CiAgPHJlY3QKICAgICBzdHlsZT0iZmlsbDojNGM0YzRjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIgogICAgIGlkPSJyZWN0Mzc1NC00IgogICAgIHdpZHRoPSIxNiIKICAgICBoZWlnaHQ9IjE2IgogICAgIHg9Ijc2IgogICAgIHk9IjMuOTk5OTE5OSIgLz4KICA8cGF0aAogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiNmZmZmZmY7c3Ryb2tlLXdpZHRoOjAuMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgIGQ9Im0gODUuMTA0NDcsNi4wMTU3Mzg0IC0wLjAxNTYsMS40MDYzIGMgMy4wMjY2OSwtMC4yNDAyIDAuMzMwMDgsMy42NTA3OTk2IDIuNDg0MzgsNC41NzgwOTk2IC0yLjE4Njk0LDEuMDkzOCAwLjQ5MTkxLDQuOTA2OSAtMi40NTMxMyw0LjU3ODEgbCAtMC4wMTU2LDEuNDIxOSBjIDUuNzA4MjgsMC41NTkgMS4wMzI2NCwtNS4xMDA1IDQuNzAzMTMsLTUuMjY1NiBsIDAsLTEuNDA2MyBjIC0zLjYxMzAzLC0wLjAyNyAxLjExODkzLC01LjcwNjk5OTYgLTQuNzAzMTMsLTUuMzEyNDk5NiB6IgogICAgIGlkPSJwYXRoNDM1MSIKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2MiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDowLjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICBkPSJtIDgyLjc4MTI1LDUuOTk4NDM4NCAwLjAxNTYsMS40MDYzIGMgLTMuMDI2NjgsLTAuMjQwMiAtMC4zMzAwNywzLjY1MDY5OTYgLTIuNDg0MzcsNC41NzgwOTk2IDIuMTg2OTQsMS4wOTM4IC0wLjQ5MTkyLDQuOTA2OSAyLjQ1MzEyLDQuNTc4MSBsIDAuMDE1NiwxLjQyMTkgYyAtNS43MDgyNywwLjU1OSAtMS4wMzI2MywtNS4xMDA0IC00LjcwMzEyLC01LjI2NTYgbCAwLC0xLjQwNjMgYyAzLjYxMzAzLC0wLjAyNyAtMS4xMTg5NCwtNS43MDcwOTk2IDQuNzAzMTIsLTUuMzEyNDk5NiB6IgogICAgIGlkPSJwYXRoNDM1MS05IgogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NjYyIgLz4KICA8cmVjdAogICAgIHN0eWxlPSJmaWxsOiM0YzRjNGM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiCiAgICAgaWQ9InJlY3QzNzU0LTI1IgogICAgIHdpZHRoPSIxNiIKICAgICBoZWlnaHQ9IjE2IgogICAgIHg9IjEwMCIKICAgICB5PSIzLjk5OTkxOTkiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIgogICAgIGQ9Im0gMTAzLjcxOSw1LjY3MTkzODQgMCwxMi43MTg3OTk2IDMuMDMxMjUsMCAwLC0xLjUzMTMgLTEuMzQzNzUsMCAwLC05LjYyNDk5OTYgMS4zNzUsMCAwLC0xLjU2MjUgeiIKICAgICBpZD0icGF0aDI5ODciCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICA8cGF0aAogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiCiAgICAgZD0ibSAxMTIuMjE4NSw1LjY3MjE5ODQgMCwxMi43MTg3OTk2IC0zLjAzMTI1LDAgMCwtMS41MzEzIDEuMzQzNzUsMCAwLC05LjYyNDk5OTYgLTEuMzc1LDAgMCwtMS41NjI1IHoiCiAgICAgaWQ9InBhdGgyOTg3LTEiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICA8cmVjdAogICAgIHN0eWxlPSJmaWxsOiM0YzRjNGM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiCiAgICAgaWQ9InJlY3QzNzU0LTczIgogICAgIHdpZHRoPSIxNiIKICAgICBoZWlnaHQ9IjE2IgogICAgIHg9IjEyNCIKICAgICB5PSIzLjk5OTkxOTkiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIgogICAgIGQ9Im0gMTI2LjI4MjQsMTcuNjAyOTM4IDEuNzg5NTcsMCAxLjE0MTQzLC0yLjg2NDEgNS42NTM2NCwwIDEuMTQ4NTYsMi44NjQxIDEuNzY1NjUsMCAtNC43ODY4NywtMTEuMTYxMDk5NiAtMS45MTkwMywwIHoiCiAgICAgaWQ9InBhdGgzNzgwIgogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NjY2MiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0iZmlsbDojNGM0YzRjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIgogICAgIGQ9Im0gMTI5LjcyNzA0LDEzLjQ3ODgzOCA0LjYwODUyLDAuMDEgLTIuMzA0MjYsLTUuNTQ5Nzk5NiB6IgogICAgIGlkPSJwYXRoMzc4MiIKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogIDxyZWN0CiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZSIKICAgICBpZD0icmVjdDM3NTQtMzUiCiAgICAgd2lkdGg9IjE2IgogICAgIGhlaWdodD0iMTYiCiAgICAgeD0iMTQ4IgogICAgIHk9IjMuOTk5OTE5OSIgLz4KICA8cGF0aAogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiCiAgICAgZD0ibSAxNTYuNDc2NTUsNS44OTE3Mzg0IDAsMi4xNzk3IDAuNDYwOTMsMi4zOTgzOTk2IDEuODI4MTMsMCAwLjM5ODQ0LC0yLjM5ODM5OTYgMCwtMi4xNzk3IHoiCiAgICAgaWQ9InBhdGg1MDA4LTIiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2MiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIgogICAgIGQ9Im0gMTUyLjUxNTYxLDUuODkwNjM4NCAwLDIuMTc5NyAwLjQ2MDk0LDIuMzk4Mzk5NiAxLjgyODEyLDAgMC4zOTg0NCwtMi4zOTgzOTk2IDAsLTIuMTc5NyB6IgogICAgIGlkPSJwYXRoNTAwOC0yLTgiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2MiIC8+CiAgPHJlY3QKICAgICBpZD0ic3ZnXzEtNy0yIgogICAgIGhlaWdodD0iMS45OTk5OTYxIgogICAgIHdpZHRoPSIxMS45OTk5OTYiCiAgICAgeT0iNjQiCiAgICAgeD0iNTQiCiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MC45ODQzMTM3MztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIgLz4KICA8cmVjdAogICAgIGlkPSJzdmdfMS03LTItMiIKICAgICBoZWlnaHQ9IjIuOTk5OTkwNSIKICAgICB3aWR0aD0iMi45OTk5OTA3IgogICAgIHk9IjUyIgogICAgIHg9IjgwLjAwMDAwOCIKICAgICBzdHlsZT0iZmlsbDojNGM0YzRjO2ZpbGwtb3BhY2l0eTowLjk4NDMxMzczO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIiAvPgogIDxyZWN0CiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MC45ODQzMTM3MztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIKICAgICB4PSI4NS4wMDAwMDgiCiAgICAgeT0iNTIiCiAgICAgd2lkdGg9IjIuOTk5OTkwNyIKICAgICBoZWlnaHQ9IjIuOTk5OTkwNSIKICAgICBpZD0icmVjdDQ1NjEiIC8+CiAgPHJlY3QKICAgICBzdHlsZT0iZmlsbDojNGM0YzRjO2ZpbGwtb3BhY2l0eTowLjk4NDMxMzczO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIgogICAgIHg9IjgwLjAwMDAwOCIKICAgICB5PSI1OCIKICAgICB3aWR0aD0iMi45OTk5OTA3IgogICAgIGhlaWdodD0iMi45OTk5OTA1IgogICAgIGlkPSJyZWN0NDU2MyIgLz4KICA8cmVjdAogICAgIGlkPSJyZWN0NDU2NSIKICAgICBoZWlnaHQ9IjIuOTk5OTkwNSIKICAgICB3aWR0aD0iMi45OTk5OTA3IgogICAgIHk9IjU4IgogICAgIHg9Ijg1LjAwMDAwOCIKICAgICBzdHlsZT0iZmlsbDojNGM0YzRjO2ZpbGwtb3BhY2l0eTowLjk4NDMxMzczO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIiAvPgogIDxyZWN0CiAgICAgaWQ9InJlY3Q0NTY3IgogICAgIGhlaWdodD0iMi45OTk5OTA1IgogICAgIHdpZHRoPSIyLjk5OTk5MDciCiAgICAgeT0iNjQiCiAgICAgeD0iODAuMDAwMDA4IgogICAgIHN0eWxlPSJmaWxsOiM0YzRjNGM7ZmlsbC1vcGFjaXR5OjAuOTg0MzEzNzM7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAiIC8+CiAgPHJlY3QKICAgICBzdHlsZT0iZmlsbDojNGM0YzRjO2ZpbGwtb3BhY2l0eTowLjk4NDMxMzczO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIgogICAgIHg9Ijg1LjAwMDAwOCIKICAgICB5PSI2NCIKICAgICB3aWR0aD0iMi45OTk5OTA3IgogICAgIGhlaWdodD0iMi45OTk5OTA1IgogICAgIGlkPSJyZWN0NDU2OSIgLz4KICA8Y2lyY2xlCiAgICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOm5vbmU7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiM0YzRjNGM7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgIGlkPSJwYXRoNDU3MSIKICAgICBjeD0iMTEwLjA2MDgxIgogICAgIGN5PSI1Ny45MzkyMDkiCiAgICAgcj0iNC43NDM4ODM2IiAvPgogIDxyZWN0CiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MC45ODQzMTM3MztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIKICAgICB4PSIxMTYuNjQ1NjYiCiAgICAgeT0iLTMxLjc5NzUyIgogICAgIHdpZHRoPSI0LjIyOTcxMyIKICAgICBoZWlnaHQ9IjYuNDA1Mzg4NCIKICAgICBpZD0icmVjdDQ1NjMtMiIKICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEwNjc4LDAuNzA3MTA2NzgsLTAuNzA3MTA2NzgsMC43MDcxMDY3OCwwLDApIiAvPgogIDxwYXRoCiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgIGQ9Ik0gMTI1LDU2IDEzOC43NzAyNyw1Ni4wOTUgMTMyLDY0IFoiCiAgICAgaWQ9InBhdGg0NjEzIgogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjIiAvPgogIDxwYXRoCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjIgogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgaWQ9InBhdGg0NjE1IgogICAgIGQ9Ik0gMTQ5LDY0IDE2Mi43NzAyNyw2My45MDUgMTU2LDU2IFoiCiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDxyZWN0CiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MC45ODQzMTM3MztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIKICAgICB4PSI1NCIKICAgICB5PSI1MyIKICAgICB3aWR0aD0iMTEuOTk5OTk2IgogICAgIGhlaWdodD0iMS45OTk5OTYxIgogICAgIGlkPSJyZWN0NDYzOCIgLz4KICA8cmVjdAogICAgIGlkPSJzdmdfMS03LTItMjQiCiAgICAgaGVpZ2h0PSIxLjk5OTk5NTciCiAgICAgd2lkdGg9IjEyLjk5OTk5IgogICAgIHk9Ii01NiIKICAgICB4PSI1MyIKICAgICBzdHlsZT0iZmlsbDojNGM0YzRjO2ZpbGwtb3BhY2l0eTowLjk4NDMxMzczO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIgogICAgIHRyYW5zZm9ybT0ibWF0cml4KDAsMSwtMSwwLDAsMCkiIC8+CiAgPHJlY3QKICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLDEsLTEsMCwwLDApIgogICAgIHN0eWxlPSJmaWxsOiM0YzRjNGM7ZmlsbC1vcGFjaXR5OjAuOTg0MzEzNzM7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAiCiAgICAgeD0iNTMiCiAgICAgeT0iLTY2IgogICAgIHdpZHRoPSIxMi45OTk5OSIKICAgICBoZWlnaHQ9IjEuOTk5OTk1NyIKICAgICBpZD0icmVjdDQ2NTciIC8+CiAgPHJlY3QKICAgICBpZD0icmVjdDQ2NTkiCiAgICAgaGVpZ2h0PSIwLjk5OTk5MjkxIgogICAgIHdpZHRoPSIxMS45OTk5OTkiCiAgICAgeT0iNTciCiAgICAgeD0iNTQiCiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MC45ODQzMTM3MztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIgLz4KICA8cmVjdAogICAgIHN0eWxlPSJmaWxsOiNkM2QzZDM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICB4PSI1NCIKICAgICB5PSI4OC4wMDAxMjIiCiAgICAgd2lkdGg9IjExLjk5OTk5NiIKICAgICBoZWlnaHQ9IjEuOTk5OTk2MSIKICAgICBpZD0icmVjdDQ2NjEiIC8+CiAgPHJlY3QKICAgICBzdHlsZT0iZmlsbDojZDNkM2QzO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgeD0iODAuMDAwMDA4IgogICAgIHk9Ijc2LjAwMDEyMiIKICAgICB3aWR0aD0iMi45OTk5OTA3IgogICAgIGhlaWdodD0iMi45OTk5OTA1IgogICAgIGlkPSJyZWN0NDY2MyIgLz4KICA8cmVjdAogICAgIGlkPSJyZWN0NDY2NSIKICAgICBoZWlnaHQ9IjIuOTk5OTkwNSIKICAgICB3aWR0aD0iMi45OTk5OTA3IgogICAgIHk9Ijc2LjAwMDEyMiIKICAgICB4PSI4NS4wMDAwMDgiCiAgICAgc3R5bGU9ImZpbGw6I2QzZDNkMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MDtzdHJva2Utb3BhY2l0eToxIiAvPgogIDxyZWN0CiAgICAgaWQ9InJlY3Q0NjY3IgogICAgIGhlaWdodD0iMi45OTk5OTA1IgogICAgIHdpZHRoPSIyLjk5OTk5MDciCiAgICAgeT0iODIuMDAwMTIyIgogICAgIHg9IjgwLjAwMDAwOCIKICAgICBzdHlsZT0iZmlsbDojZDNkM2QzO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgPHJlY3QKICAgICBzdHlsZT0iZmlsbDojZDNkM2QzO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgeD0iODUuMDAwMDA4IgogICAgIHk9IjgyLjAwMDEyMiIKICAgICB3aWR0aD0iMi45OTk5OTA3IgogICAgIGhlaWdodD0iMi45OTk5OTA1IgogICAgIGlkPSJyZWN0NDY2OSIgLz4KICA8cmVjdAogICAgIHN0eWxlPSJmaWxsOiNkM2QzZDM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICB4PSI4MC4wMDAwMDgiCiAgICAgeT0iODguMDAwMTIyIgogICAgIHdpZHRoPSIyLjk5OTk5MDciCiAgICAgaGVpZ2h0PSIyLjk5OTk5MDUiCiAgICAgaWQ9InJlY3Q0NjcxIiAvPgogIDxyZWN0CiAgICAgaWQ9InJlY3Q0NjczIgogICAgIGhlaWdodD0iMi45OTk5OTA1IgogICAgIHdpZHRoPSIyLjk5OTk5MDciCiAgICAgeT0iODguMDAwMTIyIgogICAgIHg9Ijg1LjAwMDAwOCIKICAgICBzdHlsZT0iZmlsbDojZDNkM2QzO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgPGNpcmNsZQogICAgIHI9IjQuNzQzODgzNiIKICAgICBjeT0iODEuOTM5MzMxIgogICAgIGN4PSIxMTAuMDYwODEiCiAgICAgaWQ9ImNpcmNsZTQ2NzUiCiAgICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOm5vbmU7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiNkM2QzZDM7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgPHJlY3QKICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEwNjc4LDAuNzA3MTA2NzgsLTAuNzA3MTA2NzgsMC43MDcxMDY3OCwwLDApIgogICAgIGlkPSJyZWN0NDY3NyIKICAgICBoZWlnaHQ9IjYuNDA1Mzg4NCIKICAgICB3aWR0aD0iNC4yMjk3MTMiCiAgICAgeT0iLTE0LjgyNjgxNiIKICAgICB4PSIxMzMuNjE2MyIKICAgICBzdHlsZT0iZmlsbDojZDNkM2QzO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojZDNkM2QzO3N0cm9rZS13aWR0aDowO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgPHBhdGgKICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2MiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBpZD0icGF0aDQ2NzkiCiAgICAgZD0ibSAxMjUsODAuMDAwMDA1IDEzLjc3MDI3LDAuMDk0OTkgTCAxMzIsODcuOTk5OTkyIFoiCiAgICAgc3R5bGU9ImZpbGw6I2QzZDNkMztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6I2QzZDNkMztzdHJva2Utd2lkdGg6MDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDxwYXRoCiAgICAgc3R5bGU9ImZpbGw6I2QzZDNkMztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6I2QzZDNkMztzdHJva2Utd2lkdGg6MDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgIGQ9Ik0gMTQ5LDg4LjAwMDIgMTYyLjc3MDI3LDg3LjkwNTIgMTU2LDgwLjAwMDIgWiIKICAgICBpZD0icGF0aDQ2ODEiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2MiIC8+CiAgPHJlY3QKICAgICBpZD0icmVjdDQ2ODMiCiAgICAgaGVpZ2h0PSIxLjk5OTk5NjEiCiAgICAgd2lkdGg9IjExLjk5OTk5NiIKICAgICB5PSI3Ny4wMDAxMjIiCiAgICAgeD0iNTQiCiAgICAgc3R5bGU9ImZpbGw6I2QzZDNkMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MDtzdHJva2Utb3BhY2l0eToxIiAvPgogIDxyZWN0CiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMCwxLC0xLDAsMCwwKSIKICAgICBzdHlsZT0iZmlsbDojZDNkM2QzO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgeD0iNzcuMDAwMTIyIgogICAgIHk9Ii01NiIKICAgICB3aWR0aD0iMTIuOTk5OTkiCiAgICAgaGVpZ2h0PSIxLjk5OTk5NTciCiAgICAgaWQ9InJlY3Q0Njg1IiAvPgogIDxyZWN0CiAgICAgaWQ9InJlY3Q0Njg3IgogICAgIGhlaWdodD0iMS45OTk5OTU3IgogICAgIHdpZHRoPSIxMi45OTk5OSIKICAgICB5PSItNjYiCiAgICAgeD0iNzcuMDAwMTIyIgogICAgIHN0eWxlPSJmaWxsOiNkM2QzZDM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLDEsLTEsMCwwLDApIiAvPgogIDxyZWN0CiAgICAgc3R5bGU9ImZpbGw6I2QzZDNkMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MDtzdHJva2Utb3BhY2l0eToxIgogICAgIHg9IjU0IgogICAgIHk9IjgxLjAwMDEyMiIKICAgICB3aWR0aD0iMTEuOTk5OTk5IgogICAgIGhlaWdodD0iMC45OTk5OTI5MSIKICAgICBpZD0icmVjdDQ2ODkiIC8+CiAgPHJlY3QKICAgICBpZD0icmVjdDQ3NjEtMSIKICAgICBoZWlnaHQ9IjEuOTk5OTk0NSIKICAgICB3aWR0aD0iMTUuOTk5OTkiCiAgICAgeT0iMTAxIgogICAgIHg9Ijc2LjAwMDAwOCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eTowLjg7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAiIC8+CiAgPHJlY3QKICAgICBpZD0icmVjdDQ3NjEtMCIKICAgICBoZWlnaHQ9IjEuOTk5OTk0NSIKICAgICB3aWR0aD0iMTUuOTk5OTkiCiAgICAgeT0iMTA1IgogICAgIHg9Ijc2LjAwMDAwOCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eTowLjg7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAiIC8+CiAgPHJlY3QKICAgICBpZD0icmVjdDQ3NjEtNyIKICAgICBoZWlnaHQ9IjEuOTk5OTk0NSIKICAgICB3aWR0aD0iOSIKICAgICB5PSIxMDkiCiAgICAgeD0iNzYuMDAwMDA4IgogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjAuODtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIgLz4KICA8cmVjdAogICAgIGlkPSJyZWN0NDc2MS0xLTEiCiAgICAgaGVpZ2h0PSIxLjk5OTk5NDUiCiAgICAgd2lkdGg9IjEyIgogICAgIHk9IjEyNSIKICAgICB4PSI3Ni4wMDAwMDgiCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MC44O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIiAvPgogIDxyZWN0CiAgICAgaWQ9InJlY3Q0NzYxLTEtMS00IgogICAgIGhlaWdodD0iMS45OTk5OTQ1IgogICAgIHdpZHRoPSIxMCIKICAgICB5PSIxMzciCiAgICAgeD0iNzYuMDAwMDA4IgogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjAuODtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIgLz4KICA8cmVjdAogICAgIGlkPSJyZWN0NDc2MS0xLTEtNC00IgogICAgIGhlaWdodD0iMS45OTk5OTQ1IgogICAgIHdpZHRoPSIxMCIKICAgICB5PSIxMjkiCiAgICAgeD0iODIiCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MC44O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIiAvPgogIDxyZWN0CiAgICAgaWQ9InJlY3Q0NzYxLTEtMS00LTQtMyIKICAgICBoZWlnaHQ9IjEuOTk5OTk0NSIKICAgICB3aWR0aD0iOSIKICAgICB5PSIxMzMiCiAgICAgeD0iODIiCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MC44O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowIiAvPgogIDxwYXRoCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzdHlsZT0iY29sb3I6IzAwMDAwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZTptZWRpdW07bGluZS1oZWlnaHQ6bm9ybWFsO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uLXN0eWxlOnNvbGlkO3RleHQtZGVjb3JhdGlvbi1jb2xvcjojMDAwMDAwO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7YmFzZWxpbmUtc2hpZnQ6YmFzZWxpbmU7dGV4dC1hbmNob3I6c3RhcnQ7d2hpdGUtc3BhY2U6bm9ybWFsO2NsaXAtcnVsZTpub256ZXJvO2Rpc3BsYXk6aW5saW5lO292ZXJmbG93OnZpc2libGU7dmlzaWJpbGl0eTp2aXNpYmxlO29wYWNpdHk6MC44O2lzb2xhdGlvbjphdXRvO21peC1ibGVuZC1tb2RlOm5vcm1hbDtjb2xvci1pbnRlcnBvbGF0aW9uOnNSR0I7Y29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzOmxpbmVhclJHQjtzb2xpZC1jb2xvcjojMDAwMDAwO3NvbGlkLW9wYWNpdHk6MTtmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjIuNjYxNTc4NjY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO2NvbG9yLXJlbmRlcmluZzphdXRvO2ltYWdlLXJlbmRlcmluZzphdXRvO3NoYXBlLXJlbmRlcmluZzphdXRvO3RleHQtcmVuZGVyaW5nOmF1dG87ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZSIKICAgICBkPSJtIDM2LjM5ODQzOCwxMDAuMDI1NCBjIC0wLjQyMzM2MiwtMC4wMTMgLTAuODQ2ODQ3LDAuMDEgLTEuMjY1NjI2LDAuMDYyIC0xLjY1NjU2MiwwLjIxOTYgLTMuMjQ0NTY3LDAuOTczOSAtNC41MDc4MTIsMi4yMjY2IEwgMjksMTAwLjU5OTEgbCAtMi4zMjQyMTksNy43MTI5IDcuODI2MTcyLC0xLjkwNjIgLTEuODA0Njg3LC0xLjkwNjMgYyAxLjU5NzcwMiwtMS41MzA4IDQuMDQ4NzA2LC0xLjg0NTMgNS45ODQzNzUsLTAuNzIwNyAxLjk3MTE2MiwxLjE0NTIgMi44ODE5NTQsMy4zOTc1IDIuMzA4NTkzLDUuNTUwOCAtMC41NzMzNjEsMi4xNTMzIC0yLjUzMzg2NSwzLjY5NTMgLTQuODMwMDc4LDMuNjk1MyBsIDAsMy4wNzQyIGMgMy41NTA3NTYsMCA2LjcxMDQ0MiwtMi40MTEzIDcuNjUwMzkxLC01Ljk0MTQgMC45Mzk5NDksLTMuNTMwMSAtMC42MTg0NjMsLTcuMjczNiAtMy43MTA5MzgsLTkuMDcwMyAtMS4xNTk2NzgsLTAuNjczOCAtMi40MzEwODcsLTEuMDIzMSAtMy43MDExNzEsLTEuMDYyNSB6IgogICAgIGlkPSJwYXRoNDEzOCIgLz4KICA8cGF0aAogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgc3R5bGU9ImNvbG9yOiMwMDAwMDA7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6bWVkaXVtO2xpbmUtaGVpZ2h0Om5vcm1hbDtmb250LWZhbWlseTpzYW5zLXNlcmlmO3RleHQtaW5kZW50OjA7dGV4dC1hbGlnbjpzdGFydDt0ZXh0LWRlY29yYXRpb246bm9uZTt0ZXh0LWRlY29yYXRpb24tbGluZTpub25lO3RleHQtZGVjb3JhdGlvbi1zdHlsZTpzb2xpZDt0ZXh0LWRlY29yYXRpb24tY29sb3I6IzAwMDAwMDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO2Jhc2VsaW5lLXNoaWZ0OmJhc2VsaW5lO3RleHQtYW5jaG9yOnN0YXJ0O3doaXRlLXNwYWNlOm5vcm1hbDtjbGlwLXJ1bGU6bm9uemVybztkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjAuODtpc29sYXRpb246YXV0bzttaXgtYmxlbmQtbW9kZTpub3JtYWw7Y29sb3ItaW50ZXJwb2xhdGlvbjpzUkdCO2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVyczpsaW5lYXJSR0I7c29saWQtY29sb3I6IzAwMDAwMDtzb2xpZC1vcGFjaXR5OjE7ZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoyLjY2MTU3ODY2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MTtjb2xvci1yZW5kZXJpbmc6YXV0bztpbWFnZS1yZW5kZXJpbmc6YXV0bztzaGFwZS1yZW5kZXJpbmc6YXV0bzt0ZXh0LXJlbmRlcmluZzphdXRvO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgZD0ibSA1OS43MjI2NTYsOTkuOTYyOSBjIC0xLjI3MDA4NCwwLjAzOSAtMi41NDE0OTMsMC4zODg3IC0zLjcwMTE3MiwxLjA2MjUgLTMuMDkyNDc1LDEuNzk2NyAtNC42NTA4ODYsNS41NDAyIC0zLjcxMDkzNyw5LjA3MDMgMC45Mzk5NDksMy41MzAxIDQuMDk3NjgsNS45NDE0IDcuNjQ4NDM3LDUuOTQxNCBsIDAsLTMuMDc0MiBjIC0yLjI5NjIxNCwwIC00LjI1NjcxNywtMS41NDIgLTQuODMwMDc4LC0zLjY5NTMgLTAuNTczMzYxLC0yLjE1MzMgMC4zMzc0MzIsLTQuNDA1NiAyLjMwODU5NCwtNS41NTA4IDEuOTM1NzMxLC0xLjEyNDYgNC4zODg2MywtMC44MTAyIDUuOTg2MzI2LDAuNzIwNyBsIC0xLjgwNjYzOCwxLjkwNjMgNy44MjgxMjgsMS45MDYyIC0yLjMyNDIyLC03LjcxMjkgLTEuNjI2OTYsMS43MTY4IGMgLTEuMjYzMzgsLTEuMjUzMSAtMi44NDg5MTcsLTIuMDA4OCAtNC41MDU4NTUsLTIuMjI4NSAtMC40MTg3NzgsLTAuMDU1IC0wLjg0MjI2MywtMC4wNzYgLTEuMjY1NjI1LC0wLjA2MiB6IgogICAgIGlkPSJwYXRoNDEzOC0xIiAvPgogIDxwYXRoCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzdHlsZT0ib3BhY2l0eTowLjg7ZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjk2NTk5OTk2O3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgIGQ9Im0gMTAuNSwxMDAgMCwyIC0yLjQ5OTk5OTYsMCBMIDEyLDEwNyBsIDQsLTUgLTIuNSwwIDAsLTIgLTMsMCB6IgogICAgIGlkPSJwYXRoMzA1NS0wLTc3IiAvPgogIDxwYXRoCiAgICAgc3R5bGU9Im9wYWNpdHk6MC44O2ZpbGw6bm9uZTtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MS45NjU5OTk5NjtzdHJva2UtbGluZWNhcDpzcXVhcmU7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgZD0ibSA0Ljk4NTA1NzQsMTA4LjAxNSAxNC4wMjk4ODU2LC0wLjAzIgogICAgIGlkPSJwYXRoNTI0NC01LTAtNSIKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0ib3BhY2l0eTowLjg7ZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoxLjk2NTk5OTk2O3N0cm9rZS1saW5lY2FwOnNxdWFyZTtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICBkPSJtIDQuOTg0OTg3NCwxMzIuMDE1IDE0LjAyOTg4NjYsLTAuMDMiCiAgICAgaWQ9InBhdGg1MjQ0LTUtMC01LTgiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogIDxwYXRoCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzdHlsZT0iY29sb3I6IzAwMDAwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZTptZWRpdW07bGluZS1oZWlnaHQ6bm9ybWFsO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uLXN0eWxlOnNvbGlkO3RleHQtZGVjb3JhdGlvbi1jb2xvcjojMDAwMDAwO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7YmFzZWxpbmUtc2hpZnQ6YmFzZWxpbmU7dGV4dC1hbmNob3I6c3RhcnQ7d2hpdGUtc3BhY2U6bm9ybWFsO2NsaXAtcnVsZTpub256ZXJvO2Rpc3BsYXk6aW5saW5lO292ZXJmbG93OnZpc2libGU7dmlzaWJpbGl0eTp2aXNpYmxlO29wYWNpdHk6MC40O2lzb2xhdGlvbjphdXRvO21peC1ibGVuZC1tb2RlOm5vcm1hbDtjb2xvci1pbnRlcnBvbGF0aW9uOnNSR0I7Y29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzOmxpbmVhclJHQjtzb2xpZC1jb2xvcjojMDAwMDAwO3NvbGlkLW9wYWNpdHk6MTtmaWxsOiM0ZDRkNGQ7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjIuNjYxNTc4NjY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO2NvbG9yLXJlbmRlcmluZzphdXRvO2ltYWdlLXJlbmRlcmluZzphdXRvO3NoYXBlLXJlbmRlcmluZzphdXRvO3RleHQtcmVuZGVyaW5nOmF1dG87ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZSIKICAgICBkPSJtIDM2LjM5ODQzOCwxMjMuOTYyOSBjIC0wLjQyMzM2MiwtMC4wMTMgLTAuODQ2ODQ3LDAuMDEgLTEuMjY1NjI2LDAuMDYyIC0xLjY1NjU2MiwwLjIxOTYgLTMuMjQ0NTY3LDAuOTczOSAtNC41MDc4MTIsMi4yMjY2IEwgMjksMTI0LjUzNjYgbCAtMi4zMjQyMTksNy43MTI5IDcuODI2MTcyLC0xLjkwNjIgLTEuODA0Njg3LC0xLjkwNjMgYyAxLjU5NzcwMiwtMS41MzA4IDQuMDQ4NzA2LC0xLjg0NTMgNS45ODQzNzUsLTAuNzIwNyAxLjk3MTE2MiwxLjE0NTMgMi44ODE5NTQsMy4zOTc1IDIuMzA4NTkzLDUuNTUwOCAtMC41NzMzNjEsMi4xNTMzIC0yLjUzMzg2NCwzLjY5NTMgLTQuODMwMDc4LDMuNjk1MyBsIDAsMy4wNzQyIGMgMy41NTA3NTcsMCA2LjcxMDQ0MiwtMi40MDkzIDcuNjUwMzkxLC01LjkzOTQgMC45Mzk5NDksLTMuNTMwMSAtMC42MTg0NjMsLTcuMjc1NiAtMy43MTA5MzgsLTkuMDcyMyAtMS4xNTk2NzgsLTAuNjczNyAtMi40MzEwODcsLTEuMDIzMSAtMy43MDExNzEsLTEuMDYyNSB6IgogICAgIGlkPSJwYXRoNDEzOC0xMiIgLz4KICA8cGF0aAogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgc3R5bGU9ImNvbG9yOiMwMDAwMDA7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6bWVkaXVtO2xpbmUtaGVpZ2h0Om5vcm1hbDtmb250LWZhbWlseTpzYW5zLXNlcmlmO3RleHQtaW5kZW50OjA7dGV4dC1hbGlnbjpzdGFydDt0ZXh0LWRlY29yYXRpb246bm9uZTt0ZXh0LWRlY29yYXRpb24tbGluZTpub25lO3RleHQtZGVjb3JhdGlvbi1zdHlsZTpzb2xpZDt0ZXh0LWRlY29yYXRpb24tY29sb3I6IzAwMDAwMDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO2Jhc2VsaW5lLXNoaWZ0OmJhc2VsaW5lO3RleHQtYW5jaG9yOnN0YXJ0O3doaXRlLXNwYWNlOm5vcm1hbDtjbGlwLXJ1bGU6bm9uemVybztkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjAuNDtpc29sYXRpb246YXV0bzttaXgtYmxlbmQtbW9kZTpub3JtYWw7Y29sb3ItaW50ZXJwb2xhdGlvbjpzUkdCO2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVyczpsaW5lYXJSR0I7c29saWQtY29sb3I6IzAwMDAwMDtzb2xpZC1vcGFjaXR5OjE7ZmlsbDojNGQ0ZDRkO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoyLjY2MTU3ODY2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MTtjb2xvci1yZW5kZXJpbmc6YXV0bztpbWFnZS1yZW5kZXJpbmc6YXV0bztzaGFwZS1yZW5kZXJpbmc6YXV0bzt0ZXh0LXJlbmRlcmluZzphdXRvO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgZD0ibSA1OS43MjI2NTYsMTIzLjk2MjkgYyAtMS4yNzAwODQsMC4wMzkgLTIuNTQxNDkzLDAuMzg4OCAtMy43MDExNzIsMS4wNjI1IC0zLjA5MjQ3NSwxLjc5NjcgLTQuNjUwODg2LDUuNTQyMiAtMy43MTA5MzcsOS4wNzIzIDAuOTM5OTQ5LDMuNTMwMSA0LjA5NzY4LDUuOTM5NCA3LjY0ODQzNyw1LjkzOTQgbCAwLC0zLjA3NDIgYyAtMi4yOTYyMTQsMCAtNC4yNTY3MTcsLTEuNTQyIC00LjgzMDA3OCwtMy42OTUzIC0wLjU3MzM2MSwtMi4xNTMzIDAuMzM3NDMyLC00LjQwNTUgMi4zMDg1OTQsLTUuNTUwOCAxLjkzNTczMSwtMS4xMjQ2IDQuMzg4NjMsLTAuODEwMiA1Ljk4NjMyNiwwLjcyMDcgbCAtMS44MDY2MzgsMS45MDYzIDcuODI4MTI4LDEuOTA2MiAtMi4zMjQyMiwtNy43MTI5IC0xLjYyNjk2LDEuNzE2OCBjIC0xLjI2MzM4LC0xLjI1MzEgLTIuODQ4OTE3LC0yLjAwODggLTQuNTA1ODU1LC0yLjIyODUgLTAuNDE4Nzc4LC0wLjA1NSAtMC44NDIyNjMsLTAuMDc2IC0xLjI2NTYyNSwtMC4wNjIgeiIKICAgICBpZD0icGF0aDQxMzgtMS0zIiAvPgogIDxwYXRoCiAgICAgaWQ9InBhdGg2MTkxIgogICAgIGQ9Im0gMTAuNSwxMTYgMCwtMiAtMi40OTk5OTk2LDAgTCAxMiwxMDkgbCA0LDUgLTIuNSwwIDAsMiAtMywwIHoiCiAgICAgc3R5bGU9Im9wYWNpdHk6MC44O2ZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS45NjU5OTk5NjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogIDxwYXRoCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzdHlsZT0ib3BhY2l0eTowLjg7ZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjk2NTk5OTk2O3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgIGQ9Im0gMTAuNSwxMjkgMCwtMiAtMi40OTk5OTk2LDAgTCAxMiwxMjIgbCA0LDUgLTIuNSwwIDAsMiAtMywwIHoiCiAgICAgaWQ9InBhdGg2MTkzIiAvPgogIDxwYXRoCiAgICAgaWQ9InBhdGg2MTk1IgogICAgIGQ9Im0gMTAuNSwxMzUgMCwyIC0yLjQ5OTk5OTYsMCBMIDEyLDE0MiBsIDQsLTUgLTIuNSwwIDAsLTIgLTMsMCB6IgogICAgIHN0eWxlPSJvcGFjaXR5OjAuODtmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuOTY1OTk5OTY7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICA8cGF0aAogICAgIHNvZGlwb2RpOnR5cGU9InN0YXIiCiAgICAgc3R5bGU9ImZpbGw6IzRkNGQ0ZDtmaWxsLW9wYWNpdHk6MC45MDE5NjA3ODtzdHJva2U6I2QzZDNkMztzdHJva2Utd2lkdGg6MDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgaWQ9InBhdGg0NTAwIgogICAgIHNvZGlwb2RpOnNpZGVzPSIzIgogICAgIHNvZGlwb2RpOmN4PSIxMS41NTU4MSIKICAgICBzb2RpcG9kaTpjeT0iNjAuMDczMjQyIgogICAgIHNvZGlwb2RpOnIxPSI1LjExMTYxMDQiCiAgICAgc29kaXBvZGk6cjI9IjIuNTU1ODA1MiIKICAgICBzb2RpcG9kaTphcmcxPSIwIgogICAgIHNvZGlwb2RpOmFyZzI9IjEuMDQ3MTk3NiIKICAgICBpbmtzY2FwZTpmbGF0c2lkZWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnJvdW5kZWQ9IjAiCiAgICAgaW5rc2NhcGU6cmFuZG9taXplZD0iMCIKICAgICBkPSJtIDE2LjY2NzQyLDYwLjA3MzI0MiAtMy44MzM3MDgsMi4yMTMzOTIgLTMuODMzNzA3MiwyLjIxMzM5MyAwLC00LjQyNjc4NSAwLC00LjQyNjc4NCAzLjgzMzcwODIsMi4yMTMzOTIgeiIKICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXg9Ii0xLjI3NzkwMjYiIC8+CiAgPHBhdGgKICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXg9IjEuMjc3OTAyIgogICAgIGQ9Im0gLTMxLjUwMDAwNCw2MC4wNzMyNDIgLTMuODMzNzA4LDIuMjEzMzkyIC0zLjgzMzcwNywyLjIxMzM5MyAwLC00LjQyNjc4NSAwLC00LjQyNjc4NCAzLjgzMzcwNywyLjIxMzM5MiB6IgogICAgIGlua3NjYXBlOnJhbmRvbWl6ZWQ9IjAiCiAgICAgaW5rc2NhcGU6cm91bmRlZD0iMCIKICAgICBpbmtzY2FwZTpmbGF0c2lkZWQ9ImZhbHNlIgogICAgIHNvZGlwb2RpOmFyZzI9IjEuMDQ3MTk3NiIKICAgICBzb2RpcG9kaTphcmcxPSIwIgogICAgIHNvZGlwb2RpOnIyPSIyLjU1NTgwNTIiCiAgICAgc29kaXBvZGk6cjE9IjUuMTExNjEwNCIKICAgICBzb2RpcG9kaTpjeT0iNjAuMDczMjQyIgogICAgIHNvZGlwb2RpOmN4PSItMzYuNjExNjE0IgogICAgIHNvZGlwb2RpOnNpZGVzPSIzIgogICAgIGlkPSJwYXRoNDUwMiIKICAgICBzdHlsZT0iZmlsbDojNGQ0ZDRkO2ZpbGwtb3BhY2l0eTowLjkwMTk2MDc4O3N0cm9rZTojZDNkM2QzO3N0cm9rZS13aWR0aDowO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICBzb2RpcG9kaTp0eXBlPSJzdGFyIgogICAgIHRyYW5zZm9ybT0ic2NhbGUoLTEsMSkiIC8+CiAgPHBhdGgKICAgICBkPSJtIDE2LjY2NzQyLDYwLjA3MzIxMiAtMy44MzM3MDgsMi4yMTMzOTIgLTMuODMzNzA3MiwyLjIxMzM5MiAwLC00LjQyNjc4NCAwLC00LjQyNjc4NSAzLjgzMzcwODIsMi4yMTMzOTIgeiIKICAgICBpbmtzY2FwZTpyYW5kb21pemVkPSIwIgogICAgIGlua3NjYXBlOnJvdW5kZWQ9IjAiCiAgICAgaW5rc2NhcGU6ZmxhdHNpZGVkPSJmYWxzZSIKICAgICBzb2RpcG9kaTphcmcyPSIxLjA0NzE5NzYiCiAgICAgc29kaXBvZGk6YXJnMT0iMCIKICAgICBzb2RpcG9kaTpyMj0iMi41NTU4MDUyIgogICAgIHNvZGlwb2RpOnIxPSI1LjExMTYxMDQiCiAgICAgc29kaXBvZGk6Y3k9IjYwLjA3MzIxMiIKICAgICBzb2RpcG9kaTpjeD0iMTEuNTU1ODEiCiAgICAgc29kaXBvZGk6c2lkZXM9IjMiCiAgICAgaWQ9InBhdGg0NTA0IgogICAgIHN0eWxlPSJmaWxsOiM0ZDRkNGQ7ZmlsbC1vcGFjaXR5OjAuOTAxOTYwNzg7c3Ryb2tlOiNkM2QzZDM7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgIHNvZGlwb2RpOnR5cGU9InN0YXIiCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMCwxLC0xLDAsNzIuMDA3NCw3MS43ODc3KSIKICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXk9IjEuMjc3OTAyOSIgLz4KICA8cGF0aAogICAgIGlua3NjYXBlOnRyYW5zZm9ybS1jZW50ZXIteT0iLTEuMjc3OTAyNiIKICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLC0xLC0xLDAsOTYsOTYpIgogICAgIHNvZGlwb2RpOnR5cGU9InN0YXIiCiAgICAgc3R5bGU9ImZpbGw6IzRkNGQ0ZDtmaWxsLW9wYWNpdHk6MC45MDE5NjA3ODtzdHJva2U6I2QzZDNkMztzdHJva2Utd2lkdGg6MDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgaWQ9InBhdGg0NTA2IgogICAgIHNvZGlwb2RpOnNpZGVzPSIzIgogICAgIHNvZGlwb2RpOmN4PSIxMS41NTU4MSIKICAgICBzb2RpcG9kaTpjeT0iNjAuMDczMjEyIgogICAgIHNvZGlwb2RpOnIxPSI1LjExMTYxMDQiCiAgICAgc29kaXBvZGk6cjI9IjIuNTU1ODA1MiIKICAgICBzb2RpcG9kaTphcmcxPSIwIgogICAgIHNvZGlwb2RpOmFyZzI9IjEuMDQ3MTk3NiIKICAgICBpbmtzY2FwZTpmbGF0c2lkZWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnJvdW5kZWQ9IjAiCiAgICAgaW5rc2NhcGU6cmFuZG9taXplZD0iMCIKICAgICBkPSJtIDE2LjY2NzQyLDYwLjA3MzIxMiAtMy44MzM3MDgsMi4yMTMzOTIgLTMuODMzNzA3MiwyLjIxMzM5MiAwLC00LjQyNjc4NCAwLC00LjQyNjc4NSAzLjgzMzcwODIsMi4yMTMzOTIgeiIgLz4KICA8cGF0aAogICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjYyIKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgIGlkPSJwYXRoNDYxNS01IgogICAgIGQ9Im0gMTcxLjgyNTc0LDY1LjE3NDE5MyAxNi4zNDg1NCwwIC04LjE3NDI3LC0xMy4zNDg0NTQgeiIKICAgICBzdHlsZT0iZmlsbDojZmJiOTE3O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojZmJiOTE3O3N0cm9rZS13aWR0aDoxLjY1MTYxMzk1O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgZD0ibSAxNzksNTUgMCw2IDIsMCAwLC02IgogICAgIGlkPSJwYXRoNDMwMCIKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjYyIgLz4KICA8cGF0aAogICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxcHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICBkPSJtIDE3OSw2MiAwLDIgMiwwIDAsLTIiCiAgICAgaWQ9InBhdGg0MzAwLTYiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2MiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eTowLjg7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiNmZmZmZmY7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utb3BhY2l0eTowLjgiCiAgICAgZD0iTSA5OS45OTQzNjksMTEzLjAyMjEgMTAyLDExNC45ODM1MyBsIDcsLTYuOTU1OCAzLDAuOTcyMjcgMiwtMSAxLC0yIDAsLTMgLTMsMyAtMywtMyAzLC0zIC0zLDAgLTIsMSAtMSwyIDAuOTk0MzcsMy4wMjIxIHoiCiAgICAgaWQ9InBhdGg0MjY4IgogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NjY2NjY2NjY2MiIC8+CiAgPHJlY3QKICAgICBpZD0icmVjdDQxNzUtMy01IgogICAgIGhlaWdodD0iMTYiCiAgICAgd2lkdGg9IjE2IgogICAgIHk9IjQiCiAgICAgeD0iMjIwIgogICAgIHN0eWxlPSJmaWxsOiM0YzRjNGM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAiIC8+CiAgPHBhdGgKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxcHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICBkPSJtIDIzNCw2IDAsMiAtNSw1IDAsNSAtMiwwIDAsLTUgLTUsLTUgMCwtMiIKICAgICBpZD0icGF0aDM1NDYiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2NjIiAvPgogIDxnCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMS4zMzMzMzI4LDAsMCwtMS41OTk5OTkyLC0xMzkuOTk5OSwxMjcuMTk5OTkpIgogICAgIGlkPSJnNDM4My02Ij4KICAgIDxyZWN0CiAgICAgICBpZD0icmVjdDQzODUtMiIKICAgICAgIGhlaWdodD0iMS4yNDk5OTA1IgogICAgICAgd2lkdGg9IjUuOTk5OTkyNCIKICAgICAgIHk9IjEyLjYyNTAwNSIKICAgICAgIHg9IjE5OC4wMDAwMiIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjAuODtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MCIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eTowLjg7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAiCiAgICAgICB4PSIxOTguMDAwMDIiCiAgICAgICB5PSIxNS4xMjUwMDciCiAgICAgICB3aWR0aD0iNy40OTk5OTI4IgogICAgICAgaGVpZ2h0PSIxLjI0OTk5NDkiCiAgICAgICBpZD0icmVjdDQzODctOSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eTowLjg7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAiCiAgICAgICB4PSIxOTguMDAwMDIiCiAgICAgICB5PSI3LjYyNTAwMjQiCiAgICAgICB3aWR0aD0iMi45OTk5OTA5IgogICAgICAgaGVpZ2h0PSIxLjI0OTk5MDUiCiAgICAgICBpZD0icmVjdDQzODktMS0wIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjAuODtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MCIKICAgICAgIHg9IjE5OC4wMDAwMiIKICAgICAgIHk9IjEwLjEyNTAwNCIKICAgICAgIHdpZHRoPSI0LjQ5OTk5MTkiCiAgICAgICBoZWlnaHQ9IjEuMjQ5OTkwNSIKICAgICAgIGlkPSJyZWN0NDM4OS0xLTkiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MC44O2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjY4NDY1MzUycHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gMjA3LjAwMDAxLDE2LjM3NTAwNCAwLC01LjYyNTAwNSAtMi4yNSwwIDMsLTMuMTI1MDAxNCAzLDMuMTI1MDAxNCAtMi4yNSwwIDAsNS42MjUwMDUgLTEuNSwwIgogICAgICAgaWQ9InBhdGg0NDAyIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2MiIC8+CiAgPC9nPgogIDxwYXRoCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MC44O2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxcHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICBkPSJtIDE2NCwxMDAgMCwzIC02LDYgMCw3IC00LDAgMCwtNyAtNiwtNiAwLC0zIgogICAgIGlkPSJwYXRoMzU0Ni0yLTIiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2NjIiAvPgogIDxyZWN0CiAgICAgc3R5bGU9ImZpbGw6IzRjNGM0YztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MCIKICAgICBpZD0ic3ZnXzEtMyIKICAgICBoZWlnaHQ9IjE2IgogICAgIHdpZHRoPSIxNiIKICAgICB5PSIyOCIKICAgICB4PSI0IiAvPgogIDxwYXRoCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NjY2MiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBpZD0icGF0aDQ0MDItNS03IgogICAgIGQ9Im0gMTUsNDEgMCwtNyAtNCwwIDAsMyAtNSwtNCA1LC00IDAsMyA2LDAgMCw5IgogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAuNjg0NjUzNTJweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIiAvPgo8L3N2Zz4K";},function(e,t){e.exports=function(e){return "string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)};},function(e,t){function i(e,t){var i=e[1]||"",o=e[3];if(!o)return i;if(t&&"function"==typeof btoa){var r=n(o);return [i].concat(o.sources.map(function(e){return "/*# sourceURL="+o.sourceRoot+e+" */"})).concat([r]).join("\n")}return [i].join("\n")}function n(e){return "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0);}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s));}},t};},function(e,t,i){function n(e){for(var t=0;t<e.length;t++){var i=e[t],n=d[i.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](i.parts[o]);for(;o<i.parts.length;o++)n.parts.push(r(i.parts[o]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length);}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(r(i.parts[o]));d[i.id]={id:i.id,refs:1,parts:s};}}}function o(){var e=document.createElement("style");return e.type="text/css",h.appendChild(e),e}function r(e){var t,i,n=document.querySelector("style["+C+'~="'+e.id+'"]');if(n){if(p)return m;n.parentNode.removeChild(n);}if(I){var r=g++;n=u||(u=o()),t=s.bind(null,n,r,!1),i=s.bind(null,n,r,!0);}else n=o(),t=a.bind(null,n),i=function(){n.parentNode.removeChild(n);};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n);}else i();}}function s(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=A(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r);}}function a(e,t){var i=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),f.ssrId&&e.setAttribute(C,t.id),o&&(i+="\n/*# sourceURL="+o.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i));}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=i(10),d={},h=l&&(document.head||document.getElementsByTagName("head")[0]),u=null,g=0,p=!1,m=function(){},f=null,C="data-vue-ssr-id",I="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,i,o){p=i,f=o||{};var r=c(e,t);return n(r),function(t){for(var i=[],o=0;o<r.length;o++){var s=r[o],a=d[s.id];a.refs--,i.push(a);}t?(r=c(e,t),n(r)):r=[];for(var o=0;o<i.length;o++){var a=i[o];if(0===a.refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete d[a.id];}}}};var A=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();},function(e,t,i){var n=i(12),o=i.n(n),r=i(13);i.n(r);t.a={name:"v-jsoneditor",data:function(){return {editor:null,style:{},max:!1,internalChange:!1}},props:{options:{type:Object,default:function(){return {}}},value:[Object,Array,Number,String,Boolean],height:{type:String},plus:{type:Boolean,default:!0}},methods:{onChange:function(){var e,t=this,i=null,n={};try{n=this.editor.get();}catch(e){i=e;}i?this.$emit("error",i):this.editor&&(this.internalChange=!0,this.$emit("input",n),this.$nextTick(function(){t.internalChange=!1;})),this.options.onChange&&(e=this.options).onChange.apply(e,arguments);},initView:function(){if(!this.editor){var e=this.$refs.jsoneditor,t=this.options.onChange;delete this.options.onChange;var i=Object.assign(this.options,{onChange:this.onChange});this.editor=new o.a(e,i),this.options.onChange=t;}this.editor.set(this.value||{});},destroyView:function(){this.editor&&(this.editor.destroy(),this.editor=null);}},watch:{value:{handler:function(e){this.editor&&e&&!this.internalChange&&this.editor.set(e);},deep:!0},max:function(e){var t=this;this.$nextTick(function(){t.initView();});}},mounted:function(){this.initView();},beforeDestroy:function(){this.destroyView();},computed:{getHeight:function(){return this.height&&!this.max?{height:this.height}:{}}}};},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i(6);t.default=n.a,n.a.install=function(e){e.component(n.a.name,n.a);},"undefined"!=typeof window&&window.Vue&&window.Vue.component(n.a.name,n.a);},function(e,t,i){function n(e){i(7);}var o=i(4),r=i(15),s=i(11),a=n,l=s(o.a,r.a,!1,a,"data-v-2ac35930",null);t.a=l.exports;},function(e,t,i){var n=i(8);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(3)("4d5471ed",n,!0,{});},function(e,t,i){var n=i(1);t=e.exports=i(2)(!1),t.push([e.i,".jsoneditor-container.max-box[data-v-2ac35930]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000}.jsoneditor-container.min-box[data-v-2ac35930]{position:relative;min-width:300px;width:100%}.jsoneditor-box[data-v-2ac35930]{height:100%}.jsoneditor-container:hover .max-btn[data-v-2ac35930]{display:block}.max-btn[data-v-2ac35930]{display:none;position:absolute;top:7px;right:110px;color:#fff;width:24px;height:24px;background:transparent url("+n(i(9))+") no-repeat;background-position:3px;border:1px solid transparent;border-radius:3px}.max-btn[data-v-2ac35930]:hover{border:1px solid #d7e6fe}",""]);},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTIzNzY1NTcxODU1IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE5MjciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTYzLjk4OTM4MyAxMDUuNDQyNDk0bDAgMjY4LjM5Njg0M2MwIDE4LjkzNTI1OCAxNS4zNjgwMTIgMzQuMzA0Mjk0IDM0LjMwNDI5NCAzNC4zMDQyOTQgMTguOTM2MjgxIDAgMzQuMzA0Mjk0LTE1LjM2OTAzNiAzNC4zMDQyOTQtMzQuMzA0Mjk0TDEzMi41OTc5NzEgMTgwLjE1NjEyNmwyMTguMTA3NDgzIDIxOC4xNzYwNDVjMTIuODI5MTkgMTIuODMwMjEzIDMzLjYxODY3OSAxMi44MzAyMTMgNDYuNTE1NDA3IDAgMTIuODMwMjEzLTEyLjg5Nzc1MSAxMi44MzAyMTMtMzMuNjg2MjE3IDAtNDYuNTE2NDNsLTIxOC4xNzYwNDUtMjE4LjEwNzQ4MyAxOTMuNjgzMjExIDBjMTguOTM1MjU4IDAgMzQuMzA0Mjk0LTE1LjM2OTAzNiAzNC4zMDQyOTQtMzQuMzA0Mjk0IDAtMTguOTM1MjU4LTE1LjM2OTAzNi0zNC4zMDQyOTQtMzQuMzA0Mjk0LTM0LjMwNDI5NEwxMDQuMzMxMTgzIDY1LjA5OTY3Qzc5LjI4ODgzNCA2NS4wOTk2NyA2My45ODkzODMgNzcuOTk5NDY4IDYzLjk4OTM4MyAxMDUuNDQyNDk0TDYzLjk4OTM4MyAxMDUuNDQyNDk0eiIgcC1pZD0iMTkyOCIgZmlsbD0iI2U2ZTZlNiI+PC9wYXRoPjxwYXRoIGQ9Ik05MTcuNjg4NzE5IDY1LjA5OTY3IDY0OS4yOTA4NTMgNjUuMDk5NjdjLTE4LjkzNTI1OCAwLTM0LjMwNDI5NCAxNS4zNjkwMzYtMzQuMzA0Mjk0IDM0LjMwNDI5NCAwIDE4LjkzNjI4MSAxNS4zNjkwMzYgMzQuMzA0Mjk0IDM0LjMwNDI5NCAzNC4zMDQyOTRsMTkzLjY4MzIxMSAwLTIxOC4xNzYwNDUgMjE4LjEwNzQ4M2MtMTIuODMwMjEzIDEyLjgyOTE5LTEyLjgzMDIxMyAzMy42MTg2NzkgMCA0Ni41MTY0MyAxMi44OTc3NTEgMTIuODMwMjEzIDMzLjY4NjIxNyAxMi44MzAyMTMgNDYuNTE1NDA3IDBMODg5LjQyMDkwOSAxODAuMTU2MTI2bDAgMTkzLjY4MzIxMWMwIDE4LjkzNTI1OCAxNS4zNjkwMzYgMzQuMzA0Mjk0IDM0LjMwNDI5NCAzNC4zMDQyOTQgMTguOTM2MjgxIDAgMzQuMzA0Mjk0LTE1LjM2OTAzNiAzNC4zMDQyOTQtMzQuMzA0Mjk0TDk1OC4wMjk0OTYgMTA1LjQ0MjQ5NEM5NTguMDI5NDk2IDc3Ljk5OTQ2OCA5NDIuNzk5NjMgNjUuMDk5NjcgOTE3LjY4ODcxOSA2NS4wOTk2N0w5MTcuNjg4NzE5IDY1LjA5OTY3eiIgcC1pZD0iMTkyOSIgZmlsbD0iI2U2ZTZlNiI+PC9wYXRoPjxwYXRoIGQ9Ik0xMDQuMzMxMTgzIDk1Ny4wMTMzNTNsMjY4LjM5Nzg2NiAwYzE4LjkzNTI1OCAwIDM0LjMwNDI5NC0xNS4zNjgwMTIgMzQuMzA0Mjk0LTM0LjMwNDI5NCAwLTE4LjkzNjI4MS0xNS4zNjkwMzYtMzQuMzA0Mjk0LTM0LjMwNDI5NC0zNC4zMDQyOTRMMTc5LjA0NTgzOSA4ODguNDA0NzY2bDIxOC4xNzYwNDUtMjE4LjEwNzQ4M2MxMi44MzAyMTMtMTIuODI5MTkgMTIuODMwMjEzLTMzLjYxODY3OSAwLTQ2LjUxNTQwNy0xMi44OTc3NTEtMTIuODMwMjEzLTMzLjY4NjIxNy0xMi44MzAyMTMtNDYuNTE1NDA3IDBsLTIxOC4xMDc0ODMgMjE4LjE3NjA0NUwxMzIuNTk4OTk0IDY0OC4yNzQ3MWMwLTE4LjkzNTI1OC0xNS4zNjgwMTItMzQuMzA0Mjk0LTM0LjMwNDI5NC0zNC4zMDQyOTQtMTguOTM2MjgxIDAtMzQuMzA0Mjk0IDE1LjM2OTAzNi0zNC4zMDQyOTQgMzQuMzA0Mjk0bDAgMjY4LjM5Nzg2NkM2My45ODkzODMgOTQ0LjExNTYwMiA3OS4yODg4MzQgOTU3LjAxMzM1MyAxMDQuMzMxMTgzIDk1Ny4wMTMzNTNMMTA0LjMzMTE4MyA5NTcuMDEzMzUzeiIgcC1pZD0iMTkzMCIgZmlsbD0iI2U2ZTZlNiI+PC9wYXRoPjxwYXRoIGQ9Ik05NTguMDI5NDk2IDkxNi42NzE1NTMgOTU4LjAyOTQ5NiA2NDguMjc0NzFjMC0xOC45MzUyNTgtMTUuMzY4MDEyLTM0LjMwNDI5NC0zNC4zMDQyOTQtMzQuMzA0Mjk0LTE4LjkzNTI1OCAwLTM0LjMwNDI5NCAxNS4zNjkwMzYtMzQuMzA0Mjk0IDM0LjMwNDI5NGwwIDE5My42ODMyMTFMNjcxLjMxMzQyNSA2MjMuNzgxODc2Yy0xMi44MjkxOS0xMi44MzAyMTMtMzMuNjE4Njc5LTEyLjgzMDIxMy00Ni41MTU0MDcgMC0xMi44MzAyMTMgMTIuODk3NzUxLTEyLjgzMDIxMyAzMy42ODYyMTcgMCA0Ni41MTU0MDdsMjE4LjE3NjA0NSAyMTguMTA3NDgzTDY0OS4yOTA4NTMgODg4LjQwNDc2NmMtMTguOTM1MjU4IDAtMzQuMzA0Mjk0IDE1LjM2ODAxMi0zNC4zMDQyOTQgMzQuMzA0Mjk0IDAgMTguOTM2MjgxIDE1LjM2OTAzNiAzNC4zMDQyOTQgMzQuMzA0Mjk0IDM0LjMwNDI5NGwyNjguMzk3ODY2IDBDOTQyLjc5OTYzIDk1Ny4wMTMzNTMgOTU4LjAyOTQ5NiA5NDQuMTE1NjAyIDk1OC4wMjk0OTYgOTE2LjY3MTU1M0w5NTguMDI5NDk2IDkxNi42NzE1NTN6IiBwLWlkPSIxOTMxIiBmaWxsPSIjZTZlNmU2Ij48L3BhdGg+PC9zdmc+";},function(e,t){e.exports=function(e,t){for(var i=[],n={},o=0;o<t.length;o++){var r=t[o],s=r[0],a=r[1],l=r[2],c=r[3],d={id:e+":"+o,css:a,media:l,sourceMap:c};n[s]?n[s].parts.push(d):i.push(n[s]={id:s,parts:[d]});}return i};},function(e,t){e.exports=function(e,t,i,n,o,r){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c="function"==typeof a?a.options:a;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId=o);var d;if(r?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r);},c._ssrRegister=d):n&&(d=n),d){var h=c.functional,u=h?c.render:c.beforeCreate;h?(c._injectStyles=d,c.render=function(e,t){return d.call(t),u(e,t)}):c.beforeCreate=u?[].concat(u,d):[d];}return {esModule:s,exports:a,options:c}};},function(e,t,i){/*!
   * jsoneditor.js
   *
   * @brief
   * JSONEditor is a web-based tool to view, edit, format, and validate JSON.
   * It has various modes such as a tree editor, a code editor, and a plain text
   * editor.
   *
   * Supported browsers: Chrome, Firefox, Safari, Opera, Internet Explorer 8+
   *
   * @license
   * Licensed under the Apache License, Version 2.0 (the "License"); you may not
   * use this file except in compliance with the License. You may obtain a copy
   * of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
   * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
   * License for the specific language governing permissions and limitations under
   * the License.
   *
   * Copyright (c) 2011-2020 Jos de Jong, http://jsoneditoronline.org
   *
   * @author  Jos de Jong, <wjosdejong@gmail.com>
   * @version 9.1.1
   * @date    2020-09-23
   */
  !function(t,i){e.exports=i();}(window,function(){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return i={},e.m=t=[function(e,t,i){function n(e){return (n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){try{return JSON.parse(e)}catch(t){throw a(e),t}}function r(e){function t(){return e.charAt(a)}function i(){return e.charAt(a+1)}function n(e){return " "===e||"\n"===e||"\r"===e||"\t"===e}function o(){if("/"===t()&&"*"===i()){for(a+=2;a<e.length&&("*"!==t()||"/"!==i());)a++;a+=2,"\n"===t()&&a++;}}function r(i){var n="";n+='"',a++;for(var o=t();a<e.length&&o!==i;)'"'===o&&"\\"!==e.charAt(a-1)?n+='\\"':o in u?n+=u[o]:("\\"===o&&(a++,"'"!==(o=t())&&(n+="\\")),n+=o),a++,o=t();return o===i&&(n+='"',a++),n}var s=[],a=0,l=0,c=!1,d=e.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);d&&(e=d[3]);for(var h,u={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},g={None:"null",True:"true",False:"false"};a<e.length;){o(),function(){if("/"===t()&&"/"===i())for(a+=2;a<e.length&&"\n"!==t();)a++;}();var p,m=t();"{"===m&&l++,"}"===m&&l--," "===(h=m)||" "<=h&&h<=" "||" "===h||" "===h||"　"===h?(s.push(" "),a++):"'"===m?s.push(r(m)):'"'===m?s.push(r('"')):"`"===m?s.push(r("´")):"‘"===m?s.push(r("’")):"“"===m?s.push(r("”")):"}"===m?(s.push(m),a++,p=function(){for(var i="";a<e.length&&n(t());)i+=t(),a++;return i}(),o(),"{"===function(){for(var t=a;t<e.length&&n(e[t]);)t++;return e[t]}()&&(s.push(","),0===l&&(c=!0)),s.push(p)):","===m&&-1!==["]","}"].indexOf(function(){for(var t=a+1;t<e.length&&n(e[t]);)t++;return e[t]}())?a++:/[a-zA-Z_$]/.test(m)&&-1!==["{",","].indexOf(function(){for(var e=s.length-1;0<=e;){var t=s[e];if(!n(t))return t;e--;}return ""}())?s.push(function(){for(var e="",i=t(),n=/[a-zA-Z_$\d]/;n.test(i);)e+=i,a++,i=t();return e in g?g[e]:-1===["null","true","false"].indexOf(e)?'"'+e+'"':e}()):/\w/.test(m)?s.push(function(){for(var e,i=t(),n="";/\w/.test(i);)n+=i,a++,i=t();if(0<n.length&&"("===i){if(a++,'"'===(i=t()))e=r(i),i=t();else for(e="";")"!==i&&""!==i;)e+=i,a++,i=t();return ")"===i?(a++,e):n+"("+e+i}return "string"==typeof g[n]?g[n]:n}()):(s.push(m),a++);}return c&&(s.unshift("[\n"),s.push("\n]")),s.join("")}function s(e){return e.replace(/[\u007F-\uFFFF]/g,function(e){return "\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}function a(e){void 0!==de.a?de.a.parse(e):JSON.parse(e);}function l(e,t){for(var i in t)se(t,i)&&(e[i]=t[i]);return e}function c(e){for(var t in e)se(e,t)&&delete e[t];return e}function d(e){return null===e?"null":void 0===e?"undefined":e instanceof Number||"number"==typeof e?"number":e instanceof String||"string"==typeof e?"string":e instanceof Boolean||"boolean"==typeof e?"boolean":e instanceof RegExp?"regexp":u(e)?"array":"object"}function h(e){return ("string"==typeof e||e instanceof String)&&fe.test(e)}function u(e){return "[object Array]"===Object.prototype.toString.call(e)}function g(e){return e.ownerDocument.defaultView}function p(e){return e.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0}function m(e){return e.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0}function f(e,t){var i=e.className.split(" ");-1===i.indexOf(t)&&(i.push(t),e.className=i.join(" "));}function C(e){e.className="";}function I(e,t){var i=e.className.split(" "),n=i.indexOf(t);-1!==n&&(i.splice(n,1),e.className=i.join(" "));}function A(e){for(var t=e.childNodes,i=0,n=t.length;i<n;i++){var o=t[i];o.style&&o.removeAttribute("style");var r=o.attributes;if(r)for(var s=r.length-1;0<=s;s--){var a=r[s];!0===a.specified&&o.removeAttribute(a.name);}A(o);}}function b(e){var t,i;document.createRange&&((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(i=window.getSelection()).removeAllRanges(),i.addRange(t));}function v(e){var t,i;e&&"DIV"===e.nodeName&&window.getSelection&&document.createRange&&((i=document.createRange()).selectNodeContents(e),(t=window.getSelection()).removeAllRanges(),t.addRange(i));}function y(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null}function w(e){var t;e&&window.getSelection&&((t=window.getSelection()).removeAllRanges(),t.addRange(e));}function x(){var e=y();return e&&"startOffset"in e&&"endOffset"in e&&e.startContainer&&e.startContainer===e.endContainer?{startOffset:e.startOffset,endOffset:e.endOffset,container:e.startContainer.parentNode}:null}function S(e){var t;document.createRange&&window.getSelection&&window.getSelection()&&(t=document.createRange(),e.container.firstChild||e.container.appendChild(document.createTextNode("")),t.setStart(e.container.firstChild,e.startOffset),t.setEnd(e.container.firstChild,e.endOffset),w(t));}function k(e,t){if(void 0===t&&(t={_text:"",flush:function(){var e=this._text;return this._text="",e},set:function(e){this._text=e;}}),e.nodeValue){var i=e.nodeValue.replace(/\s*\n\s*/g,"");return ""!==i?t.flush()+i:""}if(e.hasChildNodes()){for(var n=e.childNodes,o="",r=0,s=n.length;r<s;r++){var a,l,c=n[r];"DIV"===c.nodeName||"P"===c.nodeName?((l=(a=n[r-1])?a.nodeName:void 0)&&"DIV"!==l&&"P"!==l&&"BR"!==l&&(""!==o&&(o+="\n"),t.flush()),o+=k(c,t),t.set("\n")):"BR"===c.nodeName?(o+=t.flush(),t.set("\n")):o+=k(c,t);}return o}return ""}function T(e,t){for(var i=e?e.parentNode:void 0;i;){if(i===t)return !0;i=i.parentNode;}return !1}function M(){var e,t;return -1===Ce&&(e=-1,"undefined"!=typeof navigator&&"Microsoft Internet Explorer"===navigator.appName&&(t=navigator.userAgent,null!=new RegExp("MSIE ([0-9]+[.0-9]+)").exec(t)&&(e=parseFloat(RegExp.$1))),Ce=e),Ce}function j(){return "undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")}function N(e,t,i,n){if(e.addEventListener)return void 0===n&&(n=!1),"mousewheel"===t&&j()&&(t="DOMMouseScroll"),e.addEventListener(t,i,n),i;if(e.attachEvent){var o=function(){return i.call(e,window.event)};return e.attachEvent("on"+t,o),o}}function R(e,t,i,n){e.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===t&&j()&&(t="DOMMouseScroll"),e.removeEventListener(t,i,n)):e.detachEvent&&e.detachEvent("on"+t,i);}function E(e,t){for(var i=e.parentNode;i;){if(i===t)return !0;i=i.parentNode;}return !1}function L(e){function t(t){for(var i="";void 0!==e[n]&&e[n]!==t;)i+=e[n],n++;if(e[n]!==t)throw new Error("Invalid JSON path: unexpected end, character "+t+" expected");return i}for(var i=[],n=0;void 0!==e[n];)if("."===e[n])n++,i.push(function(){for(var t="";void 0!==e[n]&&/[\w$]/.test(e[n]);)t+=e[n],n++;if(""===t)throw new Error("Invalid JSON path: property name expected at index "+n);return t}());else{if("["!==e[n])throw new Error('Invalid JSON path: unexpected character "'+e[n]+'" at index '+n);if("'"===e[++n]||'"'===e[n]){var o=e[n];if(n++,i.push(t(o)),e[n]!==o)throw new Error("Invalid JSON path: closing quote ' expected at index "+n);n++;}else{var r=t("]").trim();if(0===r.length)throw new Error("Invalid JSON path: array value expected at index "+n);r="*"===r?r:JSON.parse(r),i.push(r);}if("]"!==e[n])throw new Error("Invalid JSON path: closing bracket ] expected at index "+n);n++;}return i}function O(e){return e.map(function(e){return "number"==typeof e?"["+e+"]":"string"==typeof e&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'["'+e+'"]'}).join("")}function Z(e){var t,i;return "enum"!==e.keyword||!Array.isArray(e.schema)||(i=e.schema)&&(5<(i=i.map(function(e){return JSON.stringify(e)})).length&&(t=["("+(i.length-5)+" more...)"],(i=i.slice(0,5)).push(t)),e.message="should be equal to one of: "+i.join(", ")),"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e}function W(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}function G(e){return "object"===n(e)&&Array.isArray(e.path)&&"string"==typeof e.message}function D(e,t,i){var n=void 0!==i?i:0;return t.left-n>=e.left&&t.right+n<=e.right&&t.top-n>=e.top&&t.bottom+n<=e.bottom}function B(e,t,i){var n;return function(){var o=this,r=arguments,s=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(o,r);},t),s&&e.apply(o,r);}}function H(e,t){for(var i=t.length,n=0,o=e.length,r=t.length;t.charAt(n)===e.charAt(n)&&n<i;)n++;for(;t.charAt(r-1)===e.charAt(o-1)&&n<r&&0<o;)r--,o--;return {start:n,end:r}}function _(e){function t(t){var i=e.value.substring(0,t);return {row:(i.match(/\n/g)||[]).length+1,column:i.length-i.lastIndexOf("\n")}}var i,n,o,r,s,a=0,l=0;return "number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(a=e.selectionStart,l=e.selectionEnd):(n=document.selection.createRange())&&n.parentElement()===e&&(r=e.value.length,i=e.value.replace(/\r\n/g,"\n"),(o=e.createTextRange()).moveToBookmark(n.getBookmark()),(s=e.createTextRange()).collapse(!1),-1<o.compareEndPoints("StartToEnd",s)?a=l=r:(a=-o.moveStart("character",-r),a+=i.slice(0,a).split("\n").length-1,-1<o.compareEndPoints("EndToEnd",s)?l=r:(l=-o.moveEnd("character",-r),l+=i.slice(0,l).split("\n").length-1))),{startIndex:a,endIndex:l,start:t(a),end:t(l)}}function $(e,t,i){var n=e.value||"";if(0<t&&0<i){var o=n.split("\n",t);t=Math.min(o.length,t),i=Math.min(o[t-1].length,i-1);var r=1===t?i:i+1;return o.slice(0,t-1).join("\n").length+r}return -1}function z(e,t){var i,n=[];if(!t||!t.length)return n;try{i=ue.a.parse(e);}catch(e){return n}return t.forEach(function(e){var t=P(L(e)),o=i.pointers[t];o&&n.push({path:e,line:o.key?o.key.line:o.value?o.value.line:0,column:o.key?o.key.column:o.value?o.value.column:0});}),n}function P(e){return e.map(function(e){return "/"+String(e).replace(/~/g,"~0").replace(/\//g,"~1")}).join("")}function V(e){var t=document.createElement("div");return t.style.color=e,t.style.color.split(/\s+/).join("").toLowerCase()||null}function F(e){return !!V(e)}function K(e,t){if(!e)return "";var i="";return e.title&&(i+=e.title),e.description&&(0<i.length&&(i+="\n"),i+=e.description),e.default&&(0<i.length&&(i+="\n\n"),i+=Object(ge.c)("default",void 0,t)+"\n",i+=JSON.stringify(e.default,null,2)),Array.isArray(e.examples)&&0<e.examples.length&&(0<i.length&&(i+="\n\n"),i+=Object(ge.c)("examples",void 0,t)+"\n",e.examples.forEach(function(t,n){i+=JSON.stringify(t,null,2),n!==e.examples.length-1&&(i+="\n");})),i}function Y(e,t){for(var i=e,n=0;n<t.length&&null!=i;n++)i=i[t[n]];return i}function X(e,t){for(var i=e.replace(/ \(copy( \d+)?\)$/,""),n=i,o=1;-1!==t.indexOf(n);)n=i+" (copy"+(1<o?" "+o:"")+")",o++;return n}function J(e,t){var i={};if(Array.isArray(e))for(var n=Math.min(e.length,pe),o=0;o<n;o++)!function e(t,i,n,o){(Array.isArray(t)||ne(t))&&!o||(i[n||""]=!0),ne(t)&&Object.keys(t).forEach(function(r){e(t[r],i,n+"."+r,o);});}(e[o],i,"",t);else i[""]=!0;return Object.keys(i).sort()}function U(e,t,i){var n=t&&"."!==t?L(t):[],o="desc"===i?-1:1,r=e.slice();return r.sort(function(e,t){var i=Y(e,n),r=Y(t,n);return o*(r<i?1:i<r?-1:0)}),r}function Q(e,t){var i="desc"===t?-1:1,n=Object.keys(e).sort(function(e,t){return i*le()(e,t)}),o={};return n.forEach(function(t){o[t]=e[t];}),o}function q(e){if(""===e)return "";var t=e.toLowerCase();if("null"===t)return null;if("true"===t)return !0;if("false"===t)return !1;var i=Number(e),n=parseFloat(e);return isNaN(i)||isNaN(n)?e:i}function ee(e,t){return "number"==typeof t&&me<t&&isFinite(t)&&Math.floor(t)===t&&!isNaN(new Date(t).valueOf())}function te(e){if(e<900)return e.toFixed()+" B";var t=e/1e3;if(t<900)return t.toFixed(1)+" KB";var i=t/1e3;if(i<900)return i.toFixed(1)+" MB";var n=i/1e3;return n<900?n.toFixed(1)+" GB":(n/1e3).toFixed(1)+" TB"}function ie(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function ne(e){return "object"===n(e)&&null!==e&&!Array.isArray(e)}function oe(e,t){return -1!==e.indexOf(t)}function re(e,t){if(!t&&!e)return !1;if(t&&!e||!t&&e)return !0;if(t.length!==e.length)return !0;for(var i=0;i<e.length;++i){var o=function(i){if(!("error"===e[i].type?t.find(function(t){return t.line===e[i].line}):t.find(function(t){return t.dataPath===e[i].dataPath&&t.schemaPath===e[i].schemaPath})))return {v:!0}}(i);if("object"===n(o))return o.v}return !1}function se(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.r(t),i.d(t,"parse",function(){return o}),i.d(t,"repair",function(){return r}),i.d(t,"escapeUnicodeChars",function(){return s}),i.d(t,"validate",function(){return a}),i.d(t,"extend",function(){return l}),i.d(t,"clear",function(){return c}),i.d(t,"getType",function(){return d}),i.d(t,"isUrl",function(){return h}),i.d(t,"isArray",function(){return u}),i.d(t,"getWindow",function(){return g}),i.d(t,"getAbsoluteLeft",function(){return p}),i.d(t,"getAbsoluteTop",function(){return m}),i.d(t,"addClassName",function(){return f}),i.d(t,"removeAllClassNames",function(){return C}),i.d(t,"removeClassName",function(){return I}),i.d(t,"stripFormatting",function(){return A}),i.d(t,"setEndOfContentEditable",function(){return b}),i.d(t,"selectContentEditable",function(){return v}),i.d(t,"getSelection",function(){return y}),i.d(t,"setSelection",function(){return w}),i.d(t,"getSelectionOffset",function(){return x}),i.d(t,"setSelectionOffset",function(){return S}),i.d(t,"getInnerText",function(){return k}),i.d(t,"hasParentNode",function(){return T}),i.d(t,"getInternetExplorerVersion",function(){return M}),i.d(t,"isFirefox",function(){return j}),i.d(t,"addEventListener",function(){return N}),i.d(t,"removeEventListener",function(){return R}),i.d(t,"isChildOf",function(){return E}),i.d(t,"parsePath",function(){return L}),i.d(t,"stringifyPath",function(){return O}),i.d(t,"improveSchemaError",function(){return Z}),i.d(t,"isPromise",function(){return W}),i.d(t,"isValidValidationError",function(){return G}),i.d(t,"insideRect",function(){return D}),i.d(t,"debounce",function(){return B}),i.d(t,"textDiff",function(){return H}),i.d(t,"getInputSelection",function(){return _}),i.d(t,"getIndexForPosition",function(){return $}),i.d(t,"getPositionForPath",function(){return z}),i.d(t,"compileJSONPointer",function(){return P}),i.d(t,"getColorCSS",function(){return V}),i.d(t,"isValidColor",function(){return F}),i.d(t,"makeFieldTooltip",function(){return K}),i.d(t,"get",function(){return Y}),i.d(t,"findUniqueName",function(){return X}),i.d(t,"getChildPaths",function(){return J}),i.d(t,"sort",function(){return U}),i.d(t,"sortObjectKeys",function(){return Q}),i.d(t,"parseString",function(){return q}),i.d(t,"isTimestamp",function(){return ee}),i.d(t,"formatSize",function(){return te}),i.d(t,"limitCharacters",function(){return ie}),i.d(t,"isObject",function(){return ne}),i.d(t,"contains",function(){return oe}),i.d(t,"isValidationErrorChanged",function(){return re}),i(24);var ae=i(11),le=i.n(ae),ce=i(22),de=i.n(ce),he=i(33),ue=i.n(he),ge=i(1),pe=1e4,me=9466848e5,fe=/^https?:\/\/\S+$/,Ce=-1;},function(e,t,i){function n(e){var t;e&&((t=s.find(function(t){return t===e}))?d=t:console.error("Language not found"));}function o(e){if(e)for(var t in e)!function(t){s.find(function(e){return e===t})||s.push(t),a[t]=Object.assign({},a[l],a[t],e[t]);}(t);}function r(e,t,i){var n=a[i=i||d][e]||a[l][e]||e;if(t)for(var o in t)n=n.replace("${"+o+"}",t[o]);return n}i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o}),i.d(t,"c",function(){return r}),i(24);var s=["en","pt-BR","zh-CN","tr","ja","fr-FR","de"],a={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",collapseAll:"Collapse all fields",compactTitle:"Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",formatTitle:"Format JSON data, with proper indentation and line feeds (Ctrl+\\)",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",repairTitle:"Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",searchTitle:"Search fields and values",searchNextResultTitle:"Next result (Enter)",searchPreviousResultTitle:"Previous result (Shift + Enter)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeEditorTitle:"Switch Editor Mode",modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples",default:"Default",containsInvalidProperties:"Contains invalid properties",containsInvalidItems:"Contains invalid items"},"zh-CN":{array:"数组",auto:"自动",appendText:"追加",appendTitle:"在此字段后追加一个类型为“auto”的新字段 (Ctrl+Shift+Ins)",appendSubmenuTitle:"选择要追加的字段类型",appendTitleAuto:"追加类型为“auto”的新字段 (Ctrl+Shift+Ins)",ascending:"升序",ascendingTitle:"升序排列${type}的子节点",actionsMenu:"点击打开动作菜单(Ctrl+M)",cannotParseFieldError:"无法将字段解析为JSON",cannotParseValueError:"无法将值解析为JSON",collapseAll:"缩进所有字段",compactTitle:"压缩JSON数据，删除所有空格 (Ctrl+Shift+\\)",descending:"降序",descendingTitle:"降序排列${type}的子节点",drag:"拖拽移动该节点(Alt+Shift+Arrows)",duplicateKey:"重复键",duplicateText:"复制",duplicateTitle:"复制选中字段(Ctrl+D)",duplicateField:"复制该字段(Ctrl+D)",duplicateFieldError:"重复的字段名称",empty:"清空",expandAll:"展开所有字段",expandTitle:"点击 展开/收缩 该字段(Ctrl+E). \nCtrl+Click 展开/收缩 包含所有子节点.",formatTitle:"使用适当的缩进和换行符格式化JSON数据 (Ctrl+\\)",insert:"插入",insertTitle:"在此字段前插入类型为“auto”的新字段 (Ctrl+Ins)",insertSub:"选择要插入的字段类型",object:"对象",ok:"Ok",redo:"重做 (Ctrl+Shift+Z)",removeText:"移除",removeTitle:"移除选中字段 (Ctrl+Del)",removeField:"移除该字段 (Ctrl+Del)",repairTitle:"修复JSON：修复引号和转义符，删除注释和JSONP表示法，将JavaScript对象转换为JSON。",selectNode:"选择一个节点...",showAll:"展示全部",showMore:"展示更多",showMoreStatus:"显示${totalChilds}的${visibleChilds}项目.",sort:"排序",sortTitle:"排序${type}的子节点",sortTitleShort:"内容排序",sortFieldLabel:"字段：",sortDirectionLabel:"方向：",sortFieldTitle:"选择用于对数组或对象排序的嵌套字段",sortAscending:"升序排序",sortAscendingTitle:"按照该字段升序排序",sortDescending:"降序排序",sortDescendingTitle:"按照该字段降序排序",string:"字符串",transform:"变换",transformTitle:"筛选，排序，或者转换${type}的子节点",transformTitleShort:"筛选，排序，或者转换内容",extract:"提取",extractTitle:"提取这个 ${type}",transformQueryTitle:"输入JMESPath查询",transformWizardLabel:"向导",transformWizardFilter:"筛选",transformWizardSortBy:"排序",transformWizardSelectFields:"选择字段",transformQueryLabel:"查询",transformPreviewLabel:"预览",type:"类型",typeTitle:"更改字段类型",openUrl:"Ctrl+Click 或者 Ctrl+Enter 在新窗口打开链接",undo:"撤销上次动作 (Ctrl+Z)",validationCannotMove:"无法将字段移入其子节点",autoType:'字段类型 "auto". 字段类型由值自动确定 可以为 string，number，boolean，或者 null.',objectType:'字段类型 "object". 对象包含一组无序的键/值对.',arrayType:'字段类型 "array". 数组包含值的有序集合.',stringType:'字段类型 "string". 字段类型由值自动确定，但始终作为字符串返回.',modeCodeText:"代码",modeCodeTitle:"切换至代码高亮",modeFormText:"表单",modeFormTitle:"切换至表单编辑",modeTextText:"文本",modeTextTitle:"切换至文本编辑",modeTreeText:"树",modeTreeTitle:"切换至树编辑",modeViewText:"视图",modeViewTitle:"切换至树视图",modePreviewText:"预览",modePreviewTitle:"切换至预览模式",examples:"例子",default:"缺省",containsInvalidProperties:"包含无效的属性",containsInvalidItems:"包含无效项目"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de ações (Ctrl+M)",cannotParseFieldError:"Não é possível analisar o campo no JSON",cannotParseValueError:"Não é possível analisar o valor em JSON",collapseAll:"Fechar todos campos",compactTitle:"Dados JSON compactos, remova todos os espaços em branco (Ctrl+Shift+\\)",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",formatTitle:"Formate dados JSON, com recuo e feeds de linha adequados (Ctrl+\\)",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",repairTitle:"Repare JSON: corrija aspas e caracteres de escape, remova comentários e notação JSONP, transforme objetos JavaScript em JSON.",selectNode:"Selecione um nódulo...",showAll:"mostrar todos",showMore:"mostrar mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Campo:",sortDirectionLabel:"Direção:",sortFieldTitle:"Selecione um campo filho pelo qual ordenar o array ou objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar o campo selecionado por ordem ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar o campo selecionado por ordem descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar ou transformar os filhos deste ${type}",transformTitleShort:"Filtrar, ordenar ou transformar conteúdos",transformQueryTitle:"Insira uma expressão JMESPath",transformWizardLabel:"Assistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Selecionar campos",transformQueryLabel:"Expressão",transformPreviewLabel:"Visualizar",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer último ação (Ctrl+Z)",validationCannotMove:"Não pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo é determinao automaticamente a partir do seu valor e pode ser texto, número, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto contém uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma coleção de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao é determinado através do seu valor, mas sempre retornara um texto.',examples:"Exemplos",default:"Revelia",containsInvalidProperties:"Contém propriedades inválidas",containsInvalidItems:"Contém itens inválidos"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alanın altına 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alanın tipini seç",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'ın alt tiplerini artan düzende sırala",actionsMenu:"Aksiyon menüsünü açmak için tıklayın (Ctrl+M)",collapseAll:"Tüm alanları kapat",descending:"Azalan",descendingTitle:"${type}'ın alt tiplerini azalan düzende sırala",drag:"Bu alanı taşımak için sürükleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"Aşağıya kopyala",duplicateTitle:"Seçili alanlardan bir daha oluştur (Ctrl+D)",duplicateField:"Bu alandan bir daha oluştur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayrıştırılamıyor",cannotParseValueError:"JSON'a değer ayrıştırılamıyor",empty:"boş",expandAll:"Tüm alanları aç",expandTitle:"Bu alanı açmak/kapatmak için tıkla (Ctrl+E). \nAlt alanlarda dahil tüm alanları açmak için Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alanın üstüne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alanın tipini seç",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kaldır",removeTitle:"Seçilen alanları kaldır (Ctrl+Del)",removeField:"Bu alanı kaldır (Ctrl+Del)",selectNode:"Bir nesne seç...",showAll:"tümünü göster",showMore:"daha fazla göster",showMoreStatus:"${totalChilds} alanın ${visibleChilds} alt alanları gösteriliyor",sort:"Sırala",sortTitle:"${type}'ın alt alanlarını sırala",sortTitleShort:"İçerikleri sırala",sortFieldLabel:"Alan:",sortDirectionLabel:"Yön:",sortFieldTitle:"Diziyi veya nesneyi sıralamak için iç içe geçmiş alanı seçin",sortAscending:"Artan",sortAscendingTitle:"Seçili alanı artan düzende sırala",sortDescending:"Azalan",sortDescendingTitle:"Seçili alanı azalan düzende sırala",string:"Karakter Dizisi",transform:"Dönüştür",transformTitle:"${type}'ın alt alanlarını filtrele, sırala veya dönüştür",transformTitleShort:"İçerikleri filterele, sırala veya dönüştür",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"Sırala",transformWizardSelectFields:"Alanları seç",transformQueryLabel:"Sorgu",transformPreviewLabel:"Önizleme",type:"Tip",typeTitle:"Bu alanın tipini değiştir",openUrl:"URL'i yeni bir pencerede açmak için Ctrl+Click veya Ctrl+Enter",undo:"Son değişikliği geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak taşınamıyor",autoType:'Alan tipi "otomatik". Alan türü otomatik olarak değerden belirlenirve bir dize, sayı, boolean veya null olabilir.',objectType:'Alan tipi "nesne". Bir nesne, sıralanmamış bir anahtar / değer çifti kümesi içerir.',arrayType:'Alan tipi "dizi". Bir dizi, düzenli değerler koleksiyonu içerir.',stringType:'Alan tipi "karakter dizisi". Alan türü değerden belirlenmez,ancak her zaman karakter dizisi olarak döndürülür.',modeCodeText:"Kod",modeCodeTitle:"Kod vurgulayıcıya geç",modeFormText:"Form",modeFormTitle:"Form düzenleyiciye geç",modeTextText:"Metin",modeTextTitle:"Düz metin düzenleyiciye geç",modeTreeText:"Ağaç",modeTreeTitle:"Ağaç düzenleyiciye geç",modeViewText:"Görünüm",modeViewTitle:"Ağaç görünümüne geç",examples:"Örnekler",default:"Varsayılan",containsInvalidProperties:"Geçersiz özellikler içeriyor",containsInvalidItems:"Geçersiz öğeler içeriyor"},ja:{array:"配列",auto:"オート",appendText:"追加",appendTitle:'次のフィールドに"オート"のフィールドを追加 (Ctrl+Shift+Ins)',appendSubmenuTitle:"追加するフィールドの型を選択してください",appendTitleAuto:'"オート"のフィールドを追加 (Ctrl+Shift+Ins)',ascending:"昇順",ascendingTitle:"${type}の子要素を昇順に並べ替え",actionsMenu:"クリックしてアクションメニューを開く (Ctrl+M)",collapseAll:"すべてを折りたたむ",descending:"降順",descendingTitle:"${type}の子要素を降順に並べ替え",drag:"ドラッグして選択中のフィールドを移動 (Alt+Shift+Arrows)",duplicateKey:"複製キー",duplicateText:"複製",duplicateTitle:"選択中のフィールドを複製 (Ctrl+D)",duplicateField:"選択中のフィールドを複製 (Ctrl+D)",duplicateFieldError:"フィールド名が重複しています",cannotParseFieldError:"JSONのフィールドを解析できません",cannotParseValueError:"JSONの値を解析できません",empty:"空",expandAll:"すべてを展開",expandTitle:"クリックしてフィールドを展開/折りたたむ (Ctrl+E). \nCtrl+Click ですべての子要素を展開/折りたたむ",insert:"挿入",insertTitle:"選択中のフィールドの前に新しいフィールドを挿入 (Ctrl+Ins)",insertSub:"挿入するフィールドの型を選択",object:"オブジェクト",ok:"実行",redo:"やり直す (Ctrl+Shift+Z)",removeText:"削除",removeTitle:"選択中のフィールドを削除 (Ctrl+Del)",removeField:"選択中のフィールドを削除 (Ctrl+Del)",selectNode:"ノードを選択...",showAll:"すべてを表示",showMore:"もっと見る",showMoreStatus:"${totalChilds}個のアイテムのうち ${visibleChilds}個を表示しています。",sort:"並べ替え",sortTitle:"${type}の子要素を並べ替え",sortTitleShort:"並べ替え",sortFieldLabel:"フィールド:",sortDirectionLabel:"順序:",sortFieldTitle:"配列またはオブジェクトを並び替えるためのフィールドを選択",sortAscending:"昇順",sortAscendingTitle:"選択中のフィールドを昇順に並び替え",sortDescending:"降順",sortDescendingTitle:"選択中のフィールドを降順に並び替え",string:"文字列",transform:"変換",transformTitle:"${type}の子要素をフィルター・並び替え・変換する",transformTitleShort:"内容をフィルター・並び替え・変換する",extract:"抽出",extractTitle:"${type}を抽出",transformQueryTitle:"JMESPathクエリを入力",transformWizardLabel:"ウィザード",transformWizardFilter:"フィルター",transformWizardSortBy:"並び替え",transformWizardSelectFields:"フィールドを選択",transformQueryLabel:"クエリ",transformPreviewLabel:"プレビュー",type:"型",typeTitle:"選択中のフィールドの型を変更",openUrl:"Ctrl+Click または Ctrl+Enter で 新規ウィンドウでURLを開く",undo:"元に戻す (Ctrl+Z)",validationCannotMove:"子要素に移動できません ",autoType:"オート： フィールドの型は値から自動的に決定されます。 (文字列・数値・ブール・null)",objectType:"オブジェクト： オブジェクトは順序が決まっていないキーと値のペア組み合わせです。",arrayType:"配列： 配列は順序が決まっている値の集合体です。",stringType:"文字列： フィールド型は値から決定されませんが、常に文字列として返されます。",modeCodeText:"コードモード",modeCodeTitle:"ハイライトモードに切り替え",modeFormText:"フォームモード",modeFormTitle:"フォームモードに切り替え",modeTextText:"テキストモード",modeTextTitle:"テキストモードに切り替え",modeTreeText:"ツリーモード",modeTreeTitle:"ツリーモードに切り替え",modeViewText:"ビューモード",modeViewTitle:"ビューモードに切り替え",modePreviewText:"プレビュー",modePreviewTitle:"プレビューに切り替え",examples:"例",default:"デフォルト",containsInvalidProperties:"無効なプロパティが含まれています",containsInvalidItems:"無効なアイテムが含まれています"},"fr-FR":{array:"Liste",auto:"Auto",appendText:"Ajouter",appendTitle:"Ajouter un champ de type 'auto' après ce champ (Ctrl+Shift+Ins)",appendSubmenuTitle:"Sélectionner le type du champ à ajouter",appendTitleAuto:"Ajouter un champ de type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendant",ascendingTitle:"Trier les enfants de ce ${type} par ordre ascendant",actionsMenu:"Ouvrir le menu des actions (Ctrl+M)",collapseAll:"Regrouper",descending:"Descendant",descendingTitle:"Trier les enfants de ce ${type} par ordre descendant",drag:"Déplacer (Alt+Shift+Arrows)",duplicateKey:"Dupliquer la clé",duplicateText:"Dupliquer",duplicateTitle:"Dupliquer les champs sélectionnés (Ctrl+D)",duplicateField:"Dupliquer ce champ (Ctrl+D)",duplicateFieldError:"Dupliquer le nom de champ",cannotParseFieldError:"Champ impossible à parser en JSON",cannotParseValueError:"Valeur impossible à parser en JSON",empty:"vide",expandAll:"Étendre",expandTitle:"Étendre/regrouper ce champ (Ctrl+E). \nCtrl+Click pour étendre/regrouper avec tous les champs.",insert:"Insérer",insertTitle:"Insérer un champ de type 'auto' avant ce champ (Ctrl+Ins)",insertSub:"Sélectionner le type de champ à insérer",object:"Objet",ok:"Ok",redo:"Rejouer (Ctrl+Shift+Z)",removeText:"Supprimer",removeTitle:"Supprimer les champs sélectionnés (Ctrl+Del)",removeField:"Supprimer ce champ (Ctrl+Del)",searchTitle:"Rechercher champs et valeurs",searchNextResultTitle:"Résultat suivant (Enter)",searchPreviousResultTitle:"Résultat précédent (Shift + Enter)",selectNode:"Sélectionner un nœud...",showAll:"voir tout",showMore:"voir plus",showMoreStatus:"${visibleChilds} éléments affichés de ${totalChilds}.",sort:"Trier",sortTitle:"Trier les champs de ce ${type}",sortTitleShort:"Trier",sortFieldLabel:"Champ:",sortDirectionLabel:"Direction:",sortFieldTitle:"Sélectionner les champs permettant de trier les listes et objet",sortAscending:"Ascendant",sortAscendingTitle:"Trier les champs sélectionnés par ordre ascendant",sortDescending:"Descendant",sortDescendingTitle:"Trier les champs sélectionnés par ordre descendant",string:"Chaîne",transform:"Transformer",transformTitle:"Filtrer, trier, or transformer les enfants de ce ${type}",transformTitleShort:"Filtrer, trier ou transformer le contenu",extract:"Extraire",extractTitle:"Extraire ce ${type}",transformQueryTitle:"Saisir une requête JMESPath",transformWizardLabel:"Assistant",transformWizardFilter:"Filtrer",transformWizardSortBy:"Trier par",transformWizardSelectFields:"Sélectionner les champs",transformQueryLabel:"Requête",transformPreviewLabel:"Prévisualisation",type:"Type",typeTitle:"Changer le type de ce champ",openUrl:"Ctrl+Click ou Ctrl+Enter pour ouvrir l'url dans une autre fenêtre",undo:"Annuler la dernière action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Champe de type "auto". Ce type de champ est automatiquement déterminé en fonction de la valeur et peut être de type "chaîne", "nombre", "booléen" ou null.',objectType:'Champ de type "objet". Un objet contient un ensemble non ordonné de paires clé/valeur.',arrayType:'Champ de type "liste". Une liste contient une collection ordonnée de valeurs.',stringType:'Champ de type "chaîne". Ce type de champ n\'est pas déterminé en fonction de la valeur, mais retourne systématiquement une chaîne de caractères.',modeEditorTitle:"Changer mode d'édition",modeCodeText:"Code",modeCodeTitle:"Activer surlignage code",modeFormText:"Formulaire",modeFormTitle:"Activer formulaire",modeTextText:"Texte",modeTextTitle:"Activer éditeur texte",modeTreeText:"Arbre",modeTreeTitle:"Activer éditeur arbre",modeViewText:"Lecture seule",modeViewTitle:"Activer vue arbre",modePreviewText:"Prévisualisation",modePreviewTitle:"Activer mode prévisualiser",examples:"Exemples",default:"Défaut",containsInvalidProperties:"Contient des propriétés non valides",containsInvalidItems:"Contient des éléments invalides"},de:{array:"Auflistung",auto:"Auto",appendText:"anhängen",appendTitle:"Fügen Sie nach diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Umschalt+Ein)",appendSubmenuTitle:"Wählen Sie den Typ des neuen Feldes",appendTitleAuto:"Ein neues Feld vom Typ 'auto' hinzufügen (Strg+Umschalt+Ein)",ascending:"Aufsteigend",ascendingTitle:"Sortieren Sie die Elemente dieses ${type} in aufsteigender Reihenfolge",actionsMenu:"Klicken Sie zum Öffnen des Aktionsmenüs (Strg+M)",cannotParseFieldError:"Feld kann nicht in JSON geparst werden",cannotParseValueError:"Wert kann nicht in JSON geparst werden",collapseAll:"Alle Felder zuklappen",compactTitle:"JSON-Daten verdichten, alle Leerzeichen entfernen (Strg+Umschalt+\\)",descending:"Absteigend",descendingTitle:"Sortieren Sie die Elemente dieses ${type} in absteigender Reihenfolge",drag:"Ziehen, um dieses Feld zu verschieben (Alt+Umschalt+Pfeile)",duplicateKey:"Doppelter Schlüssel",duplicateText:"Duplikat",duplicateTitle:"Ausgewählte Felder duplizieren (Strg+D)",duplicateField:"Dieses Feld duplizieren (Strg+D)",duplicateFieldError:"Doppelter Feldname",empty:"leer",expandAll:"Alle Felder anzeigen",expandTitle:"Klicken Sie, um dieses Feld zu erweitern/zu kollabieren (Strg+E). \nStrg+Klicken Sie, um dieses Feld einschließlich aller Elemente zu erweitern/zu kollabieren.",formatTitle:"JSON-Daten mit korrekter Einrückung und Zeilenvorschüben formatieren (Strg+\\)",insert:"einfügen",insertTitle:"Fügen Sie vor diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Einfg)",insertSub:"Wählen Sie den Typ des neuen Feldes",object:"Objekt",ok:"Ok",redo:"Wiederholen (Strg+Umschalt+Z)",removeText:"entfernen",removeTitle:"Ausgewählte Felder entfernen (Strg+Entf)",removeField:"Dieses Feld entfernen (Strg+Entf)",repairTitle:"JSON reparieren: Anführungszeichen und Escape-Zeichen korrigieren, Kommentare und JSONP-Notation entfernen, JavaScript-Objekte in JSON umwandeln.",searchTitle:"Suchfelder und Werte",searchNextResultTitle:"Nächstes Ergebnis (Enter)",searchPreviousResultTitle:"Vorheriges Ergebnis (Umschalt + Eingabe)",selectNode:"Wählen Sie einen Knoten aus...",showAll:"alle anzeigen",showMore:"mehr anzeigen",showMoreStatus:"Anzeige von ${visibleChilds} von ${totalChilds}-Elementen.",sort:"Sortieren",sortTitle:"Sortieren Sie die Elemente dieses ${type}",sortTitleShort:"Inhalt sortieren",sortFieldLabel:"Feld:",sortDirectionLabel:"Richtung:",sortFieldTitle:"Wählen Sie das verschachtelte Feld, nach dem das Array oder Objekt sortiert werden soll.",sortAscending:"Aufsteigend",sortAscendingTitle:"Sortieren Sie das ausgewählte Feld in aufsteigender Reihenfolge",sortDescending:"Absteigend",sortDescendingTitle:"Sortieren Sie das ausgewählte Feld in absteigender Reihenfolge",string:"Zeichenfolge",transform:"Verwandeln",transformTitle:"Die Elemente dieses ${type} filtern, sortieren oder transformieren",transformTitleShort:"Inhalte filtern, sortieren oder transformieren",extract:"Auszug",extractTitle:"Extrahieren Sie diesen ${type}",transformQueryTitle:"Eine JMESPath-Abfrage eingeben",transformWizardLabel:"Zauberer",transformWizardFilter:"Filter",transformWizardSortBy:"Sortieren nach",transformWizardSelectFields:"Felder auswählen",transformQueryLabel:"Anfrage",transformPreviewLabel:"Vorschau",type:"Geben Sie  ein.",typeTitle:"Ändern Sie den Typ dieses Feldes",openUrl:"Strg+Klicken oder Strg+Eingabe, um die URL in einem neuen Fenster zu öffnen",undo:"Letzte Aktion rückgängig machen (Strg+Z)",validationCannotMove:"Kann ein Feld nicht in ein Kind seiner selbst verschieben",autoType:'Feldtyp "auto". Der Feldtyp wird automatisch aus dem Wert bestimmt und kann ein String, eine Zahl, boolesch oder null sein.',objectType:'Feldtyp "Objekt". Ein Objekt enthält eine ungeordnete Menge von Schlüssel/Wert-Paaren.',arrayType:'Feldtyp "Array". Ein Array enthält eine geordnete Sammlung von Werten.',stringType:'Feldtyp "Zeichenfolge". Der Feldtyp wird nicht aus dem Wert bestimmt, sondern immer als Zeichenfolge zurückgegeben.',modeEditorTitle:"Editor-Modus umschalten",modeCodeText:"Code",modeCodeTitle:"Umschalten auf Code-Highlighter",modeFormText:"Formular",modeFormTitle:"Zum Formular-Editor wechseln",modeTextText:"Text",modeTextTitle:"Zum Editor für einfachen Text wechseln",modeTreeText:"Baum",modeTreeTitle:"Zum Baum-Editor wechseln",modeViewText:"Siehe",modeViewTitle:"Zur Baumansicht wechseln",modePreviewText:"Vorschau",modePreviewTitle:"In den Vorschau-Modus wechseln",examples:"Beispiele",default:"Standardmäßig",containsInvalidProperties:"Enthält ungültige Eigenschaften",containsInvalidItems:"Enthält ungültige Elemente"}},l="en",c="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0,d=s.find(function(e){return e===c})||l;},function(e,t,i){i.d(t,"a",function(){return n}),i.d(t,"d",function(){return o}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return s});var n=document.body,o=10485760,r=2e4,s=2147483648;},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}i.d(t,"a",function(){return a});var o=i(12),r=i(0),s=i(1),a=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom={};var n=this,o=this.dom;this.anchor=void 0,this.items=t,this.eventListeners={},this.selection=void 0,this.onClose=i?i.close:void 0;var r=document.createElement("div");r.className="jsoneditor-contextmenu-root",o.root=r;var a=document.createElement("div");a.className="jsoneditor-contextmenu",o.menu=a,r.appendChild(a);var l=document.createElement("ul");l.className="jsoneditor-menu",a.appendChild(l),o.list=l,o.items=[];var c=document.createElement("button");c.type="button",o.focusButton=c;var d=document.createElement("li");d.style.overflow="hidden",d.style.height="0",d.appendChild(c),l.appendChild(d),function e(t,i,o){o.forEach(function(o){var r,a,l,c,d,h,u,g,p,m,f,C,I,A,b;"separator"===o.type?((r=document.createElement("div")).className="jsoneditor-separator",(a=document.createElement("li")).appendChild(r),t.appendChild(a)):(l={},c=document.createElement("li"),t.appendChild(c),(d=document.createElement("button")).type="button",d.className=o.className,l.button=d,o.title&&(d.title=o.title),o.click&&(d.onclick=function(e){e.preventDefault(),n.hide(),o.click();}),c.appendChild(d),o.submenu?((h=document.createElement("div")).className="jsoneditor-icon",d.appendChild(h),(u=document.createElement("div")).className="jsoneditor-text"+(o.click?"":" jsoneditor-right-margin"),u.appendChild(document.createTextNode(o.text)),d.appendChild(u),(g=o.click?(d.className+=" jsoneditor-default",(p=document.createElement("button")).type="button",(l.buttonExpand=p).className="jsoneditor-expand",(m=document.createElement("div")).className="jsoneditor-expand",p.appendChild(m),c.appendChild(p),o.submenuTitle&&(p.title=o.submenuTitle),p):((f=document.createElement("div")).className="jsoneditor-expand",d.appendChild(f),d)).onclick=function(e){e.preventDefault(),n._onExpandItem(l),g.focus();},C=[],l.subItems=C,I=document.createElement("ul"),(l.ul=I).className="jsoneditor-menu",I.style.height="0",c.appendChild(I),e(I,C,o.submenu)):((A=document.createElement("div")).className="jsoneditor-icon",d.appendChild(A),(b=document.createElement("div")).className="jsoneditor-text",b.appendChild(document.createTextNode(Object(s.c)(o.text))),d.appendChild(b)),i.push(l));});}(l,this.dom.items,t),this.maxHeight=0,t.forEach(function(e){var i=24*(t.length+(e.submenu?e.submenu.length:0));n.maxHeight=Math.max(n.maxHeight,i);});}var t,i;return t=e,(i=[{key:"_getVisibleButtons",value:function(){var e=[],t=this;return this.dom.items.forEach(function(i){e.push(i.button),i.buttonExpand&&e.push(i.buttonExpand),i.subItems&&i===t.expandedItem&&i.subItems.forEach(function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand);});}),e}},{key:"show",value:function(t,i,n){this.hide();var s=!0,a=t.parentNode,l=t.getBoundingClientRect(),c=a.getBoundingClientRect(),d=i.getBoundingClientRect(),h=this;this.dom.absoluteAnchor=Object(o.a)(t,i,function(){h.hide();}),l.bottom+this.maxHeight<d.bottom||l.top-this.maxHeight>d.top&&(s=!1);var u,g=n?0:l.top-c.top;s?(u=t.offsetHeight,this.dom.menu.style.left="0",this.dom.menu.style.top=g+u+"px",this.dom.menu.style.bottom=""):(this.dom.menu.style.left="0",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px"),this.dom.absoluteAnchor.appendChild(this.dom.root),this.selection=Object(r.getSelection)(),this.anchor=t,setTimeout(function(){h.dom.focusButton.focus();},0),e.visibleMenu&&e.visibleMenu.hide(),e.visibleMenu=this;}},{key:"hide",value:function(){this.dom.absoluteAnchor&&(this.dom.absoluteAnchor.destroy(),delete this.dom.absoluteAnchor),this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),e.visibleMenu===this&&(e.visibleMenu=void 0);}},{key:"_onExpandItem",value:function(e){var t,i=this,n=e===this.expandedItem,o=this.expandedItem;o&&(o.ul.style.height="0",o.ul.style.padding="",setTimeout(function(){i.expandedItem!==o&&(o.ul.style.display="",Object(r.removeClassName)(o.ul.parentNode,"jsoneditor-selected"));},300),this.expandedItem=void 0),n||((t=e.ul).style.display="block",t.clientHeight,setTimeout(function(){if(i.expandedItem===e){for(var n=0,o=0;o<t.childNodes.length;o++)n+=t.childNodes[o].clientHeight;t.style.height=n+"px",t.style.padding="5px 10px";}},0),Object(r.addClassName)(t.parentNode,"jsoneditor-selected"),this.expandedItem=e);}},{key:"_onKeyDown",value:function(e){var t,i,n,o,s=e.target,a=e.which,l=!1;27===a?(this.selection&&Object(r.setSelection)(this.selection),this.anchor&&this.anchor.focus(),this.hide(),l=!0):9===a?e.shiftKey?0===(i=(t=this._getVisibleButtons()).indexOf(s))&&(t[t.length-1].focus(),l=!0):(i=(t=this._getVisibleButtons()).indexOf(s))===t.length-1&&(t[0].focus(),l=!0):37===a?("jsoneditor-expand"===s.className&&(i=(t=this._getVisibleButtons()).indexOf(s),(n=t[i-1])&&n.focus()),l=!0):38===a?(i=(t=this._getVisibleButtons()).indexOf(s),(n=t[i-1])&&"jsoneditor-expand"===n.className&&(n=t[i-2]),(n=n||t[t.length-1])&&n.focus(),l=!0):39===a?(i=(t=this._getVisibleButtons()).indexOf(s),(o=t[i+1])&&"jsoneditor-expand"===o.className&&o.focus(),l=!0):40===a&&(i=(t=this._getVisibleButtons()).indexOf(s),(o=t[i+1])&&"jsoneditor-expand"===o.className&&(o=t[i+2]),(o=o||t[0])&&(o.focus(),l=!0),l=!0),l&&(e.stopPropagation(),e.preventDefault());}}])&&n(t.prototype,i),e}();a.visibleMenu=void 0;},function(e,t,i){function n(e,t){var i,n,o=t.sort,r=t.filter,s=t.projection,l="";return r?(i="@"!==r.field?["0"].concat(Object(a.parsePath)("."+r.field)):["0"],n="string"==typeof Object(a.get)(e,i)?r.value:Object(a.parseString)(r.value),l+="[? "+r.field+" "+r.relation+" `"+JSON.stringify(n)+"`]"):l+=Array.isArray(e)?"[*]":"@",o&&("desc"===o.direction?l+=" | reverse(sort_by(@, &"+o.field+"))":l+=" | sort_by(@, &"+o.field+")"),s&&("]"!==l[l.length-1]&&(l+=" | [*]"),1===s.fields.length?l+="."+s.fields[0]:1<s.fields.length&&(l+=".{"+s.fields.map(function(e){var t=e.split(".");return t[t.length-1]+": "+e}).join(", ")+"}")),l}function o(e,t){return s.a.search(e,t)}i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o});var r=i(34),s=i.n(r),a=i(0);},function(e,t,i){function n(e,t,i,n){var o=Array.isArray(t)?Object(a.getChildPaths)(t):[""],l=n&&n.path&&Object(a.contains)(o,n.path)?n.path:o[0],c=n&&n.direction||"asc",d='<div class="pico-modal-contents"><div class="pico-modal-header">'+Object(s.c)("sort")+"</div><form><table><tbody><tr>  <td>"+Object(s.c)("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+Object(s.c)("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+Object(s.c)("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+Object(s.c)("sortAscending")+'" title="'+Object(s.c)("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+Object(s.c)("sortDescending")+'" title="'+Object(s.c)("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+Object(s.c)("ok")+'" /></td></tr></tbody></table></form></div>';r()({parent:e,content:d,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(e){function t(e){a.value=e,a.className="jsoneditor-button-group jsoneditor-button-group-value-"+a.value;}var n=e.modalElem().querySelector("form"),r=e.modalElem().querySelector("#ok"),s=e.modalElem().querySelector("#field"),a=e.modalElem().querySelector("#direction");o.forEach(function(e){var t,i=document.createElement("option");i.text=""===(t=e)?"@":"."===t[0]?t.slice(1):t,i.value=e,s.appendChild(i);}),s.value=l||o[0],t(c||"asc"),a.onclick=function(e){t(e.target.getAttribute("data-value"));},r.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),i({path:s.value,direction:a.value});},n&&(n.onsubmit=r.onclick);}).afterClose(function(e){e.destroy();}).show();}i.r(t),i.d(t,"showSortModal",function(){return n});var o=i(14),r=i.n(o),s=i(1),a=i(0);},function(e,t,i){function n(e){return (n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,i,r){return "boolean"==typeof e||e instanceof Boolean||null===e||"number"==typeof e||e instanceof Number||"string"==typeof e||e instanceof String||e instanceof Date?JSON.stringify(e):Array.isArray(e)?function(e,t,i,n){for(var r=t?i+t:void 0,s=t?"[\n":"[",a=0;a<e.length;a++){var l=e[a];if(t&&(s+=r),s+=void 0!==l&&"function"!=typeof l?o(l,t,r,n):"null",a<e.length-1&&(s+=t?",\n":","),s.length>n)return s+"..."}return s+=t?"\n"+i+"]":"]"}(e,t,i,r):e&&"object"===n(e)?function(e,t,i,n){var r,s=t?i+t:void 0,a=!0,l=t?"{\n":"{";if("function"==typeof e.toJSON)return o(e.toJSON(),t,i,n);for(r in e)if(function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,r)){var c=e[r];if(a?a=!1:l+=t?",\n":",",l+=t?s+'"'+r+'": ':'"'+r+'":',(l+=o(c,t,s,n)).length>n)return l+"..."}return l+=t?"\n"+i+"}":"}"}(e,t,i,r):void 0}function r(e,t){for(var i="";0<t--;)i+=e;return i}function s(e){var t=e.container,i=e.json,n=e.queryDescription,s=void 0===n?p:n,a=e.createQuery,c=e.executeQuery,m=e.onTransform,f=i,C='<label class="pico-modal-contents"><div class="pico-modal-header">'+Object(h.c)("transform")+"</div><p>"+s+'</p><div class="jsoneditor-jmespath-label">'+Object(h.c)("transformWizardLabel")+' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+Object(h.c)("transformWizardFilter")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input type="text" class="value" placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>'+Object(h.c)("transformWizardSortBy")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>'+Object(h.c)("transformWizardSelectFields")+'</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">'+Object(h.c)("transformQueryLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+Object(h.c)("transformQueryTitle")+'">[*]</textarea></div><div class="jsoneditor-jmespath-label">'+Object(h.c)("transformPreviewLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+Object(h.c)("ok")+'" autofocus /></div></div>';l()({parent:t,content:C,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(e){function t(e){return ""===e?"@":"."===e[0]?e.slice(1):e}function n(e,t){try{w.value=a(e,t),p.disabled=!1,E();}catch(e){var i='Error: an error happened when executing "createQuery": '+(e.message||e.toString());w.value="",p.disabled=!0,x.className="jsoneditor-transform-preview jsoneditor-error",x.value=i;}}function s(){var e={};if(C.value&&I.value&&A.value&&(e.filter={field:C.value,relation:I.value,value:A.value}),b.value&&v.value&&(e.sort={field:b.value,direction:v.value}),y.value){for(var t,o=[],r=0;r<y.options.length;r++)y.options[r].selected&&(t=y.options[r].value,o.push(t));e.projection={fields:o};}n(i,e);}var l=e.modalElem(),h=l.querySelector("#wizard"),p=l.querySelector("#ok"),C=l.querySelector("#filterField"),I=l.querySelector("#filterRelation"),A=l.querySelector("#filterValue"),b=l.querySelector("#sortField"),v=l.querySelector("#sortOrder"),y=l.querySelector("#selectFields"),w=l.querySelector("#query"),x=l.querySelector("#preview");Array.isArray(f)||(h.style.fontStyle="italic",h.textContent="(wizard not available for objects, only for arrays)"),Object(u.getChildPaths)(i).forEach(function(e){var i=t(e),n=document.createElement("option");n.text=i,n.value=i,C.appendChild(n);var o=document.createElement("option");o.text=i,o.value=i,b.appendChild(o);});var S,k=Object(u.getChildPaths)(i,!0).filter(function(e){return ""!==e});0<k.length?k.forEach(function(e){var i=t(e),n=document.createElement("option");n.text=i,n.value=i,y.appendChild(n);}):(S=l.querySelector("#selectFieldsPart"))&&(S.style.display="none");var T=new d.a(C,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),M=new d.a(I,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),j=new d.a(b,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),N=new d.a(v,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),R=new d.a(y,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});T.on("selectr.change",s),M.on("selectr.change",s),A.oninput=s,j.on("selectr.change",s),N.on("selectr.change",s),R.on("selectr.change",s),l.querySelector(".pico-modal-contents").onclick=function(e){"A"!==e.target.nodeName&&e.preventDefault();};var E=Object(u.debounce)(function(){try{var e=c(f,w.value);x.className="jsoneditor-transform-preview",x.value=function(e,t,i){var n;n=r(" ",2);var s,a,l=o(e,n,"",i);return l.length>i?(s=l,("number"==typeof(a=i)?s.slice(0,a):s)+"..."):l}(e,0,g.b),p.disabled=!1;}catch(e){x.className="jsoneditor-transform-preview jsoneditor-error",x.value=e.toString(),p.disabled=!0;}},300);w.oninput=E,p.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),m(w.value);},n(i,{}),setTimeout(function(){w.select(),w.focus(),w.selectionStart=3,w.selectionEnd=3;});}).afterClose(function(e){e.destroy();}).show();}i.r(t),i.d(t,"showTransformModal",function(){return s});var a=i(14),l=i.n(a),c=i(10),d=i.n(c),h=i(1),u=i(0),g=i(2),p='Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.';},function(e,t,i){function n(e,t,i,n){var o=n?" !== ":" === ",r=n?" || ":" && ",s=n?"!":"",a=n?"":"!";switch(e){case"null":return t+o+"null";case"array":return s+"Array.isArray("+t+")";case"object":return "("+s+t+r+"typeof "+t+o+'"object"'+r+a+"Array.isArray("+t+"))";case"integer":return "(typeof "+t+o+'"number"'+r+a+"("+t+" % 1)"+r+t+o+t+(i?r+s+"isFinite("+t+")":"")+")";case"number":return "(typeof "+t+o+'"'+e+'"'+(i?r+s+"isFinite("+t+")":"")+")";default:return "typeof "+t+o+'"'+e+'"'}}function o(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=!0;return t}function r(e){return "number"==typeof e?"["+e+"]":u.test(e)?"."+e:"['"+s(e)+"']"}function s(e){return e.replace(g,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function a(e){return "'"+s(e)+"'"}function l(e,t){return '""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function c(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function d(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}e.exports={copy:function(e,t){for(var i in t=t||{},e)t[i]=e[i];return t},checkDataType:n,checkDataTypes:function(e,t,i){if(1===e.length)return n(e[0],t,i,!0);var r,s="",a=o(e);for(r in a.array&&a.object&&(s=a.null?"(":"(!"+t+" || ",s+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)s+=(s?" && ":"")+n(r,t,i,!0);return s},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var i=[],n=0;n<t.length;n++){var o=t[n];(h[o]||"array"===e&&"array"===o)&&(i[i.length]=o);}if(i.length)return i}else{if(h[t])return [t];if("array"===e&&"array"===t)return ["array"]}},toHash:o,getProperty:r,escapeQuotes:s,equal:i(18),ucs2length:i(47),varOccurences:function(e,t){t+="[^0-9]";var i=e.match(new RegExp(t,"g"));return i?i.length:0},varReplace:function(e,t,i){return t+="([^0-9])",i=i.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),i+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return !e;for(var i in e)if(t[i])return !0},schemaHasRulesExcept:function(e,t,i){if("boolean"==typeof e)return !e&&"not"!=i;for(var n in e)if(n!=i&&t[n])return !0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var i in e)if(!t[i])return i},toQuotedString:a,getPathExpr:function(e,t,i,n){return l(e,i?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,i){return l(e,a(i?"/"+c(t):r(t)))},getData:function(e,t,i){var n,o,s,a;if(""===e)return "rootData";if("/"==e[0]){if(!p.test(e))throw new Error("Invalid JSON-pointer: "+e);o=e,s="rootData";}else{if(!(a=e.match(m)))throw new Error("Invalid JSON-pointer: "+e);if(n=+a[1],"#"==(o=a[2])){if(t<=n)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return i[t-n]}if(t<n)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(s="data"+(t-n||""),!o)return s}for(var l=s,c=o.split("/"),h=0;h<c.length;h++){var u=c[h];u&&(s+=r(d(u)),l+=" && "+s);}return l},unescapeFragment:function(e){return d(decodeURIComponent(e))},unescapeJsonPointer:d,escapeFragment:function(e){return encodeURIComponent(c(e))},escapeJsonPointer:c};var h=o(["string","number","integer","boolean","null"]),u=/^[a-z$_][a-z$_0-9]*$/i,g=/'|\\/g,p=/^\/(?:[^~]|~0|~1)*$/,m=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}i.d(t,"a",function(){return s});var o=i(3),r=i(1),s=function(){function e(t,i,n,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a={code:{text:Object(r.c)("modeCodeText"),title:Object(r.c)("modeCodeTitle"),click:function(){s("code");}},form:{text:Object(r.c)("modeFormText"),title:Object(r.c)("modeFormTitle"),click:function(){s("form");}},text:{text:Object(r.c)("modeTextText"),title:Object(r.c)("modeTextTitle"),click:function(){s("text");}},tree:{text:Object(r.c)("modeTreeText"),title:Object(r.c)("modeTreeTitle"),click:function(){s("tree");}},view:{text:Object(r.c)("modeViewText"),title:Object(r.c)("modeViewTitle"),click:function(){s("view");}},preview:{text:Object(r.c)("modePreviewText"),title:Object(r.c)("modePreviewTitle"),click:function(){s("preview");}}},l=[],c=0;c<i.length;c++){var d=i[c],h=a[d];if(!h)throw new Error('Unknown mode "'+d+'"');h.className="jsoneditor-type-modes"+(n===d?" jsoneditor-selected":""),l.push(h);}var u=a[n];if(!u)throw new Error('Unknown mode "'+n+'"');var g=u.text,p=document.createElement("button");p.type="button",p.className="jsoneditor-modes jsoneditor-separator",p.textContent=g+" ▾",p.title=Object(r.c)("modeEditorTitle"),p.onclick=function(){new o.a(l).show(p,t);};var m=document.createElement("div");m.className="jsoneditor-modes",m.style.position="relative",m.appendChild(p),t.appendChild(m),this.dom={container:t,box:p,frame:m};}var t,i;return t=e,(i=[{key:"focus",value:function(){this.dom.box.focus();}},{key:"destroy",value:function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null;}}])&&n(t.prototype,i),e}();},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}i.d(t,"a",function(){return o});var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t.target||null,!this.target)throw new Error('FocusTracker constructor called without a "target" to track.');this.onFocus="function"==typeof t.onFocus?t.onFocus:null,this.onBlur="function"==typeof t.onBlur?t.onBlur:null,this._onClick=this._onEvent.bind(this),this._onKeyUp=function(e){9!==e.which&&9!==e.keyCode||this._onEvent(e);}.bind(this),this.focusFlag=!1,this.firstEventFlag=!0,(this.onFocus||this.onBlur)&&(document.addEventListener("click",this._onClick),document.addEventListener("keyup",this._onKeyUp));}var t,i;return t=e,(i=[{key:"destroy",value:function(){document.removeEventListener("click",this._onClick),document.removeEventListener("keyup",this._onKeyUp),this._onEvent({target:document.body});}},{key:"_onEvent",value:function(e){var t=e.target;t!==this.target&&!this.target.contains(t)&&!this.target.contains(document.activeElement)?(this.focusFlag||this.firstEventFlag)&&(this.onBlur&&this.onBlur({type:"blur",target:this.target}),this.focusFlag=!1,this.firstEventFlag&&(this.firstEventFlag=!1)):this.focusFlag||(this.onFocus&&this.onFocus({type:"focus",target:this.target}),this.focusFlag=!0);}}])&&n(t.prototype,i),e}();},function(e,t,i){function n(){}function o(e,t){return e.hasOwnProperty(t)&&(!0===e[t]||e[t].length)}function r(e,t,i){e.parentNode?e.parentNode.parentNode||t.appendChild(e.parentNode):t.appendChild(e),h.removeClass(e,"excluded"),i||(e.textContent=e.textContent+"");}function s(){var e,t;this.items.length&&(e=document.createDocumentFragment(),this.config.pagination?(t=this.pages.slice(0,this.pageIndex),h.each(t,function(t,i){h.each(i,function(t,i){r(i,e,this.customOption);},this);},this)):h.each(this.items,function(t,i){r(i,e,this.customOption);},this),e.childElementCount&&(h.removeClass(this.items[this.navIndex],"active"),this.navIndex=e.querySelector(".selectr-option").idx,h.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(e));}function a(e,t){t=t||e;var i=this.customOption?this.config.renderOption(t):e.textContent,n=h.createElement("li",{class:"selectr-option",html:i,role:"treeitem","aria-selected":!1});return n.idx=e.idx,this.items.push(n),e.defaultSelected&&this.defaultSelected.push(e.idx),e.disabled&&(n.disabled=!0,h.addClass(n,"disabled")),n}function l(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&h.removeClass(this.inputContainer,"active"),h.hasClass(this.container,"notice")&&(h.removeClass(this.container,"notice"),h.addClass(this.container,"open"),this.input.focus()),h.each(this.items,function(e,t){h.removeClass(t,"excluded"),this.customOption||(t.textContent=t.textContent+"");},this));}function c(e,t){if(t=t||{},!e)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof(this.el=e)&&(this.el=document.querySelector(e)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(t);}var d={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."};n.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t);},off:function(e,t){this._events=this._events||{},e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1);},emit:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1));}},n.mixin=function(e){for(var t=["on","off","emit"],i=0;i<t.length;i++)"function"==typeof e?e.prototype[t[i]]=n.prototype[t[i]]:e[t[i]]=n.prototype[t[i]];return e};var h={extend:function(e,t){for(var i in t=t||{},e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)||(t[i]=e[i]));return t},each:function(e,t,i){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(i,n,e[n],e);else for(var o=0,r=e.length;o<r;o++)t.call(i,o,e[o],e);},createElement:function(e,t){var i,n,o=document,r=o.createElement(e);if(t&&"[object Object]"===Object.prototype.toString.call(t))for(i in t)i in r?r[i]=t[i]:"html"===i?r.textContent=t[i]:"text"===i?(n=o.createTextNode(t[i]),r.appendChild(n)):r.setAttribute(i,t[i]);return r},hasClass:function(e,t){if(e)return e.classList?e.classList.contains(t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){h.hasClass(e,t)||(e.classList?e.classList.add(t):e.className=e.className.trim()+" "+t);},removeClass:function(e,t){h.hasClass(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," "));},closest:function(e,t){return e&&e!==document.body&&(t(e)?e:h.closest(e.parentNode,t))},isInt:function(e){return "number"==typeof e&&isFinite(e)&&Math.floor(e)===e},debounce:function(e,t,i){var n;return function(){var o=this,r=arguments,s=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(o,r);},t),s&&e.apply(o,r);}},rect:function(e,t){var i=window,n=e.getBoundingClientRect(),o=t?i.pageXOffset:0,r=t?i.pageYOffset:0;return {bottom:n.bottom+r,height:n.height,left:n.left+o,right:n.right+o,top:n.top+r,width:n.width}},includes:function(e,t){return -1<e.indexOf(t)},truncate:function(e){for(;e.firstChild;)e.removeChild(e.firstChild);}},u=function(){var e,t=this.tree,i=t.scrollTop;t.scrollHeight-t.offsetHeight<=i&&this.pageIndex<this.pages.length&&(e=document.createDocumentFragment(),h.each(this.pages[this.pageIndex],function(t,i){r(i,e,this.customOption);},this),t.appendChild(e),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length}));};c.prototype.render=function(e){var t;this.rendered||(this.config=h.extend(d,e),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=o(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,n.mixin(this),function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,o(this.config,"width")&&(h.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":h.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=h.createElement("div",{class:"selectr-container"}),this.config.customClass&&h.addClass(this.container,this.config.customClass),this.mobileDevice?h.addClass(this.container,"selectr-mobile"):h.addClass(this.container,"selectr-desktop"),this.el.tabIndex=-1,this.config.nativeDropdown||this.mobileDevice?h.addClass(this.el,"selectr-visible"):h.addClass(this.el,"selectr-hidden"),this.selected=h.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=h.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var e,t=h.createElement("div",{class:"selectr-options-container"});this.tree=h.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=h.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(h.addClass(this.label,"selectr-tags"),h.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=h.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),h.addClass(this.container,"clearable")),this.config.taggable&&(e=h.createElement("li",{class:"input-tag"}),this.input=h.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),e.appendChild(this.input),this.label.appendChild(e),h.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))),this.config.searchable&&(this.input=h.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=h.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=h.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),t.appendChild(this.inputContainer)),t.appendChild(this.notice),t.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var i,n,r,s=!1,l=0;this.el.children.length&&h.each(this.el.children,function(e,t){"OPTGROUP"===t.nodeName?(s=h.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.label+"</li>"}),h.each(t.children,function(e,t){t.idx=l,s.appendChild(a.call(this,t,s)),l++;},this)):(t.idx=l,a.call(this,t),l++);},this),this.config.data&&Array.isArray(this.config.data)&&(i=!(this.data=[]),s=!1,l=0,h.each(this.config.data,function(e,t){o(t,"children")?(i=h.createElement("optgroup",{label:t.text}),s=h.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.text+"</li>"}),h.each(t.children,function(e,t){(n=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=o(t,"disabled"),this.options.push(n),i.appendChild(n),n.idx=l,s.appendChild(a.call(this,n,t)),this.data[l]=t,l++;},this)):((n=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=o(t,"disabled"),this.options.push(n),n.idx=l,a.call(this,n,t),this.data[l]=t,l++);},this)),this.setSelected(!0);for(var c=this.navIndex=0;c<this.items.length;c++)if(r=this.items[c],!h.hasClass(r,"disabled")){h.addClass(r,"active"),this.navIndex=c;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(t),this.placeEl=h.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el);}.call(this),this.bindEvents(),this.update(),this.optsRect=h.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex),t=this,setTimeout(function(){t.emit("selectr.init");},20));},c.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},c.prototype.getSelectedProperties=function(e){var t=this.getSelected();return [].slice.call(t).map(function(t){return t[e]}).filter(function(e){return null!=e})},c.prototype.bindEvents=function(){var e=this;this.events={},this.events.dismiss=function(e){var t=e.target;this.container.contains(t)||!this.opened&&!h.hasClass(this.container,"notice")||this.close();}.bind(this),this.events.navigate=function(e){if(e=e||window.event,this.items.length&&this.opened&&h.includes([13,38,40],e.which)){if(e.preventDefault(),13===e.which)return !(this.config.taggable&&0<this.input.value.length)&&this.change(this.navIndex);var t,i=this.items[this.navIndex];switch(e.which){case 38:(t=0)<this.navIndex&&this.navIndex--;break;case 40:t=1,this.navIndex<this.items.length-1&&this.navIndex++;}for(this.navigating=!0;h.hasClass(this.items[this.navIndex],"disabled")||h.hasClass(this.items[this.navIndex],"excluded");)if(t?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var n=h.rect(this.items[this.navIndex]);t?(0===this.navIndex?this.tree.scrollTop=0:n.top+n.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(n.top+n.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&u.call(this)):0===this.navIndex?this.tree.scrollTop=0:n.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(n.top-this.optsRect.top)),i&&h.removeClass(i,"active"),h.addClass(this.items[this.navIndex],"active");}else this.navigating=!1;}.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",function(t){t.changedTouches[0].target===e.el&&e.toggle();}),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),t.target===e.el&&e.toggle();}),this.el.addEventListener("change",function(t){var i,n;e.el.multiple?(i=e.getSelectedProperties("idx"),n=function(e,t){for(var i,n=[],o=e.slice(0),r=0;r<t.length;r++)-1<(i=o.indexOf(t[r]))?o.splice(i,1):n.push(t[r]);return [n,o]}(e.selectedIndexes,i),h.each(n[0],function(t,i){e.select(i);},e),h.each(n[1],function(t,i){e.deselect(i);},e)):-1<e.el.selectedIndex&&e.select(e.el.selectedIndex);})),this.config.nativeDropdown&&this.container.addEventListener("keydown",function(t){"Enter"===t.key&&e.selected===document.activeElement&&(e.toggle(),setTimeout(function(){e.el.focus();},200));}),this.selected.addEventListener("click",function(t){e.disabled||e.toggle(),t.preventDefault(),t.stopPropagation();}),this.label.addEventListener("click",function(t){h.hasClass(t.target,"selectr-tag-remove")&&e.deselect(t.target.parentNode.idx);}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(e){e.preventDefault();}),this.tree.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=h.closest(t.target,function(e){return e&&h.hasClass(e,"selectr-option")});i&&(h.hasClass(i,"disabled")||(h.hasClass(i,"selected")?(e.el.multiple||!e.el.multiple&&e.config.allowDeselect)&&e.deselect(i.idx):e.select(i.idx),e.opened&&!e.el.multiple&&e.close()));}),this.tree.addEventListener("mouseover",function(t){h.hasClass(t.target,"selectr-option")&&(h.hasClass(t.target,"disabled")||(h.removeClass(e.items[e.navIndex],"active"),h.addClass(t.target,"active"),e.navIndex=[].slice.call(e.items).indexOf(t.target)));}),this.config.searchable&&(this.input.addEventListener("focus",function(t){e.searching=!0;}),this.input.addEventListener("blur",function(t){e.searching=!1;}),this.input.addEventListener("keyup",function(t){e.search(),e.config.taggable||(this.value.length?h.addClass(this.parentNode,"active"):h.removeClass(this.parentNode,"active"));}),this.inputClear.addEventListener("click",function(t){e.input.value=null,l.call(e),e.tree.childElementCount||s.call(e);})),this.config.taggable&&this.input.addEventListener("keyup",function(t){var i;e.search(),e.config.taggable&&this.value.length&&(i=this.value.trim(),13!==t.which&&!h.includes(e.tagSeperators,t.key)||(h.each(e.tagSeperators,function(e,t){i=i.replace(t,"");}),e.add({value:i,text:i,selected:!0},!0)?(e.close(),l.call(e)):(this.value="",e.setMessage("That tag is already in use."))));}),this.update=h.debounce(function(){e.opened&&e.config.closeOnScroll&&e.close(),e.width&&(e.container.style.width=e.width),e.invert();},50),this.requiresPagination&&(this.paginateItems=h.debounce(function(){u.call(this);},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset);},c.prototype.setSelected=function(e){var t;this.config.data||this.el.multiple||!this.el.options.length||(0===this.el.selectedIndex&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),h.each(this.options,function(e,t){t.selected&&t.defaultSelected&&this.select(t.idx);},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data&&(!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0),t=0,h.each(this.config.data,function(e,i){o(i,"children")?h.each(i.children,function(e,i){i.hasOwnProperty("selected")&&!0===i.selected&&this.select(t),t++;},this):(i.hasOwnProperty("selected")&&!0===i.selected&&this.select(t),t++);},this));},c.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.textContent=""),h.removeClass(this.el,"selectr-hidden"),this.el.form&&h.off(this.el.form,"reset",this.events.reset),h.off(document,"click",this.events.dismiss),h.off(document,"keydown",this.events.navigate),h.off(window,"resize",this.update),h.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1);},c.prototype.change=function(e){var t=this.items[e],i=this.options[e];i.disabled||(i.selected&&h.hasClass(t,"selected")?this.deselect(e):this.select(e),this.opened&&!this.el.multiple&&this.close());},c.prototype.select=function(e){var t=this.items[e],i=[].slice.call(this.el.options),n=this.options[e];if(this.el.multiple){if(h.includes(this.selectedIndexes,e))return !1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(n.value),this.selectedIndexes.push(e),function(e){var t,i,n=this,o=document.createDocumentFragment(),r=this.options[e.idx],s=this.data?this.data[e.idx]:r,a=this.customSelected?this.config.renderSelection(s):r.textContent,l=h.createElement("li",{class:"selectr-tag",html:a}),c=h.createElement("button",{class:"selectr-tag-remove",type:"button"});l.appendChild(c),l.idx=e.idx,l.tag=r.value,this.tags.push(l),this.config.sortSelected?(t=this.tags.slice(),i=function(e,t){e.replace(/(\d+)|(\D+)/g,function(e,i,n){t.push([i||1/0,n||""]);});},t.sort(function(e,t){var o,r,s=[],a=[];for(!0===n.config.sortSelected?(o=e.tag,r=t.tag):"text"===n.config.sortSelected&&(o=e.textContent,r=t.textContent),i(o,s),i(r,a);s.length&&a.length;){var l=s.shift(),c=a.shift(),d=l[0]-c[0]||l[1].localeCompare(c[1]);if(d)return d}return s.length-a.length}),h.each(t,function(e,t){o.appendChild(t);}),this.label.textContent=""):o.appendChild(l),this.config.taggable?this.label.insertBefore(o,this.input.parentNode):this.label.appendChild(o);}.call(this,t);}else{var o=this.data?this.data[e]:n;this.label.textContent=this.customSelected?this.config.renderSelection(o):n.textContent,this.selectedValue=n.value,this.selectedIndex=e,h.each(this.options,function(t,i){var n=this.items[t];t!==e&&(n&&h.removeClass(n,"selected"),i.selected=!1,i.removeAttribute("selected"));},this);}h.includes(i,n)||this.el.add(n),t.setAttribute("aria-selected",!0),h.addClass(t,"selected"),h.addClass(this.container,"has-selected"),n.selected=!0,n.setAttribute("selected",""),this.emit("selectr.change",n),this.emit("selectr.select",n);},c.prototype.deselect=function(e,t){var i=this.items[e],n=this.options[e];if(this.el.multiple){var o=this.selectedIndexes.indexOf(e);this.selectedIndexes.splice(o,1);var r=this.selectedValues.indexOf(n.value);this.selectedValues.splice(r,1),function(e){var t=!1;h.each(this.tags,function(i,n){n.idx===e.idx&&(t=n);},this),t&&(this.label.removeChild(t),this.tags.splice(this.tags.indexOf(t),1));}.call(this,i),this.tags.length||h.removeClass(this.container,"has-selected");}else{if(!t&&!this.config.clearable&&!this.config.allowDeselect)return !1;this.label.textContent="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,h.removeClass(this.container,"has-selected");}this.items[e].setAttribute("aria-selected",!1),h.removeClass(this.items[e],"selected"),n.selected=!1,n.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",n);},c.prototype.setValue=function(e){var t=Array.isArray(e);if(t||(e=e.toString().trim()),!this.el.multiple&&t)return !1;h.each(this.options,function(i,n){(t&&h.includes(e.toString(),n.value)||n.value===e)&&this.change(n.idx);},this);},c.prototype.getValue=function(e,t){var i,n;return this.el.multiple?e?this.selectedIndexes.length&&(n={values:[]},h.each(this.selectedIndexes,function(e,t){var i=this.options[t];n.values[e]={value:i.value,text:i.textContent};},this)):n=this.selectedValues.slice():n=e?{value:(i=this.options[this.selectedIndex]).value,text:i.textContent}:this.selectedValue,e&&t&&(n=JSON.stringify(n)),n},c.prototype.add=function(e,t){if(e){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(e))h.each(e,function(e,i){this.add(i,t);},this);else if("[object Object]"===Object.prototype.toString.call(e)){if(t){var i=!1;if(h.each(this.options,function(t,n){n.value.toLowerCase()===e.value.toLowerCase()&&(i=!0);}),i)return !1}var n=h.createElement("option",e);return this.data.push(e),this.options.push(n),n.idx=0<this.options.length?this.options.length-1:0,a.call(this,n),e.selected&&this.select(n.idx),n}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},c.prototype.remove=function(e){var t,i=[];Array.isArray(e)?h.each(e,function(t,n){h.isInt(n)?i.push(this.getOptionByIndex(n)):"string"==typeof e&&i.push(this.getOptionByValue(n));},this):h.isInt(e)?i.push(this.getOptionByIndex(e)):"string"==typeof e&&i.push(this.getOptionByValue(e)),i.length&&(h.each(i,function(e,i){t=i.idx,this.el.remove(i),this.options.splice(t,1);var n=this.items[t].parentNode;n&&n.removeChild(this.items[t]),this.items.splice(t,1),h.each(this.options,function(e,t){t.idx=e,this.items[e].idx=e;},this);},this),this.setPlaceholder(),this.config.pagination&&this.paginate());},c.prototype.removeAll=function(){this.clear(!0),h.each(this.el.options,function(e,t){this.el.remove(t);},this),h.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder();},c.prototype.search=function(e){var t,i,n;this.navigating||(e=e||this.input.value,t=document.createDocumentFragment(),this.removeMessage(),h.truncate(this.tree),1<e.length?(h.each(this.options,function(i,n){var o,s,a=this.items[n.idx];h.includes(n.textContent.toLowerCase(),e.toLowerCase())&&!n.disabled?(r(a,t,this.customOption),h.removeClass(a,"excluded"),this.customOption||(a.textContent="",(o=function(e,t){var i=new RegExp(e,"i").exec(t);if(i){var n=i.index,o=i.index+i[0].length;return {before:t.substring(0,n),match:t.substring(n,o),after:t.substring(o)}}return null}(e,n.textContent))&&(a.appendChild(document.createTextNode(o.before)),(s=document.createElement("span")).className="selectr-match",s.appendChild(document.createTextNode(o.match)),a.appendChild(s),a.appendChild(document.createTextNode(o.after))))):h.addClass(a,"excluded");},this),t.childElementCount?(i=this.items[this.navIndex],n=t.firstElementChild,h.removeClass(i,"active"),this.navIndex=n.idx,h.addClass(n,"active")):this.config.taggable||this.setMessage("no results.")):s.call(this),this.tree.appendChild(t));},c.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open());},c.prototype.open=function(){var e=this;return !!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(h.addClass(this.container,"native-open"),void(this.config.data&&h.each(this.options,function(e,t){this.el.add(t);},this))):(h.addClass(this.container,"open"),s.call(this),this.invert(),this.tree.scrollTop=0,h.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout(function(){e.input.focus(),e.input.tabIndex=0;},10))))},c.prototype.close=function(){var e;this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown?h.removeClass(this.container,"native-open"):(e=h.hasClass(this.container,"notice"),this.config.searchable&&!e&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),e&&(h.removeClass(this.container,"notice"),this.notice.textContent=""),h.removeClass(this.container,"open"),h.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),h.truncate(this.tree),l.call(this));},c.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&h.each(this.tags,function(e,t){t.lastElementChild.tabIndex=0;}),h.removeClass(this.container,"selectr-disabled");},c.prototype.disable=function(e){e||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&h.each(this.tags,function(e,t){t.lastElementChild.tabIndex=-1;}),this.disabled=!0,h.addClass(this.container,"selectr-disabled");},c.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),h.each(this.defaultSelected,function(e,t){this.select(t);},this),this.emit("selectr.reset"));},c.prototype.clear=function(e){var t;this.el.multiple?this.selectedIndexes.length&&(t=this.selectedIndexes.slice(),h.each(t,function(e,t){this.deselect(t);},this)):-1<this.selectedIndex&&this.deselect(this.selectedIndex,e),this.emit("selectr.clear");},c.prototype.serialise=function(e){var t=[];return h.each(this.options,function(e,i){var n={value:i.value,text:i.textContent};i.selected&&(n.selected=!0),i.disabled&&(n.disabled=!0),t[e]=n;}),e?JSON.stringify(t):t},c.prototype.serialize=function(e){return this.serialise(e)},c.prototype.setPlaceholder=function(e){e=e||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(e="No options available"),this.placeEl.textContent=e;},c.prototype.paginate=function(){if(this.items.length){var e=this;return this.pages=this.items.map(function(t,i){return i%e.config.pagination==0?e.items.slice(i,i+e.config.pagination):null}).filter(function(e){return e}),this.pages}},c.prototype.setMessage=function(e,t){t&&this.close(),h.addClass(this.container,"notice"),this.notice.textContent=e;},c.prototype.removeMessage=function(){h.removeClass(this.container,"notice"),this.notice.textContent="";},c.prototype.invert=function(){var e=h.rect(this.selected),t=this.tree.parentNode.offsetHeight,i=window.innerHeight;e.top+e.height+t>i?(h.addClass(this.container,"inverted"),this.isInverted=!0):(h.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=h.rect(this.tree);},c.prototype.getOptionByIndex=function(e){return this.options[e]},c.prototype.getOptionByValue=function(e){for(var t=!1,i=0,n=this.options.length;i<n;i++)if(this.options[i].value.trim()===e.toString().trim()){t=this.options[i];break}return t},e.exports=c;},function(e,t){e.exports=function e(t,i){function n(t){return e.insensitive&&(""+t).toLowerCase()||""+t}var o,r,s=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,d=/^0/,h=n(t).replace(a,"")||"",u=n(i).replace(a,"")||"",g=h.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=u.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(h.match(c),16)||1!==g.length&&h.match(l)&&Date.parse(h),f=parseInt(u.match(c),16)||m&&u.match(l)&&Date.parse(u)||null;if(f){if(m<f)return -1;if(f<m)return 1}for(var C=0,I=Math.max(g.length,p.length);C<I;C++){if(o=!(g[C]||"").match(d)&&parseFloat(g[C])||g[C]||0,r=!(p[C]||"").match(d)&&parseFloat(p[C])||p[C]||0,isNaN(o)!==isNaN(r))return isNaN(o)?1:-1;if(typeof o!=typeof r&&(o+="",r+=""),o<r)return -1;if(r<o)return 1}return 0};},function(e,t,i){function n(e,t,i){function n(){if(g&&g.parentNode){for(var t in g.parentNode.removeChild(g),d){var n;r=d,s=t,Object.prototype.hasOwnProperty.call(r,s)&&((n=d[t])&&Object(o.removeEventListener)(c,t,n),delete d[t]);}"function"==typeof i&&i(e);}var r,s;}function r(e){var t;(t=e.target)===g||Object(o.isChildOf)(t,g)||n();}var s,a,l=3<arguments.length&&void 0!==arguments[3]&&arguments[3],c="function"==typeof(s=e).getRootNode?s.getRootNode():window,d={},h=e.getBoundingClientRect(),u=t.getBoundingClientRect(),g=document.createElement("div");return g.className="jsoneditor-anchor",g.style.position="absolute",g.style.left=h.left-u.left+"px",g.style.top=h.top-u.top+"px",g.style.width=h.width-2+"px",g.style.height=h.height-2+"px",g.style.boxSizing="border-box",t.appendChild(g),d.mousedown=Object(o.addEventListener)(c,"mousedown",r),d.mousewheel=Object(o.addEventListener)(c,"mousewheel",r),l&&(a=null,g.onmouseover=function(){clearTimeout(a),a=null;},g.onmouseout=function(){a=a||setTimeout(n,200);}),g.destroy=n,g}i.d(t,"a",function(){return n});var o=i(0);},function(e,t,i){var n;if(window.Picker)n=window.Picker;else try{n=i(41);}catch(e){}e.exports=n;},function(e,t,i){var n,o,r;!function(){o=[],void 0===(r="function"==typeof(n=function(){function e(e){return "object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType}function t(){var e=[];return {watch:e.push.bind(e),trigger:function(t,i){for(var n=!0,o={detail:i,preventDefault:function(){n=!1;}},r=0;r<e.length;r++)e[r](t,o);return n}}}function i(e){return "none"===window.getComputedStyle(e).display}function n(e){this.elem=e;}function r(e){return function(){return e().elem}}n.make=function(e,t){"string"==typeof e&&(e=document.querySelector(e));var i=document.createElement(t||"div");return (e||document.body).appendChild(i),new n(i)},n.prototype={child:function(e){return n.make(this.elem,e)},stylize:function(e){e=e||{},void 0!==e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")");for(var t in e)e.hasOwnProperty(t)&&(this.elem.style[t]=e[t]);return this},clazz:function(e){return this.elem.className+=" "+e,this},html:function(t){return e(t)?this.elem.appendChild(t):this.elem.innerHTML=t,this},onClick:function(e){return this.elem.addEventListener("click",e),this},destroy:function(){this.elem.parentNode.removeChild(this.elem);},hide:function(){this.elem.style.display="none";},show:function(){this.elem.style.display="block";},attr:function(e,t){return void 0!==t&&this.elem.setAttribute(e,t),this},anyAncestor:function(e){for(var t=this.elem;t;){if(e(new n(t)))return !0;t=t.parentNode;}return !1},isVisible:function(){return !i(this.elem)}};var a=1,l=t(),c=t();return document.documentElement.addEventListener("keydown",function(e){var t=e.which||e.keyCode;27===t?l.trigger():9===t&&c.trigger(e);}),function(o){function s(e,t){var i=o[e];return "function"==typeof i&&(i=i(t)),void 0===i?t:i}function d(e){E().hide(),R().hide(),N.trigger(C,e);}function h(e){j.trigger(C,e)&&d(e);}function u(e){return function(){return e.apply(this,arguments),C}}function g(e,t){var i,o,r;return I||(i=function(e,t){var i=e("width","auto");"number"==typeof i&&(i+="px");var o=e("modalId","pico-"+a++);return n.make(e("parent")).clazz("pico-content").clazz(e("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:i,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(e("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(e("content")).attr("id",o).attr("role","dialog").attr("aria-labelledby",e("ariaLabelledBy")).attr("aria-describedby",e("ariaDescribedBy",o)).onClick(function(e){new n(e.target).anyAncestor(function(e){return /\bpico-close\b/.test(e.elem.className)})&&t();})}(s,h),I={modal:i,overlay:(r=h,n.make((o=s)("parent")).clazz("pico-overlay").clazz(o("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(o("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){o("overlayClose",!0)&&r();})),close:function(e,t){if(t("closeButton",!0))return e.child("button").html(t("closeHtml","&#xD7;")).clazz("pico-close").clazz(t("closeClass","")).stylize(t("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",t("close-label","Close"))}(i,s)},k.trigger(C,t)),I[e]}function p(e,t){return (e.msMatchesSelector||e.webkitMatchesSelector||e.matches).call(e,t)}function m(e){return !(i(e)||p(e,":disabled")||e.hasAttribute("contenteditable"))&&(e.hasAttribute("tabindex")||p(e,"input,select,textarea,button,a[href],area[href],iframe"))}function f(e){for(var t=e.getElementsByTagName("*"),i=0;i<t.length;i++)if(m(t[i]))return t[i]}"string"!=typeof o&&!e(o)||(o={content:o});var C,I,A,b,v,y,w,x,S,k=t(),T=t(),M=t(),j=t(),N=t(),R=g.bind(window,"modal"),E=g.bind(window,"overlay"),L=g.bind(window,"close");return C={modalElem:r(R),closeElem:r(L),overlayElem:r(E),buildDom:u(g.bind(null,null)),isVisible:function(){return !!(I&&R&&R().isVisible())},show:function(e){return T.trigger(C,e)&&(E().show(),L(),R().show(),M.trigger(C,e)),this},close:u(h),forceClose:u(d),destroy:function(){R().destroy(),E().destroy(),E=R=L=void 0;},options:function(e){Object.keys(e).map(function(t){o[t]=e[t];});},afterCreate:u(k.watch),beforeShow:u(T.watch),afterShow:u(M.watch),beforeClose:u(j.watch),afterClose:u(N.watch)},A=C,b=s.bind(null,"focus",!0),A.beforeShow(function(){v=document.activeElement;}),A.afterShow(function(){var e;!b()||(e=f(A.modalElem()))&&e.focus();}),A.afterClose(function(){b()&&v&&v.focus(),v=null;}),c.watch(function(e){var t,i;b()&&A.isVisible()&&(t=f(A.modalElem()),i=function(e){for(var t=e.getElementsByTagName("*"),i=t.length;i--;)if(m(t[i]))return t[i]}(A.modalElem()),(e.shiftKey?t:i)===document.activeElement&&((e.shiftKey?i:t).focus(),e.preventDefault()));}),y=C,w=s.bind(null,"bodyOverflow",!0),S=new n(document.body),y.beforeShow(function(){x=S.elem.style.overflow,w()&&S.stylize({overflow:"hidden"});}),y.afterClose(function(){S.stylize({overflow:x});}),l.watch(function(){s("escCloses",!0)&&C.isVisible()&&C.close();}),C}})?n.apply(t,o):n)||(e.exports=r);}();},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}i.d(t,"a",function(){return o});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorTableVisible=t.errorTableVisible,this.onToggleVisibility=t.onToggleVisibility,this.onFocusLine=t.onFocusLine||function(){},this.onChangeHeight=t.onChangeHeight,this.dom={};var i=document.createElement("div");i.className="jsoneditor-validation-errors-container",this.dom.validationErrorsContainer=i;var n=document.createElement("div");n.style.display="none",n.className="jsoneditor-additional-errors fadein",n.textContent="Scroll for more ▿",this.dom.additionalErrorsIndication=n,i.appendChild(n);var o=document.createElement("span");o.className="jsoneditor-validation-error-icon",o.style.display="none",this.dom.validationErrorIcon=o;var r=document.createElement("span");r.className="jsoneditor-validation-error-count",r.style.display="none",this.dom.validationErrorCount=r,this.dom.parseErrorIndication=document.createElement("span"),this.dom.parseErrorIndication.className="jsoneditor-parse-error-icon",this.dom.parseErrorIndication.style.display="none";}var t,i;return t=e,(i=[{key:"getErrorTable",value:function(){return this.dom.validationErrorsContainer}},{key:"getErrorCounter",value:function(){return this.dom.validationErrorCount}},{key:"getWarningIcon",value:function(){return this.dom.validationErrorIcon}},{key:"getErrorIcon",value:function(){return this.dom.parseErrorIndication}},{key:"toggleTableVisibility",value:function(){this.errorTableVisible=!this.errorTableVisible,this.onToggleVisibility(this.errorTableVisible);}},{key:"setErrors",value:function(e,t){var i,n,o,r,s=this;this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.dom.additionalErrorsIndication.style.display="none"),this.errorTableVisible&&0<e.length?((i=document.createElement("div")).className="jsoneditor-validation-errors",(n=document.createElement("table")).className="jsoneditor-text-errors",i.appendChild(n),o=document.createElement("tbody"),n.appendChild(o),e.forEach(function(e){var i,n;isNaN(e.line)?!e.dataPath||(n=t.find(function(t){return t.path===e.dataPath}))&&(i=n.line+1):i=e.line;var r=document.createElement("tr");r.className=isNaN(i)?"":"jump-to-line","error"===e.type?r.className+=" parse-error":r.className+=" validation-error";var a=document.createElement("td"),l=document.createElement("button");l.className="jsoneditor-schema-error",a.appendChild(l),r.appendChild(a);var c,d,h,u,g,p=document.createElement("td");p.style="white-space: nowrap;",p.textContent=isNaN(i)?"":"Ln "+i,r.appendChild(p),"string"==typeof e?((c=document.createElement("td")).colSpan=2,(d=document.createElement("pre")).appendChild(document.createTextNode(e)),c.appendChild(d),r.appendChild(c)):((h=document.createElement("td")).appendChild(document.createTextNode(e.dataPath||"")),r.appendChild(h),u=document.createElement("td"),(g=document.createElement("pre")).appendChild(document.createTextNode(e.message)),u.appendChild(g),r.appendChild(u)),r.onclick=function(){s.onFocusLine(i);},o.appendChild(r);}),this.dom.validationErrors=i,this.dom.validationErrorsContainer.appendChild(i),this.dom.additionalErrorsIndication.title=e.length+" errors total",this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight?(this.dom.additionalErrorsIndication.style.display="block",this.dom.validationErrorsContainer.onscroll=function(){s.dom.additionalErrorsIndication.style.display=0<s.dom.validationErrorsContainer.clientHeight&&0===s.dom.validationErrorsContainer.scrollTop?"block":"none";}):this.dom.validationErrorsContainer.onscroll=void 0,r=this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0),this.onChangeHeight(r)):this.onChangeHeight(0);var a,l=e.filter(function(e){return "error"!==e.type}).length;0<l?(this.dom.validationErrorCount.style.display="inline",this.dom.validationErrorCount.innerText=l,this.dom.validationErrorCount.onclick=this.toggleTableVisibility.bind(this),this.dom.validationErrorIcon.style.display="inline",this.dom.validationErrorIcon.title=l+" schema validation error(s) found",this.dom.validationErrorIcon.onclick=this.toggleTableVisibility.bind(this)):(this.dom.validationErrorCount.style.display="none",this.dom.validationErrorIcon.style.display="none"),e.some(function(e){return "error"===e.type})?(a=e[0].line,this.dom.parseErrorIndication.style.display="block",this.dom.parseErrorIndication.title=isNaN(a)?"parse error - check that the json is valid":"parse error on line "+a,this.dom.parseErrorIndication.onclick=this.toggleTableVisibility.bind(this)):this.dom.parseErrorIndication.style.display="none";}}])&&n(t.prototype,i),e}();},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e};},function(e,t,i){function n(e,t,i){var r=this._refs[i];if("string"==typeof r){if(!this._refs[r])return n.call(this,e,t,r);r=this._refs[r];}if((r=r||this._schemas[i])instanceof p)return s(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var a,l,c,d=o.call(this,t,i);return d&&(a=d.schema,t=d.root,c=d.baseId),a instanceof p?l=a.validate||e.call(this,a.schema,t,void 0,c):void 0!==a&&(l=s(a,this._opts.inlineRefs)?a:e.call(this,a,t,void 0,c)),l}function o(e,t){var i=h.parse(t),n=l(i),s=a(this._getId(e.schema));if(0===Object.keys(e.schema).length||n!==s){var u=c(n),g=this._refs[u];if("string"==typeof g)return function(e,t,i){var n=o.call(this,e,t);if(n){var s=n.schema,a=n.baseId;e=n.root;var l=this._getId(s);return l&&(a=d(a,l)),r.call(this,i,a,s,e)}}.call(this,e,g,i);if(g instanceof p)g.validate||this._compile(g),e=g;else{if(!((g=this._schemas[u])instanceof p))return;if(g.validate||this._compile(g),u==c(t))return {schema:g,root:e,baseId:s};e=g;}if(!e.schema)return;s=a(this._getId(e.schema));}return r.call(this,i,s,e.schema,e)}function r(e,t,i,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var r=e.fragment.split("/"),s=1;s<r.length;s++){var a,l,c,h=r[s];if(h){if(void 0===(i=i[h=g.unescapeFragment(h)]))break;f[h]||((c=this._getId(i))&&(t=d(t,c)),i.$ref&&(a=d(t,i.$ref),(l=o.call(this,n,a))&&(i=l.schema,n=l.root,t=l.baseId)));}}return void 0!==i&&i!==n.schema?{schema:i,root:n,baseId:t}:void 0}}function s(e,t){return !1!==t&&(void 0===t||!0===t?function e(t){var i;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(i=t[n])&&!e(i))return !1}else for(var o in t){if("$ref"==o)return !1;if("object"==typeof(i=t[o])&&!e(i))return !1}return !0}(e):t?function e(t){var i,n=0;if(Array.isArray(t)){for(var o=0;o<t.length;o++)if("object"==typeof(i=t[o])&&(n+=e(i)),n==1/0)return 1/0}else for(var r in t){if("$ref"==r)return 1/0;if(C[r])n++;else if("object"==typeof(i=t[r])&&(n+=e(i)+1),n==1/0)return 1/0}return n}(e)<=t:void 0)}function a(e,t){return !1!==t&&(e=c(e)),l(h.parse(e))}function l(e){return h.serialize(e).split("#")[0]+"#"}function c(e){return e?e.replace(I,""):""}function d(e,t){return t=c(t),h.resolve(e,t)}var h=i(46),u=i(18),g=i(7),p=i(25),m=i(48);(e.exports=n).normalizeId=c,n.fullPath=a,n.url=d,n.ids=function(e){var t=c(this._getId(e)),i={"":t},n={"":a(t,!1)},o={},r=this;return m(e,{allKeys:!0},function(e,t,s,a,l,d,p){if(""!==t){var m=r._getId(e),f=i[a],C=n[a]+"/"+l;if(void 0!==p&&(C+="/"+("number"==typeof p?p:g.escapeFragment(p))),"string"==typeof m){m=f=c(f?h.resolve(f,m):m);var I=r._refs[m];if("string"==typeof I&&(I=r._refs[I]),I&&I.schema){if(!u(e,I.schema))throw new Error('id "'+m+'" resolves to more than one schema')}else if(m!=c(C))if("#"==m[0]){if(o[m]&&!u(e,o[m]))throw new Error('id "'+m+'" resolves to more than one schema');o[m]=e;}else r._refs[m]=C;}i[t]=f,n[t]=C;}}),o},n.inlineRef=s,n.schema=o;var f=g.toHash(["properties","patternProperties","enum","dependencies","definitions"]),C=g.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),I=/#\/?$/;},function(e,t,i){e.exports=function e(t,i){if(t===i)return !0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return !1;var n,o,r;if(Array.isArray(t)){if((n=t.length)!=i.length)return !1;for(o=n;0!=o--;)if(!e(t[o],i[o]))return !1;return !0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((n=(r=Object.keys(t)).length)!==Object.keys(i).length)return !1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(i,r[o]))return !1;for(o=n;0!=o--;){var s=r[o];if(!e(t[s],i[s]))return !1}return !0}return t!=t&&i!=i};},function(e,t,i){function n(e,t,i){this.message=i||n.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef));}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e}var r=i(17);e.exports={Validation:o(function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0;}),MissingRef:o(n)},n.message=function(e,t){return "can't resolve reference "+t+" from id "+e};},function(e,t,i){var n;if(window.ace)n=window.ace;else try{n=i(37),i(38),i(39);var o=i(40);n.config.setModuleUrl("ace/mode/json_worker",o);}catch(e){}e.exports=n;},function(e,t,i){function n(e){return (n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){try{this.format();}catch(e){}}i.r(t),i.d(t,"textModeMixins",function(){return A});var r=i(20),s=i.n(r),a=i(1),l=i(8),c=i(15),d=i(0),h=i(5),u=i(6),g=i(9),p=i(2),m=i(35),f=i(4),C={},I="ace/theme/jsoneditor";C.create=function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};void 0===i.statusBar&&(i.statusBar=!0),i.mainMenuBar=!1!==i.mainMenuBar,i.enableSort=!1!==i.enableSort,i.enableTransform=!1!==i.enableTransform,i.createQuery=i.createQuery||f.a,i.executeQuery=i.executeQuery||f.b,"number"==typeof(this.options=i).indentation?this.indentation=Number(i.indentation):this.indentation=2,Object(a.b)(this.options.languages),Object(a.a)(this.options.language);var o=i.ace?i.ace:s.a;this.mode="code"===i.mode?"code":"text","code"===this.mode&&void 0===o&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=i.theme||I,this.theme===I&&o&&Object(m.tryRequireThemeJsonEditor)(),i.onTextSelectionChange&&this.onTextSelectionChange(i.onTextSelectionChange);var r=this;this.container=e,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this.annotations=[],this.lastSchemaErrors=void 0,this._debouncedValidate=Object(d.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(e){e.preventDefault();},this.frame.onkeydown=function(e){r._onKeyDown(e);};var h,u,p,C,A,b,v,y,w={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};this.frameFocusTracker=new g.a(w),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.options.mainMenuBar&&(Object(d.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(h=document.createElement("button")).type="button",h.className="jsoneditor-format",h.title=Object(a.c)("formatTitle"),this.menu.appendChild(h),h.onclick=function(){try{r.format(),r._onChange();}catch(e){r._onError(e);}},(u=document.createElement("button")).type="button",u.className="jsoneditor-compact",u.title=Object(a.c)("compactTitle"),this.menu.appendChild(u),u.onclick=function(){try{r.compact(),r._onChange();}catch(e){r._onError(e);}},this.options.enableSort&&((p=document.createElement("button")).type="button",p.className="jsoneditor-sort",p.title=Object(a.c)("sortTitleShort"),p.onclick=function(){r._showSortModal();},this.menu.appendChild(p)),this.options.enableTransform&&((C=document.createElement("button")).type="button",C.title=Object(a.c)("transformTitleShort"),C.className="jsoneditor-transform",C.onclick=function(){r._showTransformModal();},this.menu.appendChild(C)),(A=document.createElement("button")).type="button",A.className="jsoneditor-repair",A.title=Object(a.c)("repairTitle"),this.menu.appendChild(A),A.onclick=function(){try{r.repair(),r._onChange();}catch(e){r._onError(e);}},"code"===this.mode&&((b=document.createElement("button")).type="button",b.className="jsoneditor-undo jsoneditor-separator",b.title=Object(a.c)("undo"),b.onclick=function(){t.aceEditor.getSession().getUndoManager().undo();},this.menu.appendChild(b),this.dom.undo=b,(v=document.createElement("button")).type="button",v.className="jsoneditor-redo",v.title=Object(a.c)("redo"),v.onclick=function(){t.aceEditor.getSession().getUndoManager().redo();},this.menu.appendChild(v),this.dom.redo=v),this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new l.a(this.menu,this.options.modes,this.options.mode,function(e){r.setMode(e),r.modeSwitcher.focus();})),"code"===this.mode&&((y=document.createElement("a")).appendChild(document.createTextNode("powered by ace")),y.href="https://ace.c9.io/",y.target="_blank",y.className="jsoneditor-poweredBy",y.onclick=function(){window.open(y.href,y.target,"noopener");},this.menu.appendChild(y)));var x,S,k,T,M,j,N,R,E,L,O,Z=this.options.onEditable&&n("function"===this.options.onEditable)&&!this.options.onEditable({});this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"===this.mode?(this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom),S=(x=o.edit(this.editorDom)).getSession(),x.$blockScrolling=1/0,x.setTheme(this.theme),x.setOptions({readOnly:Z}),x.setShowPrintMargin(!1),x.setFontSize("13px"),S.setMode("ace/mode/json"),S.setTabSize(this.indentation),S.setUseSoftTabs(!0),S.setUseWrapMode(!0),k=S.setAnnotations,S.setAnnotations=function(e){k.call(this,e&&e.length?e:r.annotations);},x.commands.bindKey("Ctrl-L",null),x.commands.bindKey("Command-L",null),x.commands.bindKey("Ctrl-\\",null),x.commands.bindKey("Command-\\",null),x.commands.bindKey("Ctrl-Shift-\\",null),x.commands.bindKey("Command-Shift-\\",null),(this.aceEditor=x).on("change",this._onChange.bind(this)),x.on("changeSelection",this._onSelect.bind(this))):((T=document.createElement("textarea")).className="jsoneditor-text",T.spellcheck=!1,this.content.appendChild(T),this.textarea=T,this.textarea.readOnly=Z,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),T.onselect=this._onSelect.bind(this),T.onmousedown=this._onMouseDown.bind(this),T.onblur=this._onBlur.bind(this)),this._updateHistoryButtons(),this.errorTable=new c.a({errorTableVisible:"text"===this.mode,onToggleVisibility:function(){r.validate();},onFocusLine:function(e){r.isFocused=!0,isNaN(e)||r.setTextSelection({row:e,column:1},{row:e,column:1e3});},onChangeHeight:function(e){var t=e+(r.dom.statusBar?r.dom.statusBar.clientHeight:0)+1;r.content.style.marginBottom=-t+"px",r.content.style.paddingBottom=t+"px";}}),this.frame.appendChild(this.errorTable.getErrorTable()),i.statusBar&&(Object(d.addClassName)(this.content,"has-status-bar"),this.curserInfoElements={},M=document.createElement("div"),(this.dom.statusBar=M).className="jsoneditor-statusbar",this.frame.appendChild(M),(j=document.createElement("span")).className="jsoneditor-curserinfo-label",j.innerText="Ln:",(N=document.createElement("span")).className="jsoneditor-curserinfo-val",N.innerText="1",M.appendChild(j),M.appendChild(N),(R=document.createElement("span")).className="jsoneditor-curserinfo-label",R.innerText="Col:",(E=document.createElement("span")).className="jsoneditor-curserinfo-val",E.innerText="1",M.appendChild(R),M.appendChild(E),this.curserInfoElements.colVal=E,this.curserInfoElements.lnVal=N,(L=document.createElement("span")).className="jsoneditor-curserinfo-label",L.innerText="characters selected",L.style.display="none",(O=document.createElement("span")).className="jsoneditor-curserinfo-count",O.innerText="0",O.style.display="none",this.curserInfoElements.countLabel=L,this.curserInfoElements.countVal=O,M.appendChild(O),M.appendChild(L),M.appendChild(this.errorTable.getErrorCounter()),M.appendChild(this.errorTable.getWarningIcon()),M.appendChild(this.errorTable.getErrorIcon())),this.setSchema(this.options.schema,this.options.schemaRefs);},C._onChange=function(){var e=this;if(!this.onChangeDisabled){if(setTimeout(function(){return e._updateHistoryButtons()}),this._debouncedValidate(),this.options.onChange)try{this.options.onChange();}catch(e){console.error("Error in onChange callback: ",e);}if(this.options.onChangeText)try{this.options.onChangeText(this.getText());}catch(e){console.error("Error in onChangeText callback: ",e);}}},C._updateHistoryButtons=function(){var e;this.aceEditor&&this.dom.undo&&this.dom.redo&&(e=this.aceEditor.getSession().getUndoManager())&&e.hasUndo&&e.hasRedo&&(this.dom.undo.disabled=!e.hasUndo(),this.dom.redo.disabled=!e.hasRedo());},C._showSortModal=function(){var e=this,t=this.options.modalAnchor||p.a,i=this.get();Object(h.showSortModal)(t,i,function(t){var n,o;Array.isArray(i)&&(n=Object(d.sort)(i,t.path,t.direction),e.sortedBy=t,e.update(n)),Object(d.isObject)(i)&&(o=Object(d.sortObjectKeys)(i,t.direction),e.sortedBy=t,e.update(o));},e.sortedBy);},C._showTransformModal=function(){var e=this,t=this.options,i=t.modalAnchor,n=t.createQuery,o=t.executeQuery,r=t.queryDescription,s=this.get();Object(u.showTransformModal)({container:i||p.a,json:s,queryDescription:r,createQuery:n,executeQuery:o,onTransform:function(t){var i=o(s,t);e.update(i);}});},C._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange();},C._onKeyDown=function(e){var t=!1;220===(e.which||e.keyCode)&&e.ctrlKey&&(e.shiftKey?this.compact():this.format(),this._onChange(),t=!0),t&&(e.preventDefault(),e.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange();},C._onMouseDown=function(){this._updateCursorInfo(),this._emitSelectionChange();},C._onBlur=function(){var e=this;setTimeout(function(){e.isFocused||(e._updateCursorInfo(),e._emitSelectionChange()),e.isFocused=!1;});},C._updateCursorInfo=function(){function e(){s.curserInfoElements.countVal.innerText!==r&&(s.curserInfoElements.countVal.innerText=r,s.curserInfoElements.countVal.style.display=r?"inline":"none",s.curserInfoElements.countLabel.style.display=r?"inline":"none"),s.curserInfoElements.lnVal.innerText=n,s.curserInfoElements.colVal.innerText=o;}var t,i,n,o,r,s=this;this.textarea?setTimeout(function(){var t=Object(d.getInputSelection)(s.textarea);t.startIndex!==t.endIndex&&(r=t.endIndex-t.startIndex),o=r&&s.cursorInfo&&s.cursorInfo.line===t.end.row&&s.cursorInfo.column===t.end.column?(n=t.start.row,t.start.column):(n=t.end.row,t.end.column),s.cursorInfo={line:n,column:o,count:r},s.options.statusBar&&e();},0):this.aceEditor&&this.curserInfoElements&&(t=this.aceEditor.getCursorPosition(),i=this.aceEditor.getSelectedText(),n=t.row+1,o=t.column+1,r=i.length,s.cursorInfo={line:n,column:o,count:r},this.options.statusBar&&e());},C._emitSelectionChange=function(){var e;this._selectionChangedHandler&&(e=this.getTextSelection(),this._selectionChangedHandler(e.start,e.end,e.text));},C._refreshAnnotations=function(){var e,t=this.aceEditor&&this.aceEditor.getSession();t&&(e=t.getAnnotations().filter(function(e){return "error"===e.type}),t.setAnnotations(e));},C.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null,this.frameFocusTracker.destroy();},C.compact=function(){var e=this.get(),t=JSON.stringify(e);this.updateText(t);},C.format=function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this.updateText(t);},C.repair=function(){var e=this.getText(),t=Object(d.repair)(e);this.updateText(t);},C.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus();},C.resize=function(){this.aceEditor&&this.aceEditor.resize(!1);},C.set=function(e){this.setText(JSON.stringify(e,null,this.indentation));},C.update=function(e){this.updateText(JSON.stringify(e,null,this.indentation));},C.get=function(){var e=this.getText();return Object(d.parse)(e)},C.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},C._setText=function(e,t){var i,n=this,o=!0===this.options.escapeUnicode?Object(d.escapeUnicodeChars)(e):e;this.textarea&&(this.textarea.value=o),this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(o,-1),this.onChangeDisabled=!1,t&&(i=this,setTimeout(function(){i.aceEditor&&i.aceEditor.session.getUndoManager().reset();})),setTimeout(function(){return n._updateHistoryButtons()})),this._debouncedValidate();},C.setText=function(e){this._setText(e,!0);},C.updateText=function(e){this.getText()!==e&&this._setText(e,!1);},C.validate=function(){var e,t,i=this,n=[],o=[];try{var r=this.get();this.validateSchema&&(this.validateSchema(r)||(n=this.validateSchema.errors.map(function(e){return e.type="validation",Object(d.improveSchemaError)(e)}))),this.validationSequence=(this.validationSequence||0)+1;var s=this,a=this.validationSequence;(function(e,t){if(!t)return Promise.resolve([]);try{var i=t(e);return (Object(d.isPromise)(i)?i:Promise.resolve(i)).then(function(e){return Array.isArray(e)?e.filter(function(e){var t=Object(d.isValidValidationError)(e);return t||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',e),t}).map(function(e){return {dataPath:Object(d.stringifyPath)(e.path),message:e.message,type:"customValidation"}}):[]})}catch(e){return Promise.reject(e)}})(r,this.options.onValidate).then(function(e){var t;a===s.validationSequence&&(t=n.concat(o).concat(e),s._renderErrors(t),"function"==typeof i.options.onValidationError&&(Object(d.isValidationErrorChanged)(t,i.lastSchemaErrors)&&i.options.onValidationError.call(i,t),i.lastSchemaErrors=t));}).catch(function(e){console.error("Custom validation function did throw an error",e);});}catch(r){this.getText()&&((e=/\w*line\s*(\d+)\w*/g.exec(r.message))&&(t=+e[1]),o=[{type:"error",message:r.message.replace(/\n/g,"<br>"),line:t}]),this._renderErrors(o),"function"==typeof this.options.onValidationError&&(Object(d.isValidationErrorChanged)(o,this.lastSchemaErrors)&&this.options.onValidationError.call(this,o),this.lastSchemaErrors=o);}},C._renderErrors=function(e){var t=this.getText(),i=[];e.reduce(function(e,t){return "string"==typeof t.dataPath&&-1===e.indexOf(t.dataPath)&&e.push(t.dataPath),e},i);var n=Object(d.getPositionForPath)(t,i);this.aceEditor&&(this.annotations=n.map(function(t){var i=e.filter(function(e){return e.dataPath===t.path}),n=i.map(function(e){return e.message}).join("\n");return n?{row:t.line,column:t.column,text:"Schema validation error"+(1!==i.length?"s":"")+": \n"+n,type:"warning",source:"jsoneditor"}:{}}),this._refreshAnnotations()),this.errorTable.setErrors(e,n),this.aceEditor&&this.aceEditor.resize(!1);},C.getTextSelection=function(){var e={};if(this.textarea){var t=Object(d.getInputSelection)(this.textarea);return this.cursorInfo&&this.cursorInfo.line===t.end.row&&this.cursorInfo.column===t.end.column?(e.start=t.end,e.end=t.start):e=t,{start:e.start,end:e.end,text:this.textarea.value.substring(t.startIndex,t.endIndex)}}if(this.aceEditor){var i=this.aceEditor.getSelection(),n=this.aceEditor.getSelectedText(),o=i.getRange(),r=i.getSelectionLead();return r.row===o.end.row&&r.column===o.end.column?e=o:(e.start=o.end,e.end=o.start),{start:{row:e.start.row+1,column:e.start.column+1},end:{row:e.end.row+1,column:e.end.column+1},text:n}}},C.onTextSelectionChange=function(e){"function"==typeof e&&(this._selectionChangedHandler=Object(d.debounce)(e,this.DEBOUNCE_INTERVAL));},C.setTextSelection=function(e,t){var i,n,o,r,s,a,l;e&&t&&(this.textarea?(i=Object(d.getIndexForPosition)(this.textarea,e.row,e.column),n=Object(d.getIndexForPosition)(this.textarea,t.row,t.column),-1<i&&-1<n&&(this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(i,n)):this.textarea.createTextRange&&((o=this.textarea.createTextRange()).collapse(!0),o.moveEnd("character",n),o.moveStart("character",i),o.select()),r=(this.textarea.value.match(/\n/g)||[]).length+1,s=this.textarea.scrollHeight/r,a=e.row*s,this.textarea.scrollTop=a>this.textarea.clientHeight?a-this.textarea.clientHeight/2:0)):this.aceEditor&&(l={start:{row:e.row-1,column:e.column-1},end:{row:t.row-1,column:t.column-1}},this.aceEditor.selection.setRange(l),this.aceEditor.scrollToLine(e.row-1,!0)));};var A=[{mode:"text",mixin:C,data:"text",load:o},{mode:"code",mixin:C,data:"text",load:o}];},function(e,t,i){var n,o=((n={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,i,n,o,r){var s=r.length-1;switch(o){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=r[s-1];case 13:this.$={};break;case 14:this.$=r[s-1];break;case 15:this.$=[r[s-2],r[s]];break;case 16:this.$={},this.$[r[s][0]]=r[s][1];break;case 17:this.$=r[s-2],r[s-2][r[s][0]]=r[s][1];break;case 18:this.$=[];break;case 19:this.$=r[s-1];break;case 20:this.$=[r[s]];break;case 21:this.$=r[s-2],r[s-2].push(r[s]);}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e=i.lexer.lex()||1;return "number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,n=[0],o=[null],r=[],s=this.table,a="",l=0,c=0,d=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;r.push(h),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,g,p,m,f,C,I,A,b,v,y={};;){if(p=n[n.length-1],void 0===(m=this.defaultActions[p]?this.defaultActions[p]:(null==u&&(u=t()),s[p]&&s[p][u]))||!m.length||!m[0]){if(!d){for(C in b=[],s[p])this.terminals_[C]&&2<C&&b.push("'"+this.terminals_[C]+"'");var w="",w=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+this.terminals_[u]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'");this.parseError(w,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:h,expected:b});}if(3==d){if(1==u)throw new Error(w||"Parsing halted.");c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,u=t();}for(;!(2..toString()in s[p]);){if(0==p)throw new Error(w||"Parsing halted.");v=1,n.length=n.length-2*v,o.length=o.length-v,r.length=r.length-v,p=n[n.length-1];}g=u,u=2,m=s[p=n[n.length-1]]&&s[p][2],d=3;}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+u);switch(m[0]){case 1:n.push(u),o.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),u=null,g?(u=g,g=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,0<d&&d--);break;case 2:if(I=this.productions_[m[1]][1],y.$=o[o.length-I],y._$={first_line:r[r.length-(I||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(I||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(f=this.performAction.call(y,a,c,l,this.yy,m[1],o,r)))return f;I&&(n=n.slice(0,-1*I*2),o=o.slice(0,-1*I),r=r.slice(0,-1*I)),n.push(this.productions_[m[1]][0]),o.push(y.$),r.push(y._$),A=s[n[n.length-2]][n[n.length-1]],n.push(A);break;case 3:return !0}}return !0}}).lexer={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t);},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input;},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return (20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,i,n,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length&&(!(i=this._input.match(this.rules[r[s]]))||t&&!(i[0].length>t[0].length)||(t=i,n=s,this.options.flex));s++);return t?((o=t[0].match(/\n.*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e);},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e);},options:{},performAction:function(e,t,i){switch(i){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return "INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},n);t.parser=o,t.parse=o.parse.bind(o);},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")};},function(e,t){function i(e){"remove"in e||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){void 0!==this.parentNode&&this.parentNode.removeChild(this);}});}"undefined"!=typeof Element&&(void 0!==window.Element&&i(window.Element.prototype),void 0!==window.CharacterData&&i(window.CharacterData.prototype),void 0!==window.DocumentType&&i(window.DocumentType.prototype)),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){for(var t=0;t<this.length;t++){var i=this[t];if(e.call(this,i,t,this))return t}return -1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){return this[this.findIndex(e)]},configurable:!0,writable:!0}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});},function(e,t,i){var n=i(7);e.exports=function(e){n.copy(e,this);};},function(e,t,i){e.exports=function(e,t){"function"==typeof(t=t||{})&&(t={cmp:t});var i,n="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(i=t.cmp,function(e){return function(t,n){var o={key:t,value:e[t]},r={key:n,value:e[n]};return i(o,r)}}),r=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);if(Array.isArray(t)){for(a="[",l=0;l<t.length;l++)l&&(a+=","),a+=e(t[l])||"null";return a+"]"}if(null===t)return "null";if(-1!==r.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(var i=r.push(t)-1,s=Object.keys(t).sort(o&&o(t)),a="",l=0;l<s.length;l++){var c=s[l],d=e(t[c]);d&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d);}return r.splice(i,1),"{"+a+"}"}}(e)};},function(e,t,i){e.exports=function(e,t){function i(e){for(var t=e.rules,i=0;i<t.length;i++)if(n(t[i]))return 1}function n(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var i=t.implements,n=0;n<i.length;n++)if(void 0!==e.schema[i[n]])return 1}(t)}var o="",r=!0===e.schema.$async,s=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var l=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(l){var c="unknown keyword: "+l;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c);}}if(e.isTop&&(o+=" var validate = ",r&&(e.async=!0,o+="async "),o+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(o+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!s&&!e.schema.$ref){var t="false schema",d=e.level,h=e.dataLevel,u=e.schema[t],g=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,f="data"+(h||""),C="valid"+d;return !1===e.schema?(e.isTop?m=!0:o+=" var "+C+" = false; ",(F=F||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: 'boolean schema is false' "),e.opts.verbose&&(o+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",L=o,o=F.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+L+"]); ":o+=" validate.errors = ["+L+"]; return false; ":o+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "):e.isTop?o+=r?" return data; ":" validate.errors = null; return true; ":o+=" var "+C+" = true; ",e.isTop&&(o+=" }; return validate; "),o}if(e.isTop){var I=e.isTop,d=e.level=0,h=e.dataLevel=0,f="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var A="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(A);e.logger.warn(A);}o+=" var vErrors = null; ",o+=" var errors = 0;     ",o+=" if (rootData === undefined) rootData = data; ";}else{if(d=e.level,f="data"+((h=e.dataLevel)||""),a&&(e.baseId=e.resolve.url(e.baseId,a)),r&&!e.async)throw new Error("async schema in sync schema");o+=" var errs_"+d+" = errors;";}var b,C="valid"+d,m=!e.opts.allErrors,v="",y="",w=e.schema.type,x=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(x?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],x=!0)),x&&1==w.length&&(w=w[0],x=!1),e.schema.$ref&&s){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(s=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'));}if(e.schema.$comment&&e.opts.$comment&&(o+=" "+e.RULES.all.$comment.code(e,"$comment")),w){e.opts.coerceTypes&&(b=e.util.coerceToTypes(e.opts.coerceTypes,w));var S=e.RULES.types[w];if(b||x||!0===S||S&&!i(S)){var g=e.schemaPath+".type",p=e.errSchemaPath+"/type",g=e.schemaPath+".type",p=e.errSchemaPath+"/type",k=x?"checkDataTypes":"checkDataType";if(o+=" if ("+e.util[k](w,f,e.opts.strictNumbers,!0)+") { ",b){var T="dataType"+d,M="coerced"+d;o+=" var "+T+" = typeof "+f+"; var "+M+" = undefined; ","array"==e.opts.coerceTypes&&(o+=" if ("+T+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+T+" = typeof "+f+"; if ("+e.util.checkDataType(e.schema.type,f,e.opts.strictNumbers)+") "+M+" = "+f+"; } "),o+=" if ("+M+" !== undefined) ; ";var j=b;if(j)for(var N,R=-1,E=j.length-1;R<E;)"string"==(N=j[R+=1])?o+=" else if ("+T+" == 'number' || "+T+" == 'boolean') "+M+" = '' + "+f+"; else if ("+f+" === null) "+M+" = ''; ":"number"==N||"integer"==N?(o+=" else if ("+T+" == 'boolean' || "+f+" === null || ("+T+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==N&&(o+=" && !("+f+" % 1)"),o+=")) "+M+" = +"+f+"; "):"boolean"==N?o+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+M+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+M+" = true; ":"null"==N?o+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+M+" = null; ":"array"==e.opts.coerceTypes&&"array"==N&&(o+=" else if ("+T+" == 'string' || "+T+" == 'number' || "+T+" == 'boolean' || "+f+" == null) "+M+" = ["+f+"]; ");(F=F||[]).push(o+=" else {   "),o="",!1!==e.createErrors?(o+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",o+=x?""+w.join(","):""+w,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=x?""+w.join(","):""+w,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var L=o;o=F.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+L+"]); ":o+=" validate.errors = ["+L+"]; return false; ":o+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } if ("+M+" !== undefined) {  ";var O=h?"data"+(h-1||""):"parentData";o+=" "+f+" = "+M+"; ",h||(o+="if ("+O+" !== undefined)"),o+=" "+O+"["+(h?e.dataPathArr[h]:"parentDataProperty")+"] = "+M+"; } ";}else(F=F||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",o+=x?""+w.join(","):""+w,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=x?""+w.join(","):""+w,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",L=o,o=F.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+L+"]); ":o+=" validate.errors = ["+L+"]; return false; ":o+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";o+=" } ";}}if(e.schema.$ref&&!s)o+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",m&&(o+=" } if (errors === ",o+=I?"0":"errs_"+d,o+=") { ",y+="}");else{var Z=e.RULES;if(Z)for(var W=-1,G=Z.length-1;W<G;)if(i(S=Z[W+=1])){if(S.type&&(o+=" if ("+e.util.checkDataType(S.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==S.type&&e.schema.properties){var u=e.schema.properties,D=Object.keys(u);if(D)for(var B,H=-1,_=D.length-1;H<_;)if(void 0!==(P=u[B=D[H+=1]]).default){var $=f+e.util.getProperty(B);if(e.compositeRule){if(e.opts.strictDefaults){if(A="default is ignored for: "+$,"log"!==e.opts.strictDefaults)throw new Error(A);e.logger.warn(A);}}else o+=" if ("+$+" === undefined ","empty"==e.opts.useDefaults&&(o+=" || "+$+" === null || "+$+" === '' "),o+=" ) "+$+" = ","shared"==e.opts.useDefaults?o+=" "+e.useDefault(P.default)+" ":o+=" "+JSON.stringify(P.default)+" ",o+="; ";}}else if("array"==S.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z)for(var P,R=-1,V=z.length-1;R<V;)if(void 0!==(P=z[R+=1]).default)if($=f+"["+R+"]",e.compositeRule){if(e.opts.strictDefaults){if(A="default is ignored for: "+$,"log"!==e.opts.strictDefaults)throw new Error(A);e.logger.warn(A);}}else o+=" if ("+$+" === undefined ","empty"==e.opts.useDefaults&&(o+=" || "+$+" === null || "+$+" === '' "),o+=" ) "+$+" = ","shared"==e.opts.useDefaults?o+=" "+e.useDefault(P.default)+" ":o+=" "+JSON.stringify(P.default)+" ",o+="; ";}var F,K=S.rules;if(K)for(var Y,X,J=-1,U=K.length-1;J<U;)!n(X=K[J+=1])||(Y=X.code(e,X.keyword,S.type))&&(o+=" "+Y+" ",m&&(v+="}"));m&&(o+=" "+v+" ",v=""),S.type&&(o+=" } ",w&&w===S.type&&!b&&(o+=" else { ",g=e.schemaPath+".type",p=e.errSchemaPath+"/type",(F=F||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",o+=x?""+w.join(","):""+w,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=x?""+w.join(","):""+w,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",L=o,o=F.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+L+"]); ":o+=" validate.errors = ["+L+"]; return false; ":o+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ")),m&&(o+=" if (errors === ",o+=I?"0":"errs_"+d,o+=") { ",y+="}");}}return m&&(o+=" "+y+" "),I?(r?(o+=" if (errors === 0) return data;           ",o+=" else throw new ValidationError(vErrors); "):(o+=" validate.errors = vErrors; ",o+=" return errors === 0;       "),o+=" }; return validate;"):o+=" var "+C+" = errors === errs_"+d+";",o};},function(e,t,i){e.exports=function(e,t){var i,n,o,r,s,a,l,c=" ",d=e.level,h=e.dataLevel,u=e.schema[t],g=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,f="data"+(h||""),C=e.opts.$data&&u&&u.$data,I=C?(c+=" var schema"+d+" = "+e.util.getData(u.$data,h,e.dataPathArr)+"; ","schema"+d):u,A="maximum"==t,b=A?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[b],y=e.opts.$data&&v&&v.$data,w=A?"<":">",x=A?">":"<",S=void 0;if(!C&&"number"!=typeof u&&void 0!==u)throw new Error(t+" must be number");if(!y&&void 0!==v&&"number"!=typeof v&&"boolean"!=typeof v)throw new Error(b+" must be number or boolean");y?(r="exclIsNumber"+d,s="' + "+(a="op"+d)+" + '",c+=" var schemaExcl"+d+" = "+(i=e.util.getData(v.$data,h,e.dataPathArr))+"; ",S=b,(l=l||[]).push(c+=" var "+(n="exclusive"+d)+"; var "+(o="exclType"+d)+" = typeof "+(i="schemaExcl"+d)+"; if ("+o+" != 'boolean' && "+o+" != 'undefined' && "+o+" != 'number') { "),c="",!1!==e.createErrors?(c+=" { keyword: '"+(S||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(c+=" , message: '"+b+" should be boolean' "),e.opts.verbose&&(c+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),c+=" } "):c+=" {} ",k=c,c=l.pop(),!e.compositeRule&&m?e.async?c+=" throw new ValidationError(["+k+"]); ":c+=" validate.errors = ["+k+"]; return false; ":c+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c+=" } else if ( ",C&&(c+=" ("+I+" !== undefined && typeof "+I+" != 'number') || "),c+=" "+o+" == 'number' ? ( ("+n+" = "+I+" === undefined || "+i+" "+w+"= "+I+") ? "+f+" "+x+"= "+i+" : "+f+" "+x+" "+I+" ) : ( ("+n+" = "+i+" === true) ? "+f+" "+x+"= "+I+" : "+f+" "+x+" "+I+" ) || "+f+" !== "+f+") { var op"+d+" = "+n+" ? '"+w+"' : '"+w+"='; ",void 0===u&&(S=b,p=e.errSchemaPath+"/"+b,I=i,C=y)):(s=w,(r="number"==typeof v)&&C?(a="'"+s+"'",c+=" if ( ",C&&(c+=" ("+I+" !== undefined && typeof "+I+" != 'number') || "),c+=" ( "+I+" === undefined || "+v+" "+w+"= "+I+" ? "+f+" "+x+"= "+v+" : "+f+" "+x+" "+I+" ) || "+f+" !== "+f+") { "):(r&&void 0===u?(n=!0,S=b,p=e.errSchemaPath+"/"+b,I=v,x+="="):(r&&(I=Math[A?"min":"max"](v,u)),v===(!r||I)?(n=!0,S=b,p=e.errSchemaPath+"/"+b,x+="="):(n=!1,s+="=")),a="'"+s+"'",c+=" if ( ",C&&(c+=" ("+I+" !== undefined && typeof "+I+" != 'number') || "),c+=" "+f+" "+x+" "+I+" || "+f+" !== "+f+") { ")),S=S||t,(l=l||[]).push(c),c="",!1!==e.createErrors?(c+=" { keyword: '"+(S||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { comparison: "+a+", limit: "+I+", exclusive: "+n+" } ",!1!==e.opts.messages&&(c+=" , message: 'should be "+s+" ",c+=C?"' + "+I:I+"'"),e.opts.verbose&&(c+=" , schema:  ",c+=C?"validate.schema"+g:""+u,c+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),c+=" } "):c+=" {} ";var k=c;return c=l.pop(),!e.compositeRule&&m?e.async?c+=" throw new ValidationError(["+k+"]); ":c+=" validate.errors = ["+k+"]; return false; ":c+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c+=" } ",m&&(c+=" else { "),c};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d=e.opts.$data&&r&&r.$data,h=d?(i+=" var schema"+n+" = "+e.util.getData(r.$data,o,e.dataPathArr)+"; ","schema"+n):r;if(!d&&"number"!=typeof r)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),i+=" "+c+".length "+("maxItems"==t?">":"<")+" "+h+") { ";var u=t,g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(u||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+h+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=d?"' + "+h+" + '":""+r,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+r,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var p=i,i=g.pop();return !e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d=e.opts.$data&&r&&r.$data,h=d?(i+=" var schema"+n+" = "+e.util.getData(r.$data,o,e.dataPathArr)+"; ","schema"+n):r;if(!d&&"number"!=typeof r)throw new Error(t+" must be number");var u="maxLength"==t?">":"<";i+="if ( ",d&&(i+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),!1===e.opts.unicode?i+=" "+c+".length ":i+=" ucs2length("+c+") ",i+=" "+u+" "+h+") { ";var g=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+h+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=d?"' + "+h+" + '":""+r,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+r,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var m=i,i=p.pop();return !e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d=e.opts.$data&&r&&r.$data,h=d?(i+=" var schema"+n+" = "+e.util.getData(r.$data,o,e.dataPathArr)+"; ","schema"+n):r;if(!d&&"number"!=typeof r)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),i+=" Object.keys("+c+").length "+("maxProperties"==t?">":"<")+" "+h+") { ";var u=t,g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(u||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+h+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=d?"' + "+h+" + '":""+r,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+r,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var p=i,i=g.pop();return !e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i};},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}');},function(e,t,i){function n(e){return 0<=l.indexOf(typeof e)}function o(e){return '"'+(e=e.replace(c,"\\$&").replace(h,"\\f").replace(d,"\\b").replace(u,"\\n").replace(g,"\\r").replace(p,"\\t"))+'"'}function r(e){return e.replace(m,"~0").replace(f,"~1")}var s={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},a="a".charCodeAt();t.parse=function(e,t,i){function n(t,i){var s;o(),g(t,"value");var a=d();switch(a){case"t":c("rue"),s=!0;break;case"f":c("alse"),s=!1;break;case"n":c("ull"),s=null;break;case'"':s=l();break;case"[":s=function(e){o();var t=[],i=0;if("]"==d())return t;for(h();;){var r=e+"/"+i;t.push(n(r)),o();var s=d();if("]"==s)break;","!=s&&C(),o(),i++;}return t}(t);break;case"{":s=function(e){o();var t={};if("}"==d())return t;for(h();;){var i=m();'"'!=d()&&C();var s=l(),a=e+"/"+r(s);p(a,"key",i),g(a,"keyEnd"),o(),":"!=d()&&C(),o(),t[s]=n(a),o();var c=d();if("}"==c)break;","!=c&&C(),o();}return t}(t);break;default:h(),0<="-0123456789".indexOf(a)?s=function(){var t="",i=!0;"-"==e[y]&&(t+=d()),t+=("0"==e[y]?d:u)(),"."==e[y]&&(t+=d()+u(),i=!1),"e"!=e[y]&&"E"!=e[y]||(t+=d(),"+"!=e[y]&&"-"!=e[y]||(t+=d()),t+=u(),i=!1);var n=+t;return w&&i&&(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)?BigInt(t):n}():f();}return g(t,"valueEnd"),o(),i&&y<e.length&&f(),s}function o(){e:for(;y<e.length;){switch(e[y]){case" ":v++;break;case"\t":v+=4;break;case"\r":v=0;break;case"\n":v=0,b++;break;default:break e}y++;}}function l(){for(var e,t="";'"'!=(e=d());)"\\"==e?(e=d())in s?t+=s[e]:"u"==e?t+=function(){for(var e=4,t=0;e--;){t<<=4;var i=d().toLowerCase();"a"<=i&&i<="f"?t+=i.charCodeAt()-a+10:"0"<=i&&i<="9"?t+=+i:C();}return String.fromCharCode(t)}():C():t+=e;return t}function c(e){for(var t=0;t<e.length;t++)d()!==e[t]&&C();}function d(){I();var t=e[y];return y++,v++,t}function h(){y--,v--;}function u(){for(var t="";"0"<=e[y]&&e[y]<="9";)t+=d();if(t.length)return t;I(),f();}function g(e,t){p(e,t,m());}function p(e,t,i){A[e]=A[e]||{},A[e][t]=i;}function m(){return {line:b,column:v,pos:y}}function f(){throw new SyntaxError("Unexpected token "+e[y]+" in JSON at position "+y)}function C(){h(),f();}function I(){if(y>=e.length)throw new SyntaxError("Unexpected end of JSON input")}var A={},b=0,v=0,y=0,w=i&&i.bigint&&"undefined"!=typeof BigInt;return {data:n("",!0),pointers:A}},t.stringify=function(e,t,i){function s(e){A+=e.length,b+=e.length,f+=e;}function a(e){if(u){for(f+="\n"+c(e,u),I++,A=0;e--;)d?(I+=d,A=p):A+=p,b+=g;b+=1;}}function l(e,t){C[e]=C[e]||{},C[e][t]={line:I,column:A,pos:b};}function c(e,t){return Array(e+1).join(t)}if(n(e)){var d=0;switch(typeof(u="object"==typeof i?i.space:i)){case"number":var h=10<u?10:u<0?0:Math.floor(u),u=h&&c(h," "),g=h,p=h;break;case"string":u=u.slice(0,10);for(var m=p=g=0;m<u.length;m++){switch(u[m]){case" ":p++;break;case"\t":p+=4;break;case"\r":p=0;break;case"\n":p=0,d++;break;default:throw new Error("whitespace characters not allowed in JSON")}g++;}break;default:u=void 0;}var f="",C={},I=0,A=0,b=0,v=i&&i.es6&&"function"==typeof Map;return function e(t,i,c){function d(){if(t.length){s("[");for(var o=i+1,r=0;r<t.length;r++){r&&s(","),a(o);var l=n(t[r])?t[r]:null;e(l,o,c+"/"+r);}a(i),s("]");}else s("[]");}function h(){var d=Object.keys(t);if(d.length){s("{");for(var h=i+1,g=0;g<d.length;g++){var p,m=d[g],f=t[m];n(f)&&(g&&s(","),p=c+"/"+r(m),a(h),l(p,"key"),s(o(m)),l(p,"keyEnd"),s(":"),u&&s(" "),e(f,h,p));}a(i),s("}");}else s("{}");}function g(d){if(t.size){s("{");for(var h=i+1,g=!0,p=t.entries(),m=p.next();!m.done;){var f,C=m.value,I=C[0],A=!!d||C[1];n(A)&&(g||s(","),g=!1,f=c+"/"+r(I),a(h),l(f,"key"),s(o(I)),l(f,"keyEnd"),s(":"),u&&s(" "),e(A,h,f)),m=p.next();}a(i),s("}");}else s("{}");}switch(l(c,"value"),typeof t){case"number":case"bigint":case"boolean":s(""+t);break;case"string":s(o(t));break;case"object":null===t?s("null"):"function"==typeof t.toJSON?s(o(t.toJSON())):Array.isArray(t)?d():v?t.constructor.BYTES_PER_ELEMENT?d():t instanceof Map?g():t instanceof Set?g(!0):h():h();}l(c,"valueEnd");}(e,0,""),{json:f,pointers:C}}};var l=["number","bigint","boolean","string","object"],c=/"|\\/g,d=/[\b]/g,h=/\f/g,u=/\n/g,g=/\r/g,p=/\t/g,m=/~/g,f=/\//g;},function(e,t,i){!function(e){function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e,o){if(e===o)return !0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(o))return !1;if(!0===t(e)){if(e.length!==o.length)return !1;for(var r=0;r<e.length;r++)if(!1===n(e[r],o[r]))return !1;return !0}if(!0!==i(e))return !1;var s,a,l={};for(s in e)if(hasOwnProperty.call(e,s)){if(!1===n(e[s],o[s]))return !1;l[s]=!0;}for(a in o)if(hasOwnProperty.call(o,a)&&!0!==l[a])return !1;return !0}function o(e){if(""===e||!1===e||null===e)return !0;if(t(e)&&0===e.length)return !0;if(i(e)){for(var n in e)if(e.hasOwnProperty(n))return !1;return !0}return !1}function r(e){return "0"<=e&&e<="9"||"-"===e}function s(){}function a(){}function l(e){this.runtime=e;}function c(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[h]}]},avg:{_func:this._functionAvg,_signature:[{types:[C]}]},ceil:{_func:this._functionCeil,_signature:[{types:[h]}]},contains:{_func:this._functionContains,_signature:[{types:[g,p]},{types:[u]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[g]},{types:[g]}]},floor:{_func:this._functionFloor,_signature:[{types:[h]}]},length:{_func:this._functionLength,_signature:[{types:[g,p,m]}]},map:{_func:this._functionMap,_signature:[{types:[f]},{types:[p]}]},max:{_func:this._functionMax,_signature:[{types:[C,I]}]},merge:{_func:this._functionMerge,_signature:[{types:[m],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[p]},{types:[f]}]},sum:{_func:this._functionSum,_signature:[{types:[C]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[g]},{types:[g]}]},min:{_func:this._functionMin,_signature:[{types:[C,I]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[p]},{types:[f]}]},type:{_func:this._functionType,_signature:[{types:[u]}]},keys:{_func:this._functionKeys,_signature:[{types:[m]}]},values:{_func:this._functionValues,_signature:[{types:[m]}]},sort:{_func:this._functionSort,_signature:[{types:[I,C]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[p]},{types:[f]}]},join:{_func:this._functionJoin,_signature:[{types:[g]},{types:[I]}]},reverse:{_func:this._functionReverse,_signature:[{types:[g,p]}]},to_array:{_func:this._functionToArray,_signature:[{types:[u]}]},to_string:{_func:this._functionToString,_signature:[{types:[u]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[u]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[u],variadic:!0}]}};}var d="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]},h=0,u=1,g=2,p=3,m=4,f=6,C=8,I=9,A="UnquotedIdentifier",b="QuotedIdentifier",v="Rbracket",y="Rparen",w="Comma",x="Colon",S="Rbrace",k="Number",T="Current",M="Expref",j="Pipe",N="GTE",R="LTE",E="Flatten",L="Star",O="Filter",Z="Dot",W="Lbrace",G="Lbracket",D="Lparen",B="Literal",H={".":Z,"*":L,",":w,":":x,"{":W,"}":S,"]":v,"(":D,")":y,"@":T},_={"<":!0,">":!0,"=":!0,"!":!0},$={" ":!0,"\t":!0,"\n":!0};s.prototype={tokenize:function(e){var t,i,n,o,s=[];for(this._current=0;this._current<e.length;)if("a"<=(o=e[this._current])&&o<="z"||"A"<=o&&o<="Z"||"_"===o)t=this._current,i=this._consumeUnquotedIdentifier(e),s.push({type:A,value:i,start:t});else if(void 0!==H[e[this._current]])s.push({type:H[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(r(e[this._current]))n=this._consumeNumber(e),s.push(n);else if("["===e[this._current])n=this._consumeLBracket(e),s.push(n);else if('"'===e[this._current])t=this._current,i=this._consumeQuotedIdentifier(e),s.push({type:b,value:i,start:t});else if("'"===e[this._current])t=this._current,i=this._consumeRawStringLiteral(e),s.push({type:B,value:i,start:t});else if("`"===e[this._current]){t=this._current;var a=this._consumeLiteral(e);s.push({type:B,value:a,start:t});}else if(void 0!==_[e[this._current]])s.push(this._consumeOperator(e));else if(void 0!==$[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,s.push({type:"And",value:"&&",start:t})):s.push({type:M,value:"&",start:t});else{if("|"!==e[this._current]){var l=new Error("Unknown character:"+e[this._current]);throw l.name="LexerError",l}t=this._current,this._current++,"|"===e[this._current]?(this._current++,s.push({type:"Or",value:"||",start:t})):s.push({type:j,value:"|",start:t});}return s},_consumeUnquotedIdentifier:function(e){var t,i=this._current;for(this._current++;this._current<e.length&&("a"<=(t=e[this._current])&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||"_"===t);)this._current++;return e.slice(i,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var i=e.length;'"'!==e[this._current]&&this._current<i;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&'"'!==e[n+1]?n++:n+=2,this._current=n;}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var i=e.length;"'"!==e[this._current]&&this._current<i;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&"'"!==e[n+1]?n++:n+=2,this._current=n;}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var i=e.length;r(e[this._current])&&this._current<i;)this._current++;var n=parseInt(e.slice(t,this._current));return {type:k,value:n,start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:O,value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:E,value:"[]",start:t}):{type:G,value:"[",start:t}},_consumeOperator:function(e){var t=this._current,i=e[t];return this._current++,"!"===i?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===i?"="===e[this._current]?(this._current++,{type:R,value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===i?"="===e[this._current]?(this._current++,{type:N,value:">=",start:t}):{type:"GT",value:">",start:t}:"="===i&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t=this._current,i=e.length;"`"!==e[this._current]&&this._current<i;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&"`"!==e[n+1]?n++:n+=2,this._current=n;}var o=(o=d(e.slice(t,this._current))).replace("\\`","`"),r=this._looksLikeJSON(o)?JSON.parse(o):JSON.parse('"'+o+'"');return this._current++,r},_looksLikeJSON:function(e){if(""===e)return !1;if(0<='[{"'.indexOf(e[0]))return !0;if(0<=["true","false","null"].indexOf(e))return !0;if(!(0<="-0123456789".indexOf(e[0])))return !1;try{return JSON.parse(e),!0}catch(e){return !1}}};var z={};z.EOF=0,z[A]=0,z[b]=0,z[v]=0,z[y]=0,z[w]=0,z[S]=0,z[k]=0,z[T]=0,z[M]=0,z[j]=1,z.Or=2,z.And=3,z.EQ=5,z.GT=5,z.LT=5,z.GTE=5,z.LTE=5,z.NE=5,z[E]=9,z[L]=20,z[O]=21,z.Dot=40,z.Not=45,z[W]=50,z[G]=55,z[D]=60,a.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"===this._lookahead(0))return t;var i=this._lookaheadToken(0),n=new Error("Unexpected token type: "+i.type+", value: "+i.value);throw n.name="ParserError",n},_loadTokens:function(e){var t=(new s).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t;},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var i=this.nud(t),n=this._lookahead(0);e<z[n];)this._advance(),i=this.led(n,i),n=this._lookahead(0);return i},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++;},nud:function(e){var t,i;switch(e.type){case B:return {type:"Literal",value:e.value};case A:return {type:"Field",name:e.value};case b:var n={type:"Field",name:e.value};if(this._lookahead(0)===D)throw new Error("Quoted identifier not allowed for function names.");return n;case"Not":return {type:"NotExpression",children:[t=this.expression(z.Not)]};case L:return t=null,{type:"ValueProjection",children:[{type:"Identity"},t=this._lookahead(0)===v?{type:"Identity"}:this._parseProjectionRHS(z.Star)]};case O:return this.led(e.type,{type:"Identity"});case W:return this._parseMultiselectHash();case E:return {type:"Projection",children:[{type:E,children:[{type:"Identity"}]},t=this._parseProjectionRHS(z.Flatten)]};case G:return this._lookahead(0)===k||this._lookahead(0)===x?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):this._lookahead(0)===L&&this._lookahead(1)===v?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(z.Star)]}):this._parseMultiselectList();case T:return {type:T};case M:return {type:"ExpressionReference",children:[i=this.expression(z.Expref)]};case D:for(var o=[];this._lookahead(0)!==y;)this._lookahead(0)===T?(i={type:T},this._advance()):i=this.expression(0),o.push(i);return this._match(y),o[0];default:this._errorToken(e);}},led:function(e,t){var i;switch(e){case Z:var n=z.Dot;return this._lookahead(0)!==L?{type:"Subexpression",children:[t,i=this._parseDotRHS(n)]}:(this._advance(),{type:"ValueProjection",children:[t,i=this._parseProjectionRHS(n)]});case j:return i=this.expression(z.Pipe),{type:j,children:[t,i]};case"Or":return {type:"OrExpression",children:[t,i=this.expression(z.Or)]};case"And":return {type:"AndExpression",children:[t,i=this.expression(z.And)]};case D:for(var o,r=t.name,s=[];this._lookahead(0)!==y;)this._lookahead(0)===T?(o={type:T},this._advance()):o=this.expression(0),this._lookahead(0)===w&&this._match(w),s.push(o);return this._match(y),{type:"Function",name:r,children:s};case O:var a=this.expression(0);return this._match(v),{type:"FilterProjection",children:[t,i=this._lookahead(0)===E?{type:"Identity"}:this._parseProjectionRHS(z.Filter),a]};case E:return {type:"Projection",children:[{type:E,children:[t]},this._parseProjectionRHS(z.Flatten)]};case"EQ":case"NE":case"GT":case N:case"LT":case R:return this._parseComparator(t,e);case G:var l=this._lookaheadToken(0);return l.type===k||l.type===x?(i=this._parseIndexExpression(),this._projectIfSlice(t,i)):(this._match(L),this._match(v),{type:"Projection",children:[t,i=this._parseProjectionRHS(z.Star)]});default:this._errorToken(this._lookaheadToken(0));}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),i=new Error("Expected "+e+", got: "+t.type);throw i.name="ParserError",i}this._advance();},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if(this._lookahead(0)===x||this._lookahead(1)===x)return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(v),e},_projectIfSlice:function(e,t){var i={type:"IndexExpression",children:[e,t]};return "Slice"===t.type?{type:"Projection",children:[i,this._parseProjectionRHS(z.Star)]}:i},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,i=this._lookahead(0);i!==v&&t<3;){if(i===x)t++,this._advance();else{if(i!==k){var n=this._lookahead(0),o=new Error("Syntax error, unexpected token: "+n.value+"("+n.type+")");throw o.name="Parsererror",o}e[t]=this._lookaheadToken(0).value,this._advance();}i=this._lookahead(0);}return this._match(v),{type:"Slice",children:e}},_parseComparator:function(e,t){return {type:"Comparator",name:t,children:[e,this.expression(z[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return 0<=[A,b,L].indexOf(t)?this.expression(e):t===G?(this._match(G),this._parseMultiselectList()):t===W?(this._match(W),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(z[this._lookahead(0)]<10)t={type:"Identity"};else if(this._lookahead(0)===G)t=this.expression(e);else if(this._lookahead(0)===O)t=this.expression(e);else{if(this._lookahead(0)!==Z){var i=this._lookaheadToken(0),n=new Error("Sytanx error, unexpected token: "+i.value+"("+i.type+")");throw n.name="ParserError",n}this._match(Z),t=this._parseDotRHS(e);}return t},_parseMultiselectList:function(){for(var e=[];this._lookahead(0)!==v;){var t=this.expression(0);if(e.push(t),this._lookahead(0)===w&&(this._match(w),this._lookahead(0)===v))throw new Error("Unexpected token Rbracket")}return this._match(v),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,i,n=[],o=[A,b];;){if(e=this._lookaheadToken(0),o.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match(x),i={type:"KeyValuePair",name:t,value:this.expression(0)},n.push(i),this._lookahead(0)===w)this._match(w);else if(this._lookahead(0)===S){this._match(S);break}}return {type:"MultiSelectHash",children:n}}},l.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,r){var s,a,l,c,d,h;switch(e.type){case"Field":return null!==r&&i(r)&&void 0!==(d=r[e.name])?d:null;case"Subexpression":for(I=this.visit(e.children[0],r),v=1;v<e.children.length;v++)if(null===(I=this.visit(e.children[1],I)))return null;return I;case"IndexExpression":return h=this.visit(e.children[0],r),this.visit(e.children[1],h);case"Index":if(!t(r))return null;var u=e.value;return u<0&&(u=r.length+u),void 0===(I=r[u])&&(I=null),I;case"Slice":if(!t(r))return null;var g=e.children.slice(0),p=this.computeSliceParams(r.length,g),m=p[0],f=p[1],C=p[2],I=[];if(0<C)for(v=m;v<f;v+=C)I.push(r[v]);else for(v=m;f<v;v+=C)I.push(r[v]);return I;case"Projection":var A=this.visit(e.children[0],r);if(!t(A))return null;for(O=[],v=0;v<A.length;v++)null!==(a=this.visit(e.children[1],A[v]))&&O.push(a);return O;case"ValueProjection":if(!i(A=this.visit(e.children[0],r)))return null;O=[];for(var b=function(e){for(var t=Object.keys(e),i=[],n=0;n<t.length;n++)i.push(e[t[n]]);return i}(A),v=0;v<b.length;v++)null!==(a=this.visit(e.children[1],b[v]))&&O.push(a);return O;case"FilterProjection":if(!t(A=this.visit(e.children[0],r)))return null;var y=[],w=[];for(v=0;v<A.length;v++)o(s=this.visit(e.children[2],A[v]))||y.push(A[v]);for(var x=0;x<y.length;x++)null!==(a=this.visit(e.children[1],y[x]))&&w.push(a);return w;case"Comparator":switch(l=this.visit(e.children[0],r),c=this.visit(e.children[1],r),e.name){case"EQ":I=n(l,c);break;case"NE":I=!n(l,c);break;case"GT":I=c<l;break;case N:I=c<=l;break;case"LT":I=l<c;break;case R:I=l<=c;break;default:throw new Error("Unknown comparator: "+e.name)}return I;case E:var S=this.visit(e.children[0],r);if(!t(S))return null;var k=[];for(v=0;v<S.length;v++)t(a=S[v])?k.push.apply(k,a):k.push(a);return k;case"Identity":return r;case"MultiSelectList":if(null===r)return null;for(O=[],v=0;v<e.children.length;v++)O.push(this.visit(e.children[v],r));return O;case"MultiSelectHash":if(null===r)return null;var L,O={};for(v=0;v<e.children.length;v++)O[(L=e.children[v]).name]=this.visit(L.value,r);return O;case"OrExpression":return o(s=this.visit(e.children[0],r))&&(s=this.visit(e.children[1],r)),s;case"AndExpression":return !0===o(l=this.visit(e.children[0],r))?l:this.visit(e.children[1],r);case"NotExpression":return o(l=this.visit(e.children[0],r));case"Literal":return e.value;case j:return h=this.visit(e.children[0],r),this.visit(e.children[1],h);case T:return r;case"Function":var Z=[];for(v=0;v<e.children.length;v++)Z.push(this.visit(e.children[v],r));return this.runtime.callFunction(e.name,Z);case"ExpressionReference":var W=e.children[0];return W.jmespathType=M,W;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var i=t[0],n=t[1],o=t[2],r=[null,null,null];if(null===o)o=1;else if(0===o){var s=new Error("Invalid slice, step cannot be 0");throw s.name="RuntimeError",s}var a=o<0,i=null===i?a?e-1:0:this.capSliceRange(e,i,o),n=null===n?a?-1:e:this.capSliceRange(e,n,o);return r[0]=i,r[1]=n,r[2]=o,r},capSliceRange:function(e,t,i){return t<0?(t+=e)<0&&(t=i<0?-1:0):e<=t&&(t=i<0?e-1:e),t}},c.prototype={callFunction:function(e,t){var i=this.functionTable[e];if(void 0===i)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,i._signature),i._func.call(this,t)},_validateArgs:function(e,t,i){var n,o,r,s;if(i[i.length-1].variadic){if(t.length<i.length)throw n=1===i.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+i.length+n+" but received "+t.length)}else if(t.length!==i.length)throw n=1===i.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+i.length+n+" but received "+t.length);for(var a=0;a<i.length;a++){s=!1,o=i[a].types,r=this._getTypeName(t[a]);for(var l=0;l<o.length;l++)if(this._typeMatches(r,o[l],t[a])){s=!0;break}if(!s)throw new Error("TypeError: "+e+"() expected argument "+(a+1)+" to be type "+o+" but received type "+r+" instead.")}},_typeMatches:function(e,t,i){if(t===u)return !0;if(t!==I&&t!==C&&t!==p)return e===t;if(t===p)return e===p;if(e===p){var n;t===C?n=h:t===I&&(n=g);for(var o=0;o<i.length;o++)if(!this._typeMatches(this._getTypeName(i[o]),n,i[o]))return !1;return !0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return g;case"[object Number]":return h;case"[object Array]":return p;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return e.jmespathType===M?f:m}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],i=e[1];return -1!==t.indexOf(i,t.length-i.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===g){for(var t=e[0],i="",n=t.length-1;0<=n;n--)i+=t[n];return i}var o=e[0].slice(0);return o.reverse(),o},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,i=e[0],n=0;n<i.length;n++)t+=i[n];return t/i.length},_functionContains:function(e){return 0<=e[0].indexOf(e[1])},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return i(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],i=this._interpreter,n=e[0],o=e[1],r=0;r<o.length;r++)t.push(i.visit(n,o[r]));return t},_functionMerge:function(e){for(var t={},i=0;i<e.length;i++){var n,o=e[i];for(n in o)t[n]=o[n];}return t},_functionMax:function(e){if(0<e[0].length){if(this._getTypeName(e[0][0])===h)return Math.max.apply(Math,e[0]);for(var t=e[0],i=t[0],n=1;n<t.length;n++)i.localeCompare(t[n])<0&&(i=t[n]);return i}return null},_functionMin:function(e){if(0<e[0].length){if(this._getTypeName(e[0][0])===h)return Math.min.apply(Math,e[0]);for(var t=e[0],i=t[0],n=1;n<t.length;n++)t[n].localeCompare(i)<0&&(i=t[n]);return i}return null},_functionSum:function(e){for(var t=0,i=e[0],n=0;n<i.length;n++)t+=i[n];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case h:return "number";case g:return "string";case p:return "array";case m:return "object";case 5:return "boolean";case f:return "expref";case 7:return "null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],i=Object.keys(t),n=[],o=0;o<i.length;o++)n.push(t[i[o]]);return n},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return this._getTypeName(e[0])===p?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===g?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,i=this._getTypeName(e[0]);return i===h?e[0]:i!==g||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var i=this._interpreter,n=e[1],o=this._getTypeName(i.visit(n,t[0]));if([h,g].indexOf(o)<0)throw new Error("TypeError");for(var r=this,s=[],a=0;a<t.length;a++)s.push([a,t[a]]);s.sort(function(e,t){var s=i.visit(n,e[1]),a=i.visit(n,t[1]);if(r._getTypeName(s)!==o)throw new Error("TypeError: expected "+o+", received "+r._getTypeName(s));if(r._getTypeName(a)!==o)throw new Error("TypeError: expected "+o+", received "+r._getTypeName(a));return a<s?1:s<a?-1:e[0]-t[0]});for(var l=0;l<s.length;l++)t[l]=s[l][1];return t},_functionMaxBy:function(e){for(var t,i,n=e[1],o=e[0],r=this.createKeyFunction(n,[h,g]),s=-1/0,a=0;a<o.length;a++)s<(i=r(o[a]))&&(s=i,t=o[a]);return t},_functionMinBy:function(e){for(var t,i,n=e[1],o=e[0],r=this.createKeyFunction(n,[h,g]),s=1/0,a=0;a<o.length;a++)(i=r(o[a]))<s&&(s=i,t=o[a]);return t},createKeyFunction:function(e,t){var i=this,n=this._interpreter;return function(o){var r=n.visit(e,o);if(t.indexOf(i._getTypeName(r))<0){var s="TypeError: expected one of "+t+", received "+i._getTypeName(r);throw new Error(s)}return r}}},e.tokenize=function(e){return (new s).tokenize(e)},e.compile=function(e){return (new a).parse(e)},e.search=function(e,t){var i=new a,n=new c,o=new l(n);n._interpreter=o;var r=i.parse(t);return o.search(r,e)},e.strictDeepEqual=n;}(t);},function(e,t,i){t.tryRequireThemeJsonEditor=function(){try{i(42);}catch(e){console.error(e);}};},function(e,t,i){function n(e,t,i){if(!(this instanceof n))throw new Error('JSONEditor constructor called without "new".');var o=g();if(-1!==o&&o<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");t&&(t.error&&(console.warn('Option "error" has been renamed to "onError"'),t.onError=t.error,delete t.error),t.change&&(console.warn('Option "change" has been renamed to "onChange"'),t.onChange=t.change,delete t.change),t.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),t.onEditable=t.editable,delete t.editable),t.onChangeJSON&&("text"!==t.mode&&"code"!==t.mode&&(!t.modes||-1===t.modes.indexOf("text")&&-1===t.modes.indexOf("code"))||console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.')),t&&Object.keys(t).forEach(function(e){-1===n.VALID_OPTIONS.indexOf(e)&&console.warn('Unknown option "'+e+'". This option will be ignored');})),arguments.length&&this._create(e,t,i);}var o=i(20),r=i(13),s=i(80).treeModeMixins,a=i(21).textModeMixins,l=i(81).previewModeMixins,c=i(0),d=c.clear,h=c.extend,u=c.getInnerText,g=c.getInternetExplorerVersion,p=c.parse,m=i(43).tryRequireAjv,f=i(6).showTransformModal,C=i(5).showSortModal,I=m();"undefined"==typeof Promise&&console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor"),n.modes={},n.prototype.DEBOUNCE_INTERVAL=150,n.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","onFocus","onBlur","colorPicker","onColorPicker","timestampTag","timestampFormat","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","limitDragging","maxVisibleChilds","onValidationError","modalAnchor","popupAnchor","createQuery","executeQuery","queryDescription"],n.prototype._create=function(e,t,i){this.container=e,this.options=t||{},this.json=i||{};var n=this.options.mode||this.options.modes&&this.options.modes[0]||"tree";this.setMode(n);},n.prototype.destroy=function(){},n.prototype.set=function(e){this.json=e;},n.prototype.get=function(){return this.json},n.prototype.setText=function(e){this.json=p(e);},n.prototype.getText=function(){return JSON.stringify(this.json)},n.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e;},n.prototype.getName=function(){return this.options&&this.options.name},n.prototype.setMode=function(e){if(e!==this.options.mode||!this.create){var t=this.container,i=h({},this.options),o=i.mode;i.mode=e;var r=n.modes[e];if(!r)throw new Error('Unknown mode "'+i.mode+'"');try{var s="text"===r.data,a=this.getName(),l=this[s?"getText":"get"]();if(this.destroy(),d(this),h(this,r.mixin),this.create(t,i),this.setName(a),this[s?"setText":"set"](l),"function"==typeof r.load)try{r.load.call(this);}catch(e){console.error(e);}if("function"==typeof i.onModeChange&&e!==o)try{i.onModeChange(e,o);}catch(e){console.error(e);}}catch(e){this._onError(e);}}},n.prototype.getMode=function(){return this.options.mode},n.prototype._onError=function(e){if(!this.options||"function"!=typeof this.options.onError)throw e;this.options.onError(e);},n.prototype.setSchema=function(e,t){if(e){var n;try{this.options.ajv?n=this.options.ajv:((n=I({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0})).addMetaSchema(i(78)),n.addMetaSchema(i(79)));}catch(e){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.");}if(n){if(t){for(var o in t)n.removeSchema(o),t[o]&&n.addSchema(t[o],o);this.options.schemaRefs=t;}this.validateSchema=n.compile(e),this.options.schema=e,this.validate();}this.refresh();}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh();},n.prototype.validate=function(){},n.prototype.refresh=function(){},n.registerMode=function(e){var t;if(Array.isArray(e))for(r=0;r<e.length;r++)n.registerMode(e[r]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var i=e.mode;if(i in n.modes)throw new Error('Mode "'+i+'" already registered');if("function"!=typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');for(var o=["setMode","registerMode","modes"],r=0;r<o.length;r++)if((t=o[r])in e.mixin)throw new Error('Reserved property "'+t+'" not allowed in mixin');n.modes[i]=e;}},n.registerMode(s),n.registerMode(a),n.registerMode(l),n.ace=o,n.Ajv=I,n.VanillaPicker=r,n.showTransformModal=f,n.showSortModal=C,n.getInnerText=u,n.default=n,e.exports=n;},function(e,t,i){(function(e){!function(){function e(e,t,i){if("string"==typeof t){var n=a(e,t);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],s=0,l=t.length;s<l;++s){var c=a(e,t[s]);if(null==c&&r.original)return;o.push(c);}return i&&i.apply(null,o)||!0}}var t=function(){return this}();t||"undefined"==typeof window||(t=window);var i=function(e,t,n){"string"==typeof e?(2==arguments.length&&(n=t),i.modules[e]||(i.payloads[e]=n,i.modules[e]=null)):i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());};i.modules={},i.payloads={};var n,o,r=function(t,i){var n=e("",t,i);return null==n&&r.original?r.original.apply(this,arguments):n},s=function(e,t){if(-1!==t.indexOf("!")){var i=t.split("!");return s(e,i[0])+"!"+s(e,i[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&n!=t;){var n=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");}return t},a=function(t,n){n=s(t,n);var o,r,a=i.modules[n];return a||("function"==typeof(a=i.payloads[n])&&(o={id:n,uri:"",exports:r={},packaged:!0},r=a(function(t,i){return e(n,t,i)},r,o)||o.exports,i.modules[n]=r,delete i.payloads[n]),a=i.modules[n]=r||a),a};o=t,(n="ace")&&(t[n]||(t[n]={}),o=t[n]),o.define&&o.define.packaged||(i.original=o.define,o.define=i,o.define.packaged=!0),o.require&&o.require.packaged||(r.original=o.require,o.require=r,o.require.packaged=!0);}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],function(e,t,i){"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this);}});}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,i){t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},o=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),r=n.userAgent||"",s=n.appName||"";t.isWin="win"==o,t.isMac="mac"==o,t.isLinux="linux"==o,t.isIE="Microsoft Internet Explorer"==s||0<=s.indexOf("MSAppHost")?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=r.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(r.split(" Edge/")[1])||void 0,t.isAIR=0<=r.indexOf("AdobeAIR"),t.isAndroid=0<=r.indexOf("Android"),t.isChromeOS=0<=r.indexOf(" CrOS "),t.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid;}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,t,i){var n,o=e("./useragent");t.buildDom=function e(t,i,n){if("string"==typeof t&&t){var o=document.createTextNode(t);return i&&i.appendChild(o),o}if(!Array.isArray(t))return t&&t.appendChild&&i&&i.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var r=[],s=0;s<t.length;s++){var a=e(t[s],i,n);a&&r.push(a);}return r}var l=document.createElement(t[0]),c=t[1],d=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(d=2),s=d;s<t.length;s++)e(t[s],l,n);return 2==d&&Object.keys(c).forEach(function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?n&&(n[t]=l):null!=t&&l.setAttribute(e,t);}),i&&i.appendChild(l),l},t.getDocumentHead=function(e){return (e=e||document).head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML="";},t.createTextNode=function(e,t){return (t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return (e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return -1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,i){t.hasCssClass(e,i)||(e.className+=" "+i);},t.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(-1==n)break;i.splice(n,1);}e.className=i.join(" ");},t.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var o=i.indexOf(t);if(-1==o)break;n=!1,i.splice(o,1);}return n&&i.push(t),e.className=i.join(" "),n},t.setCssClass=function(e,i,n){n?t.addCssClass(e,i):t.removeCssClass(e,i);},t.hasCssString=function(e,t){var i,n=0;if(i=(t=t||document).querySelectorAll("style"))for(;n<i.length;)if(i[n++].id===e)return !0},t.importCssString=function(e,i,n){var o=n;n&&n.getRootNode&&(o=n.getRootNode())&&o!=n||(o=document);var r=o.ownerDocument||o;if(i&&t.hasCssString(i,o))return null;i&&(e+="\n/*# sourceURL=ace/css/"+i+" */");var s=t.createElement("style");s.appendChild(r.createTextNode(e)),i&&(s.id=i),o==r&&(o=t.getDocumentHead(r)),o.insertBefore(s,o.firstChild);},t.importCssStylsheet=function(e,i){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(i));},t.scrollbarWidth=function(e){var i=t.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=t.createElement("ace_outer"),o=n.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",n.appendChild(i);var r=e.documentElement;r.appendChild(n);var s=i.offsetWidth;o.overflow="scroll";var a=i.offsetWidth;return s==a&&(a=n.clientWidth),r.removeChild(n),s-a},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,i){e[t]!==i&&(e[t]=i);},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!o.isWin||"undefined"!=typeof window&&1.5<=window.devicePixelRatio,"undefined"!=typeof document&&(n=document.createElement("div"),t.HI_DPI&&void 0!==n.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),o.isEdge||void 0===n.style.animationName||(t.HAS_CSS_ANIMATION=!0),n=null),t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,i){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)";}:t.translate=function(e,t,i){e.style.top=Math.round(i)+"px",e.style.left=Math.round(t)+"px";};}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,i){t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});},t.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},t.implement=function(e,i){t.mixin(e,i);};}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,i){var n=e("./oop"),o=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-";}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,o),t.keyCodeToString=function(e){var t=o[e];return "string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()};}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){function n(){return null==l&&function(){l=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){l={passive:!1};}});}catch(e){}}(),l}function o(e,t,i){this.elem=e,this.type=t,this.callback=i;}function r(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function s(e,t,i){var n,o=r(t);if(!d.isMac&&h){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(o|=8),h.altGr){if(3==(3&o))return;h.altGr=0;}18!==i&&17!==i||(n="location"in t?t.location:t.keyLocation,17===i&&1===n?1==h[i]&&(u=t.timeStamp):18===i&&3===o&&2===n&&t.timeStamp-u<50&&(h.altGr=!0));}if(i in c.MODIFIER_KEYS&&(i=-1),o||13!==i||3!==(n="location"in t?t.location:t.keyLocation)||(e(t,o,-i),!t.defaultPrevented)){if(d.isChromeOS&&8&o){if(e(t,o,i),t.defaultPrevented)return;o&=-9;}return !!(o||i in c.FUNCTION_KEYS||i in c.PRINTABLE_KEYS)&&e(t,o,i)}}function a(){h=Object.create(null);}var l,c=e("./keys"),d=e("./useragent"),h=null,u=0;o.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0;};var g=t.addListener=function(e,t,i,r){e.addEventListener(t,i,n()),r&&r.$toDestroy.push(new o(e,t,i));},p=t.removeListener=function(e,t,i){e.removeEventListener(t,i,n());};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation();},t.preventDefault=function(e){e.preventDefault&&e.preventDefault();},t.getButton=function(e){return "dblclick"==e.type?0:"contextmenu"==e.type||d.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,i){function n(e){t&&t(e),i&&i(e),p(o,"mousemove",t),p(o,"mouseup",n),p(o,"dragstart",n);}var o=e&&e.ownerDocument||document;return g(o,"mousemove",t),g(o,"mouseup",n),g(o,"dragstart",n),n},t.addMouseWheelListener=function(e,t,i){"onmousewheel"in e?g(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e);},i):"onwheel"in e?g(e,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0);}t(e);},i):g(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e);},i);},t.addMultiMouseDownListener=function(e,i,n,o,r){function s(e){var r;if(0!==t.getButton(e)?h=0:1<e.detail&&!(4<++h)||(h=1),d.isIE&&(r=5<Math.abs(e.clientX-a)||5<Math.abs(e.clientY-l),c&&!r||(h=1),c&&clearTimeout(c),c=setTimeout(function(){c=null;},i[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)),e._clicks=h,n[o]("mousedown",e),4<h)h=0;else if(1<h)return n[o](u[h],e)}var a,l,c,h=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){g(e,"mousedown",s,r);});};var m;t.getModifierString=function(e){return c.KEY_MODS[r(e)]},t.addCommandKeyListener=function(e,i,n){var o,r;d.isOldGecko||d.isOpera&&!("KeyboardEvent"in window)?(o=null,g(e,"keydown",function(e){o=e.keyCode;},n),g(e,"keypress",function(e){return s(i,e,o)},n)):(r=null,g(e,"keydown",function(e){h[e.keyCode]=(h[e.keyCode]||0)+1;var t=s(i,e,e.keyCode);return r=e.defaultPrevented,t},n),g(e,"keypress",function(e){r&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),r=null);},n),g(e,"keyup",function(e){h[e.keyCode]=null;},n),h||(a(),g(window,"focus",a)));},"object"==typeof window&&window.postMessage&&!d.isOldIE&&(m=1,t.nextTick=function(e,i){i=i||window;var n="zero-timeout-message-"+m++,o=function(r){r.data==n&&(t.stopPropagation(r),p(i,"message",o),e());};g(i,"message",o),i.postMessage(n,"*");}),t.$idleBlocked=!1,t.onIdle=function(e,i){return setTimeout(function i(){t.$idleBlocked?setTimeout(i,100):e();},i)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1;},e||100);},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17);};}),ace.define("ace/range",["require","exports","module"],function(e,t,i){function n(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n};}(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return "Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t=e.end,i=e.start,n=this.compare(t.row,t.column);return 1==n?1==(n=this.compare(i.row,i.column))?2:0==n?1:0:-1==n?-2:-1==(n=this.compare(i.row,i.column))?-1:1==n?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return -1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t);},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t);},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row!==e||t<=this.end.column?0:1:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){var i,o;return this.end.row>t?i={row:t+1,column:0}:this.end.row<e&&(i={row:e,column:0}),this.start.row>t?o={row:t+1,column:0}:this.start.row<e&&(o={row:e,column:0}),n.fromPoints(o||this.start,i||this.end)},this.extend=function(e,t){var i,o,r=this.compare(e,t);return 0==r?this:(-1==r?i={row:e,column:t}:o={row:e,column:t},n.fromPoints(i||this.start,o||this.end))},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new n(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t;};}).call(n.prototype),n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=n;}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,i){t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";0<t;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,o=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(o,"")},t.copyObject=function(e){var t,i={};for(t in e)i[t]=e[t];return i},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&"object"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var i;if(Array.isArray(t)){i=[];for(var n=0;n<t.length;n++)i[n]=e(t[n]);return i}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(n in i={},t)i[n]=e(t[n]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t,i=Object.create(null);for(t in e)i[t]=e[t];return i},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1);},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return (""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,function(e){i.push({offset:arguments[arguments.length-2],length:e.length});}),i},t.deferredCall=function(e){function t(){i=null,e();}var i=null,n=function(e){return n.cancel(),i=setTimeout(t,e||0),n};return (n.schedule=n).call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(i),i=null,n},n.isPending=function(){return i},n},t.delayedCall=function(e,t){function i(){o=null,e();}function n(e){null==o&&(o=setTimeout(i,e||t));}var o=null;return n.delay=function(e){o&&clearTimeout(o),o=setTimeout(i,e||t);},(n.schedule=n).call=function(){this.cancel(),e();},n.cancel=function(){o&&clearTimeout(o),o=null;},n.isPending=function(){return o},n};}),ace.define("ace/clipboard",["require","exports","module"],function(e,t,i){var n;i.exports={lineMode:!1,pasteCancelled:function(){return !!(n&&n>Date.now()-50)||(n=!1)},cancel:function(){n=Date.now();}};}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(e,t,i){var n=e("../lib/event"),o=e("../lib/useragent"),r=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),l=o.isChrome<18,c=o.isIE,d=63<o.isChrome,h=e("../lib/keys"),u=h.KEY_MODS,g=o.isIOS,p=g?/\s/:/\n/,m=o.isMobile;t.TextInput=function(e,t){function i(e,i){if(B=B&&!1,k)return G(),e&&t.onPaste(e),k=!1,"";for(var n=x.selectionStart,r=x.selectionEnd,s=L,a=E.length-O,l=e,c=e.length-n,d=e.length-r,h=0;0<s&&E[h]==e[h];)h++,s--;for(l=l.slice(h),h=1;0<a&&E.length-h>L-1&&E[E.length-h]==e[e.length-h];)h++,a--;c-=h-1,d-=h-1;var u=l.length-h+1;if(u<0&&(s=-u,u=0),l=l.slice(0,u),!(i||l||c||s||a||d))return "";var g=!(M=!0);return o.isAndroid&&". "==l&&(l="  ",g=!0),l&&!s&&!a&&!c&&!d||N?t.onTextInput(l):t.onTextInput(l,{extendLeft:s,extendRight:a,restoreStart:c,restoreEnd:d}),M=!1,E=e,L=n,O=r,Z=d,g?"\n":l}function f(e){if(T)return $();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var n=x.value,o=i(n,!0);(500<n.length||p.test(o)||m&&L<1&&L==O)&&G();}function C(e,i){var o=t.getCopyText();if(!o)return n.preventDefault(e);H(e,o)?(g&&(G(o),S=o,setTimeout(function(){S=!1;},10)),i?t.onCut():t.onCopy(),n.preventDefault(e)):(S=!0,x.value=o,x.select(),setTimeout(function(){S=!1,G(),i?t.onCut():t.onCopy();}));}function I(e){C(e,!0);}function A(e){C(e,!1);}function b(e){var i=H(e);a.pasteCancelled()||("string"==typeof i?(i&&t.onPaste(i,e),o.isIE&&setTimeout(G),n.preventDefault(e)):(x.value="",k=!0));}function v(){R=!0,x.blur(),x.focus(),R=!1;}function y(){clearTimeout(_),_=setTimeout(function(){j&&(x.style.cssText=j,j=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor();},0);}function w(e){t.textInput.onContextMenu(e),y();}var x=r.createElement("textarea");x.className="ace_text-input",x.setAttribute("wrap","off"),x.setAttribute("autocorrect","off"),x.setAttribute("autocapitalize","off"),x.setAttribute("spellcheck",!1),x.style.opacity="0",e.insertBefore(x,e.firstChild);var S=!1,k=!1,T=!1,M=!1,j="";m||(x.style.fontSize="1px");var N=!1,R=!1,E="",L=0,O=0,Z=0;try{var W=document.activeElement===x;}catch(e){}n.addListener(x,"blur",function(e){R||(t.onBlur(e),W=!1);},t),n.addListener(x,"focus",function(e){if(!R){if(W=!0,o.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),o.isEdge?setTimeout(G):G();}},t),this.$focusScroll=!1,this.focus=function(){if(j||d||"browser"==this.$focusScroll)return x.focus({preventScroll:!0});var e=x.style.top;x.style.position="fixed",x.style.top="0px";try{var t=0!=x.getBoundingClientRect().top;}catch(e){return}var i=[];if(t)for(var n=x.parentElement;n&&1==n.nodeType;)i.push(n),n.setAttribute("ace_nocontext",!0),n=!n.parentElement&&n.getRootNode?n.getRootNode().host:n.parentElement;x.focus({preventScroll:!0}),t&&i.forEach(function(e){e.removeAttribute("ace_nocontext");}),setTimeout(function(){x.style.position="","0px"==x.style.top&&(x.style.top=e);},0);},this.blur=function(){x.blur();},this.isFocused=function(){return W},t.on("beforeEndOperation",function(){var e,i=t.curOp,n=i&&i.command&&i.command.name;"insertstring"!=n&&(e=n&&(i.docChanged||i.selectionChanged),T&&e&&(E=x.value="",z()),G());});var G=g?function(e){var i,n;!W||S&&!e||M||((i="\n ab"+(e=e||"")+"cde fg\n")!=x.value&&(x.value=E=i),n=4+(e.length||(t.selection.isEmpty()?0:1)),4==L&&O==n||x.setSelectionRange(4,n),L=4,O=n);}:function(){if(!T&&!M&&(W||B)){T=!0;var e,i,n,o,r,s=0,a=0,l="";t.session&&(i=(e=t.selection).getRange(),n=e.cursor.row,s=i.start.column,a=i.end.column,l=t.session.getLine(n),i.start.row!=n?(o=t.session.getLine(n-1),s=i.start.row<n-1?0:s,a+=o.length+1,l=o+"\n"+l):i.end.row!=n?(r=t.session.getLine(n+1),a=i.end.row>n+1?r.length:a,a+=l.length+1,l=l+"\n"+r):m&&0<n&&(l="\n"+l,a+=1,s+=1),400<l.length&&(s<400&&a<400?l=l.slice(0,400):(l="\n",s==a?s=a=0:(s=0,a=1))));var c=l+"\n\n";if(c!=E&&(x.value=E=c,L=O=c.length),B&&(L=x.selectionStart,O=x.selectionEnd),O!=a||L!=s||x.selectionEnd!=O)try{x.setSelectionRange(s,a),L=s,O=a;}catch(e){}T=!1;}};this.resetSelection=G,W&&t.onFocus();var D=null;this.setInputHandler=function(e){D=e;};var B=!(this.getInputHandler=function(){return D}),H=function(e,t,i){var n=e.clipboardData||window.clipboardData;if(n&&!l){var o=c||i?"Text":"text/plain";try{return t?!1!==n.setData(o,t):n.getData(o)}catch(e){if(!i)return H(e,t,!0)}}};n.addCommandKeyListener(x,t.onCommandKey.bind(t),t),n.addListener(x,"select",function(e){var i;T||(S?S=!1:0===(i=x).selectionStart&&i.selectionEnd>=E.length&&i.value===E&&E&&i.selectionEnd!==O?(t.selectAll(),G()):m&&x.selectionStart!=L&&G());},t),n.addListener(x,"input",f,t),n.addListener(x,"cut",I,t),n.addListener(x,"copy",A,t),n.addListener(x,"paste",b,t),"oncut"in x&&"oncopy"in x&&"onpaste"in x||n.addListener(e,"keydown",function(e){if((!o.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:A(e);break;case 86:b(e);break;case 88:I(e);}},t);var _,$=function(){var e;if(T&&t.onCompositionUpdate&&!t.$readOnly)return N?v():void(T.useTextareaForIME?t.onCompositionUpdate(x.value):(e=x.value,i(e),T.markerRange&&(T.context&&(T.markerRange.start.column=T.selectionStart=T.context.compositionStartOffset),T.markerRange.end.column=T.markerRange.start.column+O-T.selectionStart+Z)))},z=function(e){t.onCompositionEnd&&!t.$readOnly&&(T=!1,t.onCompositionEnd(),t.off("mousedown",v),e&&f());},P=s.delayedCall($,50).schedule.bind(null,null);n.addListener(x,"compositionstart",function(e){var i;T||!t.onCompositionStart||t.$readOnly||(T={},N||(e.data&&(T.useTextareaForIME=!1),setTimeout($,0),t._signal("compositionStart"),t.on("mousedown",v),(i=t.getSelectionRange()).end.row=i.start.row,i.end.column=i.start.column,T.markerRange=i,T.selectionStart=L,t.onCompositionStart(T),T.useTextareaForIME?(E=x.value="",O=L=0):(x.msGetInputContext&&(T.context=x.msGetInputContext()),x.getInputContext&&(T.context=x.getInputContext()))));},t),n.addListener(x,"compositionupdate",$,t),n.addListener(x,"keyup",function(e){27==e.keyCode&&x.value.length<x.selectionStart&&(T||(E=x.value),L=O=-1,G()),P();},t),n.addListener(x,"keydown",P,t),n.addListener(x,"compositionend",z,t),this.getElement=function(){return x},this.setCommandMode=function(e){N=e,x.readOnly=!1;},this.setReadOnly=function(e){N||(x.readOnly=e);},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){B=!0,G(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0);},this.moveToMouse=function(e,i){function s(e){r.translate(x,e.clientX-d-2,Math.min(e.clientY-c-2,h));}j=j||x.style.cssText,x.style.cssText=(i?"z-index:100000;":"")+(o.isIE?"opacity:0.1;":"")+"text-indent: -"+(L+O)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=r.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),d=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-c-x.clientHeight-2;s(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(_),o.isWin&&n.capture(t.container,s,y));},this.onContextMenuClose=y,n.addListener(x,"mouseup",w,t),n.addListener(x,"mousedown",function(e){e.preventDefault(),y();},t),n.addListener(t.renderer.scroller,"contextmenu",w,t),n.addListener(x,"contextmenu",w,t),g&&function(e,t){function i(i){var n,r,s,a,l;document.activeElement===t&&(o||T||e.$mouseHandler.isMousePressed||S||(n=t.selectionStart,r=t.selectionEnd,s=null,(a=0)==n?s=h.up:1==n?s=h.home:O<r&&"\n"==E[r]?s=h.end:n<L&&" "==E[n-1]?(s=h.left,a=u.option):n<L||n==L&&O!=L&&n==r?s=h.left:O<r&&2<E.slice(0,r).split("\n").length?s=h.down:O<r&&" "==E[r-1]?(s=h.right,a=u.option):(O<r||r==O&&O!=L&&n==r)&&(s=h.right),n!==r&&(a|=u.shift),s&&(!e.onCommandKey({},a,s)&&e.commands&&(s=h.keyCodeToString(s),(l=e.commands.findKeyCommand(a,s))&&e.execCommand(l)),L=n,O=r,G(""))));}var n=null,o=!1;t.addEventListener("keydown",function(e){n&&clearTimeout(n),o=!0;},!0),t.addEventListener("keyup",function(e){n=setTimeout(function(){o=!1;},100);},!0),document.addEventListener("selectionchange",i),e.on("destroy",function(){document.removeEventListener("selectionchange",i);});}(t,x);},t.$setUserAgentForTests=function(e,t){m=e,g=t;};}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,t,i){function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){e[t]=this[t];},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange");}function o(e,t){return (e.start.row==e.end.row?2*t.column-e.start.column-e.end.column:e.start.row!=e.end.row-1||e.start.column||e.end.column?2*t.row-e.start.row-e.end.row:t.column-4)<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor,o=e.getButton();return 0!==o?(!n.getSelectionRange().isEmpty()&&1!=o||n.selection.moveToPosition(i),void(2==o&&(n.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||n.isFocused()||(n.focus(),!this.$focusTimeout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,1<e.domEvent._clicks),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"));},this.select=function(){var e,t,i,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y);this.$clickSelection&&(i=-1==(e=this.$clickSelection.comparePoint(r))?this.$clickSelection.end:1==e?this.$clickSelection.start:(r=(t=o(this.$clickSelection,r)).cursor,t.anchor),n.selection.setSelectionAnchor(i.row,i.column)),n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView();},this.extendSelectionBy=function(e){var t,i,n,r,s=this.editor,a=s.renderer.screenToTextCoordinates(this.x,this.y),l=s.selection[e](a.row,a.column);this.$clickSelection&&(t=this.$clickSelection.comparePoint(l.start),i=this.$clickSelection.comparePoint(l.end),-1==t&&i<=0?(r=this.$clickSelection.end,l.end.row==a.row&&l.end.column==a.column||(a=l.start)):1==i&&0<=t?(r=this.$clickSelection.start,l.start.row==a.row&&l.start.column==a.column||(a=l.end)):r=-1==t&&1==i?(a=l.end,l.start):(a=(n=o(this.$clickSelection,a)).cursor,n.anchor),s.selection.setSelectionAnchor(r.row,r.column)),s.selection.selectToPosition(a),s.renderer.scrollCursorIntoView();},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture();},this.focusWait=function(){var e,t,i,n,o=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,i=this.x,n=this.y,Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))),r=Date.now();(0<o||r-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition());},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(t);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=n,this.select();},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select();},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll");},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=e.domEvent.timeStamp,o=n-i.t,r=o?e.wheelX/o:i.vx,s=o?e.wheelY/o:i.vy;o<550&&(r=(r+i.vx)/2,s=(s+i.vy)/2);var a=Math.abs(r/s),l=!1;return 1<=a&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?i.allowed=n:n-i.allowed<550&&(Math.abs(r)<=1.5*Math.abs(i.vx)&&Math.abs(s)<=1.5*Math.abs(i.vy)?(l=!0,i.allowed=n):i.allowed=0),i.t=n,i.vx=r,i.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}};}).call(n.prototype),t.DefaultHandlers=n;}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,i){function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e;}e("./lib/oop");var o=e("./lib/dom");(function(){this.$init=function(){return this.$element=o.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e;},this.setHtml=function(e){this.getElement().innerHTML=e;},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px";},this.setClassName=function(e){o.addCssClass(this.getElement(),e);},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0);},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1);},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element);};}).call(n.prototype),t.Tooltip=n;}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,i){function n(e){a.call(this,e);}var o=e("../lib/dom"),r=e("../lib/oop"),s=e("../lib/event"),a=e("../tooltip").Tooltip;r.inherits(n,a),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,o=this.getWidth(),r=this.getHeight();i<(e+=15)+o&&(e-=e+o-i),n<(t+=15)+r&&(t-=20+r),a.prototype.setPosition.call(this,e,t);};}.call(n.prototype),t.GutterHandler=function(e){function t(){r=r&&clearTimeout(r),l&&(h.hide(),l=null,c._signal("hideGutterTooltip",h),c.off("mousewheel",t));}function i(e){h.setPosition(e.x,e.y);}var r,a,l,c=e.editor,d=c.renderer.$gutterLayer,h=new n(c.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(c.isFocused()&&0==t.getButton()&&"foldWidgets"!=d.getRegion(t)){var i=t.getDocumentPosition().row,n=c.session.selection;if(t.getShiftKey())n.selectTo(i,0);else{if(2==t.domEvent.detail)return c.selectAll(),t.preventDefault();e.$clickSelection=c.selection.getLineRange(i);}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}),e.editor.setDefaultHandler("guttermousemove",function(n){var s=n.domEvent.target||n.domEvent.srcElement;if(o.hasCssClass(s,"ace_fold-widget"))return t();l&&e.$tooltipFollowsMouse&&i(n),a=n,r=r||setTimeout(function(){r=null,(a&&!e.isMousePressed?function(){var n,o,r=a.getDocumentPosition().row,s=d.$annotations[r];if(!s)return t();if(r==c.session.getLength()){var u=c.renderer.pixelToScreenCoordinates(0,a.y).row,g=a.$pos;if(u>c.session.documentToScreenRow(g.row,g.column))return t()}l!=s&&(l=s.text.join("<br/>"),h.setHtml(l),h.show(),c._signal("showGutterTooltip",h),c.on("mousewheel",t),e.$tooltipFollowsMouse?i(a):(n=a.domEvent.target.getBoundingClientRect(),(o=h.getElement().style).left=n.right+"px",o.top=n.bottom+"px"));}:t)();},50);}),s.addListener(c.renderer.$gutter,"mouseout",function(e){a=null,l&&!r&&(r=setTimeout(function(){r=null,t();},50));},c),c.on("changeSession",t);};}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){var n=e("../lib/event"),o=e("../lib/useragent"),r=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1;};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0;},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0;},this.stop=function(){this.stopPropagation(),this.preventDefault();},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e,t=this.editor.getSelectionRange();return t.isEmpty()?this.$inSelection=!1:(e=this.getDocumentPosition(),this.$inSelection=t.contains(e.row,e.column)),this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=o.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey};}).call(r.prototype);}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){function n(e){function t(){var e,t,i,n,r,s=I;I=h.renderer.screenToTextCoordinates(p,m),e=I,t=s,i=Date.now(),n=!t||e.row!=t.row,r=!t||e.column!=t.column,!y||n||r?(h.moveCursorToPosition(e),y=i,w={x:p,y:m}):5<o(w.x,w.y,p,m)?y=null:200<=i-y&&(h.renderer.scrollCursorIntoView(),y=null),function(e,t){var i=Date.now(),n=h.renderer.layerConfig.lineHeight,o=h.renderer.layerConfig.characterWidth,r=h.renderer.scroller.getBoundingClientRect(),s={x:{left:p-r.left,right:r.right-p},y:{top:m-r.top,bottom:r.bottom-m}},a=Math.min(s.x.left,s.x.right),l=Math.min(s.y.top,s.y.bottom),c={row:e.row,column:e.column};a/o<=2&&(c.column+=s.x.left<s.x.right?-3:2),l/n<=1&&(c.row+=s.y.top<s.y.bottom?-1:1);var d=e.row!=c.row,u=e.column!=c.column,g=!t||e.row!=t.row;d||u&&!g?v?200<=i-v&&h.renderer.scrollCursorIntoView(c):v=i:v=null;}(I,s);}function i(){C=h.selection.toOrientedRange(),g=h.session.addMarker(C,"ace_selection",h.getSelectionStyle()),h.clearSelection(),h.isFocused()&&h.renderer.$cursorLayer.setBlinking(!1),clearInterval(f),t(),f=setInterval(t,20),S=0,s.addListener(document,"mousemove",l);}function n(){clearInterval(f),h.session.removeMarker(g),g=null,h.selection.fromOrientedRange(C),h.isFocused()&&!b&&h.$resetCursorStyle(),S=0,y=v=I=C=null,s.removeListener(document,"mousemove",l);}function l(){null==k&&(k=setTimeout(function(){null!=k&&g&&n();},20));}function c(e){var t=e.types;return !t||Array.prototype.some.call(t,function(e){return "text/plain"==e||"Text"==e})}function d(e){var t=["copy","copymove","all","uninitialized"],i=a.isMac?e.altKey:e.ctrlKey,n="uninitialized";try{n=e.dataTransfer.effectAllowed.toLowerCase();}catch(e){}var o="none";return i&&0<=t.indexOf(n)?o="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(n)?o="move":0<=t.indexOf(n)&&(o="copy"),o}var h=e.editor,u=r.createElement("img");u.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(u.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(t){e[t]=this[t];},this),h.on("mousedown",this.onMouseDown.bind(e));var g,p,m,f,C,I,A,b,v,y,w,x=h.container,S=0;this.onDragStart=function(e){if(this.cancelDrag||!x.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e);},0),e.preventDefault()}C=h.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=h.getReadOnly()?"copy":"copyMove",a.isOpera&&(h.container.appendChild(u),u.scrollTop=0),i.setDragImage&&i.setDragImage(u,0,0),a.isOpera&&h.container.removeChild(u),i.clearData(),i.setData("Text",h.session.getTextRange()),b=!0,this.setState("drag");},this.onDragEnd=function(e){var t;x.draggable=!1,b=!1,this.setState(null),h.getReadOnly()||(t=e.dataTransfer.dropEffect,A||"move"!=t||h.session.remove(h.getSelectionRange()),h.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("");},this.onDragEnter=function(e){if(!h.getReadOnly()&&c(e.dataTransfer))return p=e.clientX,m=e.clientY,g||i(),S++,e.dataTransfer.dropEffect=A=d(e),s.preventDefault(e)},this.onDragOver=function(e){if(!h.getReadOnly()&&c(e.dataTransfer))return p=e.clientX,m=e.clientY,g||(i(),S++),null!==k&&(k=null),e.dataTransfer.dropEffect=A=d(e),s.preventDefault(e)},this.onDragLeave=function(e){if(--S<=0&&g)return n(),A=null,s.preventDefault(e)},this.onDrop=function(e){if(I){var t=e.dataTransfer;if(b)switch(A){case"move":C=C.contains(I.row,I.column)?{start:I,end:I}:h.moveText(C,I);break;case"copy":C=h.moveText(C,I,!0);}else{var i=t.getData("Text");C={start:I,end:h.session.insert(I,i)},h.focus(),A=null;}return n(),s.preventDefault(e)}},s.addListener(x,"dragstart",this.onDragStart.bind(e),h),s.addListener(x,"dragend",this.onDragEnd.bind(e),h),s.addListener(x,"dragenter",this.onDragEnter.bind(e),h),s.addListener(x,"dragover",this.onDragOver.bind(e),h),s.addListener(x,"dragleave",this.onDragLeave.bind(e),h),s.addListener(x,"drop",this.onDrop.bind(e),h);var k=null;}function o(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}var r=e("../lib/dom"),s=e("../lib/event"),a=e("../lib/useragent");(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag();},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd();},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd();},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=a.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady");},this.onMouseDrag=function(e){var t=this.editor.container;a.isIE&&"dragReady"==this.state&&3<o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&t.dragDrop(),"dragWait"===this.state&&0<o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()));},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton();if(1===(e.domEvent.detail||1)&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;"unselectable"in o&&(o.unselectable="on"),t.getDragDelay()?(a.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0;}}};}).call(n.prototype),t.DragdropHandler=n;}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(e,t,i){var n=e("./mouse_event").MouseEvent,o=e("../lib/event"),r=e("../lib/dom");t.addTouchListeners=function(e,t){function i(){function e(e){var o,s,a=e.target.getAttribute("action");if("more"==a||!n)return n=!n,o=t.getCopyText(),s=t.session.getUndoManager().hasUndo(),void C.replaceChild(r.buildDom(n?["span",!o&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],o&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],o&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],i&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),C.firstChild);"paste"==a?i.readText().then(function(e){t.execCommand(a,e);}):a&&("cut"!=a&&"copy"!=a||(i?i.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),C.firstChild.style.display="none",n=!1,"openCommandPallete"!=a&&t.focus();}var i=window.navigator&&window.navigator.clipboard,n=!1;C=r.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){I="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus();},ontouchend:function(t){t.stopPropagation(),t.preventDefault(),e(t);},onclick:e},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container);}function s(){C||i();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),o=t.renderer.textToScreenCoordinates(0,0).pageX,r=t.renderer.scrollLeft,s=t.container.getBoundingClientRect();C.style.top=n.pageY-s.top-3+"px",n.pageX-s.left<s.width-70?(C.style.left="",C.style.right="10px"):(C.style.right="",C.style.left=o+r-s.left+"px"),C.style.display="",C.firstChild.style.display="none",t.on("input",a);}function a(e){C&&(C.style.display="none"),t.off("input",a);}function l(){g=null,clearTimeout(g);var e=t.selection.getRange(),i=e.contains(m.row,m.column);!e.isEmpty()&&i||(t.selection.moveToPosition(m),t.selection.selectWord()),I="wait",s();}var c,d,h,u,g,p,m,f,C,I="scroll",A=0,b=0,v=0,y=0;o.addListener(e,"contextmenu",function(e){f&&t.textInput.getElement().focus();},t),o.addListener(e,"touchstart",function(e){var i=e.touches;if(g||1<i.length)return clearTimeout(g),g=null,h=-1,void(I="zoom");f=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,r=t.renderer.layerConfig.lineHeight,s=e.timeStamp;u=s;var a=i[0],p=a.clientX,C=a.clientY;Math.abs(c-p)+Math.abs(d-C)>o&&(h=-1),c=e.clientX=p,d=e.clientY=C,v=y=0;var w=new n(e,t);if(m=w.getDocumentPosition(),s-h<500&&1==i.length&&!A)b++,e.preventDefault(),e.button=0,function(){g=null,clearTimeout(g),t.selection.moveToPosition(m);var e=2<=b?t.selection.getLineRange(m.row):t.session.getBracketRange(m);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),I="wait";}();else{b=0;var x=t.selection.cursor,S=t.selection.isEmpty()?x:t.selection.anchor,k=t.renderer.$cursorLayer.getPixelPosition(x,!0),T=t.renderer.$cursorLayer.getPixelPosition(S,!0),M=t.renderer.scroller.getBoundingClientRect(),j=t.renderer.layerConfig.offset,N=t.renderer.scrollLeft,R=function(e,t){return (e/=r)*e+(t=t/o-.75)*t};if(e.clientX<M.left)return void(I="zoom");var E=R(e.clientX-M.left-k.left+N,e.clientY-M.top-k.top+j),L=R(e.clientX-M.left-T.left+N,e.clientY-M.top-T.top+j);E<3.5&&L<3.5&&(I=L<E?"cursor":"anchor"),I=L<3.5?"anchor":E<3.5?"cursor":"scroll",g=setTimeout(l,450);}h=s;},t),o.addListener(e,"touchend",function(e){f=t.$mouseHandler.isMousePressed=!1,p&&clearInterval(p),"zoom"==I?(I="",A=0):g?(t.selection.moveToPosition(m),A=0,s()):"scroll"==I?(A+=60,p=setInterval(function(){A--<=0&&(clearInterval(p),p=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),A<20&&(v*=.9),A<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(A=0);},10),a()):s(),clearTimeout(g),g=null;},t),o.addListener(e,"touchmove",function(e){g&&(clearTimeout(g),g=null);var i=e.touches;if(!(1<i.length||"zoom"==I)){var o=i[0],r=c-o.clientX,s=d-o.clientY;if("wait"==I){if(!(4<r*r+s*s))return e.preventDefault();I="cursor";}c=o.clientX,d=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var a,l,h=e.timeStamp,p=h-u;u=h,"scroll"==I?((a=new n(e,t)).speed=1,a.wheelX=r,a.wheelY=s,10*Math.abs(r)<Math.abs(s)&&(r=0),10*Math.abs(s)<Math.abs(r)&&(s=0),0!=p&&(v=r/p,y=s/p),t._emit("mousewheel",a),a.propagationStopped||(v=y=0)):(l=new n(e,t).getDocumentPosition(),"cursor"==I?t.selection.moveCursorToPosition(l):"anchor"==I&&t.selection.setSelectionAnchor(l.row,l.column),t.renderer.scrollCursorIntoView(l),e.preventDefault());}},t);};}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,i){var n=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText);},i.send(null);},t.loadScript=function(e,t){var i=n.getDocumentHead(),o=document.createElement("script");o.src=e,i.appendChild(o),o.onload=o.onreadystatechange=function(e,i){!i&&o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(o=o.onload=o.onreadystatechange=null,i||t());};},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href};}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,i){function n(){this.propagationStopped=!0;}function o(){this.defaultPrevented=!0;}var r={};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(i.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=n),t.preventDefault||(t.preventDefault=o),i=i.slice();for(var s=0;s<i.length&&(i[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this);}},r.once=function(e,t){var i=this;if(this.on(e,function n(){i.off(e,n),t.apply(null,arguments);}),!t)return new Promise(function(e){t=e;})},r.setDefaultHandler=function(e,t){var i,n,o,r=this._defaultHandlers;(r=r||(this._defaultHandlers={_disabled_:{}}))[e]&&(i=r[e],(n=r._disabled_[e])||(r._disabled_[e]=n=[]),n.push(i),-1!=(o=n.indexOf(t))&&n.splice(o,1)),r[e]=t;},r.removeDefaultHandler=function(e,t){var i,n,o=this._defaultHandlers;o&&(i=o._disabled_[e],o[e]==t?i&&this.setDefaultHandler(e,i.pop()):!i||-1!=(n=i.indexOf(t))&&i.splice(n,1));},r.on=r.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return -1==(n=n||(this._eventRegistry[e]=[])).indexOf(t)&&n[i?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i,n=this._eventRegistry[e];!n||-1!==(i=n.indexOf(t))&&n.splice(i,1);},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0);},t.EventEmitter=r;}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){function n(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments);}function o(e,t){var i=new Error(e);i.data=t,"object"==typeof console&&console.error&&console.error(i),setTimeout(function(){throw i});}function r(){this.$defaultOptions={};}var s=e("./oop"),a=e("./event_emitter").EventEmitter,l={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t]);},this);},getOptions:function(e){var t,i={};return e?Array.isArray(e)||(i=e,e=Object.keys(i)):(t=this.$options,e=Object.keys(t).filter(function(e){return !t[e].hidden})),e.forEach(function(e){i[e]=this.getOption(e);},this),i},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];if(!i)return n('misspelled option "'+e+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t);}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}};(function(){s.implement(this,a),this.defineOptions=function(e,t,i){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(i).forEach(function(t){var n=i[t];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=t),"initialValue"in(e.$options[n.name]=n)&&(e["$"+n.name]=n.initialValue);}),s.implement(e,l),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var i=e.$options[t];"value"in i&&e.setOption(t,i.value);});},this.setDefaultValue=function(e,t,i){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return !1}var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i);},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(i){this.setDefaultValue(e,i,t[i]);},this);},this.warn=n,this.reportError=o;}).call(r.prototype),t.AppConfig=r;}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,n){function o(o){if(l&&l.document){c.packaged=o||e.packaged||n.packaged||l.define&&i(23).packaged;for(var r,s={},a="",d=document.currentScript||document._currentScript,h=(d&&d.ownerDocument||document).getElementsByTagName("script"),u=0;u<h.length;u++){var g=h[u],p=g.src||g.getAttribute("src");if(p){for(var m=g.attributes,f=0,C=m.length;f<C;f++){var I=m[f];0===I.name.indexOf("data-ace-")&&(s[I.name.replace(/^data-ace-/,"").replace(/-(.)/g,function(e,t){return t.toUpperCase()})]=I.value);}var A=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);A&&(a=A[1]);}}for(r in a&&(s.base=s.base||a,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)void 0!==s[r]&&t.set(r,s[r]);}}var r=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;n.exports=t=new a;var l=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(c.hasOwnProperty(e))c[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},t.all=function(){return r.copyObject(c)},t.$modes={},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var i,n=e.split("/"),o="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];"worker"==t&&"-"==o&&(i=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g"),r=r.replace(i,"")),(!r||r==t)&&1<n.length&&(r=n[n.length-2]);var s=c[t+"Path"];return null==s?s=c.basePath:"/"==o&&(t=o=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+o+r+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(i,n){function o(){e([i],function(e){t._emit("load.module",{name:i,module:e});var n=t.$loading[i];t.$loading[i]=null,n.forEach(function(t){t&&t(e);});});}var r,a;Array.isArray(i)&&(a=i[0],i=i[1]);try{r=e(i);}catch(n){}if(r&&!t.$loading[i])return n&&n(r);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(n),!(1<t.$loading[i].length)){if(!t.get("packaged"))return o();s.loadScript(t.moduleUrl(i,a),o),d();}};var d=function(){c.basePath||c.workerPath||c.modePath||c.themePath||Object.keys(c.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){});};o(!0),t.init=o,t.version="1.4.12";}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(e,t,i){function n(e){function t(t){document.hasFocus&&document.hasFocus()&&(e.isFocused()||document.activeElement!=(e.textInput&&e.textInput.getElement()))||window.focus(),e.focus();}var i=this;this.editor=e,new s(this),new a(this),new c(this);var n=e.renderer.getMouseEventTarget();o.addListener(n,"click",this.onMouseEvent.bind(this,"click"),e),o.addListener(n,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),o.addMultiMouseDownListener([n,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),o.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),d(e.container,e);var l=e.renderer.$gutter;o.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),o.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick"),e),o.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),o.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),o.addListener(n,"mousedown",t,e),o.addListener(l,"mousedown",t,e),r.isIE&&e.renderer.scrollBarV&&(o.addListener(e.renderer.scrollBarV.element,"mousedown",t,e),o.addListener(e.renderer.scrollBarH.element,"mousedown",t,e)),e.on("mousemove",function(t){var n,o,r;i.state||i.$dragDelay||!i.$dragEnabled||(n=e.renderer.screenToTextCoordinates(t.x,t.y),o=e.session.selection.getRange(),r=e.renderer,!o.isEmpty()&&o.insideStart(n.row,n.column)?r.setCursorStyle("default"):r.setCursorStyle(""));},e);}var o=e("../lib/event"),r=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,a=e("./default_gutter_handler").GutterHandler,l=e("./mouse_event").MouseEvent,c=e("./dragdrop_handler").DragdropHandler,d=e("./touch_handler").addTouchListeners,h=e("../config");(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new l(t,this.editor));},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new l(t,this.editor));},this.onMouseWheel=function(e,t){var i=new l(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i);},this.setState=function(e){this.state=e;},this.captureMouse=function(e,t){function i(e){if(e){if(r.isWebKit&&!e.which&&c.releaseMouse)return c.releaseMouse();c.x=e.clientX,c.y=e.clientY,t&&t(e),c.mouseEvent=new l(e,c.editor),c.$mouseMoved=!0;}}function n(e){s.off("beforeEndOperation",h),clearInterval(u),d(),c[c.state+"End"]&&c[c.state+"End"](e),c.state="",c.isMousePressed=a.$isMousePressed=!1,a.$keepTextAreaAtCursor&&a.$moveTextAreaToCursor(),c.$onCaptureMouseMove=c.releaseMouse=null,e&&c.onMouseEvent("mouseup",e),s.endOperation();}this.x=e.x,this.y=e.y,this.isMousePressed=!0;var s=this.editor,a=this.editor.renderer;a.$isMousePressed=!0;var c=this,d=function(){c[c.state]&&c[c.state](),c.$mouseMoved=!1;};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){n(e);});var h=function(e){c.releaseMouse&&s.curOp.command.name&&s.curOp.selectionChanged&&(c[c.state+"End"]&&c[c.state+"End"](),c.state="",c.releaseMouse());};s.on("beforeEndOperation",h),s.startOperation({command:{name:"mouse"}}),c.$onCaptureMouseMove=i,c.releaseMouse=o.capture(this.editor.container,i,n);var u=setInterval(d,20);},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&o.stopEvent(t.domEvent));}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e);},this.destroy=function(){this.releaseMouse&&this.releaseMouse();};}).call(n.prototype),h.defineOptions(n.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=n;}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,t,i){var n=e("../lib/dom");t.FoldHandler=function(e){e.on("click",function(t){var i=t.getDocumentPosition(),o=e.session,r=o.getFoldAt(i.row,i.column,1);r&&(t.getAccelKey()?o.removeFold(r):o.expandFold(r),t.stop());var s=t.domEvent&&t.domEvent.target;s&&n.hasCssClass(s,"ace_inline_button")&&n.hasCssClass(s,"ace_toggle_wrap")&&(o.setOption("wrap",!o.getUseWrapMode()),e.renderer.scrollCursorIntoView());}),e.on("gutterclick",function(t){var i,n;"foldWidgets"==e.renderer.$gutterLayer.getRegion(t)&&(i=t.getDocumentPosition().row,(n=e.session).foldWidgets&&n.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop());}),e.on("gutterdblclick",function(t){var i,n,o,r,s;"foldWidgets"==e.renderer.$gutterLayer.getRegion(t)&&(i=t.getDocumentPosition().row,(r=(o=(n=e.session).getParentFoldRangeData(i,!0)).range||o.firstRange)&&(i=r.start.row,(s=n.getFoldAt(i,n.getLine(i).length,1))?n.removeFold(s):(n.addFold("...",r),e.renderer.scrollCursorIntoView({row:r.start.row,column:0}))),t.stop());});};}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,i){function n(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands);}var o=e("../lib/keys"),r=e("../lib/event");(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0);},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1);}},this.addKeyboardHandler=function(e,t){var i;e&&("function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e),-1!=(i=this.$handlers.indexOf(e))&&this.$handlers.splice(i,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor));},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return -1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,n){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,i,n))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,n))&&n&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(n),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,i){var n=o.keyCodeToString(i);return this.$callKeyboardHandlers(t,n,i,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)};}).call(n.prototype),t.KeyBinding=n;}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,t,i){function n(e,t,i,n){var o,E,L,O,Z=s?u:h,W=0,G=-1,D=null,B=null,H=[];if(!n)for(D=0,n=[];D<i;D++)n[D]=r(e[D]);for(a=s,d=c=l=!1,B=0;B<i;B++){if(o=W,H[B]=E=function(e,t,i,n){var o,r,a,h,u=t[n];switch(u){case g:case p:l=!1;case C:case f:return u;case m:return l?f:m;case b:return l=!0,p;case v:return C;case y:return n<1||n+1>=t.length||(o=i[n-1])!=m&&o!=f||(r=t[n+1])!=m&&r!=f?C:(l&&(r=f),r==o?r:C);case w:return (o=0<n?i[n-1]:I)==m&&n+1<t.length&&t[n+1]==m?m:C;case x:if(0<n&&i[n-1]==m)return m;if(l)return C;for(h=n+1,a=t.length;h<a&&t[h]==x;)h++;return h<a&&t[h]==m?m:C;case S:for(a=t.length,h=n+1;h<a&&t[h]==S;)h++;if(h<a){var E=e[n],L=1425<=E&&E<=2303||64286==E;if(o=t[h],L&&(o==p||o==b))return p}return n<1||(o=t[n-1])==I?C:i[n-1];case I:return c=!(l=!1),s;case A:return d=!0,C;case k:case T:case j:case N:case M:l=!1;case R:return C}}(e,n,H,B),O=240&(W=Z[o][E]),W&=15,t[B]=L=Z[W][5],0<O)if(16==O){for(D=G;D<B;D++)t[D]=1;G=-1;}else G=-1;if(Z[W][6])-1==G&&(G=B);else if(-1<G){for(D=G;D<B;D++)t[D]=L;G=-1;}n[B]==I&&(t[B]=0),a|=L;}if(d)for(D=0;D<i;D++)if(n[D]==A){t[D]=s;for(var _=D-1;0<=_&&n[_]==v;_--)t[_]=s;}}function o(e,t,i){if(!(a<e))if(1!=e||1!=s||c)for(var n,o,r,l,d=i.length,h=0;h<d;){if(t[h]>=e){for(n=h+1;n<d&&t[n]>=e;)n++;for(o=h,r=n-1;o<r;o++,r--)l=i[o],i[o]=i[r],i[r]=l;h=n;}h++;}else i.reverse();}function r(e){var t=e.charCodeAt(0),i=t>>8;return 0==i?191<t?g:E[t]:5==i?/[\u0591-\u05f4]/.test(e)?p:g:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?S:/[\u0660-\u0669\u066b-\u066c]/.test(e)?f:1642==t?x:/[\u06f0-\u06f9]/.test(e)?m:b:32==i&&t<=8287?L[255&t]:254==i&&65136<=t?b:C}var s=0,a=0,l=!1,c=!1,d=!1,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g=0,p=1,m=2,f=3,C=4,I=5,A=6,b=7,v=8,y=9,w=10,x=11,S=12,k=13,T=14,M=15,j=16,N=17,R=18,E=[R,R,R,R,R,R,R,R,R,A,I,A,v,I,R,R,R,R,R,R,R,R,R,R,R,R,R,R,I,I,I,A,v,C,C,x,x,x,C,C,C,C,C,w,y,w,y,y,m,m,m,m,m,m,m,m,m,m,y,C,C,C,C,C,C,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,C,C,C,C,C,C,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,C,C,C,C,R,R,R,R,R,R,I,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,y,C,x,x,x,x,C,C,C,C,g,C,C,R,C,C,x,x,m,m,C,g,C,C,C,m,g,C,C,C,C,C],L=[v,v,v,v,v,v,v,v,v,v,v,R,R,R,g,p,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,v,I,k,T,M,j,N,y,x,x,x,x,x,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,y,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,v];t.L=g,t.R=p,t.EN=m,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="·",t.doBidiReorder=function(e,i,r){if(e.length<2)return {};var a=e.split(""),l=new Array(a.length),c=new Array(a.length),d=[];s=r?1:0,n(a,d,a.length,i);for(var h=0;h<l.length;l[h]=h,h++);for(o(2,d,l),o(1,d,l),h=0;h<l.length-1;h++)i[h]===f?d[h]=t.AN:d[h]===p&&(i[h]>b&&i[h]<k||i[h]===C||i[h]===R)?d[h]=t.ON_R:0<h&&"ل"===a[h-1]&&/\u0622|\u0623|\u0625|\u0627/.test(a[h])&&(d[h-1]=d[h]=t.R_H,h++);for(a[a.length-1]===t.DOT&&(d[a.length-1]=t.B),"‫"===a[0]&&(d[0]=t.RLE),h=0;h<l.length;h++)c[h]=d[l[h]];return {logicalFromVisual:l,bidiLevels:c}},t.hasBidiCharacters=function(e,t){for(var i=!1,n=0;n<e.length;n++)t[n]=r(e.charAt(n)),i||t[n]!=p&&t[n]!=b&&t[n]!=f||(i=!0);return i},t.getVisualFromLogicalIdx=function(e,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==e)return i;return 0};}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,t,i){function n(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=o,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(e.getValue());}var o=e("./lib/bidiutil"),r=e("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;(function(){this.isBidiRow=function(e,t,i){return !!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&s.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null);},this.getDocumentRow=function(){var e,t=0,i=this.session.$screenRowCache;return !i.length||0<=(e=this.session.$getRowCacheIndex(i,this.currentRow))&&(t=this.session.$docRowCache[e]),t},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var i,n=this.session.$getRowCacheIndex(t,this.currentRow);0<this.currentRow-e&&(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===n;)n=i,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i,n=e===this.session.getLength()-1?this.EOF:this.EOL;this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode?((i=this.session.$wrapData[e])&&(void 0===t&&(t=this.getSplitIndex()),0<t&&i.length?(this.wrapIndent=i.indent,this.wrapOffset=this.wrapIndent*this.charWidths[o.L],this.line=t<i.length?this.line.substring(i[t-1],i[t]):this.line.substring(i[i.length-1])):this.line=this.line.substring(0,i[t])),t==i.length&&(this.line+=this.showInvisibles?n:o.DOT)):this.line+=this.showInvisibles?n:o.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return "\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,r.stringRepeat(o.DOT,s)):e}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==o.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width);},this.updateBidiMap=function(){var e=[];o.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=o.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={};},this.markAsDirty=function(){this.currentRow=null;},this.updateCharacterWidths=function(e){var t,i;this.characterWidth!==e.$characterSize.width&&(this.fontMetrics=e,t=this.characterWidth=e.$characterSize.width,i=e.$measureCharWidth("ה"),this.charWidths[o.L]=this.charWidths[o.EN]=this.charWidths[o.ON_R]=t,this.charWidths[o.R]=this.charWidths[o.AN]=i,this.charWidths[o.R_H]=.45*i,this.charWidths[o.B]=this.charWidths[o.RLE]=0,this.currentRow=null);},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null;},this.setEolChar=function(e){this.EOL=e;},this.setContentWidth=function(e){this.contentWidth=e;},this.isRtlLine=function(e){return !!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var i=e.getCursorPosition(),n=e.selection.getSelectionAnchor().row;n<=i.row;n++)t||e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:n},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(n,0,1);},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,i=t<e?this.session.getOverwrite()?e:e-1:t,n=o.getVisualFromLogicalIdx(i,this.bidiMap),r=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&r[n]%2!=0&&n++;for(var a=0;a<n;a++)s+=this.charWidths[r[a]];return !this.session.getOverwrite()&&t<e&&r[n]%2==0&&(s+=this.charWidths[r[n]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var i,n=this.bidiMap,o=n.bidiLevels,r=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,d=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var u,g=0;g<o.length;g++)u=n.logicalFromVisual[g],i=o[g],(c=a<=u&&u<l)&&!d?h=s:!c&&d&&r.push({left:h,width:s-h}),s+=this.charWidths[i],d=c;if(c&&g===o.length&&r.push({left:h,width:s-h}),this.isRtlDir)for(var p=0;p<r.length;p++)r[p].left+=this.rtlLineOffset;return r},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,e=Math.max(e,0),i=0,n=0,o=this.bidiMap.bidiLevels,r=this.charWidths[o[n]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i+r/2<e;){if(i+=r,n===o.length-1){r=0;break}r=this.charWidths[o[++n]];}return 0===(t=0<n&&o[n-1]%2!=0&&o[n]%2==0?(e<i&&n--,this.bidiMap.logicalFromVisual[n]):0<n&&o[n-1]%2==0&&o[n]%2!=0?1+(i<e?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===o.length-1&&0===r&&o[n-1]%2==0||!this.isRtlDir&&0===n&&o[n]%2!=0?1+this.bidiMap.logicalFromVisual[n]:(0<n&&o[n-1]%2!=0&&0!==r&&n--,this.bidiMap.logicalFromVisual[n]))&&this.isRtlDir&&t++,t+this.wrapIndent};}).call(n.prototype),t.BidiHandler=n;}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,i){function n(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null);}),this.anchor.on("change",function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection");});}var o=e("./lib/oop"),r=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,a=e("./range").Range;(function(){o.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return !this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t);},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"));},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE);},this.setRange=this.setSelectionRange=function(e,t){var i=t?e.end:e.start,n=t?e.start:e.end;this.$setSelection(i.row,i.column,n.row,n.column);},this.$setSelection=function(e,t,i,n){var o,r;this.$silent||(o=this.$isEmpty,r=this.inMultiSelectMode,this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(i,n),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||o!=this.$isEmpty||r)&&this._emit("changeSelection"));},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this);},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t);});},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e);});},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t);},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e);},this.selectUp=function(){this.$moveSelection(this.moveCursorUp);},this.selectDown=function(){this.$moveSelection(this.moveCursorDown);},this.selectRight=function(){this.$moveSelection(this.moveCursorRight);},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft);},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart);},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd);},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd);},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart);},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight);},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft);},this.getWordRange=function(e,t){var i;return void 0===t&&(e=(i=e||this.lead).row,t=i.column),this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange());},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t);},this.getLineRange=function(e,t){var i="number"==typeof e?e:this.lead.row,n=this.session.getFoldLine(i),o=n?(i=n.start.row,n.end.row):i;return !0===t?new a(i,0,o,this.session.getLine(o).length):new a(i,0,o+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange());},this.moveCursorUp=function(){this.moveCursorBy(-1,0);},this.moveCursorDown=function(){this.moveCursorBy(1,0);},this.wouldMoveIntoSoftTab=function(e,t,i){var n=e.column,o=e.column+t;return i<0&&(n=e.column-t,o=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(n,o).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t,i=this.lead.getPosition();(e=this.session.getFoldAt(i.row,i.column,-1))?this.moveCursorTo(e.start.row,e.start.column):0===i.column?0<i.row&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length):(t=this.session.getTabSize(),this.wouldMoveIntoSoftTab(i,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1));},this.moveCursorRight=function(){var e,t,i=this.lead.getPosition();(e=this.session.getFoldAt(i.row,i.column,1))?this.moveCursorTo(e.end.row,e.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(t=this.session.getTabSize(),i=this.lead,this.wouldMoveIntoSoftTab(i,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1));},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),o=this.session.getDisplayLine(e,null,n.row,n.column).match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(n.column+=o[0].length),this.moveCursorToPosition(n);},this.moveCursorLineEnd=function(){var e,t,i=this.lead,n=this.session.getDocumentLastRowColumnPosition(i.row,i.column);this.lead.column==n.column&&(e=this.session.getLine(n.row),n.column!=e.length||0<(t=e.search(/\s+$/))&&(n.column=t)),this.moveCursorTo(n.row,n.column);},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t);},this.moveCursorFileStart=function(){this.moveCursorTo(0,0);},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(e,t,1);if(o)this.moveCursorTo(o.end.row,o.end.column);else{if(this.session.nonTokenRe.exec(n)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(t)),t>=i.length)return this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t);}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var o=r.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(i-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(0<t&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i);}},this.$shortWordEndIndex=function(e){var t,i=0,n=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&n.test(t);)i++;if(i<1)for(o.lastIndex=0;(t=e[i])&&!o.test(t);)if(o.lastIndex=0,i++,n.test(t)){if(2<i){i--;break}for(;(t=e[i])&&n.test(t);)i++;if(2<i)break}}return o.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),o=this.session.getFoldAt(e,t,1);if(o)return this.moveCursorTo(o.end.row,o.end.column);if(t==i.length){for(var r=this.doc.getLength();e++,n=this.doc.getLine(e),e<r&&/^\s*$/.test(n););/^\s+/.test(n)||(n=""),t=0;}var s=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+s);},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0===i){for(;t--,n=this.doc.getLine(t),0<t&&/^\s*$/.test(n););i=n.length,/\s+$/.test(n)||(n="");}var o=r.stringReverse(n),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,i-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight();},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft();},this.moveCursorBy=function(e,t){var i,n,o=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(o.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(o.column),o.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=o.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?o.column=this.$desiredColumn:this.$desiredColumn=o.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(n=this.session.lineWidgets[this.lead.row],e<0?e-=n.rowsAbove||0:0<e&&(e+=n.rowCount-(n.rowsAbove||0)));var r=this.session.screenToDocumentPosition(o.row+e,o.column,i);0!==e&&0===t&&r.row===this.lead.row&&(r.column,this.lead.column),this.moveCursorTo(r.row,r.column+t,0===t);},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column);},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0;var o=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(o.charAt(t))&&o.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?--t:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null);},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i);},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null;},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn;},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return a.fromPoints(t,i)}catch(e){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t);}},this.toJSON=function(){var e;return this.rangeCount?e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}):(e=this.getRange()).isBackwards=this.isBackwards(),e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&1<e.length){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0);}return}e=e[0];}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards);},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return !1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return !1;return !0};}).call(n.prototype),t.Selection=n;}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,i){function n(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],n=[],o=0,r=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<i.length;l++){var c,d,h=i[l];h.defaultToken&&(r.defaultToken=h.defaultToken),h.caseInsensitive&&(s="gi"),null!=h.regex&&(h.regex instanceof RegExp&&(h.regex=h.regex.toString().slice(1,-1)),c=h.regex,d=new RegExp("(?:("+c+")|(.))").exec("a").length-2,Array.isArray(h.token)?1==h.token.length||1==d?h.token=h.token[0]:d-1!=h.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:h,groupCount:d-1}),h.token=h.token[0]):(h.tokenArray=h.token,h.token=null,h.onMatch=this.$arrayTokens):"function"!=typeof h.token||h.onMatch||(h.onMatch=1<d?this.$applyToken:h.token),1<d&&(c=/\\\d/.test(h.regex)?h.regex.replace(/\\([0-9]+)/g,function(e,t){return "\\"+(parseInt(t,10)+o+1)}):(d=1,this.removeCapturingGroups(h.regex)),h.splitRegex||"string"==typeof h.token||a.push(h)),r[o]=l,o+=d,n.push(c),h.onMatch||(h.onMatch=null));}n.length||(r[0]=0,n.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s);},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",s);}}var o=e("./config"),r=2e3;(function(){this.$setMaxTokenCount=function(e){r=0|e;},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return [{type:i,value:e}];for(var n=[],o=0,r=i.length;o<r;o++)t[o]&&(n[n.length]={type:i[o],value:t[o]});return n},this.$arrayTokens=function(e){if(!e)return [];var t=this.splitRegex.exec(e);if(!t)return "text";for(var i=[],n=this.tokenArray,o=0,r=n.length;o<r;o++)t[o+1]&&(i[i.length]={type:n[o],value:t[o+1]});return i},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){var i,n,o;return -1!=e.indexOf("(?=")&&(i=0,n=!1,o={},e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,r,s,a,l){return n?n="]"!=a:a?n=!0:s?(i==o.stack&&(o.end=l+1,o.stack=-1),i--):r&&(i++,1!=r.length&&(o.stack=i,o.start=l)),e}),null!=o.end&&/^\)*$/.test(e.substr(o.end))&&(e=e.substring(0,o.start)+e.substr(o.end))),"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){var i;t&&"string"!=typeof t?"#tmp"===(t=(i=t.slice(0))[0])&&(i.shift(),t=i.shift()):i=[];var n=t||"start",o=this.states[n];o||(n="start",o=this.states[n]);for(var s,a=this.matchMappings[n],l=this.regExps[n],c=[],d=l.lastIndex=0,h=0,u={type:null,value:""};s=l.exec(e);){var g,p=a.defaultToken,m=null,f=s[0],C=l.lastIndex;C-f.length>d&&(g=e.substring(d,C-f.length),u.type==p?u.value+=g:(u.type&&c.push(u),u={type:p,value:g}));for(var I=0;I<s.length-2;I++)if(void 0!==s[I+1]){p=(m=o[a[I]]).onMatch?m.onMatch(f,n,i,e):m.token,m.next&&(n="string"==typeof m.next?m.next:m.next(n,i),(o=this.states[n])||(this.reportError("state doesn't exist",n),n="start",o=this.states[n]),a=this.matchMappings[n],d=C,(l=this.regExps[n]).lastIndex=C),m.consumeLineEnd&&(d=C);break}if(f)if("string"==typeof p)m&&!1===m.merge||u.type!==p?(u.type&&c.push(u),u={type:p,value:f}):u.value+=f;else if(p)for(u.type&&c.push(u),u={type:null,value:""},I=0;I<p.length;I++)c.push(p[I]);if(d==e.length)break;if(d=C,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});d<e.length;)u.type&&c.push(u),u={value:e.substring(d,d+=500),type:"overflow"};n="start",i=[];break}}return u.type&&c.push(u),1<i.length&&i[0]!==n&&i.unshift("#tmp",n),{tokens:c,state:i.length?i:n}},this.reportError=o.reportError;}).call(n.prototype),t.Tokenizer=n;}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,i){function n(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]};}var o=e("../lib/lang");(function(){function e(e,t){return "start"==e&&!t.length||t.unshift(this.nextState,e),this.nextState}function t(e,t){return t.shift(),t.shift()||"start"}this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],o=0;o<n.length;o++){var r=n[o];(r.next||r.onMatch)&&("string"==typeof r.next&&0!==r.next.indexOf(t)&&(r.next=t+r.next),r.nextState&&0!==r.nextState.indexOf(t)&&(r.nextState=t+r.nextState));}this.$rules[t+i]=n;}else for(var i in e)this.$rules[i]=e[i];},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,n,r){var s="function"==typeof e?(new e).getRules():e;if(n)for(var a=0;a<n.length;a++)n[a]=t+n[a];else for(var l in n=[],s)n.push(t+l);if(this.addRules(s,t),i)for(var c=Array.prototype[r?"push":"unshift"],a=0;a<n.length;a++)c.apply(this.$rules[n[a]],o.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t);},this.getEmbeds=function(){return this.$embeds},this.normalizeRules=function(){var i=0,n=this.$rules;Object.keys(n).forEach(function o(r){var s=n[r];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var d,h=l.next||l.push;if(h&&Array.isArray(h)?((d=l.stateName)||("string"!=typeof(d=l.token)&&(d=d[0]||""),n[d]&&(d+=i++)),n[d]=h,o(l.next=d)):"pop"==h&&(l.next=t),l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var u in l.rules)n[u]?n[u].push&&n[u].push.apply(n[u],l.rules[u]):n[u]=l.rules[u];var g,p="string"==typeof l?l:l.include;p&&(c=Array.isArray(p)?p.map(function(e){return n[e]}):n[p]),c&&(g=[a,1].concat(c),l.noEscape&&(g=g.filter(function(e){return !e.next})),s.splice.apply(s,g),a--),l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken);}},this);},this.createKeywordMapper=function(e,t,i,n){var o=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach(function(t){for(var r=e[t].split(n||"|"),s=r.length;s--;){var a=r[s];this.$keywordList.push(a),i&&(a=a.toLowerCase()),o[a]=t;}},this),e=null,i?function(e){return o[e.toLowerCase()]||t}:function(e){return o[e]||t}},this.getKeywords=function(){return this.$keywords};}).call(n.prototype),t.TextHighlightRules=n;}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,i){function n(){this.$behaviours={};}(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={};}this.$behaviours[e][t]=i;},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i]);},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e];},this.inherit=function(e,t){var i;i="function"==typeof e?(new e).getBehaviours(t):e.getBehaviours(t),this.addBehaviours(i);},this.getBehaviours=function(e){if(e){for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}return this.$behaviours};}).call(n.prototype),t.Behaviour=n;}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,i){function n(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1;}var o=e("./range").Range;(function(){this.stepBackward=function(){for(--this.$tokenIndex;this.$tokenIndex<0;){if(--this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1;}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e=e||this.$session.getLength(),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0;}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;0<t;)i+=e[--t].value.length;return i},this.getCurrentTokenPosition=function(){return {row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new o(this.$row,t,this.$row,t+e.value.length)};}).call(n.prototype),t.TokenIterator=n;}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){function n(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return r=u[t];r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""};}function o(e,t,i,n){var o=e.end.row-e.start.row;return {text:i+t+n,selection:[0,e.start.column+1,o,e.end.column+(o?0:1)]}}var r,s=e("../../lib/oop"),a=e("../behaviour").Behaviour,l=e("../../token_iterator").TokenIterator,c=e("../../lib/lang"),d=["text","paren.rparen","rparen","paren","punctuation.operator"],h=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},g={'"':'"',"'":"'"},p=function(e){this.add("braces","insertion",function(t,i,s,a,l){var d=s.getCursorPosition(),h=a.doc.getLine(d.row);if("{"==l){n(s);var u=s.getSelectionRange(),g=a.doc.getTextRange(u);if(""!==g&&"{"!==g&&s.getWrapBehavioursEnabled())return o(u,g,"{","}");if(p.isSaneInsertion(s,a))return /[\]\}\)]/.test(h[d.column])||s.inMultiSelectMode||e&&e.braces?(p.recordAutoInsert(s,a,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(s,a,"{"),{text:"{",selection:[1,1]})}else if("}"==l){if(n(s),"}"==h.substring(d.column,d.column+1)&&null!==a.$findOpeningBracket("}",{column:d.column+1,row:d.row})&&p.isAutoInsertedClosing(d,h,l))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==l||"\r\n"==l){n(s);var m="";if(p.isMaybeInsertedClosing(d,h)&&(m=c.stringRepeat("}",r.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===h.substring(d.column,d.column+1)){var f=a.findMatchingBracket({row:d.row,column:d.column+1},"}");if(!f)return null;var C=this.$getIndent(a.getLine(f.row));}else{if(!m)return void p.clearMaybeInsertedClosing();C=this.$getIndent(h);}var I=C+a.getTabString();return {text:"\n"+I+"\n"+C+m,selection:[1,I.length,1,I.length]}}p.clearMaybeInsertedClosing();}}),this.add("braces","deletion",function(e,t,i,o,s){var a=o.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==a){if(n(i),"}"==o.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;r.maybeInsertedBrackets--;}}),this.add("parens","insertion",function(e,t,i,r,s){if("("==s){n(i);var a=i.getSelectionRange(),l=r.doc.getTextRange(a);if(""!==l&&i.getWrapBehavioursEnabled())return o(a,l,"(",")");if(p.isSaneInsertion(i,r))return p.recordAutoInsert(i,r,")"),{text:"()",selection:[1,1]}}else if(")"==s){n(i);var c=i.getCursorPosition(),d=r.doc.getLine(c.row);if(")"==d.substring(c.column,c.column+1)&&null!==r.$findOpeningBracket(")",{column:c.column+1,row:c.row})&&p.isAutoInsertedClosing(c,d,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(e,t,i,o,r){var s=o.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&(n(i),")"==o.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("brackets","insertion",function(e,t,i,r,s){if("["==s){n(i);var a=i.getSelectionRange(),l=r.doc.getTextRange(a);if(""!==l&&i.getWrapBehavioursEnabled())return o(a,l,"[","]");if(p.isSaneInsertion(i,r))return p.recordAutoInsert(i,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){n(i);var c=i.getCursorPosition(),d=r.doc.getLine(c.row);if("]"==d.substring(c.column,c.column+1)&&null!==r.$findOpeningBracket("]",{column:c.column+1,row:c.row})&&p.isAutoInsertedClosing(c,d,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(e,t,i,o,r){var s=o.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&(n(i),"]"==o.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("string_dquotes","insertion",function(e,t,i,r,s){var a=r.$mode.$quotes||g;if(1==s.length&&a[s]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(s))return;n(i);var l=s,c=i.getSelectionRange(),d=r.doc.getTextRange(c);if(!(""===d||1==d.length&&a[d])&&i.getWrapBehavioursEnabled())return o(c,d,l,l);if(!d){var h=i.getCursorPosition(),u=r.doc.getLine(h.row),p=u.substring(h.column-1,h.column),m=u.substring(h.column,h.column+1),f=r.getTokenAt(h.row,h.column),C=r.getTokenAt(h.row,h.column+1);if("\\"==p&&f&&/escape/.test(f.type))return null;var I,A=f&&/string|escape/.test(f.type),b=!C||/string|escape/.test(C.type);if(m==l)(I=A!==b)&&/string\.end/.test(C.type)&&(I=!1);else{if(A&&!b)return null;if(A&&b)return null;var v=r.$mode.tokenRe;v.lastIndex=0;var y=v.test(p);v.lastIndex=0;var w=v.test(p);if(y||w)return null;if(m&&!/[\s;,.})\]\\]/.test(m))return null;var x=u[h.column-2];if(p==l&&(x==l||v.test(x)))return null;I=!0;}return {text:I?l+l:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,o,r){var s=o.$mode.$quotes||g,a=o.doc.getTextRange(r);if(!r.isMultiLine()&&s.hasOwnProperty(a)&&(n(i),o.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==a))return r.end.column++,r});};p.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new l(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",d)){if(/[)}\]]/.test(e.session.getLine(i.row)[i.column]))return !0;var o=new l(t,i.row,i.column+1);if(!this.$matchTokenType(o.getCurrentToken()||"text",d))return !1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",h)},p.$matchTokenType=function(e,t){return -1<t.indexOf(e.type||e)},p.recordAutoInsert=function(e,t,i){var n=e.getCursorPosition(),o=t.doc.getLine(n.row);this.isAutoInsertedClosing(n,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=n.row,r.autoInsertedLineEnd=i+o.substr(n.column),r.autoInsertedBrackets++;},p.recordMaybeInsert=function(e,t,i){var n=e.getCursorPosition(),o=t.doc.getLine(n.row);this.isMaybeInsertedClosing(n,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=n.row,r.maybeInsertedLineStart=o.substr(0,n.column)+i,r.maybeInsertedLineEnd=o.substr(n.column),r.maybeInsertedBrackets++;},p.isAutoInsertedClosing=function(e,t,i){return 0<r.autoInsertedBrackets&&e.row===r.autoInsertedRow&&i===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return 0<r.maybeInsertedBrackets&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--;},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1);},s.inherits(p,a),t.CstyleBehaviour=p;}),ace.define("ace/unicode",["require","exports","module"],function(e,t,i){for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],o=0,r=[],s=0;s<n.length;s+=2)r.push(o+=n[s]),n[s+1]&&r.push(45,o+=n[s+1]);t.wordChars=String.fromCharCode.apply(null,r);}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,i){function n(){this.HighlightRules=s;}var o=e("../config"),r=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("../unicode"),c=e("../lib/lang"),d=e("../token_iterator").TokenIterator,h=e("../range").Range;(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+l.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+l.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,i,n){function o(e){for(var t=i;t<=n;t++)e(r.getLine(t),t);}var r=t.doc,s=!0,a=!0,l=1/0,d=t.getTabSize(),h=!1;if(this.lineCommentStart){C=Array.isArray(this.lineCommentStart)?(A=this.lineCommentStart.map(c.escapeRegExp).join("|"),this.lineCommentStart[0]):(A=c.escapeRegExp(this.lineCommentStart),this.lineCommentStart),A=new RegExp("^(\\s*)(?:"+A+") ?"),h=t.getUseSoftTabs();var u=function(e,t){var i,n,o=e.match(A);o&&(i=o[1].length,n=o[0].length,f(e,i,n)||" "!=o[0][n-1]||n--,r.removeInLine(t,i,n));},g=C+" ",p=function(e,t){s&&!/\S/.test(e)||(f(e,l,l)?r.insertInLine({row:t,column:l},g):r.insertInLine({row:t,column:l},C));},m=function(e,t){return A.test(e)},f=function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%d!=0)return !1;for(n=0;" "==e.charAt(i++);)n++;return 2<d?n%d!=d-1:n%d==0};}else{if(!this.blockComment)return !1;var C=this.blockComment.start,I=this.blockComment.end,A=new RegExp("^(\\s*)(?:"+c.escapeRegExp(C)+")"),b=new RegExp("(?:"+c.escapeRegExp(I)+")\\s*$"),p=function(e,t){m(e,t)||s&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},I),r.insertInLine({row:t,column:l},C));},u=function(e,t){var i;(i=e.match(b))&&r.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(A))&&r.removeInLine(t,i[1].length,i[0].length);},m=function(e,i){if(A.test(e))return !0;for(var n=t.getTokens(i),o=0;o<n.length;o++)if("comment"===n[o].type)return !0};}var v=1/0;o(function(e,t){var i=e.search(/\S/);-1!==i?(i<l&&(l=i),a&&!m(e,t)&&(a=!1)):v>e.length&&(v=e.length);}),l==1/0&&(l=v,a=s=!1),h&&l%d!=0&&(l=Math.floor(l/d)*d),o(a?u:p);},this.toggleBlockComment=function(e,t,i,n){var o=this.blockComment;if(o){!o.start&&o[0]&&(o=o[0]);var r,s,a=(p=new d(t,n.row,n.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(o.start))){var c=p.getCurrentTokenRow(),u=p.getCurrentTokenColumn()+m,g=new h(c,u,c,u+o.start.length);break}a=p.stepBackward();}for(var p,m,a=(p=new d(t,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(o.end))){var c=p.getCurrentTokenRow(),u=p.getCurrentTokenColumn()+m,f=new h(c,u,c,u+o.end.length);break}a=p.stepForward();}f&&t.remove(f),g&&(t.remove(g),r=g.start.row,s=-o.start.length);}else s=o.start.length,r=i.start.row,t.insert(i.end,o.end),t.insert(i.start,o.start);l.start.row==r&&(l.start.column+=s),l.end.row==r&&(l.end.column+=s),t.selection.fromOrientedRange(l);}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return !1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e){var i,n,r;e[t]&&(n=(i=e[t]).prototype.$id,(r=o.$modes[n])||(o.$modes[n]=r=new i),o.$modes[t]||(o.$modes[t]=r),this.$embeds.push(t),this.$modes[t]=r);}for(var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<s.length;t++)!function(e){var i=s[t],n=e[i];e[s[t]]=function(){return this.$delegator(i,arguments,n)};}(this);},this.$delegator=function(e,t,i){var n=t[0]||"start";if("string"!=typeof n){if(Array.isArray(n[2])){var o=n[2][n[2].length-1];if(s=this.$modes[o])return s[e].apply(s,[n[1]].concat([].slice.call(t,1)))}n=n[0]||"start";}for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s,a=n.split(this.$embeds[r]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[r]])[e].apply(s,t)}var l=i.apply(this,t);return i?l:void 0},this.transformAction=function(e,t,i,n,o){if(this.$behaviour){var r,s=this.$behaviour.getBehaviours();for(r in s)if(s[r][t]){var a=s[r][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(s in t)for(var n=t[s],o=0,r=n.length;o<r;o++)if("string"==typeof n[o].token)/keyword|support|storage/.test(n[o].token)&&i.push(n[o].regex);else if("object"==typeof n[o].token)for(var s,a=0,l=n[o].token.length;a<l;a++)/keyword|support|storage/.test(n[o].token[a])&&(s=n[o].regex.match(/\(.+?\)/g)[a],i.push(s.substr(1,s.length-2)));this.completionKeywords=i;}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){return (this.$keywordList||this.$createKeywordList()).map(function(e){return {name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text";}).call(n.prototype),t.Mode=n;}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,i){t.applyDelta=function(e,t,i){var n,o=t.start.row,r=t.start.column,s=e[o]||"";switch(t.action){case"insert":1===t.lines.length?e[o]=s.substring(0,r)+t.lines[0]+s.substring(r):(n=[o,1].concat(t.lines),e.splice.apply(e,n),e[o]=s.substring(0,r)+e[o],e[o+t.lines.length-1]+=s.substring(r));break;case"remove":var a=t.end.column,l=t.end.row;o===l?e[o]=s.substring(0,r)+s.substring(a):e.splice(o,l-o+1,s.substring(0,r)+e[l].substring(a));}};}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){var n=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,r=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===i?this.setPosition(t.row,t.column):this.setPosition(t,i);};(function(){function e(e,t,i){var n=i?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&n}n.implement(this,o),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){var i;t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row||(i=function(t,i,n){var o="insert"==t.action,r=(o?1:-1)*(t.end.row-t.start.row),s=(o?1:-1)*(t.end.column-t.start.column),a=t.start,l=o?a:t.end;return e(i,a,n)?{row:i.row,column:i.column}:e(l,i,!n)?{row:i.row+r,column:i.column+(i.row==l.row?s:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight),this.setPosition(i.row,i.column,!0));},this.setPosition=function(e,t,i){var n,o=i?{row:e,column:t}:this.$clipPositionToDocument(e,t);this.row==o.row&&this.column==o.column||(n={row:this.row,column:this.column},this.row=o.row,this.column=o.column,this._signal("change",{old:n,value:o}));},this.detach=function(){this.document.off("change",this.$onChange);},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange);},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i};}).call(r.prototype);}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,i){function n(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e);}var o=e("./lib/oop"),r=e("./apply_delta").applyDelta,s=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,l=e("./anchor").Anchor;(function(){o.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e);},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new l(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode");},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return "\r\n";case"unix":return "\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"));},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return "\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t,i;return e.start.row===e.end.row?t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)]:((t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column),i=t.length-1,e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))),t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),n=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:i<=e&&(e=i-1,t=void 0);var n=this.getLine(e);return null==t&&(t=n.length),{row:e,column:t=Math.min(Math.max(t,0),n.length)}},this.clonePos=function(e){return {row:e.row,column:e.column}},this.pos=function(e,t){return {row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var i=0,i=(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),0):(t=[""].concat(t),e--,this.$lines[e].length);this.insertMergedLines({row:e,column:i},t);},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),n={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:t}),this.clonePos(n)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),i=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},this.removeInLine=function(e,t,i){var n=this.clippedPos(e,t),o=this.clippedPos(e,i);return this.applyDelta({start:n,end:o,action:"remove",lines:this.getLinesForRange({start:n,end:o})},!0),this.clonePos(n)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var i=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&0<e,n=t<this.getLength()-1,o=i?e-1:e,r=i?this.getLine(o).length:0,s=n?t+1:t,l=n?0:this.getLine(s).length,c=new a(o,r,s,l),d=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),d},this.removeNewLine=function(e){e<this.getLength()-1&&0<=e&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]});},this.replace=function(e,t){return e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t]);},this.revertDeltas=function(e){for(var t=e.length-1;0<=t;t--)this.revertDelta(e[t]);},this.applyDelta=function(e,t){var i="insert"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(i&&2e4<e.lines.length?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)));},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e);},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,n=i.length-t+1,o=e.start.row,r=e.start.column,s=0,a=0;s<n;s=a){a+=t-1;var l=i.slice(s,a);l.push(""),this.applyDelta({start:this.pos(o+s,r),end:this.pos(o+a,r=0),action:e.action,lines:l},!0);}e.lines=i.slice(s),e.start.row=o+s,e.start.column=r,this.applyDelta(e,!0);},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()});},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,o=t||0,r=i.length;o<r;o++)if((e-=i[o].length+n)<0)return {row:o,column:e+i[o].length+n};return {row:r-1,column:e+i[r-1].length+n}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,o=0,r=Math.min(e.row,i.length),s=t||0;s<r;++s)o+=i[s].length+n;return o+e.column};}).call(n.prototype),t.Document=n;}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){function n(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var i=this;this.$worker=function(){if(i.running){for(var e=new Date,t=i.currentLine,n=-1,o=i.doc,r=t;i.lines[t];)t++;var s=o.getLength(),a=0;for(i.running=!1;t<s;){for(i.$tokenizeRow(t),n=t;t++,i.lines[t];);if(++a%5==0&&20<new Date-e){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,-1==n&&(n=t),r<=n&&i.fireUpdateEvent(r,n);}};}var o=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter;(function(){o.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0);},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop();},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal("update",{data:i});},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700);},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700));},this.$updateOnChange=function(e){var t,i=e.start.row,n=e.end.row-i;0==n?this.lines[i]=null:"remove"==e.action?(this.lines.splice(i,1+n,null),this.states.splice(i,1+n,null)):((t=Array(1+n)).unshift(i,1),this.lines.splice.apply(this.lines,t),this.states.splice.apply(this.states,t)),this.currentLine=Math.min(i,this.currentLine,this.doc.getLength()),this.stop();},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1;},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],n=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens};}).call(n.prototype),t.BackgroundTokenizer=n;}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){function n(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text";}var o=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range);(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[]);},this.update=function(e,t,i,n){if(this.regExp)for(var s=n.firstRow,a=n.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&((c=o.getMatchOffsets(i.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new r(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var d=c.length;d--;)t.drawSingleLineMarker(e,c[d].toScreenRange(i),this.clazz,n);}};}).call(n.prototype),t.SearchHighlight=n;}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,i){function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new o(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this);},this);}var o=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e;});},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return -e.range.compareEnd(t.start.row,t.start.column)}),0<this.range.compareEnd(e.start.row,e.start.column)?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column);}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column;}e.foldLine=this;},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,o,r=0,s=this.folds,a=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<s.length;l++){if(-1==(o=(n=s[l]).range.compareStart(t,i)))return void e(null,t,i,r,a);if(!e(null,n.start.row,n.start.column,r,a)&&e(n.placeholder,n.start.row,n.start.column,r)||0===o)return;a=!n.sameRow,r=n.end.column;}e(null,t,i,r,a);},this.getNextFoldTo=function(e,t){for(var i,n,o=0;o<this.folds.length;o++){if(-1==(n=(i=this.folds[o]).range.compareEnd(e,t)))return {fold:i,kind:"after"};if(0===n)return {fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,o,r=this.getNextFoldTo(e,t);if(r)if(n=r.fold,"inside"==r.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){var s=(o=this.folds).indexOf(n);for(0===s&&(this.start.column+=i);s<o.length;s++){if((n=o[s]).start.column+=i,!n.sameRow)return;n.end.column+=i;}this.end.column+=i;}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var o=i.fold,r=this.folds,s=this.foldData,a=r.indexOf(o),l=r[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new n(s,r=r.splice(a,r.length-a));return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1);},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString());}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((e-=n.start.column-t)<0)return {row:n.start.row,column:n.start.column+e};if((e-=n.placeholder.length)<0)return n.start;t=n.end.column;}return {row:this.end.row,column:this.end.column+e}};}).call(n.prototype),t.FoldLine=n;}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,i){function n(){this.ranges=[],this.$bias=1;}var o=e("./range").Range.comparePoints;(function(){this.comparePoints=o,this.pointIndex=function(e,t,i){for(var n=this.ranges,r=i||0;r<n.length;r++){var s=n[r],a=o(e,s.end);if(!(0<a)){var l=o(e,s.start);return 0===a?t&&0!==l?-r-2:r:0<l||0===l&&!t?r:-r-1}}return -r-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(0<=t)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],i=this.ranges,n=(i=i.sort(function(e,t){return o(e.start,t.start)}))[0],r=1;r<i.length;r++){e=n,n=i[r];var s=o(e.end,n.start);s<0||(0!=s||e.isEmpty()||n.isEmpty())&&(o(e.end,n.end)<0&&(e.end.row=n.end.row,e.end.column=n.end.column),i.splice(r,1),t.push(n),n=e,r--);}return this.ranges=i,t},this.contains=function(e,t){return 0<=this.pointIndex({row:e,column:t})},this.containsPoint=function(e){return 0<=this.pointIndex(e)},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(0<=t)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return [];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var o=this.pointIndex({row:t,column:0},n);o<0&&(o=-o-1);for(var r=[],s=n;s<o;s++)r.push(i[s]);return r},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange);},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null);},this.$onChange=function(e){for(var t=e.start,i=e.end,n=t.row,o=i.row,r=this.ranges,s=0,a=r.length;s<a&&!((d=r[s]).end.row>=n);s++);if("insert"==e.action){for(var l=o-n,c=-t.column+i.column;s<a&&!((d=r[s]).start.row>n);s++)if(d.start.row==n&&d.start.column>=t.column&&(d.start.column==t.column&&this.$bias<=0||(d.start.column+=c,d.start.row+=l)),d.end.row==n&&d.end.column>=t.column){if(d.end.column==t.column&&this.$bias<0)continue;d.end.column==t.column&&0<c&&s<a-1&&d.end.column>d.start.column&&d.end.column==r[s+1].start.column&&(d.end.column-=c),d.end.column+=c,d.end.row+=l;}}else for(var d,l=n-o,c=t.column-i.column;s<a&&!((d=r[s]).start.row>o);s++)d.end.row<o&&(n<d.end.row||n==d.end.row&&t.column<d.end.column)?(d.end.row=n,d.end.column=t.column):d.end.row==o?d.end.column<=i.column?(l||d.end.column>t.column)&&(d.end.column=t.column,d.end.row=t.row):(d.end.column+=c,d.end.row+=l):d.end.row>o&&(d.end.row+=l),d.start.row<o&&(n<d.start.row||n==d.start.row&&t.column<d.start.column)?(d.start.row=n,d.start.column=t.column):d.start.row==o?d.start.column<=i.column?(l||d.start.column>t.column)&&(d.start.column=t.column,d.start.row=t.row):(d.start.column+=c,d.start.row+=l):d.start.row>o&&(d.start.row+=l);if(0!=l&&s<a)for(;s<a;s++)(d=r[s]).start.row+=l,d.end.row+=l;};}).call(n.prototype),t.RangeList=n;}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(e,t,i){function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column);}function o(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row;}var r=e("../range_list").RangeList,s=e("../lib/oop"),a=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[];};s.inherits(a,r),function(){this.toString=function(){return '"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e);});},this.clone=function(){var e=this.range.clone(),t=new a(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone());}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,i;t=e,i=this.start,n(t.start,i),n(t.end,i);for(var o=e.start.row,r=e.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(o,r));s++);var l=this.subFolds[s],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1;}for(var o=e.range.end.row,r=e.range.end.column,d=s,a=-1;d<this.subFolds.length&&1==(a=this.subFolds[d].range.compare(o,r));d++);0==a&&d++;for(var h=this.subFolds.splice(s,d-s,e),u=0==a?h.length-1:h.length,g=c;g<u;g++)e.addSubFold(h[g]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return t=e,i=this.start,o(t.start,i),void o(t.end,i);var t,i;};}.call(a.prototype);}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,i){var n=e("../range").Range,o=e("./fold_line").FoldLine,r=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var o=n.folds,r=0;r<o.length;r++){var s=o[r].range;if(s.contains(e,t)){if(1==i&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==i&&s.isStart(e,t)&&!s.isEmpty())continue;return o[r]}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,o=[];t.column+=1,--i.column;for(var r=0;r<n.length;r++)if(2!=(l=n[r].range.compareRange(e))){if(-2==l)break;for(var s=n[r].folds,a=0;a<s.length;a++){var l,c=s[a];if(-2==(l=c.range.compareRange(e)))break;if(2!=l){if(42==l)break;o.push(c);}}}return --t.column,i.column+=1,o},this.getFoldsInRangeList=function(e){var t;return Array.isArray(e)?(t=[],e.forEach(function(e){t=t.concat(this.getFoldsInRange(e));},this)):t=this.getFoldsInRange(e),t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(!(n=n||this.getFoldLine(e)))return null;for(var o,r,s={end:{column:0}},a=0;a<n.folds.length;a++){var l=(r=n.folds[a]).range.compareEnd(e,t);if(-1==l){o=this.getLine(r.start.row).substring(s.end.column,r.start.column);break}if(0===l)return null;s=r;}return o=o||this.getLine(r.start.row).substring(s.end.column),-1==i?o.substring(0,t-s.end.column):1==i?o.substring(t-s.end.column):o},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var o=i[n];if(o.start.row<=e&&o.end.row>=e)return o;if(o.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var o=i[n];if(o.end.row>=e)return o}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,o=0;o<i.length;o++){var r=i[o],s=r.end.row,a=r.start.row;if(t<=s){a<t&&(e<=a?n-=t-a:n=0);break}e<=s&&(n-=e<=a?s-a:s-e+1);}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var i,n=this.$foldData,s=!1;e instanceof r?i=e:(i=new r(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,c=i.end.row,d=i.end.column,h=this.getFoldAt(a,l,1),u=this.getFoldAt(c,d,-1);if(h&&u==h)return h.addSubFold(i);h&&!h.range.isStart(a,l)&&this.removeFold(h),u&&!u.range.isEnd(c,d)&&this.removeFold(u);var g=this.getFoldsInRange(i.range);0<g.length&&(this.removeFolds(g),i.collapseChildren||g.forEach(function(e){i.addSubFold(e);}));for(var p=0;p<n.length;p++){var m=n[p];if(c==m.start.row){m.addFold(i),s=!0;break}if(a==m.end.row){if(m.addFold(i),s=!0,!i.sameRow){var f=n[p+1];if(f&&f.start.row==c){m.merge(f);break}}break}if(c<=m.start.row)break}return s||(m=this.$addFoldLine(new o(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach(function(e){this.addFold(e);},this);},this.removeFold=function(e){var t,i=e.foldLine,n=i.start.row,o=i.end.row,r=this.$foldData,s=i.folds;1==s.length?r.splice(r.indexOf(i),1):i.range.isEnd(e.end.row,e.end.column)?(s.pop(),i.end.row=s[s.length-1].end.row,i.end.column=s[s.length-1].end.column):i.range.isStart(e.start.row,e.start.column)?(s.shift(),i.start.row=s[0].start.row,i.start.column=s[0].start.column):e.sameRow?s.splice(s.indexOf(e),1):((s=(t=i.split(e.start.row,e.start.column)).folds).shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column),this.$updating||(this.$useWrapMode?this.$updateWrapData(n,o):this.$updateRowLengthCache(n,o)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"});},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(e){this.removeFold(e);},this),this.$modified=!0;},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t);},this),0<e.collapseChildren&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[];},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e);},this);},this.unfold=function(e,t){var i,o;if(null==e?(i=new n(0,0,this.getLength(),0),null==t&&(t=!0)):i="number"==typeof e?new n(e,0,e,this.getLine(e).length):"row"in e?n.fromPoints(e,e):e,o=this.getFoldsInRangeList(i),0!=t?this.removeFolds(o):this.expandFolds(o),o.length)return o},this.isRowFolded=function(e,t){return !!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,n,o){null==n&&(n=e.start.row),null==o&&(o=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var r=this.doc,s="";return e.walk(function(e,t,i,a){if(!(t<n)){if(t==n){if(i<o)return;a=Math.max(o,a);}s+=null!=e?e:r.getLine(t).substring(a,i);}},t,i),s},this.getDisplayLine=function(e,t,i,n){var o=this.getFoldLine(e);if(o)return this.getFoldDisplayLine(o,e,t,i,n);var r=this.doc.getLine(e);return r.substring(n||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var i=t.folds.map(function(e){return e.clone()});return new o(e,i)})},this.toggleFold=function(e){var t,i=this.selection.getRange();if(i.isEmpty()){var n,o=i.start;if(n=this.getFoldAt(o.row,o.column))return void this.expandFold(n);(t=this.findMatchingBracket(o))?1==i.comparePoint(t)?i.end=t:(i.start=t,i.start.column++,i.end.column--):(t=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==i.comparePoint(t)?i.end=t:i.start=t,i.start.column++):i=this.getCommentFoldRange(o.row,o.column)||i;}else{var r=this.getFoldsInRange(i);if(e&&r.length)return void this.expandFolds(r);1==r.length&&(n=r[0]);}if((n=n||this.getFoldAt(i.start.row,i.start.column))&&n.range.toString()==i.toString())this.expandFold(n);else{var s="...";if(!i.isMultiLine()){if((s=this.getTextRange(i)).length<4)return;s=s.trim().substring(0,2)+"..";}this.addFold(s,i);}},this.getCommentFoldRange=function(e,t,i){var o=new s(this,e,t),r=o.getCurrentToken(),a=r&&r.type;if(r&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new n;if(1!=i){for(;(r=o.stepBackward())&&l.test(r.type););o.stepForward();}if(c.start.row=o.getCurrentTokenRow(),c.start.column=o.getCurrentTokenColumn()+2,o=new s(this,e,t),-1!=i){var d=-1;do{if(r=o.stepForward(),-1==d){var h=this.getState(o.$row);l.test(h)||(d=o.$row);}else if(o.$row>d)break}while(r&&l.test(r.type));r=o.stepBackward();}else r=o.getCurrentToken();return c.end.row=o.getCurrentTokenRow(),c.end.column=o.getCurrentTokenColumn()+r.value.length-2,c}},this.foldAll=function(e,t,i,n){null==i&&(i=1e5);var o=this.foldWidgets;if(o){t=t||this.getLength();for(var r,s=e=e||0;s<t;s++)null==o[s]&&(o[s]=this.getFoldWidget(s)),"start"==o[s]&&(n&&!n(s)||(r=this.getFoldWidgetRange(s))&&r.isMultiLine()&&r.end.row<=t&&r.start.row>=e&&(s=r.end.row,r.collapseChildren=i,this.addFold("...",r)));}},this.foldToLevel=function(e){for(this.foldAll();0<e--;)this.unfold(null,!1);},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,function(t){for(var i=e.getTokens(t),n=0;n<i.length;n++){var o=i[n];if("text"!=o.type||!/^\s+$/.test(o.value))return !!/comment/.test(o.type)}});},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");var t;this.$foldStyle!=e&&("manual"==(this.$foldStyle=e)&&this.unfold(),t=this.$foldMode,this.$setFolding(null),this.$setFolding(t));},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null);},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return {};for(var n=e-1;0<=n;){var o=i[n];if(null==o&&(o=i[n]=this.getFoldWidget(n)),"start"==o){var r=this.getFoldWidgetRange(n),s=s||r;if(r&&r.end.row>=e)break}n--;}return {range:-1!==n&&r,firstRange:s}},this.onFoldWidgetClick=function(e,t){var i,n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};this.$toggleFoldWidget(e,n)||(i=t.target||t.srcElement)&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid");},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),o="end"===i?-1:1,r=this.getFoldAt(e,-1==o?0:n.length,o);if(r)return t.children||t.all?this.removeFold(r):this.expandFold(r),r;var s,a,l,c=this.getFoldWidgetRange(e,!0);return c&&!c.isMultiLine()&&(r=this.getFoldAt(c.start.row,c.start.column,1))&&c.isEqual(r.range)?(this.removeFold(r),r):(t.siblings?((s=this.getParentFoldRangeData(e)).range&&(a=s.range.start.row+1,l=s.range.end.row),this.foldAll(a,l,t.all?1e4:0)):t.children?(l=c?c.end.row:this.getLength(),this.foldAll(e+1,l,t.all?1e4:0)):c&&(t.all&&(c.collapseChildren=1e4),this.addFold("...",c)),c)}},this.toggleFoldWidget=function(e){var t,i,n=this.selection.getCursor().row,n=this.getRowFoldStart(n),o=this.$toggleFoldWidget(n,{});o||(o=(t=this.getParentFoldRangeData(n,!0)).range||t.firstRange)&&(n=o.start.row,(i=this.getFoldAt(n,this.getLine(n).length,1))?this.removeFold(i):this.addFold("...",o));},this.updateFoldWidgets=function(e){var t,i=e.start.row,n=e.end.row-i;0==n?this.foldWidgets[i]=null:"remove"==e.action?this.foldWidgets.splice(i,1+n,null):((t=Array(1+n)).unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,t));},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length);};};}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,i){var n=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i,n=this.getLine(e.row),r=!0,s=n.charAt(e.column-1),a=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(a||(s=n.charAt(e.column),e={row:e.row,column:e.column+1},a=s&&s.match(/([\(\[\{])|([\)\]\}])/),r=!1),!a)return null;if(a[1]){if(!(i=this.$findClosingBracket(a[1],e)))return null;t=o.fromPoints(e,i),r||(t.end.column++,t.start.column--),t.cursor=t.end;}else{if(!(i=this.$findOpeningBracket(a[2],e)))return null;t=o.fromPoints(i,e),r||(t.start.column++,t.end.column--),t.cursor=t.start;}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),i=t.charAt(e.column-1),n=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(n||(i=t.charAt(e.column),e={row:e.row,column:e.column+1},n=i&&i.match(/([\(\[\{])|([\)\]\}])/)),!n)return null;var r=new o(e.row,e.column-1,e.row,e.column),s=n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e);return s?[r,new o(s.row,s.column,s.row,s.column+1)]:[r]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,i){var o=this.$brackets[e],r=1,s=new n(this,t.row,t.column),a=s.getCurrentToken();if(a=a||s.stepForward()){i=i||new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+");for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;0<=l;){var d=c.charAt(l);if(d==o){if(0==--r)return {row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else d==e&&(r+=1);--l;}for(;(a=s.stepBackward())&&!i.test(a.type););if(null==a)break;l=(c=a.value).length-1;}return null}},this.$findClosingBracket=function(e,t,i){var o=this.$brackets[e],r=1,s=new n(this,t.row,t.column),a=s.getCurrentToken();if(a=a||s.stepForward()){i=i||new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+");for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,d=c.length;l<d;){var h=c.charAt(l);if(h==o){if(0==--r)return {row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(r+=1);l+=1;}for(;(a=s.stepForward())&&!i.test(a.type););if(null==a)break;l=0;}return null}};};}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,i){var n=e("./lib/oop"),o=e("./lib/lang"),r=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,d=e("./range").Range,h=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,g=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new h(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new r(this),s.resetOptions(this),this.setMode(t),s._signal("session",this);};p.$uid=0,function(){function e(e){return !(e<4352)&&(4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12288<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510)}n.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),(this.doc=e).on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches();},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;i<t&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t));},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var o=i+n>>1,r=e[o];if(r<t)i=1+o;else{if(!(t<r))return o;n=o-1;}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0);},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row);},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e);},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset();},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),o=0;if(null==t)var r=n.length-1,o=this.getLine(e).length;else for(r=0;r<n.length&&!(t<=(o+=n[r].value.length));r++);return (i=n[r])?(i.index=r,i.start=o-i.value.length,i):null},this.setUndoManager=function(e){var t;this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e?(t=this,e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1;},this.$informUndoManager=o.delayedCall(this.$syncInformUndoManager)):this.$syncInformUndoManager=function(){};},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager();},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?o.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e);},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e);},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e);},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e);},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite);},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{});},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{});},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{});},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{});},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{});},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{});},this.addMarker=function(e,t,i,n){var o=this.$markerId++,r={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:o};return n?(this.$frontMarkers[o]=r,this._signal("changeFrontMarker")):(this.$backMarkers[o]=r,this._signal("changeBackMarker")),o},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"));},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){var t;this.$searchHighlight||(t=new g(null,"ace_selected-word","text"),this.$searchHighlight=this.addDynamicMarker(t)),this.$searchHighlight.setRegexp(e);},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i=i||"ace_step";var o=new d(e,0,t,1/0);return o.id=this.addMarker(o,i,"fullLine",n),o},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{});},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([]);},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n";},this.getWordRange=function(e,t){var i,n=this.getLine(e),o=!1;0<t&&(o=!!n.charAt(t-1).match(this.tokenRe)),i=(o=o||!!n.charAt(t).match(this.tokenRe))?this.tokenRe:/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var r=t;if(0<r){for(;0<=--r&&n.charAt(r).match(i););r++;}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new d(e,r,e,s)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e);},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e);},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e);},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path;}else n=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(t&&t());this.$modeId=n,s.loadModule(["mode",n],function(e){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||((this.$modes[n]=e).$id=n),this.$onChangeMode(e)),t&&t();}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0);},this.$onChangeMode=function(e,t){var i,n,o,r;t||(this.$modeId=e.$id),this.$mode!==e&&(i=this.$mode,this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker(),void 0!==(n=e.getTokenizer()).on&&(o=this.onReloadTokenizer.bind(this),n.on("update",o)),this.bgTokenizer?this.bgTokenizer.setTokenizer(n):(this.bgTokenizer=new u(n),(r=this).bgTokenizer.on("update",function(e){r._signal("tokenizerUpdate",e);})),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:i,mode:e})));},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null);},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this);}catch(e){s.warn("Could not load worker",e),this.$worker=null;}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e));},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e));},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth);}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,o=0,r=this.$foldData[o],s=r?r.start.row:1/0,a=t.length,l=0;l<a;l++){if(s<l){if(a<=(l=r.end.row+1))break;s=(r=this.$foldData[o++])?r.start.row:1/0;}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l]);}this.screenWidth=n;}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=e.length-1;-1!=i;i--){var n=e[i];"insert"==n.action||"remove"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds);}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1;}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=0;i<e.length;i++){var n=e[i];"insert"!=n.action&&"remove"!=n.action||this.doc.$safeApplyDelta(n);}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1;}},this.setUndoSelect=function(e){this.$undoSelect=e;},this.$getUndoSelection=function(e,t){function i(e){return t?"insert"!==e.action:"insert"===e.action}for(var n,o,r=0;r<e.length;r++){var s=e[r];s.start&&(n?i(s)?(o=s.start,-1==n.compare(o.row,o.column)&&n.setStart(o),o=s.end,1==n.compare(o.row,o.column)&&n.setEnd(o)):(o=s.start,-1==n.compare(o.row,o.column)&&(n=d.fromPoints(s.start,s.start))):n=i(s)?d.fromPoints(s.start,s.end):d.fromPoints(s.start,s.start));}return n},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n,o,r,s,a=this.getTextRange(e),l=this.getFoldsInRange(e),c=d.fromPoints(t,t);return i||(this.remove(e),r=e.start.row-e.end.row,(s=r?-e.end.column:e.start.column-e.end.column)&&(c.start.row==e.end.row&&c.start.column>e.end.column&&(c.start.column+=s),c.end.row==e.end.row&&c.end.column>e.end.column&&(c.end.column+=s)),r&&c.start.row>=e.end.row&&(c.start.row+=r,c.end.row+=r)),c.end=this.insert(c.start,a),l.length&&(n=e.start,o=c.start,r=o.row-n.row,s=o.column-n.column,this.addFolds(l.map(function(e){return (e=e.clone()).start.row==n.row&&(e.start.column+=s),e.end.row==n.row&&(e.end.column+=s),e.start.row+=r,e.end.row+=r,e}))),c},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},i);},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new d(0,0,0,0),n=this.getTabSize(),o=t.start.row;o<=t.end.row;++o){var r=this.getLine(o);i.start.row=o,i.end.row=o;for(var s=0;s<n&&" "==r.charAt(s);++s);s<n&&"\t"==r.charAt(s)?(i.start.column=s,i.end.column=s+1):(i.start.column=0,i.end.column=s),this.remove(i);}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){if((o=this.getRowFoldStart(e+i))<0)return 0;var n=o-e;}else if(0<i){var o;if((o=this.getRowFoldEnd(t+i))>this.doc.getLength()-1)return 0;n=o-t;}else e=this.$clipRowToDocument(e),n=(t=this.$clipRowToDocument(t))-e+1;var r=new d(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(r).map(function(e){return (e=e.clone()).start.row+=n,e.end.row+=n,e}),a=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+n,a),s.length&&this.addFolds(s),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){var i;return t=Math.max(0,t),t=e<0?e=0:(i=this.doc.getLength())<=e?(e=i-1,this.doc.getLine(i-1).length):Math.min(this.doc.getLine(e).length,t),{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){var t;e!=this.$useWrapMode&&(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e&&(t=this.getLength(),this.$wrapData=Array(t),this.$updateWrapData(0,t-1)),this._signal("changeWrapMode"));},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"));},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&1<n&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e);},this.getWrapLimitRange=function(){return {min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,n=e.start,o=e.end,r=n.row,s=o.row,a=s-r,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[t?"$wrapData":"$rowLengthCache"].splice(r,a);var c=this.$foldData,l=this.getFoldsInRange(e);this.removeFolds(l);var d,h=0;for((m=this.getFoldLine(o.row))&&(m.addRemoveChars(o.row,o.column,n.column-o.column),m.shiftRow(-a),(d=this.getFoldLine(r))&&d!==m&&(d.merge(m),m=d),h=c.indexOf(m)+1);h<c.length;h++)(m=c[h]).start.row>=o.row&&m.shiftRow(-a);s=r;}else{var u=Array(a);u.unshift(r,0);var g=t?this.$wrapData:this.$rowLengthCache;g.splice.apply(g,u);var p,c=this.$foldData,h=0;for((m=this.getFoldLine(r))&&(0==(p=m.range.compareInside(n.row,n.column))?(m=m.split(n.row,n.column))&&(m.shiftRow(a),m.addRemoveChars(s,0,o.column-n.column)):-1==p&&(m.addRemoveChars(r,0,o.column-n.column),m.shiftRow(a)),h=c.indexOf(m)+1);h<c.length;h++)(m=c[h]).start.row>=r&&m.shiftRow(a);}else{var m,a=Math.abs(e.start.column-e.end.column);"remove"===i&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(m=this.getFoldLine(r))&&m.addRemoveChars(r,n.column,a);}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(r,s):this.$updateRowLengthCache(r,s),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null;},this.$updateWrapData=function(e,n){var o,r,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,d=e;for(n=Math.min(n,s.length-1);d<=n;)(r=this.getFoldLine(d,r))?(o=[],r.walk(function(e,n,r,a){var l;if(null!=e){(l=this.$getDisplayTokens(e,o.length))[0]=t;for(var c=1;c<l.length;c++)l[c]=i;}else l=this.$getDisplayTokens(s[n].substring(a,r),o.length);o=o.concat(l);}.bind(this),r.end.row,s[r.end.row].length+1),l[r.start.row]=this.$computeWrapSplits(o,c,a),d=r.end.row+1):(o=this.$getDisplayTokens(s[d]),l[d]=this.$computeWrapSplits(o,c,a),d++);};var t=3,i=4;this.$computeWrapSplits=function(e,n,o){function r(t){for(var i=t-l,n=l;n<t;n++){var r=e[n];12!==r&&2!==r||--i;}s.length||(g=function(){var t=0;if(0===u)return t;if(h)for(var i=0;i<e.length;i++){var n=e[i];if(10==n)t+=1;else{if(11!=n){if(12==n)continue;break}t+=o;}}return d&&!1!==h&&(t+=o),Math.min(t,u)}(),s.indent=g),c+=i,s.push(c),l=t;}if(0==e.length)return [];for(var s=[],a=e.length,l=0,c=0,d=this.$wrapAsCode,h=this.$indentedSoftWrap,u=n<=Math.max(2*o,8)||!1===h?0:Math.floor(n/2),g=0;n-g<a-l;){var p=l+n-g;if(10<=e[p-1]&&10<=e[p])r(p);else if(e[p]!=t&&e[p]!=i){for(var m=Math.max(p-(n-(n>>2)),l-1);m<p&&e[p]<t;)p--;if(d){for(;m<p&&e[p]<t;)p--;for(;m<p&&9==e[p];)p--;}else for(;m<p&&e[p]<10;)p--;m<p?r(++p):(2==e[p=l+n]&&p--,r(p-g));}else{for(;p!=l-1&&e[p]!=t;p--);if(l<p){r(p);continue}for(p=l+n;p<e.length&&e[p]==i;p++);if(p==e.length)break;r(p);}}return s},this.$getDisplayTokens=function(t,i){var n,o=[];i=i||0;for(var r=0;r<t.length;r++){var s=t.charCodeAt(r);if(9==s){n=this.getScreenTabSize(o.length+i),o.push(11);for(var a=1;a<n;a++)o.push(12);}else 32==s?o.push(10):39<s&&s<48||57<s&&s<64?o.push(9):4352<=s&&e(s)?o.push(1,2):o.push(1);}return o},this.$getStringScreenWidth=function(t,i,n){if(0==i)return [0,0];var o,r;for(null==i&&(i=1/0),n=n||0,r=0;r<t.length&&(9==(o=t.charCodeAt(r))?n+=this.getScreenTabSize(n):4352<=o&&e(o)?n+=2:n+=1,!(i<n));r++);return [n,r]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,i){if(e<0)return {row:0,column:0};var n,o,r,s=0,a=0,l=0,c=0,d=this.$screenRowCache,h=this.$getRowCacheIndex(d,e),u=d.length;r=u&&0<=h?(l=d[h],s=this.$docRowCache[h],e>d[u-1]):!u;for(var g=this.getLength()-1,p=this.getNextFoldLine(s),m=p?p.start.row:1/0;l<=e&&!(e<l+(c=this.getRowLength(s))||g<=s);)l+=c,m<++s&&(s=p.end.row+1,m=(p=this.getNextFoldLine(s,p))?p.start.row:1/0),r&&(this.$docRowCache.push(s),this.$screenRowCache.push(l));if(p&&p.start.row<=s)n=this.getFoldDisplayLine(p),s=p.start.row;else{if(l+c<=e||g<s)return {row:g,column:this.getLine(g).length};n=this.getLine(s),p=null;}var f,C=0,I=Math.floor(e-l);return !this.$useWrapMode||(f=this.$wrapData[s])&&(o=f[I],0<I&&f.length&&(C=f.indent,a=f[I-1]||f[f.length-1],n=n.substring(a))),void 0!==i&&this.$bidiHandler.isBidiRow(l+I,s,I)&&(t=this.$bidiHandler.offsetToCol(i)),a+=this.$getStringScreenWidth(n,t-C)[1],this.$useWrapMode&&o<=a&&(a=o-1),p?p.idxToPosition(a):{row:s,column:a}},this.documentToScreenPosition=function(e,t){var i=void 0===t?this.$clipPositionToDocument(e.row,e.column):this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n=0,o=null,r=null;(r=this.getFoldAt(e,t,1))&&(e=r.start.row,t=r.start.column);var s,a,l=0,c=this.$docRowCache,d=this.$getRowCacheIndex(c,e),h=c.length;a=h&&0<=d?(l=c[d],n=this.$screenRowCache[d],e>c[h-1]):!h;for(var u=this.getNextFoldLine(l),g=u?u.start.row:1/0;l<e;){if(g<=l){if(e<(s=u.end.row+1))break;g=(u=this.getNextFoldLine(s,u))?u.start.row:1/0;}else s=l+1;n+=this.getRowLength(l),l=s,a&&(this.$docRowCache.push(l),this.$screenRowCache.push(n));}var p="",o=u&&g<=l?(p=this.getFoldDisplayLine(u,e,t),u.start.row):(p=this.getLine(e).substring(0,t),e),m=0;if(this.$useWrapMode){var f=this.$wrapData[o];if(f){for(var C=0;p.length>=f[C];)n++,C++;p=p.substring(f[C-1]||0,p.length),m=0<C?f.indent:0;}}return this.lineWidgets&&this.lineWidgets[l]&&this.lineWidgets[l].rowsAbove&&(n+=this.lineWidgets[l].rowsAbove),{row:n,column:m+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,o=0,r=(t=this.$foldData[o++])?t.start.row:1/0;n<i;){var s=this.$wrapData[n];e+=s?s.length+1:1,r<++n&&(n=t.end.row+1,r=(t=this.$foldData[o++])?t.start.row:1/0);}else{e=this.getLength();for(var a=this.$foldData,o=0;o<a.length;o++)e-=(t=a[o]).end.row-t.start.row;}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,n){if(0===i)return [0,0];var o,r;for(i=i||1/0,n=n||0,r=0;r<t.length&&!(i<(n+="\t"===(o=t.charAt(r))?this.getScreenTabSize(n):e.getCharacterWidth(o)));r++);return [n,r]});},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach();},this.isFullWidth=e;}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){var t;e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e&&((this.$wrap=e)?(t="number"==typeof e?e:null,this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)):this.setUseWrapMode(!1));},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)));},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0));},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint");},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker();},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){0<(e=parseInt(e))&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"));},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e);},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite");},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e);},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e);},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p;}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){function n(){this.$options={};}var o=e("./lib/lang"),r=e("./lib/oop"),s=e("./range").Range;(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return o.copyObject(this.$options)},this.setOptions=function(e){this.$options=e;},this.find=function(e){var t=this.$options,i=this.$matchIterator(e,t);if(!i)return !1;var n=null;return i.forEach(function(e,i,o,r){return n=new s(e,i,o,r),!(i==r&&t.start&&t.start.start&&0!=t.skipCurrent&&n.isEqual(t.start)&&(n=null,1))}),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return [];this.$assembleRegExp(t);var i=t.range,n=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),r=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,d=n.length-c;e:for(var h=a.offset||0;h<=d;h++){for(var u=0;u<c;u++)if(-1==n[h+u].search(a[u]))continue e;var g=n[h],p=n[h+c-1],m=g.length-g.match(a[0])[0].length,f=p.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>m||(r.push(l=new s(h,m,h+c-1,f)),2<c&&(h=h+c-2));}}else for(var C=0;C<n.length;C++)for(var I=o.getMatchOffsets(n[C],a),u=0;u<I.length;u++){var A=I[u];r.push(new s(C,A.offset,C,A.offset+A.length));}if(i){for(var b=i.start.column,v=i.start.column,C=0,u=r.length-1;C<u&&r[C].start.column<b&&r[C].start.row==i.start.row;)C++;for(;C<u&&r[u].end.column>v&&r[u].end.row==i.end.row;)u--;for(r=r.slice(C,u+1),C=0,u=r.length;C<u;C++)r[C].start.row+=i.start.row,r[C].end.row+=i.start.row;}return r},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var o=n.exec(e);if(!o||o[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var r=Math.min(e.length,e.length);r--;){var s=e[r];s&&s.toLowerCase()!=s?t[r]=t[r].toUpperCase():t[r]=t[r].toLowerCase();}t=t.join("");}return t}},this.$assembleRegExp=function(e,t){function i(e){return /\w/.test(e)||r.regExp?"\\b":""}if(e.needle instanceof RegExp)return e.re=e.needle;var n,r,s=e.needle;if(!e.needle)return e.re=!1;e.regExp||(s=o.escapeRegExp(s)),e.wholeWord&&(r=e,s=i((n=s)[0])+n+i(n[n.length-1]));var a=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(s),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(s,a);try{var l=new RegExp(s,a);}catch(e){l=!1;}return e.re=l},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],o=0;o<i.length;o++)try{n.push(new RegExp(i[o],t));}catch(e){return !1}return n},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return !1;var n=1==t.backwards,o=0!=t.skipCurrent,r=t.range,s=t.start;(s=s||(r?r[n?"end":"start"]:e.selection.getRange())).start&&(s=s[o!=n?"end":"start"]);var a,l,c,d=r?r.start.row:0,h=r?r.end.row:e.getLength()-1;return a=n?function(e){var i=s.row;if(!c(i,s.column,e)){for(i--;d<=i;i--)if(c(i,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(i=h,d=s.row;d<=i;i--)if(c(i,Number.MAX_VALUE,e))return}}:function(e){var i=s.row;if(!c(i,s.column,e)){for(i+=1;i<=h;i++)if(c(i,0,e))return;if(0!=t.wrap)for(i=d,h=s.row;i<=h;i++)if(c(i,0,e))return}},c=t.$isMultiLine?(l=i.length,function(t,o,r){var s=n?t-l+1:t;if(!(s<0)){var a=e.getLine(s),c=a.search(i[0]);if(!(!n&&c<o||-1===c)){for(var d=1;d<l;d++)if(-1==(a=e.getLine(s+d)).search(i[d]))return;var h=a.match(i[l-1])[0].length;if(!(n&&o<h))return !!r(s,c,s+l-1,h)||void 0}}}):n?function(t,n,o){var r,s=e.getLine(t),a=[];for(i.lastIndex=0;r=i.exec(s);){var l=r[0].length,c=r.index;if(!l){if(c>=s.length)break;i.lastIndex=c+=1;}if(r.index+l>n)break;a.push(r.index,l);}for(var d=a.length-1;0<=d;d-=2){var h=a[d-1];if(o(t,h,t,h+(l=a[d])))return !0}}:function(t,n,o){var r,s=e.getLine(t);for(i.lastIndex=n;r=i.exec(s);){var a,l=r[0].length;if(o(t,a=r.index,t,a+l))return !0;if(!l&&(i.lastIndex=a+=1,a>=s.length))return !1}},{forEach:a}};}).call(n.prototype),t.Search=n;}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){function n(e,t){this.platform=t||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0;}function o(e,t){n.call(this,e,t),this.$singleCommand=!1;}var r=e("../lib/keys"),s=e("../lib/useragent"),a=r.KEY_MODS;o.prototype=n.prototype,function(){function e(e){return "object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),(this.commands[e.name]=e).bindKey&&this._buildKeyHash(e);},this.removeCommand=function(e,t){var i=e&&("string"==typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n,o=this.commandKeyBinding;for(n in o){var r,s=o[n];s==e?delete o[n]:!Array.isArray(s)||-1!=(r=s.indexOf(e))&&(s.splice(r,1),1==s.length&&(o[n]=s[0]));}},this.bindKey=function(e,t,i){if("object"==typeof e&&e&&(null==i&&(i=e.position),e=e[this.platform]),e)return "function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var n,o="";-1!=e.indexOf(" ")&&(e=(n=e.split(/\s+/)).pop(),n.forEach(function(e){var t=this.parseKeys(e),i=a[t.hashId]+t.key;o+=(o?" ":"")+i,this._addCommandToBinding(o,"chainKeys");},this),o+=" ");var r=this.parseKeys(e),s=a[r.hashId]+r.key;this._addCommandToBinding(o+s,t,i);},this)},this._addCommandToBinding=function(t,i,n){var o=this.commandKeyBinding;if(i)if(!o[t]||this.$singleCommand)o[t]=i;else{Array.isArray(o[t])?-1!=(s=o[t].indexOf(i))&&o[t].splice(s,1):o[t]=[o[t]],"number"!=typeof n&&(n=e(i));for(var r=o[t],s=0;s<r.length&&!(n<e(r[s]));s++);r.splice(s,0,i);}else delete o[t];},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var i=e[t];if(i){if("string"==typeof i)return this.bindKey(i,t);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=t),this.addCommand(i));}},this);},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t]);},this);},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t]);},this);},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e);},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),i=t.pop(),n=r[i];if(r.FUNCTION_KEYS[n])i=r.FUNCTION_KEYS[n].toLowerCase();else{if(!t.length)return {key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return {key:i.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return "undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a;}return {key:i,hashId:o}},this.findKeyCommand=function(e,t){var i=a[e]+t;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,t,i,n){if(!(n<0)){var o=a[t]+i,r=this.commandKeyBinding[o];return e.$keyChain&&(e.$keyChain+=" "+o,r=this.commandKeyBinding[e.$keyChain]||r),!r||"chainKeys"!=r&&"chainKeys"!=r[r.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||0<n)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-o.length-1)),{command:r}):(e.$keyChain=e.$keyChain||o,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""};}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=o;}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,i){function n(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})});}var o=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter;o.inherits(n,r),function(){o.implement(this,s),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return !0;return !1}if("string"==typeof e&&(e=this.commands[e]),!e)return !1;if(t&&t.$readOnly&&!e.readOnly)return !1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return !1;var o={editor:t,command:e,args:i};return o.returnValue=this._emit("exec",o),this._signal("afterExec",o),!1!==o.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args]);}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1]);},this);}finally{this.$inReplay=!1;}}},this.trimMacro=function(e){return e.map(function(e){return "string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})};}.call(n.prototype),t.CommandManager=n;}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,i){function n(e,t){return {win:e,mac:t}}var o=e("../lib/lang"),r=e("../config"),s=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu();});},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","F4"),exec:function(e){r.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,1);});},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,-1);});},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll();},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection();},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:n("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"});},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1);},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0);},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget();},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0);},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll();},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments();},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges());},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold();},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext();},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious();},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext();},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious();},readOnly:!0},{name:"find",description:"Find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e);});},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite();},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart();},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart();},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times);},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd();},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd();},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times);},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times);},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times);},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown();},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown();},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown();},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp();},readOnly:!0},{name:"pageup",description:"Page up",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp();},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp();},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight);},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight);},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd();},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e);},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e);},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:n("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching();},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:n("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0);},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0);},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection();},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t);},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines();},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection();},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines();},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines();},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment();},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1);},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1);},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0);});}},{name:"undo",description:"Undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo();}},{name:"redo",description:"Redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo();}},{name:"copylinesup",description:"Copy lines up",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp();},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp();},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown();},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown();},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right");},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left");},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:n("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return !1;e.remove("left");},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart();},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:n("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd();},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:n("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t);},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:n("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t);},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft();},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight();},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent();},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent();},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent();},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent();},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t);},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(o.stringRepeat(t.text||"",t.times||1));},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine();},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:n("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters();},multiSelectAction:function(e){e.transposeSelections(1);},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase();},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase();},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:n(null,null),exec:function(e){e.autoIndent();},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1);},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),n=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),r=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(i.row),c=i.row+1;c<=n.row+1;c++){var d=o.stringTrimLeft(o.stringTrimRight(e.session.doc.getLine(c)));0!==d.length&&(d=" "+d),l+=d;}n.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(i.row,0,n.row+2,0),l),0<a?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+a)):(r=e.session.doc.getLine(i.row).length>r?r+1:r,e.selection.moveCursorTo(i.row,r));},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,o=[];n.length<1&&(n=[e.selection.getRange()]);for(var r=0;r<n.length;r++)r==n.length-1&&(n[r].end.row===t&&n[r].end.column===i||o.push(new s(n[r].end.row,n[r].end.column,t,i))),0===r?0===n[r].start.row&&0===n[r].start.column||o.push(new s(0,0,n[r].start.row,n[r].start.column)):o.push(new s(n[r-1].end.row,n[r-1].end.column,n[r].start.row,n[r].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),r=0;r<o.length;r++)e.selection.addRange(o[r],!1);},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n");},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp();},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:n("F1","F1"),exec:function(e){e.prompt({$type:"commands"});},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:n(null,null),exec:function(e){e.prompt({$type:"modes"});},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level);},scrollIntoView:"center",readOnly:!0});}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(e,t,i){e("./lib/fixoldbrowsers");var n=e("./lib/oop"),o=e("./lib/dom"),r=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,d=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,u=e("./search").Search,g=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,f=e("./commands/default_commands").commands,C=e("./config"),I=e("./token_iterator").TokenIterator,A=e("./clipboard"),b=function(e,t,i){this.$toDestroy=[];var n=e.getContainerElement();this.container=n,this.renderer=e,this.id="editor"+ ++b.$uid,this.commands=new m(s.isMac?"mac":"win",f),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new d(this),this.$search=(new u).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart();}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31);}),this.setSession(t||i&&i.session||new h("")),C.resetOptions(this),i&&this.setOptions(i),C._signal("editor",this);};b.$uid=0,function(){n.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0;}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0;}.bind(this),!0);},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp;}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON();},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),o=this.renderer.layerConfig;(n.start.row>=o.lastRow||n.end.row<=o.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop);}var r=this.selection.toJSON();this.curOp.selectionAfter=r,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(r),this.prevOp=this.curOp,this.curOp=null;}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){var t,i,n,o;this.$mergeUndoDeltas&&(t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name,"insertstring"==e.command.name?(o=e.args,void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(o)||/\s/.test(t.args)),this.mergeNextCommand=!0):n=n&&-1!==i.indexOf(e.command.name),"always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now()));},this.setKeyboardHandler=function(e,t){var i;e&&"string"==typeof e&&"ace"!=e?(this.$keybindingId=e,i=this,C.loadModule(["keybinding",e],function(n){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(n&&n.handler),t&&t();})):(this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t());},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){var t,i;this.session!=e&&(this.curOp&&this.endOperation(),this.curOp={},(t=this.session)&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),(i=this.session.getSelection()).off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)),(this.session=e)?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart());},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e);},this.setTheme=function(e,t){this.renderer.setTheme(e,t);},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e);},this.unsetStyle=function(e){this.renderer.unsetStyle(e);},this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e);},this.$highlightBrackets=function(){var e;this.$highlightPending||((e=this).$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t,i,n=e.session;n&&n.bgTokenizer&&(n.$bracketHighlight&&(n.$bracketHighlight.markerIds.forEach(function(e){n.removeMarker(e);}),n.$bracketHighlight=null),!(t=n.getMatchingBracketRanges(e.getCursorPosition()))&&n.$mode.getMatching&&(t=n.$mode.getMatching(e.session)),t&&(i="ace_bracket",Array.isArray(t)?1==t.length&&(i="ace_error_bracket"):t=[t],2==t.length&&(0==g.comparePoints(t[0].end,t[1].start)?t=[g.fromPoints(t[0].start,t[1].end)]:0==g.comparePoints(t[0].start,t[1].end)&&(t=[g.fromPoints(t[1].start,t[0].end)])),n.$bracketHighlight={ranges:t,markerIds:t.map(function(e){return n.addMarker(e,i,"text")})}));},50));},this.$highlightTags=function(){var e;this.$highlightTagPending||((e=this).$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=e.getCursorPosition(),n=new I(e.session,i.row,i.column),o=n.getCurrentToken();if(!o||!/\b(?:tag-open|tag-name)/.test(o.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===o.type.indexOf("tag-open")||(o=n.stepForward())){var r=o.value,s=o.value,a=0,l=n.stepBackward();if("<"===l.value)for(;l=o,(o=n.stepForward())&&(-1!==o.type.indexOf("tag-name")?r===(s=o.value)&&("<"===l.value?a++:"</"===l.value&&a--):r===s&&"/>"===o.value&&a--),o&&0<=a;);else{do{if(o=l,l=n.stepBackward(),o)if(-1!==o.type.indexOf("tag-name"))r===o.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===o.value){for(var c=0,d=l;d;){if(-1!==d.type.indexOf("tag-name")&&d.value===r){a--;break}if("<"===d.value)break;d=n.stepBackward(),c++;}for(var h=0;h<c;h++)n.stepForward();}}while(l&&a<=0);n.stepForward();}if(!o)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var u=n.getCurrentTokenRow(),p=n.getCurrentTokenColumn(),m=new g(u,p,u,p+o.value.length),f=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=f&&0!==m.compareRange(f.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(m,"ace_bracket","text"));}}},50));},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus();}),this.textInput.focus();},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur();},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e));},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e));},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine();},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,i=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,i,t),this._signal("change",e),this.$cursorChange();},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last);},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop());},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft());},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection");},this.$updateHighlightActiveLine=function(){var e,t,i=this.getSession();this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||1<this.renderer.$minLines||(e=!1)),i.$highlightLineMarker&&!e?(i.removeMarker(i.$highlightLineMarker.id),i.$highlightLineMarker=null):!i.$highlightLineMarker&&e?((t=new g(e.row,e.column,e.row,1/0)).id=i.addMarker(t,"ace_active-line","screenLine"),i.$highlightLineMarker=t):e&&(i.$highlightLineMarker.start.row=e.row,i.$highlightLineMarker.end.row=e.row,i.$highlightLineMarker.start.column=e.column,i._signal("changeBackMarker"));},this.onSelectionChange=function(e){var t,i,n=this.session;n.$selectionMarker&&n.removeMarker(n.$selectionMarker),n.$selectionMarker=null,this.selection.isEmpty()?this.$updateHighlightActiveLine():(t=this.selection.getRange(),i=this.getSelectionStyle(),n.$selectionMarker=n.addMarker(t,"ace_selection",i));var o=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(o),this._signal("changeSelection");},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column,n=t.end.column,o=e.getLine(t.start.row),r=o.substring(i,n);if(!(5e3<r.length)&&/[\w\d]/.test(r)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:r}),a=o.substring(i-1,n+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers();},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers();},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints();},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations());},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e);},this.onChangeWrapLimit=function(){this.renderer.updateFull();},this.onChangeWrapMode=function(){this.renderer.onResize(!0);},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull();},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),i=!1;if(!e&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),o=0;o<n.length;o++){var r=n[o];o&&n[o-1].start.row==r.start.row||(e+=this.session.getLine(r.start.row)+t);}}var s={text:e};return this._signal("copy",s),A.lineMode=i?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this);},this.onCut=function(){this.commands.exec("cut",this);},this.onPaste=function(e,t){var i={text:e,event:t};this.commands.exec("paste",this,i);},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,i=t==A.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?n.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(i)this.selection.rangeList.ranges.forEach(function(e){n.insert({row:e.start.row,column:0},t);});else{var o=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges,s=!(2!=o.length||o[0]&&o[1]);if(o.length!=r.length||s)return this.commands.exec("insertstring",this,t);for(var a=r.length;a--;){var l=r[a];l.isEmpty()||n.remove(l),n.insert(l.start,o[a]);}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i,n,o,r=this.session,s=r.getMode(),a=this.getCursorPosition();!this.getBehavioursEnabled()||t||(i=s.transformAction(r.getState(a.row),"insertion",this,r,e))&&(e!==i.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=i.text),"\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()?this.session.getOverwrite()&&-1==e.indexOf("\n")&&((n=new g.fromPoints(a,a)).end.column+=e.length,this.session.remove(n)):(n=this.getSelectionRange(),a=this.session.remove(n),this.clearSelection()),"\n"!=e&&"\r\n"!=e||(h=r.getLine(a.row),a.column>h.search(/\S|$/)&&(o=h.substr(a.column).search(/\S|$/),r.doc.removeInLine(a.row,a.column,a.column+o))),this.clearSelection();var l,c=a.column,d=r.getState(a.row),h=r.getLine(a.row),u=s.checkOutdent(d,h,e);r.insert(a,e),i&&i.selection&&(2==i.selection.length?this.selection.setSelectionRange(new g(a.row,c+i.selection[0],a.row,c+i.selection[1])):this.selection.setSelectionRange(new g(a.row+i.selection[0],i.selection[1],a.row+i.selection[2],i.selection[3]))),this.$enableAutoIndent&&(r.getDocument().isNewLine(e)&&(l=s.getNextLineIndent(d,h.slice(0,a.column),r.getTabString()),r.insert({row:a.row+1,column:0},l)),u&&s.autoOutdent(d,r,a.row));},this.autoIndent=function(){var e,t,i,n=this.session,o=n.getMode();i=this.selection.isEmpty()?(t=0,n.doc.getLength()-1):(t=(e=this.getSelectionRange()).start.row,e.end.row);for(var r,s,a,l,c="",d="",h=n.getTabString(),u=t;u<=i;u++)0<u&&(c=n.getState(u-1),r=n.getLine(u-1),d=o.getNextLineIndent(c,r,h)),s=n.getLine(u),d!==(a=o.$getIndent(s))&&(0<a.length&&(l=new g(u,0,u,a.length),n.remove(l)),0<d.length&&n.insert({row:u,column:0},d)),o.autoOutdent(c,n,u);},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation();},this.applyComposition=function(e,t){var i;(t.extendLeft||t.extendRight)&&((i=this.selection.getRange()).start.column-=t.extendLeft,i.end.column+=t.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),e||i.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((i=this.selection.getRange()).start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i));},this.onCommandKey=function(e,t,i){return this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e);},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite();},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e);},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e);},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e);},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e);},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e);},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e);},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e);},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e);},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e);},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e);},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e);},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e);},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e);},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e);},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e);},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e);},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t,i,n,o,r,s=this.getSelectionRange();this.getBehavioursEnabled()&&(i=(t=this.session).getState(s.start.row),n=t.getMode().transformAction(i,"deletion",this,t,s),0!==s.end.column||"\n"==(o=t.getTextRange(s))[o.length-1]&&(r=t.getLine(s.end.row),/^\s+$/.test(r)&&(s.end.column=r.length)),n&&(s=n)),this.session.remove(s),this.clearSelection();},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection();},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection();},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection();},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection();},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e);},this.transposeLetters=function(){var e,t,i,n,o;!this.selection.isEmpty()||0!==(t=(e=this.getCursorPosition()).column)&&(o=t<(i=this.session.getLine(e.row)).length?(n=i.charAt(t)+i.charAt(t-1),new g(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),new g(e.row,t-2,e.row,t)),this.session.replace(o,n),this.session.selection.moveToPosition(o.end));},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e);},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e);},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){if(!/^\s+$/.test(e.getTextRange(t)))return c=this.$getSelectedRows(),void e.indentRows(c.first,c.last,"\t")}var i=e.getLine(t.start.row),n=t.start,o=e.getTabSize(),s=e.documentToScreenColumn(n.row,n.column);if(this.session.getUseSoftTabs())var a=o-s%o,l=r.stringRepeat(" ",a);else{for(a=s%o;" "==i[t.start.column-1]&&a;)t.start.column--,a--;this.selection.setSelectionRange(t),l="\t";}return this.insert(l)}var c=this.$getSelectedRows();e.indentRows(c.first,c.last,"\t");},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t");},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange());},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,i=[],n=e.first;n<=e.last;n++)i.push(t.getLine(n));i.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var o=new g(0,0,0,0),n=e.first;n<=e.last;n++){var r=t.getLine(n);o.start.row=n,o.end.row=n,o.end.column=r.length,t.replace(o,i[n-e.first]);}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last);},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e);},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var o=i.exec(n);if(o.index<=t&&o.index+o[0].length>=t)return {value:o[0],start:o.index,end:o.index+o[0].length}}return null},this.modifyNumber=function(e){var t,i,n,o,r,s,a=this.selection.getCursor().row,l=this.selection.getCursor().column,c=new g(a,l-1,a,l),d=this.session.getTextRange(c);!isNaN(parseFloat(d))&&isFinite(d)?(t=this.getNumberAt(a,l))&&(i=0<=t.value.indexOf(".")?t.start+t.value.indexOf(".")+1:t.end,n=t.start+t.value.length-i,o=parseFloat(t.value),o*=Math.pow(10,n),i!==t.end&&l<i?e*=Math.pow(10,t.end-l-1):e*=Math.pow(10,t.end-l),o+=e,r=(o/=Math.pow(10,n)).toFixed(n),s=new g(a,t.start,a,t.end),this.session.replace(s,r),this.moveCursorTo(a,Math.max(t.start+1,l+r.length-t.value.length))):this.toggleWord();},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var i=this.getSelectedText(),n=this.selection.getWordRange().start.column,o=i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-n-1;s<0&&(s=0);var a,l=0,c=this;i.match(/[A-Za-z0-9_]+/)&&o.forEach(function(t,o){a=l+t.length,l<=s&&s<=a&&(i=t,c.selection.clearSelection(),c.moveCursorTo(e,l+n),c.selection.selectTo(e,a+n)),l=a;});for(var d,h=this.$toggleWordPairs,u=0;u<h.length;u++)for(var g=h[u],p=0;p<=1;p++){var m=+!p,f=i.match(new RegExp("^\\s?_?("+r.escapeRegExp(g[p])+")\\s?$","i"));f&&i.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(f[1])+")($|\\s)","g"))&&(d=i.replace(new RegExp(r.escapeRegExp(g[p]),"i"),function(e){var t=g[m];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+g[m].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(d));}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection();},this.duplicateSelection=function(){var e,t,i,n=this.selection,o=this.session,r=n.getRange(),s=n.isBackwards();r.isEmpty()?(e=r.start.row,o.duplicateLines(e,e)):(t=s?r.start:r.end,i=o.insert(t,o.getTextRange(r),!1),r.start=t,r.end=i,n.setSelectionRange(r,s));},this.moveLinesDown=function(){this.$moveLines(1,!1);},this.moveLinesUp=function(){this.$moveLines(-1,!1);},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0);},this.copyLinesDown=function(){this.$moveLines(1,!0);},this.$moveLines=function(e,t){var i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var n=i.toOrientedRange(),o=this.$getSelectedRows(n),r=this.session.$moveLines(o.first,o.last,t?0:e);t&&-1==e&&(r=0),n.moveBy(r,0),i.fromOrientedRange(n);}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,d=0;d<c;d++){var h=d;s[d].moveBy(a,0);for(var u=(o=this.$getSelectedRows(s[d])).first,g=o.last;++d<c;){l&&s[d].moveBy(l,0);var p=this.$getSelectedRows(s[d]);if(t&&p.first!=g)break;if(!t&&p.first>g+1)break;g=p.last;}for(d--,a=this.session.$moveLines(u,g,t?0:e),t&&-1==e&&(h=d+1);h<=d;)s[h].moveBy(a,0),h++;t||(a=0),l+=a;}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1;}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e);},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e);},this.onCompositionEnd=function(){this.renderer.hideComposition();},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,o=e*Math.floor(n.height/n.lineHeight);!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(o,0);}):!1===t&&(this.selection.moveCursorBy(o,0),this.selection.clearSelection());var r=i.scrollTop;i.scrollBy(0,o*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(r);},this.selectPageDown=function(){this.$moveByPage(1,!0);},this.selectPageUp=function(){this.$moveByPage(-1,!0);},this.gotoPageDown=function(){this.$moveByPage(1,!1);},this.gotoPageUp=function(){this.$moveByPage(-1,!1);},this.scrollPageDown=function(){this.$moveByPage(1);},this.scrollPageUp=function(){this.$moveByPage(-1);},this.scrollToRow=function(e){this.renderer.scrollToRow(e);},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n);},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5);},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll();},this.clearSelection=function(){this.selection.clearSelection();},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t);},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e);},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new I(this.session,i.row,i.column),o=n.getCurrentToken(),r=o||n.stepForward();if(r){var s,a,l,c=!1,d={},h=i.column-r.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;h<r.value.length&&!c;h++)if(u[r.value[h]])switch(a=u[r.value[h]]+"."+r.type.replace("rparen","lparen"),isNaN(d[a])&&(d[a]=0),r.value[h]){case"(":case"[":case"{":d[a]++;break;case")":case"]":case"}":-1===--d[a]&&(s="bracket",c=!0);}}else-1!==r.type.indexOf("tag-name")&&(isNaN(d[r.value])&&(d[r.value]=0),"<"===o.value?d[r.value]++:"</"===o.value&&d[r.value]--,-1===d[r.value]&&(s="tag",c=!0));c||(o=r,r=n.stepForward(),h=0);}while(r&&!c);if(s){if("bracket"===s)(p=this.session.getBracketRange(i))||(l=(p=new g(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+h-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+h-1)).start,(t||l.row===i.row&&Math.abs(l.column-i.column)<2)&&(p=this.session.getBracketRange(l)));else if("tag"===s){if(!r||-1===r.type.indexOf("tag-name"))return;var p,m=r.value;if(0===(p=new g(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column))for(c=!1;r=o,(o=n.stepBackward())&&(-1!==o.type.indexOf("tag-close")&&p.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),r.value===m&&-1!==r.type.indexOf("tag-name")&&("<"===o.value?d[m]++:"</"===o.value&&d[m]--,0===d[m]&&(c=!0))),o&&!c;);r&&r.type.indexOf("tag-name")&&(l=p.start).row==i.row&&Math.abs(l.column-i.column)<2&&(l=p.end);}(l=p&&p.cursor||l)&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(l.row,l.column):this.selection.moveTo(l.row,l.column));}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i);},this.navigateTo=function(e,t){this.selection.moveTo(e,t);},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0);},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0);},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t);}this.clearSelection();},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t);}this.clearSelection();},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection();},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection();},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection();},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection();},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection();},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection();},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i&&(this.$tryReplace(i,e)&&(n=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;var o=this.getSelectionRange();this.selection.moveTo(0,0);for(var r=i.length-1;0<=r;--r)this.$tryReplace(i[r],e)&&n++;return this.selection.setSelectionRange(o),n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return null!==(t=this.$search.replace(i,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t=t||{},"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var o=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(o)||this.$search.$options.needle)||(o=this.session.getWordRange(o.start.row,o.start.column),e=this.session.getTextRange(o)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:o});var r=this.$search.find(this.session);return t.preventScroll?r:r?(this.revealRange(r,i),r):(t.backwards?o.start=o.end:o.end=o.start,void this.selection.setRange(o))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t);},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t);},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i);},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5);},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5);},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(e){e.destroy();}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners();},this.setAutoScrollEditorIntoView=function(e){var t,i,n,o,r,s,a;e&&(n=!1,(i=this).$scrollAnchor||(this.$scrollAnchor=document.createElement("div")),(o=this.$scrollAnchor).style.cssText="position:absolute",this.container.insertBefore(o,this.container.firstChild),r=this.on("changeSelection",function(){n=!0;}),s=this.renderer.on("beforeRender",function(){n&&(t=i.renderer.container.getBoundingClientRect());}),a=this.renderer.on("afterRender",function(){var e,r,s,a;n&&t&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())&&(r=(e=i.renderer).$cursorLayer.$pixelPos,s=e.layerConfig,a=r.top-s.offset,null!=(n=0<=r.top&&a+t.top<0||!(r.top<s.height&&r.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(o.style.top=a+"px",o.style.left=r.left+"px",o.style.height=s.lineHeight+"px",o.scrollIntoView(n)),n=t=null);}),this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",r),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s));});},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)));},this.prompt=function(e,t,i){var n=this;C.loadModule("./ext/prompt",function(o){o.prompt(n,e,t,i);});};}.call(b.prototype),C.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e});},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine();},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange();},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle();},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e);},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle();},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e);}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e);},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e);},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e);},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?v.attach(this):v.detach(this);},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?v.attach(this):v.detach(this);}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e,t=this.session&&(this.renderer.$composition||this.getValue());t&&this.renderer.placeholderNode?(this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null):t||this.renderer.placeholderNode?!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||""):(this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder"),(e=o.createElement("div")).className="ace_placeholder",e.textContent=this.$placeholder||"",this.renderer.placeholderNode=e,this.renderer.content.appendChild(this.renderer.placeholderNode));}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder();}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var v={getText:function(e,t){return (Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER);},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e);},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e);}};t.Editor=b;}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,t,i){function n(){this.$maxRev=0,this.$fromUndo=!1,this.reset();}function o(e){return {row:e.row,column:e.column}}function r(e){if(e=e||this,Array.isArray(e))return e.map(r).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(s).join("\n"):s(e.value)),e.start&&(t+=s(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function s(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function a(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)if(0<=u(t.start,e.end))l(t,e,-1);else{if(!(u(t.start,e.start)<=0))return;l(e,t,1);}else if(i&&!n)if(0<=u(t.start,e.end))l(t,e,-1);else{if(!(u(t.end,e.start)<=0))return;l(e,t,-1);}else if(!i&&n)if(0<=u(t.start,e.start))l(t,e,1);else{if(!(u(t.start,e.start)<=0))return;l(e,t,1);}else if(!i&&!n)if(0<=u(t.start,e.start))l(t,e,1);else{if(!(u(t.end,e.start)<=0))return;l(e,t,-1);}return 1}function l(e,t,i){c(e.start,t.start,t.end,i),c(e.end,t.start,t.end,i);}function c(e,t,i,n){e.row==(1==n?t:i).row&&(e.column+=n*(i.column-t.column)),e.row+=n*(i.row-t.row);}function d(e,t){var i=e.lines,n=e.end;e.end=o(t);var r=e.end.row-e.start.row,s=i.splice(r,i.length),a=r?t.column:t.column-e.start.column;return i.push(s[0].substring(0,a)),s[0]=s[0].substr(a),{start:o(t),end:n,lines:s,action:e.action}}(function(){this.addSession=function(e){this.$session=e;},this.add=function(e,t,i){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e));},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev});},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var o=i[n][0];if(o.id<=e)break;o.id<t&&(o.ignore=!0);}this.lastDeltas=null;},this.getSelection=function(e,t){for(var i=this.selections,n=i.length;n--;){var o=i[n];if(o.rev<e)return t&&(o=i[n+1]),o}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=null,o=0,r=i.length;r--;){var s=i[r][0];if(s.id<t&&!n&&(n=r+1),s.id<=e){o=r+1;break}}return i.slice(o,n)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1);},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1);},this.undo=function(e,t){this.lastDeltas=null;var i=this.$undoStack;if(function(e,t){for(var i=t;i--;){var n=e[i];if(n&&!n[0].ignore){for(;i<t-1;){var o=function(e,t){for(var i=e.length;i--;)for(var n=0;n<t.length;n++)if(!a(e[i],t[n])){for(;i<e.length;){for(;n--;)a(t[n],e[i]);n=t.length,i++;}return [e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}(e[i],e[i+1]);e[i]=o[0],e[i+1]=o[1],i++;}return !0}}}(i,i.length)){e=e||this.$session,this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),o=null;return n&&(o=e.undoChanges(n,t),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,o}},this.redo=function(e,t){var i;this.lastDeltas=null,e=e||this.$session,this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev&&(i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),function(e,t){for(var i=0;i<t.length;i++)for(var n=t[i],r=0;r<n.length;r++)!function(e,t){t=function(e){return {start:o(e.start),end:o(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var i=e.length;i--;){for(var n=e[i],r=0;r<n.length;r++){var s=function(e,t){var i,n,o="insert"==e.action,r="insert"==t.action;if(o&&r)u(e.start,t.start)<0?l(t,e,1):l(e,t,1);else if(o&&!r)0<=u(e.start,t.end)?l(e,t,-1):(u(e.start,t.start)<=0||l(e,h.fromPoints(t.start,e.start),-1),l(t,e,1));else if(!o&&r)0<=u(t.start,e.end)?l(t,e,-1):(u(t.start,e.start)<=0||l(t,h.fromPoints(e.start,t.start),-1),l(e,t,1));else if(!o&&!r)if(0<=u(t.start,e.end))l(t,e,-1);else{if(!(u(t.end,e.start)<=0))return u(e.start,t.start)<0&&(e=d(i=e,t.start)),0<u(e.end,t.end)&&(n=d(e,t.end)),c(t.end,e.start,e.end,-1),n&&!i&&(e.lines=n.lines,e.start=n.start,e.end=n.end,n=e),[t,i,n].filter(Boolean);l(e,t,-1);}return [t,e]}(n[r],t);t=s[0],2!=s.length&&(s[2]?(n.splice(r+1,1,s[1],s[2]),r++):s[1]||(n.splice(r,1),r--));}n.length||e.splice(i,1);}}(e,n[r]);}(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev;},this));var n=this.$redoStack.pop(),r=null;return n&&(r=e.redoChanges(n,t),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i,this.$rev=i;},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[];},this.canUndo=function(){return 0<this.$undoStack.length},this.canRedo=function(){return 0<this.$redoStack.length},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e;},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?r(e):r(this.$undoStack)+"\n---\n"+r(this.$redoStack)};}).call(n.prototype);var h=e("./range").Range,u=h.comparePoints;h.comparePoints,t.UndoManager=n;}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,t,i){function n(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0;}var o=e("../lib/dom");(function(){this.moveContainer=function(e){o.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient);},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,i){var n=t.firstRowScreen*t.lineHeight,o=Math.floor(n/this.canvasHeight);return i.documentToScreenRow(e,0)*t.lineHeight-o*this.canvasHeight},this.computeLineHeight=function(e,t,i){return t.lineHeight*i.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift());},this.pop=function(){this.$cacheCell(this.cells.pop());},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=o.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.appendChild(t);}else this.cells.push(e),this.element.appendChild(e.element);},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=o.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t);}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element);},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e));},this.createCell=function(e,t,i,n){var r,s=this.cellCache.pop();return s||(r=o.createElement("div"),n&&n(r),this.element.appendChild(r),s={element:r,text:"",row:e}),s.row=e,s};}).call(n.prototype),t.Lines=n;}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(e,t,i){function n(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new c(this.element),this.$lines.$offsetCoefficient=1;}function o(e){var t=document.createTextNode("");e.appendChild(t);var i=r.createElement("span");return e.appendChild(i),e}var r=e("../lib/dom"),s=e("../lib/oop"),a=e("../lib/lang"),l=e("../lib/event_emitter").EventEmitter,c=e("./lines").Lines;(function(){s.implement(this,l),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),(this.session=e)&&e.on("change",this.$updateAnnotations);},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t);},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t);},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,o=(o=this.$annotations[n])||(this.$annotations[n]={text:[]}),r=(r=i.text)?a.escapeHTML(r):i.html||"";-1===o.text.indexOf(r)&&o.text.push(r);var s=i.type;"error"==s?o.className=" ace_error":"warning"==s&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=s||o.className||(o.className=" ace_info");}},this.$updateAnnotations=function(e){var t,i,n;this.$annotations.length&&(t=e.start.row,0==(i=e.end.row-t)||("remove"==e.action?this.$annotations.splice(t,1+i,null):((n=new Array(1+i)).unshift(t,1),this.$annotations.splice.apply(this.$annotations,n))));},this.update=function(e){this.config=e;var t=this.session,i=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=n,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(i),s=r?r.start.row:1/0,a=null,l=-1,c=i;;){if(s<c&&(c=r.end.row+1,s=(r=t.getNextFoldLine(c,r))?r.start.row:1/0),n<c){for(;this.$lines.getLength()>l+1;)this.$lines.pop();break}(a=this.$lines.get(++l))?a.row=c:(a=this.$lines.createCell(c,e,this.session,o),this.$lines.push(a)),this.$renderCell(a,e,r,c),c++;}this._signal("afterRender"),this.$updateGutterWidth(e);},this.$updateGutterWidth=function(e){var t=this.session,i=t.gutterRenderer||this.$renderer,n=t.$firstLineNumber,o=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(o=t.getLength()+n-1);var r=i?i.getWidth(t,o,e):o.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(r+=s.left+s.right)===this.gutterWidth||isNaN(r)||(this.gutterWidth=r,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",r));},this.$updateCursorRow=function(){var e;this.$highlightGutterLine&&(e=this.session.selection.getCursor(),this.$cursorRow!==e.row&&(this.$cursorRow=e.row));},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<t.length;i++){var n=t[i];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var o=this.session.getFoldLine(this.$cursorRow);if(!(0<i&&o&&o.start.row==t[i-1].row))break;n=t[i-1];}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=i,!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<o;o--)this.$lines.shift();if(i<n)for(o=this.session.getFoldedRowCount(i+1,n);0<o;o--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n<i&&this.$lines.push(this.$renderLines(e,n+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e);},this.$renderLines=function(e,t,i){for(var n=[],r=t,s=this.session.getNextFoldLine(r),a=s?s.start.row:1/0;a<r&&(r=s.end.row+1,a=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(i<r);){var l=this.$lines.createCell(r,e,this.session,o);this.$renderCell(l,e,s,r),n.push(l),r++;}return n},this.$renderCell=function(e,t,i,n){var o,s,a=e.element,l=this.session,c=a.childNodes[0],d=a.childNodes[1],h=l.$firstLineNumber,u=l.$breakpoints,g=l.$decorations,p=l.gutterRenderer||this.$renderer,m=this.$showFoldWidgets&&l.foldWidgets,f=i?i.start.row:Number.MAX_VALUE,C="ace_gutter-cell ";this.$highlightGutterLine&&(n==this.$cursorRow||i&&n<this.$cursorRow&&f<=n&&this.$cursorRow<=i.end.row)&&(C+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[n]&&(C+=u[n]),g[n]&&(C+=g[n]),this.$annotations[n]&&(C+=this.$annotations[n].className),a.className!=C&&(a.className=C),!m||null==(o=m[n])&&(o=m[n]=l.getFoldWidget(n)),o?(C="ace_fold-widget ace_"+o,"start"==o&&n==f&&n<i.end.row?C+=" ace_closed":C+=" ace_open",d.className!=C&&(d.className=C),s=t.lineHeight+"px",r.setStyle(d.style,"height",s),r.setStyle(d.style,"display","inline-block")):d&&r.setStyle(d.style,"display","none");var I=(p?p.getText(l,n):n+h).toString();return I!==c.data&&(c.data=I),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(n,t,l)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(n,t,l)+"px"),e.text=I,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e;},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return ""}};},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null;},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return {left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0};}).call(n.prototype),t.Gutter=n;}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,i){function n(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element);}var o=e("../range").Range,r=e("../lib/dom");(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e;},this.setSession=function(e){this.session=e;},this.setMarkers=function(e){this.markers=e;},this.elt=function(e,t){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=t,i.className=e;},this.update=function(e){if(e){var t,i;for(i in this.config=e,this.i=0,this.markers){var n,o,r,s=this.markers[i];s.range?(r=s.range.clipRows(e.firstRow,e.lastRow)).isEmpty()||(r=r.toScreenRange(this.session),s.renderer?(n=this.$getTop(r.start.row,e),o=this.$padding+r.start.column*e.characterWidth,s.renderer(t,r,o,n,e)):"fullLine"==s.type?this.drawFullLineMarker(t,r,s.clazz,e):"screenLine"==s.type?this.drawScreenLineMarker(t,r,s.clazz,e):r.isMultiLine()?"text"==s.type?this.drawTextMarker(t,r,s.clazz,e):this.drawMultiLineMarker(t,r,s.clazz,e):this.drawSingleLineMarker(t,r,s.clazz+" ace_start ace_br15",e)):s.update(t,this,this.session,e);}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild);}},this.$getTop=function(e,t){return (e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,n,r){for(var s,a=this.session,l=t.start.row,c=t.end.row,d=l,h=0,u=a.getScreenLastRowColumn(d),g=new o(d,t.start.column,d,h);d<=c;d++)g.start.row=g.end.row=d,g.start.column=d==l?t.start.column:a.getRowWrapIndent(d),s=h,h=g.end.column=u,u=d+1<c?a.getScreenLastRowColumn(d+1):d==c?0:t.end.column,this.drawSingleLineMarker(e,g,i+(d==l?" ace_start":"")+" ace_br"+((d==l||d==l+1&&t.start.column?1:0)|(s<h?2:0)|(u<h?4:0)|(d==c?8:0)),n,d==c?0:1,r);},this.drawMultiLineMarker=function(e,t,i,n,o){var r,s,a,l=this.$padding,c=n.lineHeight,d=this.$getTop(t.start.row,n),h=l+t.start.column*n.characterWidth;o=o||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((r=t.clone()).end.row=r.start.row,r.end.column=this.session.getLine(r.start.row).length,this.drawBidiSingleLineMarker(e,r,i+" ace_br1 ace_start",n,null,o)):this.elt(i+" ace_br1 ace_start","height:"+c+"px;right:0;top:"+d+"px;left:"+h+"px;"+(o||"")),this.session.$bidiHandler.isBidiRow(t.end.row)?((r=t.clone()).start.row=r.end.row,r.start.column=0,this.drawBidiSingleLineMarker(e,r,i+" ace_br12",n,null,o)):(d=this.$getTop(t.end.row,n),s=t.end.column*n.characterWidth,this.elt(i+" ace_br12","height:"+c+"px;width:"+s+"px;top:"+d+"px;left:"+l+"px;"+(o||""))),(c=(t.end.row-t.start.row-1)*n.lineHeight)<=0||(d=this.$getTop(t.start.row+1,n),a=(t.start.column?1:0)|(t.end.column?0:8),this.elt(i+(a?" ace_br"+a:""),"height:"+c+"px;right:0;top:"+d+"px;left:"+l+"px;"+(o||"")));},this.drawSingleLineMarker=function(e,t,i,n,o,r){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,i,n,o,r);var s=n.lineHeight,a=(t.end.column+(o||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n),c=this.$padding+t.start.column*n.characterWidth;this.elt(i,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(r||""));},this.drawBidiSingleLineMarker=function(e,t,i,n,o,r){var s=n.lineHeight,a=this.$getTop(t.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach(function(e){this.elt(i,"height:"+s+"px;width:"+e.width+(o||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(r||""));},this);},this.drawFullLineMarker=function(e,t,i,n,o){var r=this.$getTop(t.start.row,n),s=n.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,n)-r),this.elt(i,"height:"+s+"px;top:"+r+"px;left:0;right:0;"+(o||""));},this.drawScreenLineMarker=function(e,t,i,n,o){var r=this.$getTop(t.start.row,n),s=n.lineHeight;this.elt(i,"height:"+s+"px;top:"+r+"px;left:0;right:0;"+(o||""));};}).call(n.prototype),t.Marker=n;}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(e,t,i){function n(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element);}var o=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),a=e("./lines").Lines,l=e("../lib/event_emitter").EventEmitter;(function(){o.implement(this,l),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px";},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e);}.bind(this)),this.$pollSizeChanges();},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges();},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){(this.session=e)&&this.$computeTabString();},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&("string"==typeof(this.showInvisibles=e)?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t,i,n,o,r,a,l=this.$tabStrings=[0],c=1;c<e+1;c++)this.showTabs?((a=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",a.textContent=s.stringRepeat(this.TAB_CHAR,c),l.push(a)):l.push(this.dom.createTextNode(s.stringRepeat(" ",c),this.element));this.displayIndentGuides&&(this.$indentGuideRe=/\s\S| \t|\t |\s$/,t="ace_indent-guide",i=this.showSpaces?" ace_invisible ace_invisible_space":"",n=this.showSpaces?s.stringRepeat(this.SPACE_CHAR,this.tabSize):s.stringRepeat(" ",this.tabSize),o=this.showTabs?" ace_invisible ace_invisible_tab":"",r=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):n,(a=this.dom.createElement("span")).className=t+i,a.textContent=n,this.$tabStrings[" "]=a,(a=this.dom.createElement("span")).className=t+o,a.textContent=r,this.$tabStrings["\t"]=a);},this.updateLines=function(e,t,i){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var n=Math.max(t,e.firstRow),o=Math.min(i,e.lastRow),r=this.element.childNodes,s=0,a=e.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row;}s++;}for(var l,c=!1,a=n,d=(l=this.session.getNextFoldLine(a))?l.start.row:1/0;d<a&&(a=l.end.row+1,d=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(o<a);){var h,u=r[s++];u&&(this.dom.removeChildren(u),this.$renderLine(u,a,a==d&&l),c&&(u.style.top=this.$lines.computeLineTop(a,e,this.session)+"px"),h=e.lineHeight*this.session.getRowLength(a)+"px",u.style.height!=h&&(c=!0,u.style.height=h)),a++;}if(c)for(;s<this.$lines.cells.length;){var g=this.$lines.cells[s++];g.element.style.top=this.$lines.computeLineTop(g.row,e,this.session)+"px";}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=e.lastRow,n=t?t.lastRow:-1;if(!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<o;o--)this.$lines.shift();if(t.lastRow>e.lastRow)for(o=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);0<o;o--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow));},this.$renderLinesFragment=function(e,t,i){for(var n=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;a<o&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:1/0),!(i<o);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),r.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),r.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",n.push(l),o++;}return n},this.update=function(e){this.$lines.moveContainer(e);for(var t=(this.config=e).firstRow,i=e.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(e,t,i));},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){for(var o,r,a=this,l=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),d=0;o=l.exec(n);){var h,u,g,p=o[1],m=o[2],f=o[3],C=o[4],I=o[5];!a.showSpaces&&m||(h=d!=o.index?n.slice(d,o.index):"",d=o.index+o[0].length,h&&c.appendChild(this.dom.createTextNode(h,this.element)),p?(u=a.session.getScreenTabSize(t+o.index),c.appendChild(a.$tabStrings[u].cloneNode(!0)),t+=u-1):m?a.showSpaces?((g=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",g.textContent=s.stringRepeat(a.SPACE_CHAR,m.length),c.appendChild(g)):c.appendChild(this.com.createTextNode(m,this.element)):f?((g=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",g.textContent=s.stringRepeat(a.SPACE_CHAR,f.length),c.appendChild(g)):C?(t+=1,(g=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",g.className=a.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",g.textContent=a.showSpaces?a.SPACE_CHAR:C,c.appendChild(g)):I&&(t+=1,(g=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",g.className="ace_cjk",g.textContent=I,c.appendChild(g)));}return c.appendChild(this.dom.createTextNode(d?n.slice(d):n,this.element)),this.$textToken[i.type]?e.appendChild(c):(r="ace_"+i.type.replace(/\./g," ace_"),g=this.dom.createElement("span"),"fold"==i.type&&(g.style.width=i.value.length*this.config.characterWidth+"px"),g.className=r,g.appendChild(c),e.appendChild(g)),t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);if(n<=0||i<=n)return t;if(" "==t[0]){for(var o=(n-=n%this.tabSize)/this.tabSize,r=0;r<o;r++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(n)}if("\t"!=t[0])return t;for(r=0;r<n;r++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(n)},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,i){var n=0,o=0,r=i[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var d=t[c],h=d.value;if(0==c&&this.displayIndentGuides){if(n=h.length,!(h=this.renderIndentGuide(l,h,r)))continue;n-=h.length;}if(n+h.length<r)a=this.$renderToken(l,a,d,h),n+=h.length;else{for(;n+h.length>=r;)a=this.$renderToken(l,a,d,h.substring(0,r-n)),h=h.substring(r-n),n=r,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(s.stringRepeat(" ",i.indent),this.element)),a=0,r=i[++o]||Number.MAX_VALUE;0!=h.length&&(n+=h.length,a=this.$renderToken(l,a,d,h));}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0);},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],o=n.value;this.displayIndentGuides&&(o=this.renderIndentGuide(e,o)),o&&(i=this.$renderToken(e,i,n,o));for(var r=1;r<t.length;r++){if(i+(o=(n=t[r]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,i,n,o);i=this.$renderToken(e,i,n,o);}},this.$renderOverflowMessage=function(e,t,i,n,o){i&&this.$renderToken(e,t,i,n.slice(0,this.MAX_LINE_LENGTH-t));var r=this.dom.createElement("span");r.className="ace_inline_button ace_keyword ace_toggle_wrap",r.textContent=o?"<hide>":"<click to see more...>",e.appendChild(r);},this.$renderLine=function(e,t,i){var n;i||0==i||(i=this.session.getFoldLine(t));var o,r,s=e;(n=i?this.$getFoldLineTokens(t,i):this.session.getTokens(t)).length?(o=this.session.getRowSplitData(t))&&o.length?(this.$renderWrappedLine(e,n,o),s=e.lastChild):(s=e,this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.$renderSimpleLine(s,n)):this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.showEOL&&s&&(i&&(t=i.end.row),(r=this.dom.createElement("span")).className="ace_invisible ace_invisible_eol",r.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,s.appendChild(r));},this.$getFoldLineTokens=function(e,t){var i=this.session,n=[],o=i.getTokens(e);return t.walk(function(e,t,r,s,a){null!=e?n.push({type:"fold",value:e}):(a&&(o=i.getTokens(t)),o.length&&function(e,t,i){for(var o,r=0,s=0;s+e[r].value.length<t;)if(s+=e[r].value.length,++r==e.length)return;for(s!=t&&((o=e[r].value.substring(t-s)).length>i-t&&(o=o.substring(0,i-t)),n.push({type:e[r].type,value:o}),s=t+o.length,r+=1);s<i&&r<e.length;)(o=e[r].value).length+s>i?n.push({type:e[r].type,value:o.substring(0,i-s)}):n.push(e[r]),s+=o.length,r+=1;}(o,s,r));},t.end.row,this.session.getLine(t.end.row).length),n},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){};}).call(n.prototype),t.Text=n;}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,i){function n(e){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this);}var o=e("../lib/dom");(function(){this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)o.setStyle(t[i].style,"opacity",e?"":"0");},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){o.addCssClass(this.element,"ace_animate-blinking");}.bind(this));},this.$stopCssAnimation=function(){o.removeCssClass(this.element,"ace_animate-blinking");},this.$padding=0,this.setPadding=function(e){this.$padding=e;},this.setSession=function(e){this.session=e;},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer());},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer());},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,o.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer());},this.addCursor=function(){var e=o.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(1<this.cursors.length){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer();},this.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer();},this.restartTimer=function(){var e,t=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&o.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible?(this.smoothBlinking&&setTimeout(function(){o.addCssClass(this.element,"ace_smooth-blinking");}.bind(this)),o.HAS_CSS_ANIMATION?this.$startCssAnimation():(e=function(){this.timeoutId=setTimeout(function(){t(!1);},.6*this.blinkInterval);}.bind(this),this.intervalId=setInterval(function(){t(!0),e();},this.blinkInterval),e())):this.$stopCssAnimation();},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return {left:0,top:0};e=e||this.session.selection.getCursor();var i=this.session.documentToScreenPosition(e);return {left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return 0<=e.top&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,n=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);for(var i=0,r=t.length;i<r;i++){var s,a,l=this.getPixelPosition(t[i].cursor,!0);(l.top>e.height+e.offset||l.top<0)&&1<i||(a=(s=this.cursors[n++]||this.addCursor()).style,this.drawCursor?this.drawCursor(s,l,e,t[i],this.session):this.isCursorInView(l,e)?(o.setStyle(a,"display","block"),o.translate(s,l.left,l.top),o.setStyle(a,"width",Math.round(e.characterWidth)+"px"),o.setStyle(a,"height",e.lineHeight+"px")):o.setStyle(a,"display","none"));}for(;this.cursors.length>n;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=l,this.restartTimer();},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&((this.overwrite=e)?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"));},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId);};}).call(n.prototype),t.Cursor=n;}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,i){function n(e){this.element=a.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=a.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addListener(this.element,"scroll",this.onScroll.bind(this)),l.addListener(this.element,"mousedown",l.preventDefault);}function o(e,t){n.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=a.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0;}function r(e,t){n.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px";}var s=e("./lib/oop"),a=e("./lib/dom"),l=e("./lib/event"),c=e("./lib/event_emitter").EventEmitter;(function(){s.implement(this,c),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1;};}).call(n.prototype),s.inherits(o,n),function(){this.classSuffix="-v",this.onScroll=function(){var e;this.skipEvent||(this.scrollTop=this.element.scrollTop,1!=this.coeff&&(e=this.element.clientHeight/this.scrollHeight,this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)),this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1;},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px";},this.setInnerHeight=this.setScrollHeight=function(e){32768<(this.scrollHeight=e)?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px";},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff);};}.call(o.prototype),s.inherits(r,n),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1;},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px";},this.setInnerWidth=function(e){this.inner.style.width=e+"px";},this.setScrollWidth=function(e){this.inner.style.width=e+"px";},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e);};}.call(r.prototype),t.ScrollBar=o,t.ScrollBarV=o,t.ScrollBarH=r,t.VScrollBar=o,t.HScrollBar=r;}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,i){function n(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var i=this;this._flush=function(e){i.pending=!1;var t=i.changes;if(t&&(o.blockIdle(100),i.changes=0,i.onRender(t)),i.changes){if(i.$recursionLimit--<0)return;i.schedule();}else i.$recursionLimit=2;};}var o=e("./lib/event");(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(o.nextFrame(this._flush),this.pending=!0);},this.clear=function(e){var t=this.changes;return this.changes=0,t};}).call(n.prototype),t.RenderLoop=n;}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){var n=e("../lib/oop"),o=e("../lib/dom"),r=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c="function"==typeof ResizeObserver,d=t.FontMetrics=function(e){this.el=o.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=o.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=o.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=r.stringRepeat("X",256),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges();};(function(){n.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible";},this.checkForSizeChanges=function(e){var t;void 0===e&&(e=this.$measureSizes()),!e||this.$characterSize.width===e.width&&this.$characterSize.height===e.height||(this.$measureNode.style.fontWeight="bold",t=this.$measureSizes(),this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e}));},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver(function(t){e.checkForSizeChanges();}),this.$observer.observe(this.$measureNode);},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle(function t(){e.checkForSizeChanges(),s.onIdle(t,500);},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0);},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/256};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=r.stringRepeat(e,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el);},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){function e(e,t){return ["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]}this.els=o.buildDom([e(0,0),e(200,0),e(0,200),e(200,200)],this.el);},this.transformCoordinates=function(e,t){function i(e,t,i){var n=e[1]*t[0]-e[0]*t[1];return [(-t[1]*i[0]+t[0]*i[1])/n,(e[1]*i[0]-e[0]*i[1])/n]}function n(e,t){return [e[0]-t[0],e[1]-t[1]]}function o(e,t){return [e[0]+t[0],e[1]+t[1]]}function r(e,t){return [e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return [t.left,t.top]}e=e&&r(1/this.$getZoom(this.el),e),this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),d=s(this.els[3]),h=i(n(d,l),n(d,c),n(o(l,c),o(d,a))),u=r(1+h[0],n(l,a)),g=r(1+h[1],n(c,a));if(t){return o(r(1/(h[0]*t[0]/200+h[1]*t[1]/200+1)/200,o(r(t[0],u),r(t[1],g))),a)}var p=n(e,a);return r(200,i(n(u,r(h[0],p)),n(g,r(h[1],p)),p))};}).call(d.prototype);}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(e,t,i){function n(e,t){var i=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var n=this.$textLayer=new c(this.content);this.canvas=n.element,this.$markerFront=new l(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top);}),this.scrollBarH.on("scroll",function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left);}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e);}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!C.isIOS,this.$loop=new g(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._signal("renderer",this);}var o=e("./lib/oop"),r=e("./lib/dom"),s=e("./config"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,d=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,u=e("./scrollbar").VScrollBar,g=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,f='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',C=e("./lib/useragent"),I=C.isIE;r.importCssString(f,"ace_editor.css"),function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,o.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px");},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=e)&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode));},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow;}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES);},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize();},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT);},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL);},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges();},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize();},this.onResize=function(e,t,i,n){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=e?1:0;var o=this.container;n=n||o.clientHeight||o.scrollHeight,i=i||o.clientWidth||o.scrollWidth;var r=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(r|this.$changes,!0):this.$loop.schedule(r|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null;}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var o,s=0,a=this.$size,l={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};return n&&(e||a.height!=n)&&(a.height=n,s|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),i&&(e||a.width!=i)&&(s|=this.CHANGE_SIZE,a.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),a.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px"),o=this.scrollBarV.getWidth()+"px",r.setStyle(this.scrollBarH.element.style,"right",o),r.setStyle(this.scroller.style,"right",o),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)),a.$dirty=!i||!n,s&&this._signal("resize",l),s},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig();},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e);},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e);},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e);},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e);},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e);},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e);},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e);},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){var e,t;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||((e=r.createElement("div")).className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)),(t=this.$printMarginEl.style).left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit());},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var e,t,i,n,o,s,a,l,c,d;this.$isMousePressed||(e=this.textarea.style,t=this.$composition,this.$keepTextAreaAtCursor||t?(i=this.$cursorLayer.$pixelPos)&&(t&&t.markerRange&&(i=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0)),n=this.layerConfig,o=i.top,s=i.left,o-=n.offset,a=t&&t.useTextareaForIME?this.lineHeight:I?0:1,o<0||o>n.height-a?r.translate(this.textarea,0,0):(d=1,l=this.$size.height-a,t?t.useTextareaForIME?(c=this.textarea.value,d=this.characterWidth*this.session.$getStringScreenWidth(c)[0]):o+=this.lineHeight+2:o+=this.lineHeight,(s-=this.scrollLeft)>this.$size.scrollerWidth-d&&(s=this.$size.scrollerWidth-d),s+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",d+"px"),r.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-d),Math.min(o,l)))):r.translate(this.textarea,-100,0));},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin();},this.setScrollMargin=function(e,t,i,n){var o=this.scrollMargin;o.top=0|e,o.bottom=0|t,o.right=0|n,o.left=0|i,o.v=o.top+o.bottom,o.h=o.left+o.right,o.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-o.top),this.updateFull();},this.setMargin=function(e,t,i,n){var o=this.margin;o.top=0|e,o.bottom=0|t,o.right=0|n,o.left=0|i,o.v=o.top+o.bottom,o.h=o.left+o.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull();},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e);},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e);},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top);},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left);},this.$frozen=!1,this.freeze=function(){this.$frozen=!0;},this.unfreeze=function(){this.$frozen=!1;},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i,n,o,s=this.layerConfig;if((e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL)&&(e|=this.$computeLayerConfig()|this.$loop.clear(),s.firstRow==this.layerConfig.firstRow||s.firstRowScreen!=this.layerConfig.firstRowScreen||0<(i=this.scrollTop+(s.firstRow-this.layerConfig.firstRow)*this.lineHeight)&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear()),s=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-s.offset),n=s.width+2*this.$padding+"px",o=s.minHeight+"px",r.setStyle(this.content.style,"width",n),r.setStyle(this.content.style,"height",o)),e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-s.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(s),this.$showGutter&&this.$gutterLayer.update(s),this.$markerBack.update(s),this.$markerFront.update(s),this.$cursorLayer.update(s),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(s):this.$textLayer.scrollLines(s),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(s):this.$gutterLayer.scrollLines(s)),this.$markerBack.update(s),this.$markerFront.update(s),this.$cursorLayer.update(s),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(s),this.$showGutter&&this.$gutterLayer.update(s)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(s):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(s):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(s),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(s),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(s),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(s),this._signal("afterRender",e);}else this.$changes|=e;},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n,o=!(i<=2*this.lineHeight)&&t<e;i==this.desiredHeight&&this.$size.height==this.desiredHeight&&o==this.$vScroll||(o!=this.$vScroll&&(this.$vScroll=o,this.scrollBarV.setVisible(o)),n=this.container.clientWidth,this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,n,i),this.desiredHeight=i,this._signal("autosize"));},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,o=this.$getLongestLine(),r=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),s=this.$horizScroll!==r;s&&(this.$horizScroll=r,this.scrollBarH.setVisible(r));var a=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=c;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,n-t.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+d.right)));var h=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+c<0||this.scrollTop>d.top),u=a!==h;u&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var g,p,m=this.scrollTop%this.lineHeight,f=Math.ceil(l/this.lineHeight)-1,C=(A=Math.max(0,Math.round((this.scrollTop-m)/this.lineHeight)))+f,I=this.lineHeight,A=e.screenToDocumentRow(A,0),b=e.getFoldLine(A);b&&(A=b.start.row),g=e.documentToScreenRow(A,0),p=e.getRowLength(A)*I,C=Math.min(e.screenToDocumentRow(C,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(C)*I+p,m=this.scrollTop-g*I;var v=0;return this.layerConfig.width==o&&!s||(v=this.CHANGE_H_SCROLL),(s||u)&&(v|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),u&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:A,firstRowScreen:g,lastRow:C,lineHeight:I,characterWidth:this.characterWidth,minHeight:l,maxHeight:n,offset:m,gutterOffset:I?Math.max(0,Math.ceil((m+t.height-t.scrollerHeight)/I)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(o-this.$padding),v},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT);},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK);},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t);},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t);},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER);},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER);},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR);},this.hideCursor=function(){this.$cursorLayer.hideCursor();},this.showCursor=function(){this.$cursorLayer.showCursor();},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i);},this.scrollCursorIntoView=function(e,t,i){var n,o,r,s,a,l,c;0!==this.$size.scrollerHeight&&(o=(n=this.$cursorLayer.getPixelPosition(e)).left,r=n.top,s=i&&i.top||0,a=i&&i.bottom||0,r<(l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop)+s?(t&&l+s>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),0===r&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):l+this.$size.scrollerHeight-a<r+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight+a-this.$size.scrollerHeight)),o<(c=this.scrollLeft)?(o<this.$padding+2*this.layerConfig.characterWidth&&(o=-this.scrollMargin.left),this.session.setScrollLeft(o)):c+this.$size.scrollerWidth<o+this.characterWidth?this.session.setScrollLeft(Math.round(o+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&o-c<this.characterWidth&&this.session.setScrollLeft(0));},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight);},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,o=i.top-n*(t||0);return this.session.setScrollTop(o),o},this.STEPS=8,this.$calcSteps=function(e,t){for(var i,n,o=0,r=this.STEPS,s=[],o=0;o<r;++o)s.push((i=o/this.STEPS,(t-(n=e))*(Math.pow(i-1,3)+1)+n));return s},this.scrollToLine=function(e,t,i,n){var o=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(o-=this.$size.scrollerHeight/2);var r=this.scrollTop;this.session.setScrollTop(o),!1!==i&&this.animateScrolling(r,n);},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(e=o[0])==i)return}var r=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:r},clearInterval(this.$timer),n.session.setScrollTop(r.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){return n.session?void(r.length?(n.session.setScrollTop(r.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())):clearInterval(n.$timer)},10);}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e);},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL);},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t);},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e);},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<t&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<e&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var i,n;this.$hasCssTransforms?(i={top:0,left:0},e=(n=this.$fontMetrics.transformCoordinates([e,t]))[1]-this.gutterWidth-this.margin.left,t=n[0]):i=this.scroller.getBoundingClientRect();var o=e+this.scrollLeft-i.left-this.$padding,r=o/this.characterWidth,s=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),a=this.$blockCursor?Math.floor(r):Math.round(r);return {row:s,column:a,side:0<r-a?1:-1,offsetX:o}},this.screenToTextCoordinates=function(e,t){var i,n;this.$hasCssTransforms?(i={top:0,left:0},e=(n=this.$fontMetrics.transformCoordinates([e,t]))[1]-this.gutterWidth-this.margin.left,t=n[0]):i=this.scroller.getBoundingClientRect();var o=e+this.scrollLeft-i.left-this.$padding,r=o/this.characterWidth,s=this.$blockCursor?Math.floor(r):Math.round(r),a=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),o)},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),o=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth)),r=n.row*this.lineHeight;return {pageX:i.left+o-this.scrollLeft,pageY:i.top+r-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus");},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus");},this.showComposition=function(e){(this.$composition=e).cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text");},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor();},this.hideComposition=function(){var e;this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,e=this.session.selection.cursor,this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display="");},this.addToken=function(e,t,i,n){var o=this.session;o.bgTokenizer.lines[i]=null;var r={type:t,value:e},s=o.getTokens(i);if(null==n)s.push(r);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(n<=(a+=c.value.length)){var d=c.value.length-(a-n),h=c.value.slice(0,d),u=c.value.slice(d);s.splice(l,1,{type:c.type,value:h},r,{type:c.type,value:u});break}}this.updateLines(i,i);},this.removeExtraToken=function(e,t){this.updateLines(e,e);},this.setTheme=function(e,t){function i(i){if(o.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(o.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,o.container),o.theme&&r.removeCssClass(o.container,o.theme.cssClass);var n="padding"in i?i.padding:"padding"in(o.theme||{})?4:o.$padding;o.$padding&&n!=o.$padding&&o.setPadding(n),o.$theme=i.cssClass,o.theme=i,r.addCssClass(o.container,i.cssClass),r.setCssClass(o.container,"ace_dark",i.isDark),o.$size&&(o.$size.width=0,o.$updateSizeAsync()),o._dispatchEvent("themeLoaded",{theme:i}),t&&t();}var n,o=this;this.$themeId=e,o._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e?i(e):(n=e||this.$options.theme.initialValue,s.loadModule(["theme",n],i));},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t);},this.unsetStyle=function(e){r.removeCssClass(this.container,e);},this.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e);},this.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e);},this.attachToShadowRoot=function(){r.importCssString(f,"ace_editor.css",this.container);},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="";};}.call(n.prototype),s.defineOptions(n.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT);},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin();},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin();},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin();},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize();},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e);},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER);},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT);},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER);},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL);},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL);},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize();},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize();}},maxLines:{set:function(e){this.updateFull();}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull();}},maxPixelHeight:{set:function(e){this.updateFull();},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL));},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER);}},theme:{set:function(e){this.setTheme(e);},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!C.isMobile&&!C.isIE}}),t.VirtualRenderer=n;}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,i){function n(e){if("undefined"==typeof Worker)return {postMessage:function(){},terminate:function(){}};if(l.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+s.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(t),i.getBlob("application/javascript")}}(e),i=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(i)}return new Worker(e)}function o(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage;}var r=e("../lib/oop"),s=e("../lib/net"),a=e("../lib/event_emitter").EventEmitter,l=e("../config");(function(){r.implement(this,a),this.$createWorkerFromOldConfig=function(t,i,o,r,s){var a,c;return e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),l.get("packaged")||!e.toUrl?r=r||l.moduleUrl(i,"worker"):(a=this.$normalizePath,r=r||a(e.toUrl("ace/worker/worker.js",null,"_")),c={},t.forEach(function(t){c[t]=a(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""));})),this.$worker=n(r),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:c,module:i,classname:o}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data);}},this.reportError=function(e){window.console&&console.error&&console.error(e);},this.$normalizePath=function(e){return s.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null;},this.send=function(e,t){this.$worker.postMessage({command:e,args:t});},this.call=function(e,t,i){var n;i&&(n=this.callbackId++,this.callbacks[n]=i,t.push(n)),this.send(e,t);},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}});}catch(e){console.error(e.stack);}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener);},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end);},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,50<e.length&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}));};}).call(o.prototype),t.UIWorkerClient=function(e,t,i){var n=null,r=!1,s=Object.create(a),c=[],d=new o({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),n&&(r?setTimeout(h):h());}});d.setEmitSync=function(e){r=e;};var h=function(){var e=c.shift();e.command?n[e.command].apply(n,e.args):e.event&&s._signal(e.event,e.data);};return s.postMessage=function(e){d.onMessage({data:e});},s.callback=function(e,t){this.postMessage({type:"call",id:t,data:e});},s.emit=function(e,t){this.postMessage({type:"event",name:e,data:t});},l.loadModule(["worker",t],function(e){for(n=new e[i](s);c.length;)h();}),d},t.WorkerClient=o,t.createWorker=n;}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,i){function n(e,t,i,n,o,r){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=o,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange();});},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange);}var o=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop");(function(){s.implement(this,r),this.setup=function(){var e=this,t=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=i.addMarker(new o(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(i){var n=t.createAnchor(i.row,i.column);n.$insertRight=!0,n.detach(),e.others.push(n);}),i.setUndoSelect(!1);},this.showOtherMarkers=function(){var e,t;this.othersActive||(e=this.session,(t=this).othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new o(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1);}));},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId);}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,r=t.start.column-this.pos.column;if(this.updateAnchors(e),n&&(this.length+=i),n&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;0<=s;s--){var a={row:(l=this.others[s]).row,column:l.column+r};this.doc.insertMergedLines(a,e.lines);}else if("remove"===e.action)for(s=this.others.length-1;0<=s;s--){var l,a={row:(l=this.others[s]).row,column:l.column+r};this.doc.remove(new o(a.row,a.column,a.row,a.column-i));}this.$updating=!1,this.updateMarkers();}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers();},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,i=function(i,n){t.removeMarker(i.markerId),i.markerId=t.addMarker(new o(i.row,i.column,i.row,i.column+e.length),n,null,!1);};i(this.pos,this.mainClass);for(var n=this.others.length;n--;)i(this.others[n],this.othersClass);}},this.onCursorChange=function(e){var t;!this.$updating&&this.session&&((t=this.session.selection.getCursor()).row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e)));},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null;},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore);}};}).call(n.prototype),t.PlaceHolder=n;}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){function n(e,t){return e.row==t.row&&e.column==t.column}var o=e("../lib/event"),r=e("../lib/useragent");t.onMouseDown=function(e){function t(){var e=p.renderer.pixelToScreenCoordinates(b,v),t=y.screenToDocumentPosition(e.row,e.column,e.offsetX);n(x,e)&&n(t,m.lead)||(x=e,p.selection.moveToPosition(t),p.renderer.scrollCursorIntoView(),p.removeSelectionMarkers(k),k=m.rectangularRangeBlock(x,w),p.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=p.$mouseHandler.$clickSelection.clone()),k.forEach(p.addSelectionMarker,p),p.updateSelectionMarkers());}var i=e.domEvent,s=i.altKey,a=i.shiftKey,l=i.ctrlKey,c=e.getAccelKey(),d=e.getButton();if(l&&r.isMac&&(d=i.button),e.editor.inMultiSelectMode&&2==d)e.editor.textInput.onContextMenu(e.domEvent);else if(l||s||c){if(0===d){var h,u,g,p=e.editor,m=p.selection,f=p.inMultiSelectMode,C=e.getDocumentPosition(),I=m.getCursor(),A=e.inSelection()||m.isEmpty()&&n(C,I),b=e.x,v=e.y,y=p.session,w=p.renderer.pixelToScreenCoordinates(b,v),x=w;if(p.$mouseHandler.$enableJumpToDef)l&&s||c&&s?h=a?"block":"add":s&&p.$blockSelectEnabled&&(h="block");else if(c&&!s){if(h="add",!f&&a)return}else s&&p.$blockSelectEnabled&&(h="block");if(h&&r.isMac&&i.ctrlKey&&p.$mouseHandler.cancelContextMenu(),"add"==h){if(!f&&A)return;f||(u=m.toOrientedRange(),p.addSelectionMarker(u));var S=m.rangeList.rangeAtPoint(C);p.inVirtualSelectionMode=!0,a&&(S=null,u=m.ranges[0]||u,p.removeSelectionMarker(u)),p.once("mouseup",function(){var e=m.toOrientedRange();S&&e.isEmpty()&&n(S.cursor,e.cursor)?m.substractPoint(e.cursor):(a?m.substractPoint(u.cursor):u&&(p.removeSelectionMarker(u),m.addRange(u)),m.addRange(e)),p.inVirtualSelectionMode=!1;});}else if("block"==h){e.stop(),p.inVirtualSelectionMode=!0;var k=[];f&&!c?m.toSingleRange():!f&&c&&(g=m.toOrientedRange(),p.addSelectionMarker(g)),a?w=y.documentToScreenPosition(m.lead):m.moveToPosition(C),x={row:-1,column:-1};var T=t;o.capture(p.container,function(e){b=e.clientX,v=e.clientY;},function(e){t(),clearInterval(M),p.removeSelectionMarkers(k),k.length||(k=[m.toOrientedRange()]),g&&(p.removeSelectionMarker(g),m.toSingleRange(g));for(var i=0;i<k.length;i++)m.addRange(k[i]);p.inVirtualSelectionMode=!1,p.$mouseHandler.$clickSelection=null;});var M=setInterval(function(){T();},20);return e.preventDefault()}}}else 0===d&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode();};}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1);},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1);},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0);},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0);},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1);},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1);},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0);},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0);},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){1<e.multiSelect.rangeCount?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines();},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines();},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors();},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll();},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode();},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands);}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,i){function n(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",a),e.commands.addCommands(d.defaultCommands),function(e){function t(t){n&&(e.renderer.setMouseCursor(""),n=!1);}if(e.textInput){var i=e.textInput.getElement(),n=!1;l.addListener(i,"keydown",function(i){var o=18==i.keyCode&&!(i.ctrlKey||i.shiftKey||i.metaKey);e.$blockSelectEnabled&&o?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&t();},e),l.addListener(i,"keyup",t,e),l.addListener(i,"blur",t,e);}}(e));}var o=e("./range_list").RangeList,r=e("./range").Range,s=e("./selection").Selection,a=e("./mouse/multi_select_handler").onMouseDown,l=e("./lib/event"),c=e("./lib/lang"),d=e("./commands/multi_select_commands");t.commands=d.defaultCommands.concat(d.multiSelectCommands);var h=new(e("./search").Search),u=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers};}).call(u.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i);}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e);},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e);},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e});},this.$onRemoveRange=function(e){var t;this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode&&(t=this.rangeList.ranges.pop(),e.push(t),this.rangeCount=0);for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1);}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t);},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0);},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],i=0;i<e.length;i++){var n=e[i],o=n.start.row,s=n.end.row;if(o===s)t.push(n.clone());else{for(t.push(new r(o,n.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new r(s,0,s,n.end.column));}0!=i||this.isBackwards()||(t=t.reverse());}for(this.toSingleRange(),i=t.length;i--;)this.addRange(t[i]);},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],i=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start);},this.toggleBlockSelection=function(){var e,t,i,n,o;1<this.rangeCount?(t=(e=this.rangeList.ranges)[e.length-1],i=r.fromPoints(e[0].start,t.end),this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)):(n=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor),this.rectangularRangeBlock(n,o).forEach(this.addRange,this));},this.rectangularRangeBlock=function(e,t,i){var n,o,s,a,l=[],c=e.column<t.column;a=c?(n=e.column,o=t.column,s=e.offsetX,t.offsetX):(n=t.column,o=e.column,s=t.offsetX,e.offsetX);var d,h,u,g=e.row<t.row;h=g?(d=e.row,t.row):(d=t.row,e.row),n<0&&(n=0),d<0&&(d=0),d==h&&(i=!0);for(var p,m,f=d;f<=h;f++){var C=r.fromPoints(this.session.screenToDocumentPosition(f,n,s),this.session.screenToDocumentPosition(f,o,a));if(C.isEmpty()){if(u&&(p=C.end,m=u,p.row==m.row&&p.column==m.column))break;u=C.end;}C.cursor=c?C.start:C.end,l.push(C);}if(g&&l.reverse(),!i){for(var I=l.length-1;l[I].isEmpty()&&0<I;)I--;if(0<I)for(var A=0;l[A].isEmpty();)A++;for(var b=I;A<=b;b--)l[b].isEmpty()&&l.splice(b,1);}return l};}.call(s.prototype);var g=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers();},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){var t;e.marker&&(this.session.removeMarker(e.marker),-1!=(t=this.session.$selectionMarkers.indexOf(e))&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length);},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n,o=e[i];o.marker&&(this.session.removeMarker(o.marker),-1!=(n=t.indexOf(o))&&t.splice(n,1));}this.session.selectionMarkerCount=t.length;},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers();},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers();},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(d.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers());},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(d.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"));},this.$onMultiSelectExec=function(e){var t,i=e.command,n=e.editor;if(n.multiSelect)return i.multiSelectAction?t="forEach"==i.multiSelectAction?n.forEachSelection(i,e.args):"forEachLine"==i.multiSelectAction?n.forEachSelection(i,e.args,!0):"single"==i.multiSelectAction?(n.exitMultiSelectMode(),i.exec(n,e.args||{})):i.multiSelectAction(n,e.args||{}):(t=i.exec(n,e.args||{}),n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()),t},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,o=i&&i.keepOrder,r=1==i||i&&i.$byLines,a=this.session,l=this.selection,c=l.rangeList,d=(o?l:c).ranges;if(!d.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=l._eventRegistry;l._eventRegistry={};var u=new s(a);this.inVirtualSelectionMode=!0;for(var g=d.length;g--;){if(r)for(;0<g&&d[g].start.row==d[g-1].end.row;)g--;u.fromOrientedRange(d[g]),u.index=g,this.selection=a.selection=u;var p=e.exec?e.exec(this,t||{}):e(this,t||{});n||void 0===p||(n=p),u.toOrientedRange(d[g]);}u.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange();},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var o=this.session.getDocument().getNewLineCharacter();(e=i.join(o)).length==(i.length-1)*o.length&&(e="");}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;n.row!=t.row||this.session.$clipPositionToDocument(n.row,n.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges();}},this.findAll=function(e,t,i){var n;(t=t||{}).needle=e||t.needle,null==t.needle&&(n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),t.needle=this.session.getTextRange(n)),this.$search.set(t);var o=this.$search.findAll(this.session);if(!o.length)return 0;var r=this.multiSelect;i||r.toSingleRange(o[0]);for(var s=o.length;s--;)r.addRange(o[s],!0);return n&&r.rangeList.rangeAtPoint(n.start)&&r.addRange(n,!0),o.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,o=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a,l,c,d=this.session.screenToDocumentPosition(o.row+e,o.column);a=i.isEmpty()?d:(s=this.session.documentToScreenPosition(n?i.end:i.start),this.session.screenToDocumentPosition(s.row+e,s.column)),n?(l=r.fromPoints(d,a)).cursor=l.start:(l=r.fromPoints(a,d)).cursor=l.end,l.desiredColumn=o.column,this.selection.inMultiSelectMode?t&&(c=i.cursor):this.selection.addRange(i),this.selection.addRange(l),c&&this.selection.substractPoint(c);},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,o=n.length;o--;)(s=n[o]).isEmpty()&&(a=t.getWordRange(s.start.row,s.start.column),s.start.row=a.start.row,s.start.column=a.start.column,s.end.row=a.end.row,s.end.column=a.end.column);i.mergeOverlappingRanges();for(var r=[],o=n.length;o--;){var s=n[o];r.unshift(t.getTextRange(s));}for(e<0?r.unshift(r.pop()):r.push(r.shift()),o=n.length;o--;){var a=(s=n[o]).clone();t.replace(s,r[o]),s.start.row=a.start.row,s.start.column=a.start.column;}i.fromOrientedRange(i.ranges[0]);},this.selectMore=function(e,t,i){var n,o,r,s,a,l=this.session,c=l.multiSelect.toOrientedRange();c.isEmpty()&&((c=l.getWordRange(c.start.row,c.start.column)).cursor=-1==e?c.start:c.end,this.multiSelect.addRange(c),i)||(n=l.getTextRange(c),r=l,s=n,a=e,h.$options.wrap=!0,h.$options.needle=s,h.$options.backwards=-1==a,(o=h.find(r))&&(o.cursor=-1==e?o.start:o.end,this.session.unfold(o),this.multiSelect.addRange(o),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(c.cursor));},this.alignCursors=function(){var e=this.session,t=e.multiSelect,i=t.ranges,n=-1,o=i.filter(function(e){return e.cursor.row==n||void(n=e.cursor.row)});if(i.length&&o.length!=i.length-1){o.forEach(function(e){t.substractPoint(e.cursor);});var s=0,a=1/0,l=i.map(function(t){var i=t.cursor,n=e.getLine(i.row).substr(i.column).search(/\S/g);return -1==n&&(n=0),i.column>s&&(s=i.column),n<a&&(a=n),n});i.forEach(function(t,i){var n=t.cursor,o=s-n.column,d=l[i]-a;d<o?e.insert(n,c.stringRepeat(" ",o-d)):e.remove(new r(n.row,n.column,n.row,n.column-o+d)),t.start.column=t.end.column=s,t.start.row=t.end.row=n.row,t.cursor=t.end;}),t.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers();}else{var d=this.selection.getRange(),h=d.start.row,u=d.end.row,g=h==u;if(g){for(var p,m=this.session.getLength();p=this.session.getLine(u),/[=:]/.test(p)&&++u<m;);for(;p=this.session.getLine(h),/[=:]/.test(p)&&0<--h;);h<0&&(h=0),m<=u&&(u=m-1);}var f=this.session.removeFullLines(h,u),f=this.$reAlignText(f,g);this.session.insert({row:h,column:0},f.join("\n")+"\n"),g||(d.start.column=0,d.end.column=f[f.length-1].length),this.selection.setRange(d);}},this.$reAlignText=function(e,t){function i(e){return c.stringRepeat(" ",e)}function n(e){return e[2]?i(o)+e[2]+i(r-e[2].length+s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var o,r,s,a=!0,l=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?(null==o?(o=t[1].length,r=t[2].length,s=t[3].length):(o+r+s!=t[1].length+t[2].length+t[3].length&&(l=!1),o!=t[1].length&&(a=!1),o>t[1].length&&(o=t[1].length),r<t[2].length&&(r=t[2].length),s>t[3].length&&(s=t[3].length)),t):[e]}).map(t?n:a?l?function(e){return e[2]?i(o+r-e[2].length)+e[2]+i(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:n:function(e){return e[2]?i(o)+e[2]+i(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})};}).call(g.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect());},t.MultiSelect=n,e("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(e){n(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",a)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",a));},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e;},value:!0}});}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,i){var n=e("../../range").Range,o=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var o=/\S/,r=e.getLine(t),s=r.search(o);if(-1!=s){for(var a=i||r.length,l=e.getLength(),c=t,d=t;++t<l;){var h=e.getLine(t).search(o);if(-1!=h){if(h<=s){var u=e.getTokenAt(t,0);if(!u||"string"!==u.type)break}d=t;}}if(c<d){var g=e.getLine(d).length;return new n(c,a,d,g)}}},this.openingBracketBlock=function(e,t,i,o,r){var s={row:i,column:o+1},a=e.$findClosingBracket(t,s,r);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,i,o,r){var s={row:i,column:o},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,n.fromPoints(a,s)};}).call(o.prototype);}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,i){t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass);}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(e,t,i){function n(e){this.session=e,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor);}var o=e("./lib/dom");(function(){this.getRowLength=function(e){var t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount);}),e},this.$onChangeEditor=function(e){this.attach(e.editor);},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),(this.editor=e)&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)));},this.detach=function(e){var t,i=this.editor;i&&(this.editor=null,i.widgetManager=null,i.renderer.off("beforeRender",this.measureWidgets),i.renderer.off("afterRender",this.renderWidgets),(t=this.session.lineWidgets)&&t.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el));}));},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var n=e.data,o=n.start.row,r=n.end.row,s="add"==e.action,a=o+1;a<r;a++)i[a]&&(i[a].hidden=s);i[r]&&(s?i[o]?i[r].hidden=s:i[o]=i[r]:(i[o]==i[r]&&(i[o]=void 0),i[r].hidden=s));}},this.updateOnChange=function(e){var t,i,n,o,r=this.session.lineWidgets;r&&(t=e.start.row,0==(i=e.end.row-t)||("remove"==e.action?(n=r.splice(t+1,i),!r[t]&&n[n.length-1]&&(r[t]=n.pop()),n.forEach(function(e){e&&this.removeLineWidget(e);},this)):(o=new Array(i),r[t]&&null!=r[t].column&&e.start.column>r[t].column&&t++,o.unshift(t,0),r.splice.apply(r,o)),this.$updateRows()));},this.$updateRows=function(){var e,t=this.session.lineWidgets;t&&(e=!0,t.forEach(function(t,i){if(t)for(e=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget;}),e&&(this.session.lineWidgets=null));},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t).el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1),this.session.lineWidgets[e.row]=e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=o.createElement("div"),e.el.innerHTML=e.html),e.el&&(o.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var i,n=this.session.getFoldAt(e.row,0);return (e.$fold=n)&&(i=this.session.lineWidgets,e.row!=n.end.row||i[n.start.row]?e.hidden=!0:i[n.start.row]=e),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy();}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget;}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows();},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,i=t&&t[e],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull();},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var o=1/0,r=0;r<i.length;r++){var s=i[r];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el);}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/n.characterWidth));var a=s.h/n.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<o&&(o=s.row));}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[];}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var o=Math.min(this.firstRow,i.firstRow),r=Math.max(this.lastRow,i.lastRow,n.length);0<o&&!n[o];)o--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var s=o;s<=r;s++){var a,l,c=n[s];c&&c.el&&(c.hidden?c.el.style.top=-100-(c.pixelHeight||0)+"px":(c._inDocument||(c._inDocument=!0,t.container.appendChild(c.el)),a=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top,c.coverLine||(a+=i.lineHeight*this.session.getRowLineCount(c.row)),c.el.style.top=a-i.offset+"px",l=c.coverGutter?0:t.gutterWidth,c.fixedWidth||(l-=t.scrollLeft),c.el.style.left=l+"px",c.fullWidth&&c.screenWidth&&(c.el.style.minWidth=i.width+2*i.padding+"px"),c.fixedWidth?c.el.style.right=t.scrollBar.getWidth()+"px":c.el.style.right=""));}}};}).call(n.prototype),t.LineWidgets=n;}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,i){function n(e,t,i){var n=e.getAnnotations().sort(s.comparePoints);if(n.length){var o=function(e,t,i){for(var n=0,o=e.length-1;n<=o;){var r=n+o>>1,s=i(t,e[r]);if(0<s)n=1+r;else{if(!(s<0))return r;o=r-1;}}return -(n+1)}(n,{row:t,column:-1},s.comparePoints);o<0&&(o=-o-1),o>=n.length?o=0<i?0:n.length-1:0===o&&i<0&&(o=n.length-1);var r=n[o];if(r&&i){if(r.row===t){for(;(r=n[o+=i])&&r.row===t;);if(!r)return n.slice()}var a=[];for(t=r.row;a[i<0?"unshift":"push"](r),(r=n[o+=i])&&r.row==t;);return a.length&&a}}}var o=e("../line_widgets").LineWidgets,r=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){function i(e,t,i){if(0===t&&("esc"===i||"return"===i))return g.destroy(),{command:"null"}}var s=e.session;s.widgetManager||(s.widgetManager=new o(s),s.widgetManager.attach(e));var a=e.getCursorPosition(),l=a.row,c=s.widgetManager.getWidgetsAtRow(l).filter(function(e){return "errorMarker"==e.type})[0];c?c.destroy():l-=t;var d,h=n(s,l,t);if(h){var u=h[0];a.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,a.row=u.row,d=e.renderer.$gutterLayer.$annotations[a.row];}else{if(c)return;d={text:["Looks good!"],className:"ace_ok"};}e.session.unfold(a.row),e.selection.moveToPosition(a);var g={row:a.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},p=g.el.appendChild(r.createElement("div")),m=g.el.appendChild(r.createElement("div"));m.className="error_widget_arrow "+d.className;var f=e.renderer.$cursorLayer.getPixelPosition(a).left;m.style.left=f+e.renderer.gutterWidth-5+"px",g.el.className="error_widget_wrapper",p.className="error_widget "+d.className,p.innerHTML=d.text.join("<br>"),p.appendChild(r.createElement("div")),g.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(i),s.widgetManager.removeLineWidget(g),e.off("changeSelection",g.destroy),e.off("changeSession",g.destroy),e.off("mouseup",g.destroy),e.off("change",g.destroy));},e.keyBinding.addKeyboardHandler(i),e.on("changeSelection",g.destroy),e.on("changeSession",g.destroy),e.on("mouseup",g.destroy),e.on("change",g.destroy),e.session.widgetManager.addLineWidget(g),g.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:g.el.offsetHeight});},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","");}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,n){e("./lib/fixoldbrowsers");var o=e("./lib/dom"),r=e("./lib/event"),s=e("./range").Range,a=e("./editor").Editor,l=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,d=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=i(23),t.edit=function(e,i){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var s,l="";e&&/input|textarea/i.test(e.tagName)?(l=(s=e).value,e=o.createElement("pre"),s.parentNode.replaceChild(e,s)):e&&(l=e.textContent,e.innerHTML="");var c=t.createEditSession(l),h=new a(new d(e),c,i),u={document:c,editor:h,onResize:h.resize.bind(h,null)};return s&&(u.textarea=s),r.addListener(window,"resize",u.onResize),h.on("destroy",function(){r.removeListener(window,"resize",u.onResize),u.editor.container.env=null;}),h.container.env=h.env=u,h},t.createEditSession=function(e,t){var i=new l(e,t);return i.setUndoManager(new c),i},t.Range=s,t.Editor=a,t.EditSession=l,t.UndoManager=c,t.VirtualRenderer=d,t.version=t.config.version;}),ace.require(["ace/ace"],function(t){for(var i in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(i)&&(window.ace[i]=t[i]);window.ace.default=window.ace,e&&(e.exports=window.ace);});}).call(this,i(16)(e));},function(e,t,i){(function(e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){function n(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]};}var o=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules;o.inherits(n,r),t.JsonHighlightRules=n;}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){function n(){}var o=e("../range").Range;(function(){this.checkOutdent=function(e,t){return !!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t).match(/^(\s*\})/);if(!i)return 0;var n=i[1].length,r=e.findMatchingBracket({row:t,column:n});if(!r||r.row==t)return 0;var s=this.$getIndent(e.getLine(r.row));e.replace(new o(t,0,t,n-1),s);},this.$getIndent=function(e){return e.match(/^\s*/)[0]};}).call(n.prototype),t.MatchingBraceOutdent=n;}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){var n=e("../../lib/oop"),o=e("../../range").Range,r=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)));};n.inherits(s,r),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return "";var o=this._getFoldWidgetBase(e,t,i);return !o&&this.startRegionRe.test(n)?"start":o},this.getFoldWidgetRange=function(e,t,i,n){var o=e.getLine(i);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,i);var r=o.match(this.foldingStartMarker);if(r){var s=r.index;if(r[1])return this.openingBracketBlock(e,r[1],i,s);var a=e.getCommentFoldRange(i,s+r[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}return "markbegin"!==t&&(r=o.match(this.foldingStopMarker))?(s=r.index+r[0].length,r[1]?this.closingBracketBlock(e,r[1],i,s):e.getCommentFoldRange(i,s,-1)):void 0},this.getSectionRange=function(e,t){for(var i=e.getLine(t),n=i.search(/\S/),r=t,s=i.length,a=t+=1,l=e.getLength();++t<l;){var c=(i=e.getLine(t)).search(/\S/);if(-1!==c){if(c<n)break;var d=this.getFoldWidgetRange(e,"all",t);if(d){if(d.start.row<=r)break;if(d.isMultiLine())t=d.end.row;else if(n==c)break}a=t;}}return new o(r,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,i){for(var n=t.search(/\s*$/),r=e.getLength(),s=i,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++i<r;){t=e.getLine(i);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(s<i)return new o(s,n,i,t.length)};}.call(s.prototype);}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,i){function n(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c;}var o=e("../lib/oop"),r=e("./text").Mode,s=e("./json_highlight_rules").JsonHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,d=e("../worker/worker_client").WorkerClient;o.inherits(n,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t);return "start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(n+=i),n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i);},this.createWorker=function(e){var t=new d(["ace"],"ace/mode/json_worker","JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data);}),t.on("terminate",function(){e.clearAnnotations();}),t},this.$id="ace/mode/json";}.call(n.prototype),t.Mode=n;}),ace.require(["ace/mode/json"],function(t){e&&(e.exports=t);});}).call(this,i(16)(e));},function(e,t,i){(function(e){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,i){function n(e,t,i){var n=o.createElement("div");o.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"​"],["span",{action:"findNext",class:"ace_searchbtn next"},"​"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],n),this.element=n.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e),o.importCssString(a,"ace_searchbox",e.container);}var o=e("../lib/dom"),r=e("../lib/lang"),s=e("../lib/event"),a='.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',l=e("../keyboard/hash_handler").HashHandler,c=e("../lib/keys");o.importCssString(a,"ace_searchbox"),function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e;},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0);},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOption=e.querySelector("[action=searchInSelection]"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=e.querySelector(".ace_search_counter");},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;s.addListener(e,"mousedown",function(e){setTimeout(function(){t.activeInput.focus();},0),s.stopPropagation(e);}),s.addListener(e,"click",function(e){var i=(e.target||e.srcElement).getAttribute("action");i&&t[i]?t[i]():t.$searchBarKb.commands[i]&&t.$searchBarKb.commands[i].exec(t),s.stopPropagation(e);}),s.addCommandKeyListener(e,function(e,i,n){var o=c.keyCodeToString(n),r=t.$searchBarKb.findKeyCommand(i,o);r&&r.exec&&(r.exec(t),s.stopEvent(e));}),this.$onChange=r.delayedCall(function(){t.find(!1,!1);}),s.addListener(this.searchInput,"input",function(){t.$onChange.schedule(20);}),s.addListener(this.searchInput,"focus",function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight();}),s.addListener(this.replaceInput,"focus",function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight();});},this.$closeSearchBarKb=new l([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide();}}]),this.$searchBarKb=new l,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus();},"Ctrl-H|Command-Option-F":function(e){e.editor.getReadOnly()||(e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus());},"Ctrl-G|Command-G":function(e){e.findNext();},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev();},esc:function(e){setTimeout(function(){e.hide();});},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext();},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev();},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll();},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus();}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions();}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions();}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions();}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions();}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions();}}]),this.setSearchRange=function(e){(this.searchRange=e)?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null);},this.$syncOptions=function(e){o.setCssClass(this.replaceOption,"checked",this.searchRange),o.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",o.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),o.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),o.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var t=this.editor.getReadOnly();this.replaceOption.style.display=t?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!t?"":"none",this.find(!1,!1,e);},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers();},this.find=function(e,t,i){var n=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:i,range:this.searchRange})&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",n),this.editor._emit("findSearchBox",{match:!n}),this.highlight(),this.updateCounter();},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,i=0,n=0;if(t){var o=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),r=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(r-=e.session.doc.positionToIndex(this.searchRange.start));for(var s,a=t.lastIndex=0;(s=t.exec(o))&&(i++,(a=s.index)<=r&&n++,!(999<i))&&(s[0]||(t.lastIndex=a+=1,!(a>=o.length))););}this.searchCounter.textContent=n+" of "+(999<i?"999+":i);},this.findNext=function(){this.find(!0,!1);},this.findPrev=function(){this.find(!0,!0);},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide();},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value);},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext());},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value);},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus();},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0);},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput};}.call(n.prototype),t.SearchBox=n,t.Search=function(e,t){(e.searchBox||new n(e)).show(e.session.getTextRange(),t);};}),ace.require(["ace/ext/searchbox"],function(t){e&&(e.exports=t);});}).call(this,i(16)(e));},function(e,t){e.exports="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyLmRhdGEsCiAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICBsaW5lOiBsaW5lLCAKICAgICAgICBjb2w6IGNvbCwKICAgICAgICBzdGFjazogZXJyLnN0YWNrCiAgICB9fSk7Cn07Cgp3aW5kb3cubm9ybWFsaXplTW9kdWxlID0gZnVuY3Rpb24ocGFyZW50SWQsIG1vZHVsZU5hbWUpIHsKICAgIC8vIG5vcm1hbGl6ZSBwbHVnaW4gcmVxdWlyZXMKICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoIiEiKSAhPT0gLTEpIHsKICAgICAgICB2YXIgY2h1bmtzID0gbW9kdWxlTmFtZS5zcGxpdCgiISIpOwogICAgICAgIHJldHVybiB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMF0pICsgIiEiICsgd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgY2h1bmtzWzFdKTsKICAgIH0KICAgIC8vIG5vcm1hbGl6ZSByZWxhdGl2ZSByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuY2hhckF0KDApID09ICIuIikgewogICAgICAgIHZhciBiYXNlID0gcGFyZW50SWQuc3BsaXQoIi8iKS5zbGljZSgwLCAtMSkuam9pbigiLyIpOwogICAgICAgIG1vZHVsZU5hbWUgPSAoYmFzZSA/IGJhc2UgKyAiLyIgOiAiIikgKyBtb2R1bGVOYW1lOwogICAgICAgIAogICAgICAgIHdoaWxlIChtb2R1bGVOYW1lLmluZGV4T2YoIi4iKSAhPT0gLTEgJiYgcHJldmlvdXMgIT0gbW9kdWxlTmFtZSkgewogICAgICAgICAgICB2YXIgcHJldmlvdXMgPSBtb2R1bGVOYW1lOwogICAgICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9eXC5cLy8sICIiKS5yZXBsYWNlKC9cL1wuXC8vLCAiLyIpLnJlcGxhY2UoL1teXC9dK1wvXC5cLlwvLywgIiIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIG1vZHVsZU5hbWU7Cn07Cgp3aW5kb3cucmVxdWlyZSA9IGZ1bmN0aW9uIHJlcXVpcmUocGFyZW50SWQsIGlkKSB7CiAgICBpZiAoIWlkKSB7CiAgICAgICAgaWQgPSBwYXJlbnRJZDsKICAgICAgICBwYXJlbnRJZCA9IG51bGw7CiAgICB9CiAgICBpZiAoIWlkLmNoYXJBdCkKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIndvcmtlci5qcyByZXF1aXJlKCkgYWNjZXB0cyBvbmx5IChwYXJlbnRJZCwgaWQpIGFzIGFyZ3VtZW50cyIpOwoKICAgIGlkID0gd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgaWQpOwoKICAgIHZhciBtb2R1bGUgPSB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXTsKICAgIGlmIChtb2R1bGUpIHsKICAgICAgICBpZiAoIW1vZHVsZS5pbml0aWFsaXplZCkgewogICAgICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0czsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgfQogICAKICAgIGlmICghd2luZG93LnJlcXVpcmUudGxucykKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coInVuYWJsZSB0byBsb2FkICIgKyBpZCk7CiAgICAKICAgIHZhciBwYXRoID0gcmVzb2x2ZU1vZHVsZUlkKGlkLCB3aW5kb3cucmVxdWlyZS50bG5zKTsKICAgIGlmIChwYXRoLnNsaWNlKC0zKSAhPSAiLmpzIikgcGF0aCArPSAiLmpzIjsKICAgIAogICAgd2luZG93LnJlcXVpcmUuaWQgPSBpZDsKICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0ge307IC8vIHByZXZlbnQgaW5maW5pdGUgbG9vcCBvbiBicm9rZW4gbW9kdWxlcwogICAgaW1wb3J0U2NyaXB0cyhwYXRoKTsKICAgIHJldHVybiB3aW5kb3cucmVxdWlyZShwYXJlbnRJZCwgaWQpOwp9OwpmdW5jdGlvbiByZXNvbHZlTW9kdWxlSWQoaWQsIHBhdGhzKSB7CiAgICB2YXIgdGVzdFBhdGggPSBpZCwgdGFpbCA9ICIiOwogICAgd2hpbGUgKHRlc3RQYXRoKSB7CiAgICAgICAgdmFyIGFsaWFzID0gcGF0aHNbdGVzdFBhdGhdOwogICAgICAgIGlmICh0eXBlb2YgYWxpYXMgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV0dXJuIGFsaWFzICsgdGFpbDsKICAgICAgICB9IGVsc2UgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgIHJldHVybiAgYWxpYXMubG9jYXRpb24ucmVwbGFjZSgvXC8qJC8sICIvIikgKyAodGFpbCB8fCBhbGlhcy5tYWluIHx8IGFsaWFzLm5hbWUpOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICAgICAgdmFyIGkgPSB0ZXN0UGF0aC5sYXN0SW5kZXhPZigiLyIpOwogICAgICAgIGlmIChpID09PSAtMSkgYnJlYWs7CiAgICAgICAgdGFpbCA9IHRlc3RQYXRoLnN1YnN0cihpKSArIHRhaWw7CiAgICAgICAgdGVzdFBhdGggPSB0ZXN0UGF0aC5zbGljZSgwLCBpKTsKICAgIH0KICAgIHJldHVybiBpZDsKfQp3aW5kb3cucmVxdWlyZS5tb2R1bGVzID0ge307CndpbmRvdy5yZXF1aXJlLnRsbnMgPSB7fTsKCndpbmRvdy5kZWZpbmUgPSBmdW5jdGlvbihpZCwgZGVwcywgZmFjdG9yeSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICAgIGZhY3RvcnkgPSBkZXBzOwogICAgICAgIGlmICh0eXBlb2YgaWQgIT0gInN0cmluZyIpIHsKICAgICAgICAgICAgZGVwcyA9IGlkOwogICAgICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgICAgIH0KICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgZmFjdG9yeSA9IGlkOwogICAgICAgIGRlcHMgPSBbXTsKICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgfQogICAgCiAgICBpZiAodHlwZW9mIGZhY3RvcnkgIT0gImZ1bmN0aW9uIikgewogICAgICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0gewogICAgICAgICAgICBleHBvcnRzOiBmYWN0b3J5LAogICAgICAgICAgICBpbml0aWFsaXplZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghZGVwcy5sZW5ndGgpCiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGVwZW5kZW5jaWVzLCB3ZSBpbmplY3QgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kCiAgICAgICAgLy8gIm1vZHVsZSIgYXMgZGVwZW5kZW5jaWVzLCB0byBwcm92aWRlIENvbW1vbkpTIGNvbXBhdGliaWxpdHkuCiAgICAgICAgZGVwcyA9IFsicmVxdWlyZSIsICJleHBvcnRzIiwgIm1vZHVsZSJdOwoKICAgIHZhciByZXEgPSBmdW5jdGlvbihjaGlsZElkKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKGlkLCBjaGlsZElkKTsKICAgIH07CgogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgZXhwb3J0czoge30sCiAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGUgPSB0aGlzOwogICAgICAgICAgICB2YXIgcmV0dXJuRXhwb3J0cyA9IGZhY3RvcnkuYXBwbHkodGhpcywgZGVwcy5zbGljZSgwLCBmYWN0b3J5Lmxlbmd0aCkubWFwKGZ1bmN0aW9uKGRlcCkgewogICAgICAgICAgICAgICAgc3dpdGNoIChkZXApIHsKICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlICJyZXF1aXJlIiwgImV4cG9ydHMiIGFuZCAibW9kdWxlIiBhcmVuJ3QgYWN0dWFsCiAgICAgICAgICAgICAgICAgICAgLy8gZGVwZW5kZW5jaWVzLCB3ZSBtdXN0IGhhbmRsZSB0aGVtIHNlcGVyYXRlbHkuCiAgICAgICAgICAgICAgICAgICAgY2FzZSAicmVxdWlyZSI6IHJldHVybiByZXE7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZXhwb3J0cyI6IHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgICAgICAgICBjYXNlICJtb2R1bGUiOiAgcmV0dXJuIG1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAvLyBCdXQgZm9yIGFsbCBvdGhlciBkZXBlbmRlbmNpZXMsIHdlIGNhbiBqdXN0IGdvIGFoZWFkIGFuZAogICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgdGhlbS4KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICAgICAgcmV0dXJuIHJlcShkZXApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGlmIChyZXR1cm5FeHBvcnRzKQogICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByZXR1cm5FeHBvcnRzOwogICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgIH0KICAgIH07Cn07CndpbmRvdy5kZWZpbmUuYW1kID0ge307CnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHJlcXVpcmUudGxuc1tpXSA9IHRvcExldmVsTmFtZXNwYWNlc1tpXTsKfTsKCndpbmRvdy5pbml0U2VuZGVyID0gZnVuY3Rpb24gaW5pdFNlbmRlcigpIHsKCiAgICB2YXIgRXZlbnRFbWl0dGVyID0gd2luZG93LnJlcXVpcmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKICAgIHZhciBvb3AgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9vb3AiKTsKICAgIAogICAgdmFyIFNlbmRlciA9IGZ1bmN0aW9uKCkge307CiAgICAKICAgIChmdW5jdGlvbigpIHsKICAgICAgICAKICAgICAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICAgICAgICAgICAgICAKICAgICAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2tJZCkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiY2FsbCIsCiAgICAgICAgICAgICAgICBpZDogY2FsbGJhY2tJZCwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgIAogICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEpIHsKICAgICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImV2ZW50IiwKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgCiAgICB9KS5jYWxsKFNlbmRlci5wcm90b3R5cGUpOwogICAgCiAgICByZXR1cm4gbmV3IFNlbmRlcigpOwp9OwoKdmFyIG1haW4gPSB3aW5kb3cubWFpbiA9IG51bGw7CnZhciBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gbnVsbDsKCndpbmRvdy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7CiAgICB2YXIgbXNnID0gZS5kYXRhOwogICAgaWYgKG1zZy5ldmVudCAmJiBzZW5kZXIpIHsKICAgICAgICBzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsIG1zZy5kYXRhKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5jb21tYW5kKSB7CiAgICAgICAgaWYgKG1haW5bbXNnLmNvbW1hbmRdKQogICAgICAgICAgICBtYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLCBtc2cuYXJncyk7CiAgICAgICAgZWxzZSBpZiAod2luZG93W21zZy5jb21tYW5kXSkKICAgICAgICAgICAgd2luZG93W21zZy5jb21tYW5kXS5hcHBseSh3aW5kb3csIG1zZy5hcmdzKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21tYW5kOiIgKyBtc2cuY29tbWFuZCk7CiAgICB9CiAgICBlbHNlIGlmIChtc2cuaW5pdCkgewogICAgICAgIHdpbmRvdy5pbml0QmFzZVVybHMobXNnLnRsbnMpOwogICAgICAgIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSB3aW5kb3cuaW5pdFNlbmRlcigpOwogICAgICAgIHZhciBjbGF6eiA9IHJlcXVpcmUobXNnLm1vZHVsZSlbbXNnLmNsYXNzbmFtZV07CiAgICAgICAgbWFpbiA9IHdpbmRvdy5tYWluID0gbmV3IGNsYXp6KHNlbmRlcik7CiAgICB9Cn07Cn0pKHRoaXMpOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9vb3AiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKZXhwb3J0cy5pbmhlcml0cyA9IGZ1bmN0aW9uKGN0b3IsIHN1cGVyQ3RvcikgewogICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7CiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwgewogICAgICAgIGNvbnN0cnVjdG9yOiB7CiAgICAgICAgICAgIHZhbHVlOiBjdG9yLAogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICAgIH0KICAgIH0pOwp9OwoKZXhwb3J0cy5taXhpbiA9IGZ1bmN0aW9uKG9iaiwgbWl4aW4pIHsKICAgIGZvciAodmFyIGtleSBpbiBtaXhpbikgewogICAgICAgIG9ialtrZXldID0gbWl4aW5ba2V5XTsKICAgIH0KICAgIHJldHVybiBvYmo7Cn07CgpleHBvcnRzLmltcGxlbWVudCA9IGZ1bmN0aW9uKHByb3RvLCBtaXhpbikgewogICAgZXhwb3J0cy5taXhpbihwcm90bywgbWl4aW4pOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvcmFuZ2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwp2YXIgY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHsKICAgIHRoaXMuc3RhcnQgPSB7CiAgICAgICAgcm93OiBzdGFydFJvdywKICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uCiAgICB9OwoKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwoKKGZ1bmN0aW9uKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT09IHJhbmdlLnN0YXJ0LnJvdyAmJgogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPT09IHJhbmdlLmVuZC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPT09IHJhbmdlLnN0YXJ0LmNvbHVtbiAmJgogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPT09IHJhbmdlLmVuZC5jb2x1bW47CiAgICB9OwogICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAoIlJhbmdlOiBbIiArIHRoaXMuc3RhcnQucm93ICsgIi8iICsgdGhpcy5zdGFydC5jb2x1bW4gKwogICAgICAgICAgICAiXSAtPiBbIiArIHRoaXMuZW5kLnJvdyArICIvIiArIHRoaXMuZW5kLmNvbHVtbiArICJdIik7CiAgICB9OwoKICAgIHRoaXMuY29udGFpbnMgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDA7CiAgICB9OwogICAgdGhpcy5jb21wYXJlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHZhciBjbXAsCiAgICAgICAgICAgIGVuZCA9IHJhbmdlLmVuZCwKICAgICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydDsKCiAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKGVuZC5yb3csIGVuZC5jb2x1bW4pOwogICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pOwogICAgICAgICAgICBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAyOwogICAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgcmV0dXJuIC0yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbihwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuY29udGFpbnNSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDsKICAgIH07CiAgICB0aGlzLmludGVyc2VjdHMgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgdGhpcy5pc1N0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjsKICAgIH07CiAgICB0aGlzLnNldFN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IHJvdzsKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuc2V0RW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdzsKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gY29sdW1uOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmluc2lkZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgdGhpcy5pbnNpZGVFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICB0aGlzLmNvbXBhcmUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdykKICAgICAgICAgICAgcmV0dXJuIC0xOwoKICAgICAgICBpZiAocm93ID4gdGhpcy5lbmQucm93KQogICAgICAgICAgICByZXR1cm4gMTsKCiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CgogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdykKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTsKCiAgICAgICAgcmV0dXJuIDA7CiAgICB9OwogICAgdGhpcy5jb21wYXJlU3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmNvbXBhcmVJbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA+IGxhc3RSb3cpCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiBsYXN0Um93ICsgMSwgY29sdW1uOiAwfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHtyb3c6IGZpcnN0Um93LCBjb2x1bW46IDB9OwoKICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiBsYXN0Um93ICsgMSwgY29sdW1uOiAwfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiBmaXJzdFJvdywgY29sdW1uOiAwfTsKCiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIGNtcCA9IHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CgogICAgICAgIGlmIChjbXAgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKCiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CgogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0LnJvdyA9PT0gdGhpcy5lbmQucm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09PSB0aGlzLmVuZC5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuaXNNdWx0aUxpbmUgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ICE9PSB0aGlzLmVuZC5yb3cpOwogICAgfTsKICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy5lbmQuY29sdW1uID09IDApCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIE1hdGgubWF4KHRoaXMuc3RhcnQucm93LCB0aGlzLmVuZC5yb3ctMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uKSB7CiAgICAgICAgdmFyIHNjcmVlblBvc1N0YXJ0ID0gc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zdGFydCk7CiAgICAgICAgdmFyIHNjcmVlblBvc0VuZCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTsKCiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSgKICAgICAgICAgICAgc2NyZWVuUG9zU3RhcnQucm93LCBzY3JlZW5Qb3NTdGFydC5jb2x1bW4sCiAgICAgICAgICAgIHNjcmVlblBvc0VuZC5yb3csIHNjcmVlblBvc0VuZC5jb2x1bW4KICAgICAgICApOwogICAgfTsKICAgIHRoaXMubW92ZUJ5ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cgp9KS5jYWxsKFJhbmdlLnByb3RvdHlwZSk7ClJhbmdlLmZyb21Qb2ludHMgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7CgpSYW5nZS5jb21wYXJlUG9pbnRzID0gZnVuY3Rpb24ocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKCgpleHBvcnRzLlJhbmdlID0gUmFuZ2U7Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2FwcGx5X2RlbHRhIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmZ1bmN0aW9uIHRocm93RGVsdGFFcnJvcihkZWx0YSwgZXJyb3JUZXh0KXsKICAgIGNvbnNvbGUubG9nKCJJbnZhbGlkIERlbHRhOiIsIGRlbHRhKTsKICAgIHRocm93ICJJbnZhbGlkIERlbHRhOiAiICsgZXJyb3JUZXh0Owp9CgpmdW5jdGlvbiBwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIHBvc2l0aW9uKSB7CiAgICByZXR1cm4gcG9zaXRpb24ucm93ICAgID49IDAgJiYgcG9zaXRpb24ucm93ICAgIDwgIGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQoKZnVuY3Rpb24gdmFsaWRhdGVEZWx0YShkb2NMaW5lcywgZGVsdGEpIHsKICAgIGlmIChkZWx0YS5hY3Rpb24gIT0gImluc2VydCIgJiYgZGVsdGEuYWN0aW9uICE9ICJyZW1vdmUiKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmFjdGlvbiBtdXN0IGJlICdpbnNlcnQnIG9yICdyZW1vdmUnIik7CiAgICBpZiAoIShkZWx0YS5saW5lcyBpbnN0YW5jZW9mIEFycmF5KSkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5saW5lcyBtdXN0IGJlIGFuIEFycmF5Iik7CiAgICBpZiAoIWRlbHRhLnN0YXJ0IHx8ICFkZWx0YS5lbmQpCiAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CgpleHBvcnRzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbihkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIAogICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgIHZhciBzdGFydENvbHVtbiA9IGRlbHRhLnN0YXJ0LmNvbHVtbjsKICAgIHZhciBsaW5lID0gZG9jTGluZXNbcm93XSB8fCAiIjsKICAgIHN3aXRjaCAoZGVsdGEuYWN0aW9uKSB7CiAgICAgICAgY2FzZSAiaW5zZXJ0IjoKICAgICAgICAgICAgdmFyIGxpbmVzID0gZGVsdGEubGluZXM7CiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkZWx0YS5saW5lc1swXSArIGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW3JvdywgMV0uY29uY2F0KGRlbHRhLmxpbmVzKTsKICAgICAgICAgICAgICAgIGRvY0xpbmVzLnNwbGljZS5hcHBseShkb2NMaW5lcywgYXJncyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbcm93XTsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3JvdyArIGRlbHRhLmxpbmVzLmxlbmd0aCAtIDFdICs9IGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJyZW1vdmUiOgogICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gZGVsdGEuZW5kLmNvbHVtbjsKICAgICAgICAgICAgdmFyIGVuZFJvdyA9IGRlbHRhLmVuZC5yb3c7CiAgICAgICAgICAgIGlmIChyb3cgPT09IGVuZFJvdykgewogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGxpbmUuc3Vic3RyaW5nKGVuZENvbHVtbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UoCiAgICAgICAgICAgICAgICAgICAgcm93LCBlbmRSb3cgLSByb3cgKyAxLAogICAgICAgICAgICAgICAgICAgIGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW2VuZFJvd10uc3Vic3RyaW5nKGVuZENvbHVtbikKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBFdmVudEVtaXR0ZXIgPSB7fTsKdmFyIHN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkgeyB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7IH07CnZhciBwcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwoKRXZlbnRFbWl0dGVyLl9lbWl0ID0KRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBlKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8ICh0aGlzLl9ldmVudFJlZ2lzdHJ5ID0ge30pOwogICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CgogICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgIHZhciBkZWZhdWx0SGFuZGxlciA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMubGVuZ3RoICYmICFkZWZhdWx0SGFuZGxlcikKICAgICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgIGUgPSB7fTsKCiAgICBpZiAoIWUudHlwZSkKICAgICAgICBlLnR5cGUgPSBldmVudE5hbWU7CiAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uID0gc3RvcFByb3BhZ2F0aW9uOwogICAgaWYgKCFlLnByZXZlbnREZWZhdWx0KQogICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKCiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkKQogICAgICAgICAgICBicmVhazsKICAgIH0KICAgIAogICAgaWYgKGRlZmF1bHRIYW5kbGVyICYmICFlLmRlZmF1bHRQcmV2ZW50ZWQpCiAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwp9OwoKCkV2ZW50RW1pdHRlci5fc2lnbmFsID0gZnVuY3Rpb24oZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspCiAgICAgICAgbGlzdGVuZXJzW2ldKGUsIHRoaXMpOwp9OwoKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgX3NlbGYgPSB0aGlzOwogICAgdGhpcy5vbihldmVudE5hbWUsIGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCkgewogICAgICAgIF9zZWxmLm9mZihldmVudE5hbWUsIG5ld0NhbGxiYWNrKTsKICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfSk7CiAgICBpZiAoIWNhbGxiYWNrKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsKICAgICAgICAgICAgY2FsbGJhY2sgPSByZXNvbHZlOwogICAgICAgIH0pOwogICAgfQp9OwoKCkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgIHZhciBoYW5kbGVycyA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyczsKICAgIGlmICghaGFuZGxlcnMpCiAgICAgICAgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7X2Rpc2FibGVkXzoge319OwogICAgCiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSkgewogICAgICAgIHZhciBvbGQgPSBoYW5kbGVyc1tldmVudE5hbWVdOwogICAgICAgIHZhciBkaXNhYmxlZCA9IGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWRpc2FibGVkKQogICAgICAgICAgICBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV0gPSBkaXNhYmxlZCA9IFtdOwogICAgICAgIGRpc2FibGVkLnB1c2gob2xkKTsKICAgICAgICB2YXIgaSA9IGRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgIGlmIChpICE9IC0xKSAKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIHJldHVybjsKICAgIHZhciBkaXNhYmxlZCA9IGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTsKICAgIAogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0gPT0gY2FsbGJhY2spIHsKICAgICAgICBpZiAoZGlzYWJsZWQpCiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLCBkaXNhYmxlZC5wb3AoKSk7CiAgICB9IGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwoKRXZlbnRFbWl0dGVyLm9uID0KRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJpbmcpIHsKICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSBbXTsKCiAgICBpZiAobGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spID09IC0xKQogICAgICAgIGxpc3RlbmVyc1tjYXB0dXJpbmcgPyAidW5zaGlmdCIgOiAicHVzaCJdKGNhbGxiYWNrKTsKICAgIHJldHVybiBjYWxsYmFjazsKfTsKCkV2ZW50RW1pdHRlci5vZmYgPQpFdmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPQpFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CgogICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgaWYgKGluZGV4ICE9PSAtMSkKICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTsKfTsKCkV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKSB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0gdW5kZWZpbmVkOwogICAgaWYgKHRoaXMuX2V2ZW50UmVnaXN0cnkpIHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSA9IHVuZGVmaW5lZDsKICAgIGlmICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMpIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwoKZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hbmNob3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKCnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uKGRvYywgcm93LCBjb2x1bW4pIHsKICAgIHRoaXMuJG9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpOwogICAgdGhpcy5hdHRhY2goZG9jKTsKICAgIAogICAgaWYgKHR5cGVvZiBjb2x1bW4gPT0gInVuZGVmaW5lZCIpCiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3cucm93LCByb3cuY29sdW1uKTsKICAgIGVsc2UKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTsKfTsKCihmdW5jdGlvbigpIHsKCiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csIHRoaXMuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmdldERvY3VtZW50ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkgewogICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyAmJiBkZWx0YS5zdGFydC5yb3cgIT0gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgIHZhciBwb2ludCA9ICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLCB7cm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbn0sIHRoaXMuJGluc2VydFJpZ2h0KTsKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHBvaW50LnJvdywgcG9pbnQuY29sdW1uLCB0cnVlKTsKICAgIH07CiAgICAKICAgIGZ1bmN0aW9uICRwb2ludHNJbk9yZGVyKHBvaW50MSwgcG9pbnQyLCBlcXVhbFBvaW50c0luT3JkZXIpIHsKICAgICAgICB2YXIgYkNvbElzQWZ0ZXIgPSBlcXVhbFBvaW50c0luT3JkZXIgPyBwb2ludDEuY29sdW1uIDw9IHBvaW50Mi5jb2x1bW4gOiBwb2ludDEuY29sdW1uIDwgcG9pbnQyLmNvbHVtbjsKICAgICAgICByZXR1cm4gKHBvaW50MS5yb3cgPCBwb2ludDIucm93KSB8fCAocG9pbnQxLnJvdyA9PSBwb2ludDIucm93ICYmIGJDb2xJc0FmdGVyKTsKICAgIH0KICAgICAgICAgICAgCiAgICBmdW5jdGlvbiAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgcG9pbnQsIG1vdmVJZkVxdWFsKSB7CiAgICAgICAgdmFyIGRlbHRhSXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgdmFyIGRlbHRhUm93U2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLnJvdyAgICAtIGRlbHRhLnN0YXJ0LnJvdyk7CiAgICAgICAgdmFyIGRlbHRhQ29sU2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLmNvbHVtbiAtIGRlbHRhLnN0YXJ0LmNvbHVtbik7CiAgICAgICAgdmFyIGRlbHRhU3RhcnQgPSBkZWx0YS5zdGFydDsKICAgICAgICB2YXIgZGVsdGFFbmQgPSBkZWx0YUlzSW5zZXJ0ID8gZGVsdGFTdGFydCA6IGRlbHRhLmVuZDsgLy8gQ29sbGFwc2UgaW5zZXJ0IHJhbmdlLgogICAgICAgIGlmICgkcG9pbnRzSW5PcmRlcihwb2ludCwgZGVsdGFTdGFydCwgbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIGlmICgkcG9pbnRzSW5PcmRlcihkZWx0YUVuZCwgcG9pbnQsICFtb3ZlSWZFcXVhbCkpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHJvdzogcG9pbnQucm93ICsgZGVsdGFSb3dTaGlmdCwKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uICsgKHBvaW50LnJvdyA9PSBkZWx0YUVuZC5yb3cgPyBkZWx0YUNvbFNoaWZ0IDogMCkKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiBkZWx0YVN0YXJ0LnJvdywKICAgICAgICAgICAgY29sdW1uOiBkZWx0YVN0YXJ0LmNvbHVtbgogICAgICAgIH07CiAgICB9CiAgICB0aGlzLnNldFBvc2l0aW9uID0gZnVuY3Rpb24ocm93LCBjb2x1bW4sIG5vQ2xpcCkgewogICAgICAgIHZhciBwb3M7CiAgICAgICAgaWYgKG5vQ2xpcCkgewogICAgICAgICAgICBwb3MgPSB7CiAgICAgICAgICAgICAgICByb3c6IHJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uCiAgICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csIGNvbHVtbik7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIHZhciBvbGQgPSB7CiAgICAgICAgICAgIHJvdzogdGhpcy5yb3csCiAgICAgICAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4KICAgICAgICB9OwoKICAgICAgICB0aGlzLnJvdyA9IHBvcy5yb3c7CiAgICAgICAgdGhpcy5jb2x1bW4gPSBwb3MuY29sdW1uOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgewogICAgICAgICAgICBvbGQ6IG9sZCwKICAgICAgICAgICAgdmFsdWU6IHBvcwogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudC5vZmYoImNoYW5nZSIsIHRoaXMuJG9uQ2hhbmdlKTsKICAgIH07CiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIHBvcyA9IHt9OwoKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbHVtbiA8IDApCiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwoKICAgICAgICByZXR1cm4gcG9zOwogICAgfTsKCn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKCnZhciBEb2N1bWVudCA9IGZ1bmN0aW9uKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKSkgewogICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzogMCwgY29sdW1uOiAwfSwgdGV4dE9yTGluZXMpOwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46MH0sIHRleHRPckxpbmVzKTsKICAgIH0KfTsKCihmdW5jdGlvbigpIHsKCiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwgMCwgbGVuLCB0aGlzLmdldExpbmUobGVuKS5sZW5ndGgpKTsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46IDB9LCB0ZXh0KTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmNyZWF0ZUFuY2hvciA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBbmNob3IodGhpcywgcm93LCBjb2x1bW4pOwogICAgfTsKICAgIGlmICgiYWFhIi5zcGxpdCgvYS8pLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXHJcbnxccnxcbi8pOwogICAgICAgIH07CiAgICB9CgoKICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbih0ZXh0KSB7CiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcclxufFxyfFxuKS9tKTsKICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoID8gbWF0Y2hbMV0gOiAiXG4iOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICBzd2l0Y2ggKHRoaXMuJG5ld0xpbmVNb2RlKSB7CiAgICAgICAgICBjYXNlICJ3aW5kb3dzIjoKICAgICAgICAgICAgcmV0dXJuICJcclxuIjsKICAgICAgICAgIGNhc2UgInVuaXgiOgogICAgICAgICAgICByZXR1cm4gIlxuIjsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZSB8fCAiXG4iOwogICAgICAgIH0KICAgIH07CgogICAgdGhpcy4kYXV0b05ld0xpbmUgPSAiIjsKICAgIHRoaXMuJG5ld0xpbmVNb2RlID0gImF1dG8iOwogICAgdGhpcy5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKG5ld0xpbmVNb2RlKSB7CiAgICAgICAgaWYgKHRoaXMuJG5ld0xpbmVNb2RlID09PSBuZXdMaW5lTW9kZSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlOwogICAgfTsKICAgIHRoaXMuaXNOZXdMaW5lID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24ocm93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgIiI7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICB9OwogICAgdGhpcy5nZXRBbGxMaW5lcyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgIH07CiAgICB0aGlzLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lc0ZvclJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyk7CiAgICAgICAgICAgIGxpbmVzWzBdID0gKGxpbmVzWzBdIHx8ICIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyA9PSBsKQogICAgICAgICAgICAgICAgbGluZXNbbF0gPSBsaW5lc1tsXS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kLmNvbHVtbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaW5lczsKICAgIH07CiAgICB0aGlzLmluc2VydExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TmV3TGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbIiIsICIiXSk7CiAgICB9OwogICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IFt0ZXh0XQogICAgICAgIH0sIHRydWUpOwogICAgICAgIAogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgCiAgICB0aGlzLmNsaXBwZWRQb3MgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPCAwKSB7CiAgICAgICAgICAgIHJvdyA9IDA7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHJvdyA9IGxlbmd0aCAtIDE7CiAgICAgICAgICAgIGNvbHVtbiA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocm93KTsKICAgICAgICBpZiAoY29sdW1uID09IHVuZGVmaW5lZCkKICAgICAgICAgICAgY29sdW1uID0gbGluZS5sZW5ndGg7CiAgICAgICAgY29sdW1uID0gTWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLCAwKSwgbGluZS5sZW5ndGgpOwogICAgICAgIHJldHVybiB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMuY2xvbmVQb3MgPSBmdW5jdGlvbihwb3MpIHsKICAgICAgICByZXR1cm4ge3JvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMucG9zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICB9OwogICAgCiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChwb3NpdGlvbi5yb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIGxlbmd0aCAtIDEpOwogICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSB0aGlzLmdldExpbmUobGVuZ3RoIC0gMSkubGVuZ3RoOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uKHJvdywgbGluZXMpIHsKICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTsKICAgICAgICB2YXIgY29sdW1uID0gMDsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbIiJdKTsKICAgICAgICAgICAgY29sdW1uID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59LCBsaW5lcyk7CiAgICB9OyAgICAKICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMgPSBmdW5jdGlvbihwb3NpdGlvbiwgbGluZXMpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB7CiAgICAgICAgICAgIHJvdzogc3RhcnQucm93ICsgbGluZXMubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY29sdW1uOiAobGluZXMubGVuZ3RoID09IDEgPyBzdGFydC5jb2x1bW4gOiAwKSArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aAogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IGxpbmVzCiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9KQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUluTGluZSA9IGZ1bmN0aW9uKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICAKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSkKICAgICAgICB9LCB0cnVlKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhzdGFydCk7CiAgICB9OwogICAgdGhpcy5yZW1vdmVGdWxsTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyAgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBsYXN0Um93ICksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICB2YXIgZGVsZXRlRmlyc3ROZXdMaW5lID0gbGFzdFJvdyA9PSB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiBmaXJzdFJvdyA+IDA7CiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lICA9IGxhc3RSb3cgIDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gKCBkZWxldGVGaXJzdE5ld0xpbmUgPyBmaXJzdFJvdyAtIDEgICAgICAgICAgICAgICAgICA6IGZpcnN0Um93ICAgICAgICAgICAgICAgICAgICApOwogICAgICAgIHZhciBzdGFydENvbCA9ICggZGVsZXRlRmlyc3ROZXdMaW5lID8gdGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGggOiAwICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICB2YXIgZW5kUm93ICAgPSAoIGRlbGV0ZUxhc3ROZXdMaW5lICA/IGxhc3RSb3cgKyAxICAgICAgICAgICAgICAgICAgIDogbGFzdFJvdyAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgdmFyIGVuZENvbCAgID0gKCBkZWxldGVMYXN0TmV3TGluZSAgPyAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCApOyAKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uKHJvdykgewogICAgICAgIGlmIChyb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiByb3cgPj0gMCkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdywgdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSwKICAgICAgICAgICAgICAgIGVuZDogdGhpcy5wb3Mocm93ICsgMSwgMCksCiAgICAgICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICAgICAgbGluZXM6IFsiIiwgIiJdCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnJlcGxhY2UgPSBmdW5jdGlvbihyYW5nZSwgdGV4dCkgewogICAgICAgIGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKQogICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7CiAgICAgICAgaWYgKHRleHQubGVuZ3RoID09PSAwICYmIHJhbmdlLmlzRW1wdHkoKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0OwogICAgICAgIGlmICh0ZXh0ID09IHRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmVuZDsKCiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpOwogICAgICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBlbmQ7CiAgICB9OwogICAgdGhpcy5hcHBseURlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGk9MDsgaTxkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24oZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaT1kZWx0YXMubGVuZ3RoLTE7IGk+PTA7IGktLSkgewogICAgICAgICAgICB0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7CiAgICAgICAgdmFyIGlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIGlmIChpc0luc2VydCA/IGRlbHRhLmxpbmVzLmxlbmd0aCA8PSAxICYmICFkZWx0YS5saW5lc1swXQogICAgICAgICAgICA6ICFSYW5nZS5jb21wYXJlUG9pbnRzKGRlbHRhLnN0YXJ0LCBkZWx0YS5lbmQpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKGlzSW5zZXJ0ICYmIGRlbHRhLmxpbmVzLmxlbmd0aCA+IDIwMDAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhKGRlbHRhLCAyMDAwMCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBhcHBseURlbHRhKHRoaXMuJGxpbmVzLCBkZWx0YSwgZG9Ob3RWYWxpZGF0ZSk7CiAgICAgICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24oZGVsdGEpIHsKICAgICAgICB2YXIgZG9jTGVuZ3RoID0gdGhpcy4kbGluZXMubGVuZ3RoOwogICAgICAgIGlmICgKICAgICAgICAgICAgZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoCiAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEgPSBmdW5jdGlvbihkZWx0YSwgTUFYKSB7CiAgICAgICAgdmFyIGxpbmVzID0gZGVsdGEubGluZXM7CiAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSBNQVggKyAxOwogICAgICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7IAogICAgICAgIHZhciBjb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICAgICAgZm9yICh2YXIgZnJvbSA9IDAsIHRvID0gMDsgZnJvbSA8IGw7IGZyb20gPSB0bykgewogICAgICAgICAgICB0byArPSBNQVggLSAxOwogICAgICAgICAgICB2YXIgY2h1bmsgPSBsaW5lcy5zbGljZShmcm9tLCB0byk7CiAgICAgICAgICAgIGNodW5rLnB1c2goIiIpOwogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdyArIGZyb20sIGNvbHVtbiksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIHRvLCBjb2x1bW4gPSAwKSwKICAgICAgICAgICAgICAgIGFjdGlvbjogZGVsdGEuYWN0aW9uLAogICAgICAgICAgICAgICAgbGluZXM6IGNodW5rCiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgIH0KICAgICAgICBkZWx0YS5saW5lcyA9IGxpbmVzLnNsaWNlKGZyb20pOwogICAgICAgIGRlbHRhLnN0YXJ0LnJvdyA9IHJvdyArIGZyb207CiAgICAgICAgZGVsdGEuc3RhcnQuY29sdW1uID0gY29sdW1uOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSwgdHJ1ZSk7CiAgICB9OwogICAgdGhpcy5yZXZlcnREZWx0YSA9IGZ1bmN0aW9uKGRlbHRhKSB7CiAgICAgICAgdGhpcy4kc2FmZUFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogdGhpcy5jbG9uZVBvcyhkZWx0YS5zdGFydCksCiAgICAgICAgICAgIGVuZDogdGhpcy5jbG9uZVBvcyhkZWx0YS5lbmQpLAogICAgICAgICAgICBhY3Rpb246IChkZWx0YS5hY3Rpb24gPT0gImluc2VydCIgPyAicmVtb3ZlIiA6ICJpbnNlcnQiKSwKICAgICAgICAgICAgbGluZXM6IGRlbHRhLmxpbmVzLnNsaWNlKCkKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmluZGV4VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHtyb3c6IGksIGNvbHVtbjogaW5kZXggKyBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RofTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHtyb3c6IGwtMSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2wtMV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aH07CiAgICB9OwogICAgdGhpcy5wb3NpdGlvblRvSW5kZXggPSBmdW5jdGlvbihwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKCiAgICAgICAgcmV0dXJuIGluZGV4ICsgcG9zLmNvbHVtbjsKICAgIH07Cgp9KS5jYWxsKERvY3VtZW50LnByb3RvdHlwZSk7CgpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9sYW5nIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmV4cG9ydHMubGFzdCA9IGZ1bmN0aW9uKGEpIHsKICAgIHJldHVybiBhW2EubGVuZ3RoIC0gMV07Cn07CgpleHBvcnRzLnN0cmluZ1JldmVyc2UgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKTsKfTsKCmV4cG9ydHMuc3RyaW5nUmVwZWF0ID0gZnVuY3Rpb24gKHN0cmluZywgY291bnQpIHsKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIHdoaWxlIChjb3VudCA+IDApIHsKICAgICAgICBpZiAoY291bnQgJiAxKQogICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nOwoKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9OwoKdmFyIHRyaW1CZWdpblJlZ2V4cCA9IC9eXHNccyovOwp2YXIgdHJpbUVuZFJlZ2V4cCA9IC9cc1xzKiQvOwoKZXhwb3J0cy5zdHJpbmdUcmltTGVmdCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsICcnKTsKfTsKCmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKCmV4cG9ydHMuY29weU9iamVjdCA9IGZ1bmN0aW9uKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwoKZXhwb3J0cy5jb3B5QXJyYXkgPSBmdW5jdGlvbihhcnJheSl7CiAgICB2YXIgY29weSA9IFtdOwogICAgZm9yICh2YXIgaT0wLCBsPWFycmF5Lmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICBpZiAoYXJyYXlbaV0gJiYgdHlwZW9mIGFycmF5W2ldID09ICJvYmplY3QiKQogICAgICAgICAgICBjb3B5W2ldID0gdGhpcy5jb3B5T2JqZWN0KGFycmF5W2ldKTsKICAgICAgICBlbHNlIAogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKCmV4cG9ydHMuZGVlcENvcHkgPSBmdW5jdGlvbiBkZWVwQ29weShvYmopIHsKICAgIGlmICh0eXBlb2Ygb2JqICE9PSAib2JqZWN0IiB8fCAhb2JqKQogICAgICAgIHJldHVybiBvYmo7CiAgICB2YXIgY29weTsKICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHsKICAgICAgICBjb3B5ID0gW107CiAgICAgICAgZm9yICh2YXIga2V5ID0gMDsga2V5IDwgb2JqLmxlbmd0aDsga2V5KyspIHsKICAgICAgICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY29weTsKICAgIH0KICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSAhPT0gIltvYmplY3QgT2JqZWN0XSIpCiAgICAgICAgcmV0dXJuIG9iajsKICAgIAogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKCmV4cG9ydHMuYXJyYXlUb01hcCA9IGZ1bmN0aW9uKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaT0wOyBpPGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIG1hcFthcnJbaV1dID0gMTsKICAgIH0KICAgIHJldHVybiBtYXA7Cgp9OwoKZXhwb3J0cy5jcmVhdGVNYXAgPSBmdW5jdGlvbihwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24oYXJyYXksIHZhbHVlKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgIGlmICh2YWx1ZSA9PT0gYXJyYXlbaV0pIHsKICAgICAgYXJyYXkuc3BsaWNlKGksIDEpOwogICAgfQogIH0KfTsKCmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24oc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKfTsKCmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uKHN0cikgewogICAgcmV0dXJuICgiIiArIHN0cikucmVwbGFjZSgvJi9nLCAiJiMzODsiKS5yZXBsYWNlKC8iL2csICImIzM0OyIpLnJlcGxhY2UoLycvZywgIiYjMzk7IikucmVwbGFjZSgvPC9nLCAiJiM2MDsiKTsKfTsKCmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24oc3RyaW5nLCByZWdFeHApIHsKICAgIHZhciBtYXRjaGVzID0gW107CgogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbihzdHIpIHsKICAgICAgICBtYXRjaGVzLnB1c2goewogICAgICAgICAgICBvZmZzZXQ6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwoKICAgIHJldHVybiBtYXRjaGVzOwp9OwpleHBvcnRzLmRlZmVycmVkQ2FsbCA9IGZ1bmN0aW9uKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIGRlZmVycmVkLmNhbmNlbCgpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCAwKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwoKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CgogICAgZGVmZXJyZWQuY2FsbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKCiAgICBkZWZlcnJlZC5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgCiAgICBkZWZlcnJlZC5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwoKICAgIHJldHVybiBkZWZlcnJlZDsKfTsKCgpleHBvcnRzLmRlbGF5ZWRDYWxsID0gZnVuY3Rpb24oZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIGlmICh0aW1lciA9PSBudWxsKQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKCiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwogICAgX3NlbGYuc2NoZWR1bGUgPSBfc2VsZjsKCiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICB9OwoKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CgogICAgcmV0dXJuIF9zZWxmOwp9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS93b3JrZXIvbWlycm9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBEb2N1bWVudCA9IHJlcXVpcmUoIi4uL2RvY3VtZW50IikuRG9jdW1lbnQ7CnZhciBsYW5nID0gcmVxdWlyZSgiLi4vbGliL2xhbmciKTsKICAgIAp2YXIgTWlycm9yID0gZXhwb3J0cy5NaXJyb3IgPSBmdW5jdGlvbihzZW5kZXIpIHsKICAgIHRoaXMuc2VuZGVyID0gc2VuZGVyOwogICAgdmFyIGRvYyA9IHRoaXMuZG9jID0gbmV3IERvY3VtZW50KCIiKTsKICAgIAogICAgdmFyIGRlZmVycmVkVXBkYXRlID0gdGhpcy5kZWZlcnJlZFVwZGF0ZSA9IGxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKTsKICAgIAogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHNlbmRlci5vbigiY2hhbmdlIiwgZnVuY3Rpb24oZSkgewogICAgICAgIHZhciBkYXRhID0gZS5kYXRhOwogICAgICAgIGlmIChkYXRhWzBdLnN0YXJ0KSB7CiAgICAgICAgICAgIGRvYy5hcHBseURlbHRhcyhkYXRhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpIHsKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IHthY3Rpb246ICJpbnNlcnQiLCBzdGFydDogZGF0YVtpXSwgbGluZXM6IGRhdGFbaSsxXX07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBkID0ge2FjdGlvbjogInJlbW92ZSIsIHN0YXJ0OiBkYXRhW2ldLCBlbmQ6IGRhdGFbaSsxXX07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";},function(e,t,i){e.exports=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return (t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString())||"0"}function i(e,t,i){function n(e,t,i){return Math.max(t,Math.min(e,i))}function o(e,o,r){if(r&&(a=!0),a){e.preventDefault();var s=t.getBoundingClientRect(),l=s.width,c=s.height,d=o.clientX,h=o.clientY,u=n(d-s.left,0,l),g=n(h-s.top,0,c);i(u/l,g/c);}}function r(e,t){1===(void 0===e.buttons?e.which:e.buttons)?o(e,e,t):a=!1;}function s(e,t){1===e.touches.length?o(e,e.touches[0],t):a=!1;}var a=!1;e.add(t,"mousedown",function(e){r(e,!0);}),e.add(t,"touchstart",function(e){s(e,!0);}),e.add(window,"mousemove",r),e.add(t,"touchmove",s),e.add(window,"mouseup",function(e){a=!1;}),e.add(t,"touchend",function(e){a=!1;}),e.add(t,"touchcancel",function(e){a=!1;});}function n(e,t){return (t||document).querySelector(e)}function o(e){e.preventDefault(),e.stopPropagation();}function r(e,t,i,n,r){e.add(t,u,function(e){i.indexOf(e.key)>=0&&(r&&o(e),n(e));});}var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function(){function e(e,t){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e;}finally{try{!n&&a.return&&a.return();}finally{if(o)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var i=this;i.length<e;)i=t+i;return i};var c={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"},d=function(){function t(e,i,n,o){s(this,t);var r=this;if(void 0===e);else if(Array.isArray(e))this.rgba=e;else if(void 0===n){var a=e&&""+e;a&&function(e){if(e.startsWith("hsl")){var i=e.match(/([\-\d\.e]+)/g).map(Number),n=l(i,4),o=n[0],s=n[1],a=n[2],c=n[3];void 0===c&&(c=1),o/=360,s/=100,a/=100,r.hsla=[o,s,a,c];}else if(e.startsWith("rgb")){var d=e.match(/([\-\d\.e]+)/g).map(Number),h=l(d,4),u=h[0],g=h[1],p=h[2],m=h[3];void 0===m&&(m=1),r.rgba=[u,g,p,m];}else e.startsWith("#")?r.rgba=t.hexToRgb(e):r.rgba=t.nameToRgb(e)||t.hexToRgb(e);}(a.toLowerCase());}else this.rgba=[e,i,n,void 0===o?1:o];}return a(t,[{key:"printRGB",value:function(t){var i=t?this.rgba:this.rgba.slice(0,3),n=i.map(function(t,i){return e(t,3===i?3:0)});return t?"rgba("+n+")":"rgb("+n+")"}},{key:"printHSL",value:function(t){var i=[360,100,100,1],n=["","%","%",""],o=t?this.hsla:this.hsla.slice(0,3),r=o.map(function(t,o){return e(t*i[o],3===o?3:1)+n[o]});return t?"hsla("+r+")":"hsl("+r+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null;}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null;}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return "#"+this.rgba.map(function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)}).map(function(e){return e.padStart(2,"0")}).join("")},set:function(e){this.rgba=t.hexToRgb(e);}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var i=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(e){return parseInt(e,16)});return i[3]=i[3]/255,i}},{key:"nameToRgb",value:function(e){var i=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),n=c[i];return void 0===n?n:t.hexToRgb(n.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=l(e,4),i=t[0],n=t[1],o=t[2],r=t[3];i/=255,n/=255,o/=255;var s=Math.max(i,n,o),a=Math.min(i,n,o),c=void 0,d=void 0,h=(s+a)/2;if(s===a)c=d=0;else{var u=s-a;switch(d=h>.5?u/(2-s-a):u/(s+a),s){case i:c=(n-o)/u+(n<o?6:0);break;case n:c=(o-i)/u+2;break;case o:c=(i-n)/u+4;}c/=6;}return [c,d,h,r]}},{key:"hslToRgb",value:function(e){var t=l(e,4),i=t[0],n=t[1],o=t[2],r=t[3],s=void 0,a=void 0,c=void 0;if(0===n)s=a=c=o;else{var d=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},h=o<.5?o*(1+n):o+n-o*n,u=2*o-h;s=d(u,h,i+1/3),a=d(u,h,i),c=d(u,h,i-1/3);}var g=[255*s,255*a,255*c].map(Math.round);return g[3]=r,g}}]),t}(),h=function(){function e(){s(this,e),this._events=[];}return a(e,[{key:"add",value:function(e,t,i){e.addEventListener(t,i,!1),this._events.push({target:e,type:t,handler:i});}},{key:"remove",value:function(t,i,n){this._events=this._events.filter(function(o){var r=!0;return t&&t!==o.target&&(r=!1),i&&i!==o.type&&(r=!1),n&&n!==o.handler&&(r=!1),r&&e._doRemove(o.target,o.type,o.handler),!r});}},{key:"destroy",value:function(){this._events.forEach(function(t){return e._doRemove(t.target,t.type,t.handler)}),this._events=[];}}],[{key:"_doRemove",value:function(e,t,i){e.removeEventListener(t,i,!1);}}]),e}(),u="keydown",g="mousedown",p="focusin",m=document.createElement("style");return m.textContent=".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:-webkit-linear-gradient(bottom, gainsboro, transparent);background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:-webkit-linear-gradient(bottom, transparent, gainsboro);background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:-webkit-linear-gradient(left, red, yellow, lime, cyan, blue, magenta, red);background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:-webkit-linear-gradient(top, white, rgba(255,255,255,0) 50%),-webkit-linear-gradient(bottom, black, rgba(0,0,0,0) 50%),-webkit-linear-gradient(left, gray, rgba(128,128,128,0));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}",document.documentElement.firstElementChild.appendChild(m),function(){function e(t){s(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new h,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t);}return a(e,[{key:"setOptions",value:function(e){var t,i,n,o,s=this;e&&(t=this.settings,e instanceof HTMLElement?t.parent=e:(t.parent&&e.parent&&t.parent!==e.parent&&(this._events.remove(t.parent),this._popupInited=!1),function(e,t,i){for(var n in e)i&&0<=i.indexOf(n)||(t[n]=e[n]);}(e,t),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose),(i=e.color||e.colour)&&this._setColor(i)),(n=t.parent)&&t.popup&&!this._popupInited?(o=function(e){return s.openHandler(e)},this._events.add(n,"click",o),r(this._events,n,[" ","Spacebar","Enter"],o),this._popupInited=!0):e.parent&&!t.popup&&this.show());}},{key:"openHandler",value:function(e){var t;this.show()&&(e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none",t=e&&"keydown"===e.type?this._domEdit:this.domElement,setTimeout(function(){return t.focus()},100),this.onOpen&&this.onOpen(this.colour));}},{key:"closeHandler",value:function(e){var t,i=e&&e.type,n=!1;e?i===g||i===p?(t=(this.__containedEvent||0)+100,e.timeStamp>t&&(n=!0)):(o(e),n=!0):n=!0,n&&this.hide()&&(this.settings.parent.style.pointerEvents="",i!==g&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour));}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler();}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t});}},{key:"_setColor",value:function(e,t){if("string"==typeof e&&(e=e.trim()),e){t=t||{};var i,n=void 0;try{n=new d(e);}catch(e){if(t.failSilently)return;throw e}this.settings.alpha||((i=n.hsla)[3]=1,n.hsla=i),this.colour=this.color=n,this._setHSLA(null,null,null,null,t);}}},{key:"setColour",value:function(e,t){this.setColor(e,t);}},{key:"show",value:function(){if(!this.settings.parent)return !1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t,i,o=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',r=(t=o,(i=document.createElement("div")).innerHTML=t,i.firstElementChild);return this.domElement=r,this._domH=n(".picker_hue",r),this._domSL=n(".picker_sl",r),this._domA=n(".picker_alpha",r),this._domEdit=n(".picker_editor input",r),this._domSample=n(".picker_sample",r),this._domOkay=n(".picker_done button",r),this._domCancel=n(".picker_cancel button",r),r.classList.add("layout_"+this.settings.layout),this.settings.alpha||r.classList.add("no_alpha"),this.settings.editor||r.classList.add("no_editor"),this.settings.cancelButton||r.classList.add("no_cancel"),this._ifPopup(function(){return r.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement);}},{key:"_bindEvents",value:function(){function e(e,t,i){a.add(e,t,i);}function t(e){n._ifPopup(function(){return n.closeHandler(e)}),n.onDone&&n.onDone(n.colour);}var n=this,o=this,s=this.domElement,a=this._events;e(s,"click",function(e){return e.preventDefault()}),i(a,this._domH,function(e,t){return o._setHSLA(e)}),i(a,this._domSL,function(e,t){return o._setHSLA(null,e,1-t)}),this.settings.alpha&&i(a,this._domA,function(e,t){return o._setHSLA(null,null,null,1-t)});var l=this._domEdit;e(l,"input",function(e){o._setColor(this.value,{fromEditor:!0,failSilently:!0});}),e(l,"focus",function(e){this.selectionStart===this.selectionEnd&&this.select();}),this._ifPopup(function(){function t(e){return n.closeHandler(e)}function i(e){n.__containedEvent=e.timeStamp;}e(window,g,t),e(window,p,t),r(a,s,["Esc","Escape"],t),e(s,g,i),e(s,p,i),e(n._domCancel,"click",t);}),e(this._domOkay,"click",t),r(a,s,["Enter"],t);}},{key:"_setPosition",value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup(function(i){"static"===getComputedStyle(e).position&&(e.style.position="relative");var n=!0===i?"popup_right":"popup_"+i;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(e){e===n?t.classList.add(e):t.classList.remove(e);}),t.classList.add(n);});}},{key:"_setHSLA",value:function(e,t,i,n,o){o=o||{};var r=this.colour,s=r.hsla;[e,t,i,n].forEach(function(e,t){!e&&0!==e||(s[t]=e);}),r.hsla=s,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(r);}},{key:"_updateUI",value:function(e){function t(e,t,i){t.style.left=100*i+"%";}function i(e,t,i){t.style.top=100*i+"%";}if(this.domElement){e=e||{};var o=this.colour,r=o.hsla,s="hsl("+360*r[0]+", 100%, 50%)",a=o.hslString,l=o.hslaString,c=this._domH,d=this._domSL,h=this._domA,u=n(".picker_selector",c),g=n(".picker_selector",d),p=n(".picker_selector",h);t(0,u,r[0]),this._domSL.style.backgroundColor=this._domH.style.color=s,t(0,g,r[1]),i(0,g,1-r[2]),d.style.color=a,i(0,p,1-r[3]);var m=a,f=m.replace("hsl","hsla").replace(")",", 0)"),C="linear-gradient("+[m,f]+")";if(this._domA.style.backgroundImage=C+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!e.fromEditor){var I=this.settings.editorFormat,A=this.settings.alpha,b=void 0;switch(I){case"rgb":b=o.printRGB(A);break;case"hsl":b=o.printHSL(A);break;default:b=o.printHex(A);}this._domEdit.value=b;}this._domSample.style.color=l;}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t();}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return !1;var i=e?"":"none",n=t.style.display!==i;return n&&(t.style.display=i),n}}],[{key:"StyleElement",get:function(){return m}}]),e}()}();},function(e,t){window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(e,t,i){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}',e("../lib/dom").importCssString(t.cssText,t.cssClass);});},function(e,t,i){t.tryRequireAjv=function(){try{return i(44)}catch(e){}};},function(e,t,i){function n(e){if(!(this instanceof n))return new n(e);e=this._opts=A.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:d,warn:d,error:d};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t;}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=f(e.format),this._cache=e.cache||new g,this._loadingSchemas={},this._compilations=[],this.RULES=C(),this._getId=function(e){switch(e.schemaId){case"auto":return l;case"id":return s;default:return a}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=m),this._metaOpts=function(e){for(var t=A.copy(e._opts),i=0;i<w.length;i++)delete t[w[i]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var i=e._opts.formats[t];e.addFormat(t,i);}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var i=e._opts.keywords[t];e.addKeyword(t,i);}}(this),function(e){var t;if(e._opts.$data&&(t=i(77),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var n=i(32);e._opts.$data&&(n=I(n,x)),e.addMetaSchema(n,y,!0),e._refs["http://json-schema.org/schema"]=y;}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var i in t)e.addSchema(t[i],i);}(this);}function o(e,t){return t=u.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function r(e,t,i){for(var n in t){var o=t[n];o.meta||i&&!i.test(n)||(e._cache.del(o.cacheKey),delete t[n]);}}function s(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function a(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function l(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function c(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function d(){}var h=i(45),u=i(17),g=i(49),p=i(25),m=i(26),f=i(50),C=i(51),I=i(72),A=i(7);(e.exports=n).prototype.validate=function(e,t){var i;if("string"==typeof e){if(!(i=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);i=n.validate||this._compile(n);}var o=i(t);return !0!==i.$async&&(this.errors=i.errors),o},n.prototype.compile=function(e,t){var i=this._addSchema(e,void 0,t);return i.validate||this._compile(i)},n.prototype.addSchema=function(e,t,i,n){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,i,n);return this}var r=this._getId(e);if(void 0!==r&&"string"!=typeof r)throw new Error("schema id must be string");return c(this,t=u.normalizeId(t||r)),this._schemas[t]=this._addSchema(e,i,n,!0),this},n.prototype.addMetaSchema=function(e,t,i){return this.addSchema(e,t,i,!0),this},n.prototype.validateSchema=function(e,t){var i=e.$schema;if(void 0!==i&&"string"!=typeof i)throw new Error("$schema must be a string");if(!(i=i||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(y)?y:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),!(this.errors=null);var n=this.validate(i,e);if(!n&&t){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);this.logger.error(o);}return n},n.prototype.getSchema=function(e){var t=o(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var i=u.schema.call(e,{schema:{}},t);if(i){var n=i.schema,o=i.root,r=i.baseId,s=h.call(e,n,o,void 0,r);return e._fragments[t]=new p({ref:t,fragment:!0,schema:n,root:o,baseId:r,validate:s}),s}}(this,e)}},n.prototype.removeSchema=function(e){if(e instanceof RegExp)return r(this,this._schemas,e),r(this,this._refs,e),this;switch(typeof e){case"undefined":return r(this,this._schemas),r(this,this._refs),this._cache.clear(),this;case"string":var t=o(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var i=this._opts.serialize,n=i?i(e):e;this._cache.del(n);var s=this._getId(e);s&&(s=u.normalizeId(s),delete this._schemas[s],delete this._refs[s]);}return this},n.prototype.addFormat=function(e,t){return "string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},n.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return "No errors";for(var i=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,o="",r=0;r<e.length;r++){var s=e[r];s&&(o+=n+s.dataPath+" "+s.message+i);}return o.slice(0,-i.length)},n.prototype._addSchema=function(e,t,i,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,r=o?o(e):e,s=this._cache.get(r);if(s)return s;n=n||!1!==this._opts.addUsedSchema;var a=u.normalizeId(this._getId(e));a&&n&&c(this,a);var l,d=!1!==this._opts.validateSchema&&!t;d&&!(l=a&&a==u.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=u.ids.call(this,e),g=new p({id:a,schema:e,localRefs:h,cacheKey:r,meta:i});return "#"!=a[0]&&n&&(this._refs[a]=g),this._cache.put(r,g),d&&l&&this.validateSchema(e,!0),g},n.prototype._compile=function(e,t){function i(){var t=e.validate,n=t.apply(this,arguments);return i.errors=t.errors,n}if(e.compiling)return (e.validate=i).schema=e.schema,i.errors=null,i.root=t||i,!0===e.schema.$async&&(i.$async=!0),i;var n,o;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{o=h.call(this,e.schema,t,e.localRefs);}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n);}return e.validate=o,e.refs=o.refs,e.refVal=o.refVal,e.root=o.root,o},n.prototype.compileAsync=i(73);var b=i(74);n.prototype.addKeyword=b.add,n.prototype.getKeyword=b.get,n.prototype.removeKeyword=b.remove,n.prototype.validateKeyword=b.validate;var v=i(19);n.ValidationError=v.Validation,n.MissingRefError=v.MissingRef,n.$dataMetaSchema=I;var y="http://json-schema.org/draft-07/schema",w=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],x=["/properties"];},function(e,t,i){function n(e,t,i,I){function A(){var e=G.validate,t=e.apply(this,arguments);return A.errors=e.errors,t}function b(e,i,o,g){var I=!i||i&&i.schema==e;if(i.schema!=t.schema)return n.call(T,e,i,o,g);var A=!0===e.$async,b=p({isTop:!0,schema:e,isRoot:I,baseId:g,root:i,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:u.MissingRef,RULES:B,validate:p,util:h,resolve:d,resolveRef:v,usePattern:x,useDefault:S,useCustomRule:k,opts:M,formats:D,logger:T.logger,self:T}),b=c(j,a)+c(R,r)+c(L,s)+c(Z,l)+b;M.processCode&&(b=M.processCode(b,e));try{var y=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",b)(T,B,D,t,j,L,Z,f,m,C);j[0]=y;}catch(e){throw T.logger.error("Error compiling schema, function code:",b),e}return y.schema=e,y.errors=null,y.refs=N,y.refVal=j,y.root=I?y:i,A&&(y.$async=!0),!0===M.sourceCode&&(y.source={code:b,patterns:R,defaults:L}),y}function v(e,o,r){o=d.url(e,o);var s,a,l=N[o];if(void 0!==l)return w(s=j[l],a="refVal["+l+"]");if(!r&&t.refs){var c=t.refs[o];if(void 0!==c)return w(s=t.refVal[c],a=y(o,s))}a=y(o);var h,u,g,p=d.call(T,b,t,o);if(void 0!==p||(h=i&&i[o])&&(p=d.inlineRef(h,M.inlineRefs)?h:n.call(T,h,t,i,e)),void 0!==p)return u=p,g=N[o],j[g]=u,w(p,a);delete N[o];}function y(e,t){var i=j.length;return j[i]=t,"refVal"+(N[e]=i)}function w(e,t){return "object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function x(e){var t=E[e];return void 0===t&&(t=E[e]=R.length,R[t]=e),"pattern"+t}function S(e){switch(typeof e){case"boolean":case"number":return ""+e;case"string":return h.toQuotedString(e);case"object":if(null===e)return "null";var t=g(e),i=O[t];return void 0===i&&(i=O[t]=L.length,L[i]=e),"default"+i}}function k(e,t,i,n){if(!1!==T._opts.validateSchema){var o=e.definition.dependencies;if(o&&!o.every(function(e){return Object.prototype.hasOwnProperty.call(i,e)}))throw new Error("parent schema must have all required keywords: "+o.join(","));var r=e.definition.validateSchema;if(r&&!r(t)){var s="keyword schema is invalid: "+T.errorsText(r.errors);if("log"!=T._opts.validateSchema)throw new Error(s);T.logger.error(s);}}var a,l=e.definition.compile,c=e.definition.inline,d=e.definition.macro;if(l)a=l.call(T,t,i,n);else if(d)a=d.call(T,t,i,n),!1!==M.validateSchema&&T.validateSchema(a,!0);else if(c)a=c.call(T,n,e.keyword,t,i);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=Z.length;return {code:"customRule"+h,validate:Z[h]=a}}var T=this,M=this._opts,j=[void 0],N={},R=[],E={},L=[],O={},Z=[],W=function(e,t,i){var n=o.call(this,e,t,i);return 0<=n?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:i},{index:n,compiling:!1})}.call(this,e,t=t||{schema:e,refVal:j,refs:N},I),G=this._compilations[W.index];if(W.compiling)return G.callValidate=A;var D=this._formats,B=this.RULES;try{var H=b(e,t,i,I);G.validate=H;var _=G.callValidate;return _&&(_.schema=H.schema,_.errors=null,_.refs=H.refs,_.refVal=H.refVal,_.root=H.root,_.$async=H.$async,M.sourceCode&&(_.source=H.source)),H}finally{(function(e,t,i){var n=o.call(this,e,t,i);0<=n&&this._compilations.splice(n,1);}).call(this,e,t,I);}}function o(e,t,i){for(var n=0;n<this._compilations.length;n++){var o=this._compilations[n];if(o.schema==e&&o.root==t&&o.baseId==i)return n}return -1}function r(e,t){return "var pattern"+e+" = new RegExp("+h.toQuotedString(t[e])+");"}function s(e){return "var default"+e+" = defaults["+e+"];"}function a(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function l(e){return "var customRule"+e+" = customRules["+e+"];"}function c(e,t){if(!e.length)return "";for(var i="",n=0;n<e.length;n++)i+=t(n,e);return i}var d=i(17),h=i(7),u=i(19),g=i(26),p=i(27),m=h.ucs2length,f=i(18),C=u.Validation;e.exports=n;},function(e,t,i){/** @license URI.js v4.4.0 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
  !function(e){function t(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,o=1;o<n;++o)t[o]=t[o].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function i(e){return "(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function r(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var i=e;if(t)for(var n in t)i[n]=t[n];return i}function a(e){var n="[A-Za-z]",o="[0-9]",r=t(o,"[A-Fa-f]"),s=i(i("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+i("%[89A-Fa-f]"+r+"%"+r+r)+"|"+i("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",d=e?"[\\uE000-\\uF8FF]":"[]",h=t(n,o,"[\\-\\.\\_\\~]",c),u=i(n+t(n,o,"[\\+\\-\\.]")+"*"),g=i(i(s+"|"+t(h,a,"[\\:]"))+"*"),p=(i(i("25[0-5]")+"|"+i("2[0-4]"+o)+"|"+i("1"+o+o)+"|"+i("0?[1-9]"+o)+"|0?0?"+o)),m=i(p+"\\."+p+"\\."+p+"\\."+p),f=i(r+"{1,4}"),C=i(i(f+"\\:"+f)+"|"+m),I=i(i(f+"\\:")+"{6}"+C),A=i("\\:\\:"+i(f+"\\:")+"{5}"+C),b=i(i(f)+"?\\:\\:"+i(f+"\\:")+"{4}"+C),v=i(i(i(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+i(f+"\\:")+"{3}"+C),y=i(i(i(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+i(f+"\\:")+"{2}"+C),w=i(i(i(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+C),x=i(i(i(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+C),S=i(i(i(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),k=i(i(i(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),T=i([I,A,b,v,y,w,x,S,k].join("|")),M=i(i(h+"|"+s)+"+"),N=i("[vV]"+r+"+\\."+t(h,a,"[\\:]")+"+"),E=i(i(s+"|"+t(h,a))+"*"),W=i(s+"|"+t(h,a,"[\\:\\@]")),B=i(i(s+"|"+t(h,a,"[\\@]"))+"+"),V=(i(i(W+"|"+t("[\\/\\?]",d))+"*"));return {NOT_SCHEME:new RegExp(t("[^]",n,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",h,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",h,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",h,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",h,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",h,a,"[\\:\\@\\/\\?]",d),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",h,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",h,a),"g"),UNRESERVED:new RegExp(h,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",h,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+m+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+i(i("\\%25|\\%(?!"+r+"{2})")+"("+M+")")+"?\\]?$")}}function l(e){throw new RangeError(B[e])}function c(e,t){for(var i=[],n=e.length;n--;)i[n]=t(e[n]);return i}function d(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),e=e.replace(D,"."),n+c(e.split("."),t).join(".")}function h(e){for(var t=[],i=0,n=e.length;i<n;){var o=e.charCodeAt(i++);if(o>=55296&&o<=56319&&i<n){var r=e.charCodeAt(i++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),i--);}else t.push(o);}return t}function u(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function g(e){for(var t="",i=0,n=e.length;i<n;){var o=parseInt(e.substr(i+1,2),16);if(o<128)t+=String.fromCharCode(o),i+=3;else if(o>=194&&o<224){if(n-i>=6){var r=parseInt(e.substr(i+4,2),16);t+=String.fromCharCode((31&o)<<6|63&r);}else t+=e.substr(i,6);i+=6;}else if(o>=224){if(n-i>=9){var s=parseInt(e.substr(i+4,2),16),a=parseInt(e.substr(i+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a);}else t+=e.substr(i,9);i+=9;}else t+=e.substr(i,3),i+=3;}return t}function p(e,t){function i(e){var i=g(e);return i.match(t.UNRESERVED)?i:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,i).replace(t.NOT_USERINFO,u).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_HOST,u).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,i).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,u).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,i).replace(t.NOT_QUERY,u).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,i).replace(t.NOT_FRAGMENT,u).replace(t.PCT_ENCODED,o)),e}function m(e){return e.replace(/^0*(.*)/,"$1")||"0"}function f(e,t){var i=e.match(t.IPV4ADDRESS)||[],n=E(i,2),o=n[1];return o?o.split(".").map(m).join("."):e}function C(e,t){var i=e.match(t.IPV6ADDRESS)||[],n=E(i,3),o=n[1],r=n[2];if(o){for(var s=o.toLowerCase().split("::").reverse(),a=E(s,2),l=a[0],c=a[1],d=c?c.split(":").map(m):[],h=l.split(":").map(m),u=t.IPV4ADDRESS.test(h[h.length-1]),g=u?7:8,p=h.length-g,C=Array(g),I=0;I<g;++I)C[I]=d[I]||h[p+I]||"";u&&(C[g-1]=f(C[g-1],t));var A=C.reduce(function(e,t,i){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===i?n.length++:e.push({index:i,length:1});}return e},[]),b=A.sort(function(e,t){return t.length-e.length})[0],v=void 0;if(b&&b.length>1){var y=C.slice(0,b.index),w=C.slice(b.index+b.length);v=y.join(":")+"::"+w.join(":");}else v=C.join(":");return r&&(v+="%"+r),v}return e}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={},n=!1!==t.iri?R:N;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(X);if(o){J?(i.scheme=o[1],i.userinfo=o[3],i.host=o[4],i.port=parseInt(o[5],10),i.path=o[6]||"",i.query=o[7],i.fragment=o[8],isNaN(i.port)&&(i.port=o[5])):(i.scheme=o[1]||void 0,i.userinfo=-1!==e.indexOf("@")?o[3]:void 0,i.host=-1!==e.indexOf("//")?o[4]:void 0,i.port=parseInt(o[5],10),i.path=o[6]||"",i.query=-1!==e.indexOf("?")?o[7]:void 0,i.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(i.port)&&(i.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),i.host&&(i.host=C(f(i.host,n),n)),void 0!==i.scheme||void 0!==i.userinfo||void 0!==i.host||void 0!==i.port||i.path||void 0!==i.query?void 0===i.scheme?i.reference="relative":void 0===i.fragment?i.reference="absolute":i.reference="uri":i.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==i.reference&&(i.error=i.error||"URI is not a "+t.reference+" reference.");var r=Y[(t.scheme||i.scheme||"").toLowerCase()];if(t.unicodeSupport||r&&r.unicodeSupport)p(i,n);else{if(i.host&&(t.domainHost||r&&r.domainHost))try{i.host=K.toASCII(i.host.replace(n.PCT_ENCODED,g).toLowerCase());}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII via punycode: "+e;}p(i,N);}r&&r.parse&&r.parse(i,t);}else i.error=i.error||"URI can not be parsed.";return i}function A(e,t){var i=!1!==t.iri?R:N,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(C(f(String(e.host),i),i).replace(i.IPV6ADDRESS,function(e,t,i){return "["+t+(i?"%25"+i:"")+"]"})),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}function b(e){for(var t=[];e.length;)if(e.match(U))e=e.replace(U,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(q))e=e.replace(q,"/"),t.pop();else if("."===e||".."===e)e="";else{var i=e.match(ee);if(!i)throw new Error("Unexpected dot segment condition");var n=i[0];e=e.slice(n.length),t.push(n);}return t.join("")}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.iri?R:N,n=[],o=Y[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(i.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?K.toUnicode(e.host):K.toASCII(e.host.replace(i.PCT_ENCODED,g).toLowerCase());}catch(i){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+i;}p(e,i),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var r=A(e,t);if(void 0!==r&&("suffix"!==t.reference&&n.push("//"),n.push(r),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||o&&o.absolutePath||(s=b(s)),void 0===r&&(s=s.replace(/^\/\//,"/%2F")),n.push(s);}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function y(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],o={};return n||(e=I(v(e,i),i),t=I(v(t,i),i)),i=i||{},!i.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=b(t.path||""),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=b(t.path||""),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=b(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=b(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function w(e,t,i){var n=s({scheme:"null"},i);return v(y(I(e,n),I(t,n),n,!0),n)}function x(e,t){return "string"==typeof e?e=v(I(e,t),t):"object"===n(e)&&(e=I(v(e,t),t)),e}function S(e,t,i){return "string"==typeof e?e=v(I(e,i),i):"object"===n(e)&&(e=v(e,i)),"string"==typeof t?t=v(I(t,i),i):"object"===n(t)&&(t=v(t,i)),e===t}function k(e,t){return e&&e.toString().replace(t&&t.iri?R.ESCAPE:N.ESCAPE,u)}function T(e,t){return e&&e.toString().replace(t&&t.iri?R.PCT_ENCODED:N.PCT_ENCODED,g)}function M(e){return "boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function j(e){var t=g(e);return t.match(de)?t:e}var N=a(!1),R=a(!0),E=function(){function e(e,t){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e;}finally{try{!n&&a.return&&a.return();}finally{if(o)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},O=2147483647,Z=36,W=/^xn--/,G=/[^\0-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},H=Math.floor,_=String.fromCharCode,$=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:Z},z=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},P=function(e,t,i){var n=0;for(e=i?H(e/700):e>>1,e+=H(e/t);e>455;n+=Z)e=H(e/35);return H(n+36*e/(e+38))},V=function(e){var t=[],i=e.length,n=0,o=128,r=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&l("not-basic"),t.push(e.charCodeAt(a));for(var c=s>0?s+1:0;c<i;){for(var d=n,h=1,u=Z;;u+=Z){c>=i&&l("invalid-input");var g=$(e.charCodeAt(c++));(g>=Z||g>H((O-n)/h))&&l("overflow"),n+=g*h;var p=u<=r?1:u>=r+26?26:u-r;if(g<p)break;var m=Z-p;h>H(O/m)&&l("overflow"),h*=m;}var f=t.length+1;r=P(n-d,f,0==d),H(n/f)>O-o&&l("overflow"),o+=H(n/f),n%=f,t.splice(n++,0,o);}return String.fromCodePoint.apply(String,t)},F=function(e){var t=[];e=h(e);var i=e.length,n=128,o=0,r=72,s=!0,a=!1,c=void 0;try{for(var d,u=e[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var g=d.value;g<128&&t.push(_(g));}}catch(e){a=!0,c=e;}finally{try{!s&&u.return&&u.return();}finally{if(a)throw c}}var p=t.length,m=p;for(p&&t.push("-");m<i;){var f=O,C=!0,I=!1,A=void 0;try{for(var b,v=e[Symbol.iterator]();!(C=(b=v.next()).done);C=!0){var y=b.value;y>=n&&y<f&&(f=y);}}catch(e){I=!0,A=e;}finally{try{!C&&v.return&&v.return();}finally{if(I)throw A}}var w=m+1;f-n>H((O-o)/w)&&l("overflow"),o+=(f-n)*w,n=f;var x=!0,S=!1,k=void 0;try{for(var T,M=e[Symbol.iterator]();!(x=(T=M.next()).done);x=!0){var j=T.value;if(j<n&&++o>O&&l("overflow"),j==n){for(var N=o,R=Z;;R+=Z){var E=R<=r?1:R>=r+26?26:R-r;if(N<E)break;var L=N-E,W=Z-E;t.push(_(z(E+L%W,0))),N=H(L/W);}t.push(_(z(N,0))),r=P(o,w,m==p),o=0,++m;}}}catch(e){S=!0,k=e;}finally{try{!x&&M.return&&M.return();}finally{if(S)throw k}}++o,++n;}return t.join("")},K={version:"2.1.0",ucs2:{decode:h,encode:function(e){return String.fromCodePoint.apply(String,L(e))}},decode:V,encode:F,toASCII:function(e){return d(e,function(e){return G.test(e)?"xn--"+F(e):e})},toUnicode:function(e){return d(e,function(e){return W.test(e)?V(e.slice(4).toLowerCase()):e})}},Y={},X=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,J=void 0==="".match(/(){0}/)[1],U=/^\.\.?\//,Q=/^\/\.(\/|$)/,q=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/,te={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var i="https"===String(e.scheme).toLowerCase();return e.port!==(i?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ie={scheme:"https",domainHost:te.domainHost,parse:te.parse,serialize:te.serialize},ne={scheme:"ws",domainHost:!0,parse:function(e,t){var i=e;return i.secure=M(i),i.resourceName=(i.path||"/")+(i.query?"?"+i.query:""),i.path=void 0,i.query=void 0,i},serialize:function(e,t){if(e.port!==(M(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var i=e.resourceName.split("?"),n=E(i,2),o=n[0],r=n[1];e.path=o&&"/"!==o?o:void 0,e.query=r,e.resourceName=void 0;}return e.fragment=void 0,e}},oe={scheme:"wss",domainHost:ne.domainHost,parse:ne.parse,serialize:ne.serialize},re={},se="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ae="[0-9A-Fa-f]",le=i(i("%[EFef]"+ae+"%"+ae+ae+"%"+ae+ae)+"|"+i("%[89A-Fa-f]"+ae+"%"+ae+ae)+"|"+i("%"+ae+ae)),ce=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),de=new RegExp(se,"g"),he=new RegExp(le,"g"),ue=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ce),"g"),ge=new RegExp(t("[^]",se,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),pe=ge,me={scheme:"mailto",parse:function(e,t){var i=e,n=i.to=i.path?i.path.split(","):[];if(i.path=void 0,i.query){for(var o=!1,r={},s=i.query.split("&"),a=0,l=s.length;a<l;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var d=c[1].split(","),h=0,u=d.length;h<u;++h)n.push(d[h]);break;case"subject":i.subject=T(c[1],t);break;case"body":i.body=T(c[1],t);break;default:o=!0,r[T(c[0],t)]=T(c[1],t);}}o&&(i.headers=r);}i.query=void 0;for(var g=0,p=n.length;g<p;++g){var m=n[g].split("@");if(m[0]=T(m[0]),t.unicodeSupport)m[1]=T(m[1],t).toLowerCase();else try{m[1]=K.toASCII(T(m[1],t).toLowerCase());}catch(e){i.error=i.error||"Email address's domain name can not be converted to ASCII via punycode: "+e;}n[g]=m.join("@");}return i},serialize:function(e,t){var i=e,n=r(e.to);if(n){for(var s=0,a=n.length;s<a;++s){var l=String(n[s]),c=l.lastIndexOf("@"),d=l.slice(0,c).replace(he,j).replace(he,o).replace(ue,u),h=l.slice(c+1);try{h=t.iri?K.toUnicode(h):K.toASCII(T(h,t).toLowerCase());}catch(e){i.error=i.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e;}n[s]=d+"@"+h;}i.path=n.join(",");}var g=e.headers=e.headers||{};e.subject&&(g.subject=e.subject),e.body&&(g.body=e.body);var p=[];for(var m in g)g[m]!==re[m]&&p.push(m.replace(he,j).replace(he,o).replace(ge,u)+"="+g[m].replace(he,j).replace(he,o).replace(pe,u));return p.length&&(i.query=p.join("&")),i}},fe=/^([^\:]+)\:(.*)/,Ce={scheme:"urn",parse:function(e,t){var i=e.path&&e.path.match(fe),n=e;if(i){var o=t.scheme||n.scheme||"urn",r=i[1].toLowerCase(),s=i[2],a=o+":"+(t.nid||r),l=Y[a];n.nid=r,n.nss=s,n.path=void 0,l&&(n=l.parse(n,t));}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var i=t.scheme||e.scheme||"urn",n=e.nid,o=i+":"+(t.nid||n),r=Y[o];r&&(e=r.serialize(e,t));var s=e,a=e.nss;return s.path=(n||t.nid)+":"+a,s}},Ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ae={scheme:"urn:uuid",parse:function(e,t){var i=e;return i.uuid=i.nss,i.nss=void 0,t.tolerant||i.uuid&&i.uuid.match(Ie)||(i.error=i.error||"UUID is not valid."),i},serialize:function(e,t){var i=e;return i.nss=(e.uuid||"").toLowerCase(),i}};Y[te.scheme]=te,Y[ie.scheme]=ie,Y[ne.scheme]=ne,Y[oe.scheme]=oe,Y[me.scheme]=me,Y[Ce.scheme]=Ce,Y[Ae.scheme]=Ae,e.SCHEMES=Y,e.pctEncChar=u,e.pctDecChars=g,e.parse=I,e.removeDotSegments=b,e.serialize=v,e.resolveComponents=y,e.resolve=w,e.normalize=x,e.equal=S,e.escapeComponent=k,e.unescapeComponent=T,Object.defineProperty(e,"__esModule",{value:!0});}(t);},function(e,t,i){e.exports=function(e){for(var t,i=0,n=e.length,o=0;o<n;)i++,55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<n&&56320==(64512&(t=e.charCodeAt(o)))&&o++;return i};},function(e,t,i){var n=e.exports=function(e,t,i){"function"==typeof t&&(i=t,t={}),function e(t,i,o,r,s,a,l,c,d,h){if(r&&"object"==typeof r&&!Array.isArray(r)){for(var u in i(r,s,a,l,c,d,h),r){var g=r[u];if(Array.isArray(g)){if(u in n.arrayKeywords)for(var p=0;p<g.length;p++)e(t,i,o,g[p],s+"/"+u+"/"+p,a,s,u,r,p);}else if(u in n.propsKeywords){if(g&&"object"==typeof g)for(var m in g)e(t,i,o,g[m],s+"/"+u+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,u,r,m);}else(u in n.keywords||t.allKeys&&!(u in n.skipKeywords))&&e(t,i,o,g,s+"/"+u,a,s,u,r);}o(r,s,a,l,c,d,h);}}(t,"function"==typeof(i=t.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e);};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};},function(e,t,i){var n=e.exports=function(){this._cache={};};n.prototype.put=function(e,t){this._cache[e]=t;},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e];},n.prototype.clear=function(){this._cache={};};},function(e,t,i){function n(e){return e="full"==e?"full":"fast",a.copy(n[e])}function o(e){var t=e.match(l);if(!t)return !1;var i,n=+t[1],o=+t[2],r=+t[3];return 1<=o&&o<=12&&1<=r&&r<=(2!=o||(i=n)%4!=0||i%100==0&&i%400!=0?c[o]:29)}function r(e,t){var i=e.match(d);if(!i)return !1;var n=i[1],o=i[2],r=i[3],s=i[5];return (n<=23&&o<=59&&r<=59||23==n&&59==o&&60==r)&&(!t||s)}function s(e){if(v.test(e))return !1;try{return new RegExp(e),!0}catch(e){return !1}}var a=i(7),l=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,c=[0,31,28,31,30,31,30,31,31,30,31,30,31],d=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,h=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,g=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,p=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,m=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~/]|~0|~1)*)*$/,C=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,I=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;(e.exports=n).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":g,url:p,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:h,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:s,uuid:m,"json-pointer":f,"json-pointer-uri-fragment":C,"relative-json-pointer":I},n.full={date:o,time:r,"date-time":function(e){var t=e.split(A);return 2==t.length&&o(t[0])&&r(t[1],!0)},uri:function(e){return b.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":g,url:p,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:h,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:s,uuid:m,"json-pointer":f,"json-pointer-uri-fragment":C,"relative-json-pointer":I};var A=/t|\s/i,b=/\/|:/,v=/[^\\]\\Z/;},function(e,t,i){var n=i(52),o=i(7).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=o(t),e.types=o(["number","integer","string","array","object","boolean","null"]),e.forEach(function(i){i.rules=i.rules.map(function(i){var o,r;return "object"==typeof i&&(r=i[o=Object.keys(i)[0]],i=o,r.forEach(function(i){t.push(i),e.all[i]=!0;})),t.push(i),e.all[i]={keyword:i,code:n[i],implements:r}}),e.all.$comment={keyword:"$comment",code:n.$comment},i.type&&(e.types[i.type]=i);}),e.keywords=o(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e};},function(e,t,i){e.exports={$ref:i(53),allOf:i(54),anyOf:i(55),$comment:i(56),const:i(57),contains:i(58),dependencies:i(59),enum:i(60),format:i(61),if:i(62),items:i(63),maximum:i(28),minimum:i(28),maxItems:i(29),minItems:i(29),maxLength:i(30),minLength:i(30),maxProperties:i(31),minProperties:i(31),multipleOf:i(64),not:i(65),oneOf:i(66),pattern:i(67),properties:i(68),propertyNames:i(69),required:i(70),uniqueItems:i(71),validate:i(27)};},function(e,t,i){e.exports=function(e,t){var i,n,o=" ",r=e.level,s=e.dataLevel,a=e.schema[t],l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(s||""),h="valid"+r;if("#"==a||"#/"==a)n=e.isRoot?(i=e.async,"validate"):(i=!0===e.root.schema.$async,"root.refVal[0]");else{var u,g,p=e.resolveRef(e.baseId,a,e.isRoot);if(void 0===p){var m,f=e.MissingRefError.message(e.baseId,a);if("fail"==e.opts.missingRefs){e.logger.error(f),(m=m||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(a)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(a)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(a)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var C=o,o=m.pop();!e.compositeRule&&c?e.async?o+=" throw new ValidationError(["+C+"]); ":o+=" validate.errors = ["+C+"]; return false; ":o+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ");}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,a,f);e.logger.warn(f),c&&(o+=" if (true) { ");}}else p.inline?((u=e.util.copy(e)).level++,g="valid"+u.level,u.schema=p.schema,u.schemaPath="",u.errSchemaPath=a,o+=" "+e.validate(u).replace(/validate\.schema/g,p.code)+" ",c&&(o+=" if ("+g+") { ")):(i=!0===p.$async||e.async&&!1!==p.$async,n=p.code);}if(n){(m=m||[]).push(o),o="",e.opts.passContext?o+=" "+n+".call(this, ":o+=" "+n+"( ",o+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var I=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=m.pop(),i){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+h+"; "),o+=" try { await "+I+"; ",c&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+h+" = false; "),o+=" } ",c&&(o+=" if ("+h+") { ");}else o+=" if (!"+I+") { if (vErrors === null) vErrors = "+n+".errors; else vErrors = vErrors.concat("+n+".errors); errors = vErrors.length; } ",c&&(o+=" else { ");}return o};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),r=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,a=e.util.copy(e),l="";a.level++;var c="valid"+a.level,d=a.baseId,h=!0,u=n;if(u)for(var g,p=-1,m=u.length-1;p<m;)g=u[p+=1],(e.opts.strictKeywords?"object"==typeof g&&0<Object.keys(g).length||!1===g:e.util.schemaHasRules(g,e.RULES.all))&&(h=!1,a.schema=g,a.schemaPath=o+"["+p+"]",a.errSchemaPath=r+"/"+p,i+="  "+e.validate(a)+" ",a.baseId=d,s&&(i+=" if ("+c+") { ",l+="}"));return s&&(i+=h?" if (true) { ":" "+l.slice(0,-1)+" "),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="valid"+n,h="errs__"+n,u=e.util.copy(e),g="";u.level++;var p="valid"+u.level;if(r.every(function(t){return e.opts.strictKeywords?"object"==typeof t&&0<Object.keys(t).length||!1===t:e.util.schemaHasRules(t,e.RULES.all)})){var m=u.baseId;i+=" var "+h+" = errors; var "+d+" = false;  ";var f=e.compositeRule;e.compositeRule=u.compositeRule=!0;var C=r;if(C)for(var I,A=-1,b=C.length-1;A<b;)I=C[A+=1],u.schema=I,u.schemaPath=s+"["+A+"]",u.errSchemaPath=a+"/"+A,i+="  "+e.validate(u)+" ",u.baseId=m,i+=" "+d+" = "+d+" || "+p+"; if (!"+d+") { ",g+="}";e.compositeRule=u.compositeRule=f,i+=" "+g+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ");}else l&&(i+=" if (true) { ");return i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.schema[t],o=e.errSchemaPath+"/"+t,r=(e.opts.allErrors,e.util.toQuotedString(n));return !0===e.opts.$comment?i+=" console.log("+r+");":"function"==typeof e.opts.$comment&&(i+=" self._opts.$comment("+r+", "+e.util.toQuotedString(o)+", validate.root.schema);"),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="valid"+n,h=e.opts.$data&&r&&r.$data;h&&(i+=" var schema"+n+" = "+e.util.getData(r.$data,o,e.dataPathArr)+"; "),h||(i+=" var schema"+n+" = validate.schema"+s+";"),i+="var "+d+" = equal("+c+", schema"+n+"); if (!"+d+") {   ";var u=u||[];u.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { allowedValue: schema"+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var g=i,i=u.pop();return !e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",l&&(i+=" else { "),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="valid"+n,h="errs__"+n,u=e.util.copy(e);u.level++;var g,p,m,f="valid"+u.level,C="i"+n,I=u.dataLevel=e.dataLevel+1,A="data"+I,b=e.baseId,v=e.opts.strictKeywords?"object"==typeof r&&0<Object.keys(r).length||!1===r:e.util.schemaHasRules(r,e.RULES.all);i+="var "+h+" = errors;var "+d+";",v?(g=e.compositeRule,e.compositeRule=u.compositeRule=!0,u.schema=r,u.schemaPath=s,u.errSchemaPath=a,i+=" var "+f+" = false; for (var "+C+" = 0; "+C+" < "+c+".length; "+C+"++) { ",u.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),p=c+"["+C+"]",u.dataPathArr[I]=C,m=e.validate(u),u.baseId=b,e.util.varOccurences(m,A)<2?i+=" "+e.util.varReplace(m,A,p)+" ":i+=" var "+A+" = "+p+"; "+m+" ",i+=" if ("+f+") break; }  ",e.compositeRule=u.compositeRule=g,i+="  if (!"+f+") {"):i+=" if ("+c+".length == 0) {";var y=y||[];y.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should contain a valid item' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var w=i,i=y.pop();return !e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+w+"]); ":i+=" validate.errors = ["+w+"]; return false; ":i+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ",v&&(i+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(i+=" } "),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="errs__"+n,h=e.util.copy(e),u="";h.level++;var g,p="valid"+h.level,m={},f={},C=e.opts.ownProperties;for(E in r)"__proto__"!=E&&(O=r[E],(g=Array.isArray(O)?f:m)[E]=O);i+="var "+d+" = errors;";var I=e.errorPath;for(E in i+="var missing"+n+";",f)if((g=f[E]).length){if(i+=" if ( "+c+e.util.getProperty(E)+" !== undefined ",C&&(i+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(E)+"') "),l){i+=" && ( ";var A=g;if(A)for(var b=-1,v=A.length-1;b<v;)T=A[b+=1],b&&(i+=" || "),i+=" ( ( "+(R=c+(N=e.util.getProperty(T)))+" === undefined ",C&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(T)+"') "),i+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:N)+") ) ";i+=")) {  ";var y="missing"+n,w="' + "+y+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(I,y,!0):I+" + "+y);var x=x||[];x.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+w+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==g.length?i+="property "+e.util.escapeQuotes(g[0]):i+="properties "+e.util.escapeQuotes(g.join(", ")),i+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var S=i,i=x.pop();!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";}else{i+=" ) { ";var k=g;if(k)for(var T,M=-1,j=k.length-1;M<j;){T=k[M+=1];var N=e.util.getProperty(T),w=e.util.escapeQuotes(T),R=c+N;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(I,T,e.opts.jsonPointers)),i+=" if ( "+R+" === undefined ",C&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(T)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+w+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==g.length?i+="property "+e.util.escapeQuotes(g[0]):i+="properties "+e.util.escapeQuotes(g.join(", ")),i+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";}}i+=" }   ",l&&(u+="}",i+=" else { ");}e.errorPath=I;var E,L=h.baseId;for(E in m){var O=m[E];(e.opts.strictKeywords?"object"==typeof O&&0<Object.keys(O).length||!1===O:e.util.schemaHasRules(O,e.RULES.all))&&(i+=" "+p+" = true; if ( "+c+e.util.getProperty(E)+" !== undefined ",C&&(i+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(E)+"') "),i+=") { ",h.schema=O,h.schemaPath=s+e.util.getProperty(E),h.errSchemaPath=a+"/"+e.util.escapeFragment(E),i+="  "+e.validate(h)+" ",h.baseId=L,i+=" }  ",l&&(i+=" if ("+p+") { ",u+="}"));}return l&&(i+="   "+u+" if ("+d+" == errors) {"),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="valid"+n,h=e.opts.$data&&r&&r.$data,u=(h&&(i+=" var schema"+n+" = "+e.util.getData(r.$data,o,e.dataPathArr)+"; "),"i"+n),g="schema"+n;h||(i+=" var "+g+" = validate.schema"+s+";"),i+="var "+d+";",h&&(i+=" if (schema"+n+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+n+")) "+d+" = false; else {"),i+=d+" = false;for (var "+u+"=0; "+u+"<"+g+".length; "+u+"++) if (equal("+c+", "+g+"["+u+"])) { "+d+" = true; break; }",h&&(i+="  }  "),i+=" if (!"+d+") {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { allowedValues: schema"+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var m=i,i=p.pop();return !e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",l&&(i+=" else { "),i};},function(e,t,i){e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(r||"");if(!1===e.opts.format)return c&&(n+=" if (true) { "),n;var h,u=e.opts.$data&&s&&s.$data,g=u?(n+=" var schema"+o+" = "+e.util.getData(s.$data,r,e.dataPathArr)+"; ","schema"+o):s,p=e.opts.unknownFormats,m=Array.isArray(p);if(u)n+=" var "+(h="format"+o)+" = formats["+g+"]; var "+(f="isObject"+o)+" = typeof "+h+" == 'object' && !("+h+" instanceof RegExp) && "+h+".validate; var "+(I="formatType"+o)+" = "+f+" && "+h+".type || 'string'; if ("+f+") { ",e.async&&(n+=" var async"+o+" = "+h+".async; "),n+=" "+h+" = "+h+".validate; } if (  ",u&&(n+=" ("+g+" !== undefined && typeof "+g+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+g+" && !"+h+" ",m&&(n+=" && self._opts.unknownFormats.indexOf("+g+") == -1 "),n+=") || "),n+=" ("+h+" && "+I+" == '"+i+"' && !(typeof "+h+" == 'function' ? ",e.async?n+=" (async"+o+" ? await "+h+"("+d+") : "+h+"("+d+")) ":n+=" "+h+"("+d+") ",n+=" : "+h+".test("+d+"))))) {";else{if(!(h=e.formats[s])){if("ignore"==p)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(m&&0<=p.indexOf(s))return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var f,C,I=(f="object"==typeof h&&!(h instanceof RegExp)&&h.validate)&&h.type||"string";if(f&&(C=!0===h.async,h=h.validate),I!=i)return c&&(n+=" if (true) { "),n;if(C){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(A="formats"+e.util.getProperty(s)+".validate")+"("+d+"))) { ";}else{n+=" if (! ";var A="formats"+e.util.getProperty(s);f&&(A+=".validate"),n+="function"==typeof h?" "+A+"("+d+") ":" "+A+".test("+d+") ",n+=") { ";}}var b=b||[];b.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",n+=u?""+g:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=u?"' + "+g+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=u?"validate.schema"+a:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n,n=b.pop();return !e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="valid"+n,h="errs__"+n,u=e.util.copy(e);u.level++;var g,p,m="valid"+u.level,f=e.schema.then,C=e.schema.else,I=void 0!==f&&(e.opts.strictKeywords?"object"==typeof f&&0<Object.keys(f).length||!1===f:e.util.schemaHasRules(f,e.RULES.all)),A=void 0!==C&&(e.opts.strictKeywords?"object"==typeof C&&0<Object.keys(C).length||!1===C:e.util.schemaHasRules(C,e.RULES.all)),b=u.baseId;return I||A?(u.createErrors=!1,u.schema=r,u.schemaPath=s,u.errSchemaPath=a,i+=" var "+h+" = errors; var "+d+" = true;  ",p=e.compositeRule,e.compositeRule=u.compositeRule=!0,i+="  "+e.validate(u)+" ",u.baseId=b,u.createErrors=!0,i+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=u.compositeRule=p,I?(i+=" if ("+m+") {  ",u.schema=e.schema.then,u.schemaPath=e.schemaPath+".then",u.errSchemaPath=e.errSchemaPath+"/then",i+="  "+e.validate(u)+" ",u.baseId=b,i+=" "+d+" = "+m+"; ",I&&A?i+=" var "+(g="ifClause"+n)+" = 'then'; ":g="'then'",i+=" } ",A&&(i+=" else { ")):i+=" if (!"+m+") { ",A&&(u.schema=e.schema.else,u.schemaPath=e.schemaPath+".else",u.errSchemaPath=e.errSchemaPath+"/else",i+="  "+e.validate(u)+" ",u.baseId=b,i+=" "+d+" = "+m+"; ",I&&A?i+=" var "+(g="ifClause"+n)+" = 'else'; ":g="'else'",i+=" } "),i+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { failingKeyword: "+g+" } ",!1!==e.opts.messages&&(i+=" , message: 'should match \"' + "+g+" + '\" schema' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" }   ",l&&(i+=" else { ")):l&&(i+=" if (true) { "),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="valid"+n,h="errs__"+n,u=e.util.copy(e),g="";u.level++;var p="valid"+u.level,m="i"+n,f=u.dataLevel=e.dataLevel+1,C="data"+f,I=e.baseId;if(i+="var "+h+" = errors;var "+d+";",Array.isArray(r)){var A,b,v,y=e.schema.additionalItems;!1===y&&(i+=" "+d+" = "+c+".length <= "+r.length+"; ",A=a,a=e.errSchemaPath+"/additionalItems",(b=b||[]).push(i+="  if (!"+d+") {   "),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+r.length+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have more than "+r.length+" items' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",v=i,i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",a=A,l&&(g+="}",i+=" else { "));var w=r;if(w)for(var x=-1,S=w.length-1;x<S;){var k,T,M=w[x+=1];(e.opts.strictKeywords?"object"==typeof M&&0<Object.keys(M).length||!1===M:e.util.schemaHasRules(M,e.RULES.all))&&(i+=" "+p+" = true; if ("+c+".length > "+x+") { ",k=c+"["+x+"]",u.schema=M,u.schemaPath=s+"["+x+"]",u.errSchemaPath=a+"/"+x,u.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0),u.dataPathArr[f]=x,T=e.validate(u),u.baseId=I,e.util.varOccurences(T,C)<2?i+=" "+e.util.varReplace(T,C,k)+" ":i+=" var "+C+" = "+k+"; "+T+" ",i+=" }  ",l&&(i+=" if ("+p+") { ",g+="}"));}"object"==typeof y&&(e.opts.strictKeywords?"object"==typeof y&&0<Object.keys(y).length||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(u.schema=y,u.schemaPath=e.schemaPath+".additionalItems",u.errSchemaPath=e.errSchemaPath+"/additionalItems",i+=" "+p+" = true; if ("+c+".length > "+r.length+") {  for (var "+m+" = "+r.length+"; "+m+" < "+c+".length; "+m+"++) { ",u.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0),k=c+"["+m+"]",u.dataPathArr[f]=m,T=e.validate(u),u.baseId=I,e.util.varOccurences(T,C)<2?i+=" "+e.util.varReplace(T,C,k)+" ":i+=" var "+C+" = "+k+"; "+T+" ",l&&(i+=" if (!"+p+") break; "),i+=" } }  ",l&&(i+=" if ("+p+") { ",g+="}"));}else(e.opts.strictKeywords?"object"==typeof r&&0<Object.keys(r).length||!1===r:e.util.schemaHasRules(r,e.RULES.all))&&(u.schema=r,u.schemaPath=s,u.errSchemaPath=a,i+="  for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",u.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0),k=c+"["+m+"]",u.dataPathArr[f]=m,T=e.validate(u),u.baseId=I,e.util.varOccurences(T,C)<2?i+=" "+e.util.varReplace(T,C,k)+" ":i+=" var "+C+" = "+k+"; "+T+" ",l&&(i+=" if (!"+p+") break; "),i+=" }");return l&&(i+=" "+g+" if ("+h+" == errors) {"),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d=e.opts.$data&&r&&r.$data,h=d?(i+=" var schema"+n+" = "+e.util.getData(r.$data,o,e.dataPathArr)+"; ","schema"+n):r;if(!d&&"number"!=typeof r)throw new Error(t+" must be number");i+="var division"+n+";if (",d&&(i+=" "+h+" !== undefined && ( typeof "+h+" != 'number' || "),i+=" (division"+n+" = "+c+" / "+h+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+n+") - division"+n+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+n+" !== parseInt(division"+n+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var u=u||[];u.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { multipleOf: "+h+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+h:h+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+r,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var g=i,i=u.pop();return !e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="errs__"+n,h=e.util.copy(e);h.level++;var u,g,p,m,f="valid"+h.level;return (e.opts.strictKeywords?"object"==typeof r&&0<Object.keys(r).length||!1===r:e.util.schemaHasRules(r,e.RULES.all))?(h.schema=r,h.schemaPath=s,h.errSchemaPath=a,i+=" var "+d+" = errors;  ",u=e.compositeRule,e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(g=h.opts.allErrors,h.opts.allErrors=!1),i+=" "+e.validate(h)+" ",h.createErrors=!0,g&&(h.opts.allErrors=g),e.compositeRule=h.compositeRule=u,(p=p||[]).push(i+=" if ("+f+") {   "),i="",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",m=i,i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")):(i+="  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(i+=" if (false) { ")),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="valid"+n,h="errs__"+n,u=e.util.copy(e),g="";u.level++;var p="valid"+u.level,m=u.baseId,f="prevValid"+n,C="passingSchemas"+n;i+="var "+h+" = errors , "+f+" = false , "+d+" = false , "+C+" = null; ";var I=e.compositeRule;e.compositeRule=u.compositeRule=!0;var A=r;if(A)for(var b,v=-1,y=A.length-1;v<y;)b=A[v+=1],(e.opts.strictKeywords?"object"==typeof b&&0<Object.keys(b).length||!1===b:e.util.schemaHasRules(b,e.RULES.all))?(u.schema=b,u.schemaPath=s+"["+v+"]",u.errSchemaPath=a+"/"+v,i+="  "+e.validate(u)+" ",u.baseId=m):i+=" var "+p+" = true; ",v&&(i+=" if ("+p+" && "+f+") { "+d+" = false; "+C+" = ["+C+", "+v+"]; } else { ",g+="}"),i+=" if ("+p+") { "+d+" = "+f+" = true; "+C+" = "+v+"; }";return e.compositeRule=u.compositeRule=I,i+=g+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { passingSchemas: "+C+" } ",!1!==e.opts.messages&&(i+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(i+=" } "),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d=e.opts.$data&&r&&r.$data,h=d?(i+=" var schema"+n+" = "+e.util.getData(r.$data,o,e.dataPathArr)+"; ","schema"+n):r;i+="if ( ",d&&(i+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),i+=" !"+(d?"(new RegExp("+h+"))":e.usePattern(r))+".test("+c+") ) {   ";var u=u||[];u.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { pattern:  ",i+=d?""+h:""+e.util.toQuotedString(r),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+h+" + '":""+e.util.escapeQuotes(r),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+e.util.toQuotedString(r),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var g=i,i=u.pop();return !e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i};},function(e,t,i){e.exports=function(e,t){function i(e){return "__proto__"!==e}var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(r||""),h="errs__"+o,u=e.util.copy(e),g="";u.level++;var p,m,f,C="valid"+u.level,I="key"+o,A="idx"+o,b=u.dataLevel=e.dataLevel+1,v="data"+b,y="dataProperties"+o,w=Object.keys(s||{}).filter(i),x=e.schema.patternProperties||{},S=Object.keys(x).filter(i),k=e.schema.additionalProperties,T=w.length||S.length,M=!1===k,j="object"==typeof k&&Object.keys(k).length,N=e.opts.removeAdditional,R=M||j||N,E=e.opts.ownProperties,L=e.baseId,O=e.schema.required;if(O&&(!e.opts.$data||!O.$data)&&O.length<e.opts.loopRequired&&(p=e.util.toHash(O)),n+="var "+h+" = errors;var "+C+" = true;",E&&(n+=" var "+y+" = undefined;"),R){if(n+=E?" "+y+" = "+y+" || Object.keys("+d+"); for (var "+A+"=0; "+A+"<"+y+".length; "+A+"++) { var "+I+" = "+y+"["+A+"]; ":" for (var "+I+" in "+d+") { ",T){if(n+=" var isAdditional"+o+" = !(false ",w.length)if(8<w.length)n+=" || validate.schema"+a+".hasOwnProperty("+I+") ";else{var Z=w;if(Z)for(var W=-1,G=Z.length-1;W<G;)z=Z[W+=1],n+=" || "+I+" == "+e.util.toQuotedString(z)+" ";}if(S.length){var D=S;if(D)for(var B=-1,H=D.length-1;B<H;)ie=D[B+=1],n+=" || "+e.usePattern(ie)+".test("+I+") ";}n+=" ); if (isAdditional"+o+") { ";}"all"==N?n+=" delete "+d+"["+I+"]; ":(X=e.errorPath,m="' + "+I+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers)),M?N?n+=" delete "+d+"["+I+"]; ":(n+=" "+C+" = false; ",J=l,l=e.errSchemaPath+"/additionalProperties",(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+m+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",q=n,n=Q.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=J,c&&(n+=" break; ")):j&&("failing"==N?(n+=" var "+h+" = errors;  ",f=e.compositeRule,e.compositeRule=u.compositeRule=!0,u.schema=k,u.schemaPath=e.schemaPath+".additionalProperties",u.errSchemaPath=e.errSchemaPath+"/additionalProperties",u.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers),re=d+"["+I+"]",u.dataPathArr[b]=I,se=e.validate(u),u.baseId=L,e.util.varOccurences(se,v)<2?n+=" "+e.util.varReplace(se,v,re)+" ":n+=" var "+v+" = "+re+"; "+se+" ",n+=" if (!"+C+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+I+"]; }  ",e.compositeRule=u.compositeRule=f):(u.schema=k,u.schemaPath=e.schemaPath+".additionalProperties",u.errSchemaPath=e.errSchemaPath+"/additionalProperties",u.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers),re=d+"["+I+"]",u.dataPathArr[b]=I,se=e.validate(u),u.baseId=L,e.util.varOccurences(se,v)<2?n+=" "+e.util.varReplace(se,v,re)+" ":n+=" var "+v+" = "+re+"; "+se+" ",c&&(n+=" if (!"+C+") break; "))),e.errorPath=X),T&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+C+") { ",g+="}");}var _=e.opts.useDefaults&&!e.compositeRule;if(w.length){var $=w;if($)for(var z,P=-1,V=$.length-1;P<V;){var F,K,Y,X,J,U,Q,q,ee=s[z=$[P+=1]];(e.opts.strictKeywords?"object"==typeof ee&&0<Object.keys(ee).length||!1===ee:e.util.schemaHasRules(ee,e.RULES.all))&&(re=d+(F=e.util.getProperty(z)),K=_&&void 0!==ee.default,u.schema=ee,u.schemaPath=a+F,u.errSchemaPath=l+"/"+e.util.escapeFragment(z),u.errorPath=e.util.getPath(e.errorPath,z,e.opts.jsonPointers),u.dataPathArr[b]=e.util.toQuotedString(z),se=e.validate(u),u.baseId=L,e.util.varOccurences(se,v)<2?(se=e.util.varReplace(se,v,re),Y=re):n+=" var "+(Y=v)+" = "+re+"; ",K?n+=" "+se+" ":(p&&p[z]?(n+=" if ( "+Y+" === undefined ",E&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(z)+"') "),n+=") { "+C+" = false; ",X=e.errorPath,J=l,U=e.util.escapeQuotes(z),e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(X,z,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+U+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+U+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",q=n,n=Q.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=J,e.errorPath=X,n+=" } else { "):c?(n+=" if ( "+Y+" === undefined ",E&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(z)+"') "),n+=") { "+C+" = true; } else { "):(n+=" if ("+Y+" !== undefined ",E&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(z)+"') "),n+=" ) { "),n+=" "+se+" } ")),c&&(n+=" if ("+C+") { ",g+="}");}}if(S.length){var te=S;if(te)for(var ie,ne=-1,oe=te.length-1;ne<oe;){var re,se,ee=x[ie=te[ne+=1]];(e.opts.strictKeywords?"object"==typeof ee&&0<Object.keys(ee).length||!1===ee:e.util.schemaHasRules(ee,e.RULES.all))&&(u.schema=ee,u.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),u.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),n+=E?" "+y+" = "+y+" || Object.keys("+d+"); for (var "+A+"=0; "+A+"<"+y+".length; "+A+"++) { var "+I+" = "+y+"["+A+"]; ":" for (var "+I+" in "+d+") { ",n+=" if ("+e.usePattern(ie)+".test("+I+")) { ",u.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers),re=d+"["+I+"]",u.dataPathArr[b]=I,se=e.validate(u),u.baseId=L,e.util.varOccurences(se,v)<2?n+=" "+e.util.varReplace(se,v,re)+" ":n+=" var "+v+" = "+re+"; "+se+" ",c&&(n+=" if (!"+C+") break; "),n+=" } ",c&&(n+=" else "+C+" = true; "),n+=" }  ",c&&(n+=" if ("+C+") { ",g+="}"));}}return c&&(n+=" "+g+" if ("+h+" == errors) {"),n};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="errs__"+n,h=e.util.copy(e);h.level++;var u,g,p,m,f,C,I,A,b,v,y,w="valid"+h.level;return i+="var "+d+" = errors;",(e.opts.strictKeywords?"object"==typeof r&&0<Object.keys(r).length||!1===r:e.util.schemaHasRules(r,e.RULES.all))&&(h.schema=r,h.schemaPath=s,h.errSchemaPath=a,g="idx"+n,p="i"+n,m="' + "+(u="key"+n)+" + '",f="data"+(h.dataLevel=e.dataLevel+1),C="dataProperties"+n,I=e.opts.ownProperties,A=e.baseId,I&&(i+=" var "+C+" = undefined; "),i+=I?" "+C+" = "+C+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+C+".length; "+g+"++) { var "+u+" = "+C+"["+g+"]; ":" for (var "+u+" in "+c+") { ",i+=" var startErrs"+n+" = errors; ",b=u,v=e.compositeRule,e.compositeRule=h.compositeRule=!0,y=e.validate(h),h.baseId=A,e.util.varOccurences(y,f)<2?i+=" "+e.util.varReplace(y,f,b)+" ":i+=" var "+f+" = "+b+"; "+y+" ",e.compositeRule=h.compositeRule=v,i+=" if (!"+w+") { for (var "+p+"=startErrs"+n+"; "+p+"<errors; "+p+"++) { vErrors["+p+"].propertyName = "+u+"; }   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { propertyName: '"+m+"' } ",!1!==e.opts.messages&&(i+=" , message: 'property name \\'"+m+"\\' is invalid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),l&&(i+=" break; "),i+=" } }"),l&&(i+="  if ("+d+" == errors) {"),i};},function(e,t,i){e.exports=function(e,t){var i=" ",n=e.level,o=e.dataLevel,r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),d="valid"+n,h=e.opts.$data&&r&&r.$data,u=(h&&(i+=" var schema"+n+" = "+e.util.getData(r.$data,o,e.dataPathArr)+"; "),"schema"+n);if(!h)if(r.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var g=[],p=r;if(p)for(var m,f=-1,C=p.length-1;f<C;){m=p[f+=1];var I=e.schema.properties[m];I&&(e.opts.strictKeywords?"object"==typeof I&&0<Object.keys(I).length||!1===I:e.util.schemaHasRules(I,e.RULES.all))||(g[g.length]=m);}}else g=r;if(h||g.length){var A=e.errorPath,b=h||g.length>=e.opts.loopRequired,v=e.opts.ownProperties;if(l)if(i+=" var missing"+n+"; ",b){h||(i+=" var "+u+" = validate.schema"+s+"; ");var y="' + "+(M="schema"+n+"["+(S="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(A,M,e.opts.jsonPointers)),i+=" var "+d+" = true; ",h&&(i+=" if (schema"+n+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+n+")) "+d+" = false; else {"),i+=" for (var "+S+" = 0; "+S+" < "+u+".length; "+S+"++) { "+d+" = "+c+"["+u+"["+S+"]] !== undefined ",v&&(i+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+u+"["+S+"]) "),i+="; if (!"+d+") break; } ",h&&(i+="  }  "),(T=T||[]).push(i+="  if (!"+d+") {   "),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+y+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+y+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var w=i,i=T.pop();!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+w+"]); ":i+=" validate.errors = ["+w+"]; return false; ":i+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ";}else{i+=" if ( ";var x=g;if(x)for(var S=-1,k=x.length-1;S<k;)N=x[S+=1],S&&(i+=" || "),i+=" ( ( "+(O=c+(L=e.util.getProperty(N)))+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(N)+"') "),i+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?N:L)+") ) ";i+=") {  ";var T,y="' + "+(M="missing"+n)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(A,M,!0):A+" + "+M),(T=T||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+y+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+y+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",w=i,i=T.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+w+"]); ":i+=" validate.errors = ["+w+"]; return false; ":i+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ";}else if(b){h||(i+=" var "+u+" = validate.schema"+s+"; ");var M,y="' + "+(M="schema"+n+"["+(S="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(A,M,e.opts.jsonPointers)),h&&(i+=" if ("+u+" && !Array.isArray("+u+")) {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+y+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+y+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+u+" !== undefined) { "),i+=" for (var "+S+" = 0; "+S+" < "+u+".length; "+S+"++) { if ("+c+"["+u+"["+S+"]] === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+u+"["+S+"]) "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+y+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+y+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(i+="  }  ");}else{var j=g;if(j)for(var N,R=-1,E=j.length-1;R<E;){N=j[R+=1];var L=e.util.getProperty(N),y=e.util.escapeQuotes(N),O=c+L;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(A,N,e.opts.jsonPointers)),i+=" if ( "+O+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(N)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+y+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+y+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";}}e.errorPath=A;}else l&&(i+=" if (true) {");return i};},function(e,t,i){e.exports=function(e,t){var i,n,o,r,s,a=" ",l=e.level,c=e.dataLevel,d=e.schema[t],h=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,g=!e.opts.allErrors,p="data"+(c||""),m="valid"+l,f=e.opts.$data&&d&&d.$data,C=f?(a+=" var schema"+l+" = "+e.util.getData(d.$data,c,e.dataPathArr)+"; ","schema"+l):d;return (d||f)&&!1!==e.opts.uniqueItems?(f&&(a+=" var "+m+"; if ("+C+" === false || "+C+" === undefined) "+m+" = true; else if (typeof "+C+" != 'boolean') "+m+" = false; else { "),a+=" var i = "+p+".length , "+m+" = true , j; if (i > 1) { ",i=e.schema.items&&e.schema.items.type,n=Array.isArray(i),!i||"object"==i||"array"==i||n&&(0<=i.indexOf("object")||0<=i.indexOf("array"))?a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+m+" = false; break outer; } } } ":(a+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ",o="checkDataType"+(n?"s":""),a+=" if ("+e.util[o](i,"item",e.opts.strictNumbers,!0)+") continue; ",n&&(a+=" if (typeof item == 'string') item = '\"' + item; "),a+=" if (typeof itemIndices[item] == 'number') { "+m+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),a+=" } ",f&&(a+="  }  "),(r=r||[]).push(a+=" if (!"+m+") {   "),a="",!1!==e.createErrors?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+h:""+d,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",s=a,a=r.pop(),!e.compositeRule&&g?e.async?a+=" throw new ValidationError(["+s+"]); ":a+=" validate.errors = ["+s+"]; return false; ":a+=" var err = "+s+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",g&&(a+=" else { ")):g&&(a+=" if (true) { "),a};},function(e,t,i){var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var i=0;i<t.length;i++){e=JSON.parse(JSON.stringify(e));for(var o=t[i].split("/"),r=e,s=1;s<o.length;s++)r=r[o[s]];for(s=0;s<n.length;s++){var a=n[s],l=r[a];l&&(r[a]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]});}}return e};},function(e,t,i){function n(e,t,i){function r(e){var t=e.$schema;return t&&!s.getSchema(t)?n.call(s,{$ref:t},!0):Promise.resolve()}var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(i=t,t=void 0);var a=r(e).then(function(){var i=s._addSchema(e,void 0,t);return i.validate||function e(i){try{return s._compile(i)}catch(n){if(n instanceof o)return function(n){function o(){delete s._loadingSchemas[l];}function a(e){return s._refs[e]||s._schemas[e]}var l=n.missingSchema;if(a(l))throw new Error("Schema "+l+" is loaded but "+n.missingRef+" cannot be resolved");var c=s._loadingSchemas[l];return c||(c=s._loadingSchemas[l]=s._opts.loadSchema(l)).then(o,o),c.then(function(e){if(!a(l))return r(e).then(function(){a(l)||s.addSchema(e,l,void 0,t);})}).then(function(){return e(i)})}(n);throw n}}(i)});return i&&a.then(function(e){i(null,e);},i),a}var o=i(19).MissingRef;e.exports=n;},function(e,t,i){function n(e,t){n.errors=null;var i=this._validateKeyword=this._validateKeyword||this.compile(s,!0);if(i(e))return !0;if(n.errors=i.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(i.errors));return !1}var o=/^[a-z_$][a-z0-9_$-]*$/i,r=i(75),s=i(76);e.exports={add:function(e,t){function i(e,t,i){for(var o,s=0;s<n.length;s++){var a=n[s];if(a.type==t){o=a;break}}o||(o={type:t,rules:[]},n.push(o));var l={keyword:e,definition:i,custom:!0,code:r,implements:i.implements};o.rules.push(l),n.custom[e]=l;}var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!o.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var s=t.type;if(Array.isArray(s))for(var a=0;a<s.length;a++)i(e,s[a],t);else i(e,s,t);var l=t.metaSchema;l&&(t.$data&&this._opts.$data&&(l={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(l,!0));}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var i=0;i<t.length;i++)for(var n=t[i].rules,o=0;o<n.length;o++)if(n[o].keyword==e){n.splice(o,1);break}return this},validate:n};},function(e,t,i){e.exports=function(e,t){var i,n,o,r,s,a,l=" ",c=e.level,d=e.dataLevel,h=e.schema[t],u=e.schemaPath+e.util.getProperty(t),g=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,m="data"+(d||""),f="valid"+c,C="errs__"+c,I=e.opts.$data&&h&&h.$data,A=I?(l+=" var schema"+c+" = "+e.util.getData(h.$data,d,e.dataPathArr)+"; ","schema"+c):h,b="definition"+c,v=this.definition,y="";if(I&&v.$data){a="keywordValidate"+c;var w=v.validateSchema;l+=" var "+b+" = RULES.custom['"+t+"'].definition; var "+a+" = "+b+".validate;";}else{if(!(s=e.useCustomRule(this,h,e.schema,e)))return;A="validate.schema"+u,a=s.code,n=v.compile,o=v.inline,r=v.macro;}var x,S,k,T,M,j,N,R,E,L,O=a+".errors",Z="i"+c,W="ruleErr"+c,G=v.async;if(G&&!e.async)throw new Error("async keyword in sync schema");return o||r||(l+=O+" = null;"),l+="var "+C+" = errors;var "+f+";",I&&v.$data&&(y+="}",l+=" if ("+A+" === undefined) { "+f+" = true; } else { ",w&&(y+="}",l+=" "+f+" = "+b+".validateSchema("+A+"); if ("+f+") { ")),o?v.statements?l+=" "+s.validate+" ":l+=" "+f+" = "+s.validate+"; ":r?(y="",(x=e.util.copy(e)).level++,S="valid"+x.level,x.schema=s.validate,x.schemaPath="",k=e.compositeRule,e.compositeRule=x.compositeRule=!0,T=e.validate(x).replace(/validate\.schema/g,a),e.compositeRule=x.compositeRule=k,l+=" "+T):((R=R||[]).push(l),l="",l+="  "+a+".call( ",e.opts.passContext?l+="this":l+="self",n||!1===v.schema?l+=" , "+m+" ":l+=" , "+A+" , "+m+" , validate.schema"+e.schemaPath+" ",l+=" , (dataPath || '')",'""'!=e.errorPath&&(l+=" + "+e.errorPath),N=l+=" , "+(M=d?"data"+(d-1||""):"parentData")+" , "+(j=d?e.dataPathArr[d]:"parentDataProperty")+" , rootData )  ",l=R.pop(),!1===v.errors?(l+=" "+f+" = ",G&&(l+="await "),l+=N+"; "):l+=G?" var "+(O="customErrors"+c)+" = null; try { "+f+" = await "+N+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+O+" = e.errors; else throw e; } ":" "+O+" = null; "+f+" = "+N+"; "),v.modifying&&(l+=" if ("+M+") "+m+" = "+M+"["+j+"];"),l+=""+y,v.valid?p&&(l+=" if (true) { "):(l+=" if ( ",void 0===v.valid?(l+=" !",l+=r?""+S:f):l+=" "+!v.valid+" ",l+=") { ",i=this.keyword,(R=R||[]).push(l),(R=R||[]).push(l=""),l="",!1!==e.createErrors?(l+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(l+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(l+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),l+=" } "):l+=" {} ",E=l,l=R.pop(),!e.compositeRule&&p?e.async?l+=" throw new ValidationError(["+E+"]); ":l+=" validate.errors = ["+E+"]; return false; ":l+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",L=l,l=R.pop(),o?v.errors?"full"!=v.errors&&(l+="  for (var "+Z+"="+C+"; "+Z+"<errors; "+Z+"++) { var "+W+" = vErrors["+Z+"]; if ("+W+".dataPath === undefined) "+W+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+W+".schemaPath === undefined) { "+W+'.schemaPath = "'+g+'"; } ',e.opts.verbose&&(l+=" "+W+".schema = "+A+"; "+W+".data = "+m+"; "),l+=" } "):!1===v.errors?l+=" "+L+" ":(l+=" if ("+C+" == errors) { "+L+" } else {  for (var "+Z+"="+C+"; "+Z+"<errors; "+Z+"++) { var "+W+" = vErrors["+Z+"]; if ("+W+".dataPath === undefined) "+W+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+W+".schemaPath === undefined) { "+W+'.schemaPath = "'+g+'"; } ',e.opts.verbose&&(l+=" "+W+".schema = "+A+"; "+W+".data = "+m+"; "),l+=" } } "):r?(l+="   var err =   ",!1!==e.createErrors?(l+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(l+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(l+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),l+=" } "):l+=" {} ",l+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?l+=" throw new ValidationError(vErrors); ":l+=" validate.errors = vErrors; return false; ")):!1===v.errors?l+=" "+L+" ":(l+=" if (Array.isArray("+O+")) { if (vErrors === null) vErrors = "+O+"; else vErrors = vErrors.concat("+O+"); errors = vErrors.length;  for (var "+Z+"="+C+"; "+Z+"<errors; "+Z+"++) { var "+W+" = vErrors["+Z+"]; if ("+W+".dataPath === undefined) "+W+".dataPath = (dataPath || '') + "+e.errorPath+";  "+W+'.schemaPath = "'+g+'";  ',e.opts.verbose&&(l+=" "+W+".schema = "+A+"; "+W+".data = "+m+"; "),l+=" } } else { "+L+" } "),l+=" } ",p&&(l+=" else { ")),l};},function(e,t,i){var n=i(32);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}};},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}');},function(e){e.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}');},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}');},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}function a(e){return (a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}function c(e){return e.getInternalPath()}function d(e){return e.getField()}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){this.editor=e,this.dom={};}function g(e,t){this.editor=e,this.parent=t,this.dom={};}i.r(t),i.d(t,"treeModeMixins",function(){return D});var p=i(13),m=i.n(p),f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.locked=!1;}var t,i;return t=e,(i=[{key:"highlight",value:function(e){this.locked||(this.node!==e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight());}},{key:"unhighlight",value:function(){var e;this.locked||(e=this).node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0;},0));}},{key:"_cancelUnhighlight",value:function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0);}},{key:"lock",value:function(){this.locked=!0;}},{key:"unlock",value:function(){this.locked=!1;}}])&&n(t.prototype,i),e}(),C=i(0),I=function(){function e(t){function i(e){return t.node.findNodeByInternalPath(e)}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(e){i(e.parentPath).childs[e.index].updateField(e.oldValue);},redo:function(e){i(e.parentPath).childs[e.index].updateField(e.newValue);}},editValue:{undo:function(e){i(e.path).updateValue(e.oldValue);},redo:function(e){i(e.path).updateValue(e.newValue);}},changeType:{undo:function(e){i(e.path).changeType(e.oldType);},redo:function(e){i(e.path).changeType(e.newType);}},appendNodes:{undo:function(e){var t=i(e.parentPath);e.paths.map(i).forEach(function(e){t.removeChild(e);});},redo:function(e){var t=i(e.parentPath);e.nodes.forEach(function(e){t.appendChild(e);});}},insertBeforeNodes:{undo:function(e){var t=i(e.parentPath);e.paths.map(i).forEach(function(e){t.removeChild(e);});},redo:function(e){var t=i(e.parentPath),n=i(e.beforePath);e.nodes.forEach(function(e){t.insertBefore(e,n);});}},insertAfterNodes:{undo:function(e){var t=i(e.parentPath);e.paths.map(i).forEach(function(e){t.removeChild(e);});},redo:function(e){var t=i(e.parentPath),n=i(e.afterPath);e.nodes.forEach(function(e){t.insertAfter(e,n),n=e;});}},removeNodes:{undo:function(e){var t=i(e.parentPath),n=t.childs[e.index]||t.append;e.nodes.forEach(function(e){t.insertBefore(e,n);});},redo:function(e){var t=i(e.parentPath);e.paths.map(i).forEach(function(e){t.removeChild(e);});}},duplicateNodes:{undo:function(e){var t=i(e.parentPath);e.clonePaths.map(i).forEach(function(e){t.removeChild(e);});},redo:function(e){var t=i(e.parentPath),n=i(e.afterPath);e.paths.map(i).forEach(function(e){var i,o=e.clone();"object"===t.type&&(i=t.getFieldNames(),o.field=Object(C.findUniqueName)(e.field,i)),t.insertAfter(o,n),n=o;});}},moveNodes:{undo:function(e){var t=i(e.oldParentPath),n=i(e.newParentPath),o=t.childs[e.oldIndex]||t.append;n.childs.slice(e.newIndex,e.newIndex+e.count).forEach(function(i,n){i.field=e.fieldNames[n],t.moveBefore(i,o);}),null===e.newParentPathRedo&&(e.newParentPathRedo=n.getInternalPath());},redo:function(e){var t=i(e.oldParentPathRedo),n=i(e.newParentPathRedo),o=n.childs[e.newIndexRedo]||n.append;t.childs.slice(e.oldIndexRedo,e.oldIndexRedo+e.count).forEach(function(t,i){t.field=e.fieldNames[i],n.moveBefore(t,o);});}},sort:{undo:function(e){var t=i(e.path);t.hideChilds(),t.childs=e.oldChilds,t.updateDom({updateIndexes:!0}),t.showChilds();},redo:function(e){var t=i(e.path);t.hideChilds(),t.childs=e.newChilds,t.updateDom({updateIndexes:!0}),t.showChilds();}},transform:{undo:function(e){i(e.path).setInternalValue(e.oldValue);},redo:function(e){i(e.path).setInternalValue(e.newValue);}}};}var t,i;return t=e,(i=[{key:"onChange",value:function(){}},{key:"add",value:function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange();}},{key:"clear",value:function(){this.history=[],this.index=-1,this.onChange();}},{key:"canUndo",value:function(){return 0<=this.index}},{key:"canRedo",value:function(){return this.index<this.history.length-1}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.undo){if(t.undo(e.params),e.params.oldSelection)try{this.editor.setDomSelection(e.params.oldSelection);}catch(e){console.error(e);}}else console.error(new Error('unknown action "'+e.action+'"'));}this.index--,this.onChange();}}},{key:"redo",value:function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.redo){if(t.redo(e.params),e.params.newSelection)try{this.editor.setDomSelection(e.params.newSelection);}catch(e){console.error(e);}}else console.error(new Error('unknown action "'+e.action+'"'));}this.onChange();}}},{key:"destroy",value:function(){this.editor=null,this.history=[],this.index=-1;}}])&&o(t.prototype,i),e}(),A=i(1),b=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;this.editor=t,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.results=null,this.dom={},this.dom.container=i;var o=document.createElement("div");(this.dom.wrapper=o).className="jsoneditor-search",i.appendChild(o);var r=document.createElement("div");(this.dom.results=r).className="jsoneditor-results",o.appendChild(r);var s=document.createElement("div");(this.dom.input=s).className="jsoneditor-frame",s.title=Object(A.c)("searchTitle"),o.appendChild(s);var a=document.createElement("button");a.type="button",a.className="jsoneditor-refresh",s.appendChild(a);var l=document.createElement("input");l.type="text",(this.dom.search=l).oninput=function(e){n._onDelayedSearch(e);},l.onchange=function(e){n._onSearch();},l.onkeydown=function(e){n._onKeyDown(e);},l.onkeyup=function(e){n._onKeyUp(e);},a.onclick=function(e){l.select();},s.appendChild(l);var c=document.createElement("button");c.type="button",c.title=Object(A.c)("searchNextResultTitle"),c.className="jsoneditor-next",c.onclick=function(){n.next();},s.appendChild(c);var d=document.createElement("button");d.type="button",d.title=Object(A.c)("searchPreviousResultTitle"),d.className="jsoneditor-previous",d.onclick=function(){n.previous();},s.appendChild(d);}var t,i;return t=e,(i=[{key:"next",value:function(e){var t;this.results&&((t=null!==this.resultIndex?this.resultIndex+1:0)>this.results.length-1&&(t=0),this._setActiveResult(t,e));}},{key:"previous",value:function(e){var t,i;this.results&&(t=this.results.length-1,(i=null!==this.resultIndex?this.resultIndex-1:t)<0&&(i=t),this._setActiveResult(i,e));}},{key:"_setActiveResult",value:function(e,t){var i;if(this.activeResult&&(i=this.activeResult.node,"field"===this.activeResult.elem?delete i.searchFieldActive:delete i.searchValueActive,i.updateDom()),!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var n=this.results[this.resultIndex].node,o=this.results[this.resultIndex].elem;"field"===o?n.searchFieldActive=!0:n.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],n.updateDom(),n.scrollTo(function(){t&&n.focus(o);});}},{key:"_clearDelay",value:function(){void 0!==this.timeout&&(clearTimeout(this.timeout),delete this.timeout);}},{key:"_onDelayedSearch",value:function(){this._clearDelay();var e=this;this.timeout=setTimeout(function(t){e._onSearch();},this.delay);}},{key:"_onSearch",value:function(e){this._clearDelay();var t=this.dom.search.value,i=0<t.length?t:void 0;if(i!==this.lastText||e){this.lastText=i,this.results=this.editor.search(i);var n,o=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0,r=0;if(this.activeResult)for(var s=0;s<this.results.length;s++)if(this.results[s].node===this.activeResult.node){r=s;break}this._setActiveResult(r,!1),void 0!==i?(n=this.results.length,this.dom.results.textContent=0===n?"no results":1===n?"1 result":o<n?o+"+ results":n+" results"):this.dom.results.textContent="";}}},{key:"_onKeyDown",value:function(e){var t=e.which;27===t?(this.dom.search.value="",this._onSearch(),e.preventDefault(),e.stopPropagation()):13===t&&(e.ctrlKey?this._onSearch(!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation());}},{key:"_onKeyUp",value:function(e){var t=e.keyCode;27!==t&&13!==t&&this._onDelayedSearch(e);}},{key:"clear",value:function(){this.dom.search.value="",this._onSearch();}},{key:"forceSearch",value:function(){this._onSearch(!0);}},{key:"isEmpty",value:function(){return ""===this.dom.search.value}},{key:"destroy",value:function(){this.editor=null,this.dom.container.removeChild(this.dom.wrapper),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay();}}])&&r(t.prototype,i),e}(),v=i(3),y=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.root=i,this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",this.path.setAttribute("tabindex",0),this.contentMenuClicked=!1,t.appendChild(this.path),this.reset());}var t,i;return t=e,(i=[{key:"reset",value:function(){this.path.textContent=Object(A.c)("selectNode");}},{key:"setPath",value:function(e){var t=this;this.path.textContent="",e&&e.length&&e.forEach(function(i,n){var o,r,s,a=document.createElement("span");a.className="jsoneditor-treepath-element",a.innerText=i.name,a.onclick=function(e){this.selectionCallback&&this.selectionCallback(e);}.bind(t,i),t.path.appendChild(a),i.children.length&&((o=document.createElement("span")).className="jsoneditor-treepath-seperator",o.textContent="►",o.onclick=function(){t.contentMenuClicked=!0;var r=[];i.children.forEach(function(o){r.push({text:o.name,className:"jsoneditor-type-modes"+(e[n+1]+1&&e[n+1].name===o.name?" jsoneditor-selected":""),click:function(e,t){this.contextMenuCallback&&this.contextMenuCallback(e,t);}.bind(t,i,o.name)});}),new v.a(r).show(o,t.root,!0);},t.path.appendChild(o)),n===e.length-1&&(r=(o||a).getBoundingClientRect().right,t.path.offsetWidth<r&&(t.path.scrollLeft=r),t.path.scrollLeft&&((s=document.createElement("span")).className="jsoneditor-treepath-show-all-btn",s.title="show all path",s.textContent="...",s.onclick=function(e){t.contentMenuClicked=!1,Object(C.addClassName)(t.path,"show-all"),t.path.style.width=t.path.parentNode.getBoundingClientRect().width-10+"px",t.path.onblur=function(){if(t.contentMenuClicked)return t.contentMenuClicked=!1,void t.path.focus();Object(C.removeClassName)(t.path,"show-all"),t.path.onblur=void 0,t.path.style.width="",t.setPath(e);};}.bind(t,e),t.path.insertBefore(s,t.path.firstChild)));});}},{key:"onSectionSelected",value:function(e){"function"==typeof e&&(this.selectionCallback=e);}},{key:"onContextMenuItemSelected",value:function(e){"function"==typeof e&&(this.contextMenuCallback=e);}}])&&s(t.prototype,i),e}(),w=i(11),x=i.n(w),S=i(12),k=i(5),T=i(6),M=i(2),j=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.dom={},this.expanded=!1,i&&i instanceof Object?(this.setField(i.field,i.fieldEditable),"value"in i&&this.setValue(i.value,i.type),"internalValue"in i&&this.setInternalValue(i.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=Object(C.debounce)(this._onChangeValue.bind(this),e.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=Object(C.debounce)(this._onChangeField.bind(this),e.prototype.DEBOUNCE_INTERVAL),this.visibleChilds=this.getMaxVisibleChilds();}var t,i;return t=e,(i=[{key:"getMaxVisibleChilds",value:function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:N}},{key:"_updateEditability",value:function(){var e;this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,"tree"!==this.editor.options.mode&&"form"!==this.editor.options.mode||"function"!=typeof this.editor.options.onEditable||("boolean"==typeof(e=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()}))?(this.editable.field=e,this.editable.value=e):("boolean"==typeof e.field&&(this.editable.field=e.field),"boolean"==typeof e.value&&(this.editable.value=e.value))));}},{key:"getPath",value:function(){for(var e=this,t=[];e;){var i=e.getName();void 0!==i&&t.unshift(i),e=e.parent;}return t}},{key:"getInternalPath",value:function(){for(var e=this,t=[];e;)e.parent&&t.unshift(e.getIndex()),e=e.parent;return t}},{key:"getName",value:function(){return this.parent?"array"!==this.parent.type?this.field:this.index:void 0}},{key:"findNodeByPath",value:function(e){if(e){if(0===e.length)return this;if(e.length&&this.childs&&this.childs.length)for(var t=0;t<this.childs.length;++t)if(""+e[0]==""+this.childs[t].getName())return this.childs[t].findNodeByPath(e.slice(1))}}},{key:"findNodeByInternalPath",value:function(e){if(e){for(var t=this,i=0;i<e.length&&t;i++)var n=e[i],t=t.childs[n];return t}}},{key:"serialize",value:function(){return {value:this.getValue(),path:this.getPath()}}},{key:"findNode",value:function(e){for(var t=Object(C.parsePath)(e),i=this;i&&0<t.length;)!function(){var e=t.shift();if("number"==typeof e){if("array"!==i.type)throw new Error("Cannot get child node at index "+e+": node is no array");i=i.childs[e];}else{if("object"!==i.type)throw new Error("Cannot get child node "+e+": node is no object");i=i.childs.filter(function(t){return t.field===e})[0];}}();return i}},{key:"findParents",value:function(){for(var e=[],t=this.parent;t;)e.unshift(t),t=t.parent;return e}},{key:"setError",value:function(e,t){this.error=e,this.errorChild=t,this.dom&&this.dom.tr&&this.updateError();}},{key:"updateError",value:function(){var e=this,t=this.fieldError||this.valueError||this.error,i=this.dom.tdError;if(t&&this.dom&&this.dom.tr){Object(C.addClassName)(this.dom.tr,"jsoneditor-validation-error"),i||(i=document.createElement("td"),this.dom.tdError=i,this.dom.tdValue.parentNode.appendChild(i));var n=document.createElement("button");n.type="button",n.className="jsoneditor-button jsoneditor-schema-error";var o=function(){e.dom.popupAnchor&&e.dom.popupAnchor.destroy();},r=function(){delete e.dom.popupAnchor;},s=function(i){var o=e.editor.frame;e.dom.popupAnchor=Object(S.a)(n,e.editor.getPopupAnchor(),r,i);var s=n.getBoundingClientRect(),a=120<o.getBoundingClientRect().width-s.x?"jsoneditor-above":"jsoneditor-left",l=document.createElement("div");l.className="jsoneditor-popover "+a,l.appendChild(document.createTextNode(t.message)),e.dom.popupAnchor.appendChild(l);};n.onmouseover=function(){e.dom.popupAnchor||s(!0);},n.onfocus=function(){o(),s(!1);},n.onblur=function(){o();};var a=this.errorChild;for(a&&(n.onclick=function(){a.findParents().forEach(function(e){e.expand(!1);}),a.scrollTo(function(){a.focus();});});i.firstChild;)i.removeChild(i.firstChild);i.appendChild(n);}else this.dom.tr&&Object(C.removeClassName)(this.dom.tr,"jsoneditor-validation-error"),i&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError);}},{key:"getIndex",value:function(){if(this.parent){var e=this.parent.childs.indexOf(this);return -1!==e?e:null}return -1}},{key:"setParent",value:function(e){this.parent=e;}},{key:"setField",value:function(e,t){this.field=e,this.previousField=e,this.fieldEditable=!0===t;}},{key:"getField",value:function(){return void 0===this.field&&this._getDomField(),this.field}},{key:"setValue",value:function(t,i){var n,o,r,s,a,l,c,d,u=this.childs;if(this.type=this._getType(t),i&&i!==this.type){if("string"!==i||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+i+'"');this.type=i;}if("array"===this.type){for(this.childs||(this.childs=[]),o=0;o<t.length;o++)void 0===(a=t[o])||a instanceof Function||(o<this.childs.length?((n=this.childs[o]).fieldEditable=!1,n.index=o,n.setValue(a)):(n=new e(this.editor,{value:a}),s=o<this.getMaxVisibleChilds(),this.appendChild(n,s,!1)));for(r=this.childs.length;r>=t.length;r--)this.removeChild(this.childs[r],!1);}else if("object"===this.type){for(this.childs||(this.childs=[]),r=this.childs.length-1;0<=r;r--)h(t,this.childs[r].field)||this.removeChild(this.childs[r],!1);for(var g in o=0,t)h(t,g)&&(void 0===(a=t[g])||a instanceof Function||((l=this.findChildByProperty(g))?(l.setField(g,!0),l.setValue(a)):(c=new e(this.editor,{field:g,value:a}),d=o<this.getMaxVisibleChilds(),this.appendChild(c,d,!1))),o++);!(this.value="")===this.editor.options.sortObjectKeys&&this.sort([],"asc",!1);}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=t;Array.isArray(u)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value;}},{key:"setInternalValue",value:function(t){var i,n,o,r,s,a=this.childs;if(this.type=t.type,"array"===t.type){for(this.childs||(this.childs=[]),r=0;r<t.childs.length;r++)void 0===(i=t.childs[r])||i instanceof Function||(r<this.childs.length?((n=this.childs[r]).fieldEditable=!1,n.index=r,n.setInternalValue(i)):(n=new e(this.editor,{internalValue:i}),o=r<this.getMaxVisibleChilds(),this.appendChild(n,o,!1)));for(s=this.childs.length;s>=t.childs.length;s--)this.removeChild(this.childs[s],!1);}else if("object"===t.type){for(this.childs||(this.childs=[]),r=0;r<t.childs.length;r++)void 0===(i=t.childs[r])||i instanceof Function||(r<this.childs.length?(delete(n=this.childs[r]).index,n.setField(i.field,!0),n.setInternalValue(i.value)):(n=new e(this.editor,{field:i.field,internalValue:i.value}),o=r<this.getMaxVisibleChilds(),this.appendChild(n,o,!1)));for(s=this.childs.length;s>=t.childs.length;s--)this.removeChild(this.childs[s],!1);}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=t.value;Array.isArray(a)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value;}},{key:"recreateDom",value:function(){var e;this.dom&&this.dom.tr&&this.dom.tr.parentNode?(e=this._detachFromDom(),this.clearDom(),this._attachToDom(e)):this.clearDom();}},{key:"getValue",value:function(){if("array"===this.type){var e=[];return this.childs.forEach(function(t){e.push(t.getValue());}),e}if("object"!==this.type)return void 0===this.value&&this._getDomValue(),this.value;var t={};return this.childs.forEach(function(e){t[e.getField()]=e.getValue();}),t}},{key:"getInternalValue",value:function(){return "array"===this.type?{type:this.type,childs:this.childs.map(function(e){return e.getInternalValue()})}:"object"===this.type?{type:this.type,childs:this.childs.map(function(e){return {field:e.getField(),value:e.getInternalValue()}})}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})}},{key:"getLevel",value:function(){return this.parent?this.parent.getLevel()+1:0}},{key:"getNodePath",value:function(){var e=this.parent?this.parent.getNodePath():[];return e.push(this),e}},{key:"clone",value:function(){var t,i=new e(this.editor);return i.type=this.type,i.field=this.field,i.fieldInnerText=this.fieldInnerText,i.fieldEditable=this.fieldEditable,i.previousField=this.previousField,i.value=this.value,i.valueInnerText=this.valueInnerText,i.previousValue=this.previousValue,i.expanded=this.expanded,i.visibleChilds=this.visibleChilds,this.childs?(t=[],this.childs.forEach(function(e){var n=e.clone();n.setParent(i),t.push(n);}),i.childs=t):i.childs=void 0,i}},{key:"expand",value:function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),!1!==e&&this.childs.forEach(function(t){t.expand(e);}),this.updateDom({recurse:!1}));}},{key:"collapse",value:function(e){this.childs&&(this.hideChilds(),!1!==e&&this.childs.forEach(function(t){t.collapse(e);}),this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-collapsed"),this.expanded=!1,this.updateDom({recurse:!1}));}},{key:"showChilds",value:function(){if(this.childs&&this.expanded){var e=this.dom.tr,t=e?e.parentNode:void 0;if(t){var i=this.getAppendDom();i.parentNode||((o=e.nextSibling)?t.insertBefore(i,o):t.appendChild(i));for(var n=Math.min(this.childs.length,this.visibleChilds),o=this._getNextTr(),r=0;r<n;r++){var s=this.childs[r];s.getDom().parentNode||t.insertBefore(s.getDom(),o),s.showChilds();}var a=this.getShowMoreDom();o=this._getNextTr(),a.parentNode||t.insertBefore(a,o),this.showMore.updateDom();}}}},{key:"_getNextTr",value:function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0}},{key:"hide",value:function(e){var t=this.dom.tr,i=t?t.parentNode:void 0;i&&i.removeChild(t),this.dom.popupAnchor&&this.dom.popupAnchor.destroy(),this.hideChilds(e);}},{key:"hideChilds",value:function(e){var t,i;this.childs&&this.expanded&&((t=this.getAppendDom()).parentNode&&t.parentNode.removeChild(t),this.childs.forEach(function(e){e.hide();}),(i=this.getShowMoreDom()).parentNode&&i.parentNode.removeChild(i),e&&!e.resetVisibleChilds||(this.visibleChilds=this.getMaxVisibleChilds()));}},{key:"_updateCssClassName",value:function(){var e;this.dom.field&&this.editor&&this.editor.options&&"function"==typeof this.editor.options.onClassName&&this.dom.tree&&(Object(C.removeAllClassNames)(this.dom.tree),e=this.editor.options.onClassName({path:this.getPath(),field:this.field,value:this.value})||"",Object(C.addClassName)(this.dom.tree,"jsoneditor-values "+e));}},{key:"recursivelyUpdateCssClassesOnNodes",value:function(){if(this._updateCssClassName(),Array.isArray(this.childs))for(var e=0;e<this.childs.length;e++)this.childs[e].recursivelyUpdateCssClassesOnNodes();}},{key:"expandTo",value:function(){for(var e=this.parent;e;)e.expanded||e.expand(),e=e.parent;}},{key:"appendChild",value:function(e,t,i){var n,o,r;this._hasChilds()&&(e.setParent(this),e.fieldEditable="object"===this.type,"array"===this.type&&(e.index=this.childs.length),"object"===this.type&&void 0===e.field&&e.setField(""),this.childs.push(e),this.expanded&&!1!==t&&(n=e.getDom(),r=(o=this._getNextTr())?o.parentNode:void 0,o&&r&&r.insertBefore(n,o),e.showChilds(),this.visibleChilds++),!1!==i&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})));}},{key:"moveBefore",value:function(e,t,i){var n,o,r;this._hasChilds()&&((n=this.dom.tr?this.dom.tr.parentNode:void 0)&&((o=document.createElement("tr")).style.height=n.clientHeight+"px",n.appendChild(o)),e.parent&&e.parent.removeChild(e),t instanceof R||!t?this.childs.length+1>this.visibleChilds?(r=this.childs[this.visibleChilds-1],this.insertBefore(e,r,i)):this.appendChild(e,!0,i):this.insertBefore(e,t,i),n&&n.removeChild(o));}},{key:"insertBefore",value:function(e,t,i){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&void 0===e.field&&e.setField(""),t===this.append)e.setParent(this),e.fieldEditable="object"===this.type,this.childs.push(e);else{var n=this.childs.indexOf(t);if(-1===n)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"===this.type,this.childs.splice(n,0,e);}var o,r,s;this.expanded&&(o=e.getDom(),s=(r=t.getDom())?r.parentNode:void 0,r&&s&&s.insertBefore(o,r),e.showChilds(),this.showChilds()),!1!==i&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0}));}}},{key:"insertAfter",value:function(e,t){var i,n;this._hasChilds()&&(i=this.childs.indexOf(t),(n=this.childs[i+1])?this.insertBefore(e,n):this.appendChild(e));}},{key:"search",value:function(e,t){Array.isArray(t)||(t=[]);var i=e?e.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&t.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(i)&&(this.searchField=!0,t.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach(function(i){i.search(e,t);}):void 0!==this.value&&t.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(i)&&(this.searchValue=!0,t.push({node:this,elem:"value"})),this._updateDomValue()),t}},{key:"scrollTo",value:function(e){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e);}},{key:"expandPathToNode",value:function(){for(var e=this;e&&e.parent;){for(var t="array"===e.parent.type?e.index:e.parent.childs.indexOf(e);e.parent.visibleChilds<t+1;)e.parent.visibleChilds+=this.getMaxVisibleChilds();e.parent.expand(!1),e=e.parent;}}},{key:"focus",value:function(t){if(e.focusElement=t,this.dom.tr&&this.dom.tr.parentNode){var i=this.dom;switch(t){case"drag":i.drag?i.drag.focus():i.menu.focus();break;case"menu":i.menu.focus();break;case"expand":this._hasChilds()?i.expand.focus():i.field&&this.fieldEditable?(i.field.focus(),Object(C.selectContentEditable)(i.field)):i.value&&!this._hasChilds()?(i.value.focus(),Object(C.selectContentEditable)(i.value)):i.menu.focus();break;case"field":i.field&&this.fieldEditable?(i.field.focus(),Object(C.selectContentEditable)(i.field)):i.value&&!this._hasChilds()?(i.value.focus(),Object(C.selectContentEditable)(i.value)):this._hasChilds()?i.expand.focus():i.menu.focus();break;case"value":default:i.select?i.select.focus():i.value&&!this._hasChilds()?(i.value.focus(),Object(C.selectContentEditable)(i.value)):i.field&&this.fieldEditable?(i.field.focus(),Object(C.selectContentEditable)(i.field)):this._hasChilds()?i.expand.focus():i.menu.focus();}}}},{key:"containsNode",value:function(e){if(this===e)return !0;var t=this.childs;if(t)for(var i=0,n=t.length;i<n;i++)if(t[i].containsNode(e))return !0;return !1}},{key:"removeChild",value:function(e,t){if(this.childs){var i=this.childs.indexOf(e);if(-1!==i){i<this.visibleChilds&&this.expanded&&this.visibleChilds--,e.hide(),delete e.searchField,delete e.searchValue;var n=this.childs.splice(i,1)[0];return n.parent=null,!1!==t&&this.updateDom({updateIndexes:!0}),n}}}},{key:"_remove",value:function(e){this.removeChild(e);}},{key:"changeType",value:function(e){var t,i=this.type;i!==e&&("string"!==e&&"auto"!==e||"string"!==i&&"auto"!==i?(t=this._detachFromDom(),this.clearDom(),"object"===(this.type=e)?(this.childs||(this.childs=[]),this.childs.forEach(function(e){e.clearDom(),delete e.index,e.fieldEditable=!0,void 0===e.field&&(e.field="");}),"string"!==i&&"auto"!==i||(this.expanded=!0)):"array"===e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t;}),"string"!==i&&"auto"!==i||(this.expanded=!0)):this.expanded=!1,this._attachToDom(t)):this.type=e,"auto"!==e&&"string"!==e||(this.value="string"===e?String(this.value):Object(C.parseString)(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0}));}},{key:"deepEqual",value:function(e){var t;if("array"===this.type){if(!Array.isArray(e))return !1;if(this.childs.length!==e.length)return !1;for(t=0;t<this.childs.length;t++)if(!this.childs[t].deepEqual(e[t]))return !1}else if("object"===this.type){if("object"!==a(e)||!e)return !1;var i=Object.keys(e);if(this.childs.length!==i.length)return !1;for(t=0;t<i.length;t++){var n=this.childs[t];if(n.field!==i[t]||!n.deepEqual(e[n.field]))return !1}}else if(this.value!==e)return !1;return !0}},{key:"_getDomValue",value:function(){if(this._clearValueError(),this.dom.value&&"array"!==this.type&&"object"!==this.type&&(this.valueInnerText=Object(C.getInnerText)(this.dom.value),""===this.valueInnerText&&""!==this.dom.value.innerHTML&&(this.dom.value.textContent="")),void 0!==this.valueInnerText)try{var e,t;(t="string"===this.type?this._unescapeHTML(this.valueInnerText):(e=this._unescapeHTML(this.valueInnerText),Object(C.parseString)(e)))!==this.value&&(this.value=t,this._debouncedOnChangeValue());}catch(e){this._setValueError(Object(A.c)("cannotParseValueError"));}}},{key:"_setValueError",value:function(e){this.valueError={message:e},this.updateError();}},{key:"_clearValueError",value:function(){this.valueError&&(this.valueError=null,this.updateError());}},{key:"_setFieldError",value:function(e){this.fieldError={message:e},this.updateError();}},{key:"_clearFieldError",value:function(){this.fieldError&&(this.fieldError=null,this.updateError());}},{key:"_onChangeValue",value:function(){var e,t=this.editor.getDomSelection();t.range&&(e=Object(C.textDiff)(String(this.value),String(this.previousValue)),t.range.startOffset=e.start,t.range.endOffset=e.end);var i,n=this.editor.getDomSelection();n.range&&(i=Object(C.textDiff)(String(this.previousValue),String(this.value)),n.range.startOffset=i.start,n.range.endOffset=i.end),this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:t,newSelection:n}),this.previousValue=this.value;}},{key:"_onChangeField",value:function(){var e,t=this.editor.getDomSelection(),i=this.previousField||"";t.range&&(e=Object(C.textDiff)(this.field,i),t.range.startOffset=e.start,t.range.endOffset=e.end);var n,o=this.editor.getDomSelection();o.range&&(n=Object(C.textDiff)(i,this.field),o.range.startOffset=n.start,o.range.endOffset=n.end),this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:t,newSelection:o}),this.previousField=this.field;}},{key:"_updateDomValue",value:function(){var e=this.dom.value;if(e){var t,i=["jsoneditor-value"],n=this.value,o="auto"===this.type?Object(C.getType)(n):this.type,r="string"===o&&Object(C.isUrl)(n);if(i.push("jsoneditor-"+o),r&&i.push("jsoneditor-url"),""===String(this.value)&&"array"!==this.type&&"object"!==this.type&&i.push("jsoneditor-empty"),this.searchValueActive&&i.push("jsoneditor-highlight-active"),this.searchValue&&i.push("jsoneditor-highlight"),e.className=i.join(" "),"array"===o||"object"===o?(t=this.childs?this.childs.length:0,e.title=this.type+" containing "+t+" items"):r&&this.editable.value?e.title=Object(A.c)("openUrl"):e.title="","boolean"===o&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.textContent="--",this.dom.select.appendChild(this.dom.select.option);for(var s=0;s<this.enum.length;s++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[s],this.dom.select.option.textContent=this.enum[s],this.dom.select.option.value===this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue);}!this.schema||h(this.schema,"oneOf")||h(this.schema,"anyOf")||h(this.schema,"allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.textContent="");}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);if(this.editable.value&&this.editor.options.colorPicker&&"string"==typeof n&&Object(C.isValidColor)(n)?(this.dom.color||(this.dom.color=document.createElement("div"),this.dom.color.className="jsoneditor-color",this.dom.tdColor=document.createElement("td"),this.dom.tdColor.className="jsoneditor-tree",this.dom.tdColor.appendChild(this.dom.color),this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue)),Object(C.addClassName)(this.dom.value,"jsoneditor-color-value"),this.dom.color.style.backgroundColor=n):this._deleteDomColor(),this._showTimestampTag()){this.dom.date||(this.dom.date=document.createElement("div"),this.dom.date.className="jsoneditor-date",this.dom.value.parentNode.appendChild(this.dom.date));var a=null;if("function"==typeof this.editor.options.timestampFormat&&(a=this.editor.options.timestampFormat({field:this.field,value:this.value,path:this.getPath()})),a){for(;this.dom.date.firstChild;)this.dom.date.removeChild(this.dom.date.firstChild);this.dom.date.appendChild(document.createTextNode(a));}else this.dom.date.textContent=new Date(n).toISOString();this.dom.date.title=new Date(n).toString();}else this.dom.date&&(this.dom.date.parentNode.removeChild(this.dom.date),delete this.dom.date);Object(C.stripFormatting)(e),this._updateDomDefault();}}},{key:"_deleteDomColor",value:function(){this.dom.color&&(this.dom.tdColor.parentNode.removeChild(this.dom.tdColor),delete this.dom.tdColor,delete this.dom.color,Object(C.removeClassName)(this.dom.value,"jsoneditor-color-value"));}},{key:"_updateDomField",value:function(){var e,t=this.dom.field;t&&((e=Object(C.makeFieldTooltip)(this.schema,this.editor.options.language))&&(t.title=e),(""===String(this.field)&&this.parent&&"array"!==this.parent.type?Object(C.addClassName):Object(C.removeClassName))(t,"jsoneditor-empty"),(this.searchFieldActive?Object(C.addClassName):Object(C.removeClassName))(t,"jsoneditor-highlight-active"),(this.searchField?Object(C.addClassName):Object(C.removeClassName))(t,"jsoneditor-highlight"),Object(C.stripFormatting)(t));}},{key:"_getDomField",value:function(e){if(this._clearFieldError(),this.dom.field&&this.fieldEditable&&(this.fieldInnerText=Object(C.getInnerText)(this.dom.field),""===this.fieldInnerText&&""!==this.dom.field.innerHTML&&(this.dom.field.textContent="")),void 0!==this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText),i=this.parent.getFieldNames(this);-1!==i.indexOf(t)?e?(t=Object(C.findUniqueName)(t,i))!==this.field&&(this.field=t,this._debouncedOnChangeField()):this._setFieldError(Object(A.c)("duplicateFieldError")):t!==this.field&&(this.field=t,this._debouncedOnChangeField());}catch(e){this._setFieldError(Object(A.c)("cannotParseFieldError"));}}},{key:"_updateDomDefault",value:function(){var e;!this.schema||void 0===this.schema.default||this._hasChilds()||(e=this.dom.select?this.dom.select:this.dom.value)&&(this.value===this.schema.default?(e.title=Object(A.c)("default"),Object(C.addClassName)(e,"jsoneditor-is-default"),Object(C.removeClassName)(e,"jsoneditor-is-not-default")):(e.removeAttribute("title"),Object(C.removeClassName)(e,"jsoneditor-is-default"),Object(C.addClassName)(e,"jsoneditor-is-not-default")));}},{key:"_showTimestampTag",value:function(){if("number"!=typeof this.value)return !1;var e=this.editor.options.timestampTag;if("function"!=typeof e)return !0===e&&Object(C.isTimestamp)(this.field,this.value);var t=e({field:this.field,value:this.value,path:this.getPath()});return "boolean"==typeof t?t:Object(C.isTimestamp)(this.field,this.value)}},{key:"clearDom",value:function(){this.dom={};}},{key:"getDom",value:function(){var e,t,i,n,o=this.dom;if(o.tr)return o.tr;this._updateEditability(),o.tr=document.createElement("tr"),"tree"===(o.tr.node=this).editor.options.mode&&(e=document.createElement("td"),this.editable.field&&this.parent&&((t=document.createElement("button")).type="button",(o.drag=t).className="jsoneditor-button jsoneditor-dragarea",t.title=Object(A.c)("drag"),e.appendChild(t)),o.tr.appendChild(e),i=document.createElement("td"),(n=document.createElement("button")).type="button",(o.menu=n).className="jsoneditor-button jsoneditor-contextmenu-button",n.title=Object(A.c)("actionsMenu"),i.appendChild(o.menu),o.tr.appendChild(i));var r=document.createElement("td");return o.tr.appendChild(r),o.tree=this._createDomTree(),r.appendChild(o.tree),this.updateDom({updateIndexes:!0}),o.tr}},{key:"isVisible",value:function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1}},{key:"isDescendantOf",value:function(e){for(var t=this.parent;t;){if(t===e)return !0;t=t.parent;}return !1}},{key:"_createDomField",value:function(){return document.createElement("div")}},{key:"setHighlight",value:function(e){this.dom.tr&&((e?Object(C.addClassName):Object(C.removeClassName))(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach(function(t){t.setHighlight(e);}));}},{key:"setSelected",value:function(e,t){this.selected=e,this.dom.tr&&((e?Object(C.addClassName):Object(C.removeClassName))(this.dom.tr,"jsoneditor-selected"),(t?Object(C.addClassName):Object(C.removeClassName))(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(e),this.showMore&&this.showMore.setSelected(e),this.childs&&this.childs.forEach(function(t){t.setSelected(e);}));}},{key:"updateValue",value:function(e){this.value=e,this.previousValue=e,this.valueError=void 0,this.updateDom();}},{key:"updateField",value:function(e){this.field=e,this.previousField=e,this.fieldError=void 0,this.updateDom();}},{key:"updateDom",value:function(t){var i=this.dom.tree;i&&(i.style.marginLeft=24*this.getLevel()+"px");var n,o,r,s=this.dom.field;s&&(this.fieldEditable?(s.contentEditable=this.editable.field,s.spellcheck=!1,s.className="jsoneditor-field"):(s.contentEditable=!1,s.className="jsoneditor-readonly"),o=void 0!==this.index?this.index:void 0!==this.field?this.field:(n=this.editor.options.schema?e._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):void 0)&&n.title?n.title:this._hasChilds()?this.type:"",r=this._escapeHTML(o),document.activeElement===s&&r===this._unescapeHTML(Object(C.getInnerText)(s))||(s.innerHTML=r),this._updateSchema());var a,l=this.dom.value;l&&("array"===this.type||"object"===this.type?this.updateNodeName():(a=this._escapeHTML(this.value),document.activeElement===l&&a===this._unescapeHTML(Object(C.getInnerText)(l))||(l.innerHTML=a)));var c=this.dom.tr;c&&("array"===this.type||"object"===this.type?(Object(C.addClassName)(c,"jsoneditor-expandable"),this.expanded?(Object(C.addClassName)(c,"jsoneditor-expanded"),Object(C.removeClassName)(c,"jsoneditor-collapsed")):(Object(C.addClassName)(c,"jsoneditor-collapsed"),Object(C.removeClassName)(c,"jsoneditor-expanded"))):(Object(C.removeClassName)(c,"jsoneditor-expandable"),Object(C.removeClassName)(c,"jsoneditor-expanded"),Object(C.removeClassName)(c,"jsoneditor-collapsed"))),this._updateDomField(),this._updateDomValue(),t&&!0===t.updateIndexes&&this._updateDomIndexes(),t&&!0===t.recurse&&this.childs&&this.childs.forEach(function(e){e.updateDom(t);}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom(),this._updateCssClassName();}},{key:"_updateSchema",value:function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?e._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null,this.schema?this.enum=e._findEnum(this.schema):delete this.enum);}},{key:"_updateDomIndexes",value:function(){var e=this.dom.value,t=this.childs;e&&t&&("array"===this.type?t.forEach(function(e,t){e.index=t;var i=e.dom.field;i&&(i.textContent=t);}):"object"===this.type&&t.forEach(function(e){void 0!==e.index&&(delete e.index,void 0===e.field&&(e.field=""));}));}},{key:"_createDomValue",value:function(){var e;return "array"===this.type?(e=document.createElement("div")).textContent="[...]":"object"===this.type?(e=document.createElement("div")).textContent="{...}":(!this.editable.value&&Object(C.isUrl)(this.value)?(e=document.createElement("a")).href=this.value:((e=document.createElement("div")).contentEditable=this.editable.value,e.spellcheck=!1),e.innerHTML=this._escapeHTML(this.value)),e}},{key:"_createDomExpandButton",value:function(){var e=document.createElement("button");return e.type="button",this._hasChilds()?(e.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",e.title=Object(A.c)("expandTitle")):(e.className="jsoneditor-button jsoneditor-invisible",e.title=""),e}},{key:"_createDomTree",value:function(){var e=this.dom,t=document.createElement("table"),i=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="jsoneditor-values",t.appendChild(i);var n=document.createElement("tr");i.appendChild(n);var o=document.createElement("td");o.className="jsoneditor-tree",n.appendChild(o),e.expand=this._createDomExpandButton(),o.appendChild(e.expand),e.tdExpand=o;var r=document.createElement("td");r.className="jsoneditor-tree",n.appendChild(r),e.field=this._createDomField(),r.appendChild(e.field),e.tdField=r;var s=document.createElement("td");s.className="jsoneditor-tree",n.appendChild(s),"object"!==this.type&&"array"!==this.type&&(s.appendChild(document.createTextNode(":")),s.className="jsoneditor-separator"),e.tdSeparator=s;var a=document.createElement("td");return a.className="jsoneditor-tree",n.appendChild(a),e.value=this._createDomValue(),a.appendChild(e.value),e.tdValue=a,t}},{key:"onEvent",value:function(e){var t,i,n=e.type,o=e.target||e.srcElement,r=this.dom,s=this,a=this._hasChilds();"function"==typeof this.editor.options.onEvent&&this._onEvent(e),o!==r.drag&&o!==r.menu||("mouseover"===n?this.editor.highlighter.highlight(this):"mouseout"===n&&this.editor.highlighter.unhighlight()),"click"===n&&o===r.menu&&((t=s.editor.highlighter).highlight(s),t.lock(),Object(C.addClassName)(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,function(){Object(C.removeClassName)(r.menu,"jsoneditor-selected"),t.unlock(),t.unhighlight();})),"click"===n&&o===r.expand&&a&&(i=e.ctrlKey,this._onExpand(i)),"click"!==n||e.target!==s.dom.tdColor&&e.target!==s.dom.color||this._showColorPicker(),"change"===n&&o===r.checkbox&&(this.dom.value.textContent=String(!this.value),this._getDomValue(),this._updateDomDefault()),"change"===n&&o===r.select&&(this.dom.value.innerHTML=this._escapeHTML(r.select.value),this._getDomValue(),this._updateDomValue());var l=r.value;if(o===l)switch(n){case"blur":case"change":this._getDomValue(),this._clearValueError(),this._updateDomValue();var c=this._escapeHTML(this.value);c!==this._unescapeHTML(Object(C.getInnerText)(l))&&(l.innerHTML=c);break;case"input":this._getDomValue(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":e.ctrlKey&&this.editable.value&&Object(C.isUrl)(this.value)&&(e.preventDefault(),window.open(this.value,"_blank","noopener"));break;case"keyup":this._getDomValue(),this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){s._getDomValue(),s._updateDomValue();},1);}var d=r.field;if(o===d)switch(n){case"blur":this._getDomField(!0),this._updateDomField();var h=this._escapeHTML(this.field);h!==this._unescapeHTML(Object(C.getInnerText)(d))&&(d.innerHTML=h);break;case"input":this._getDomField(),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){s._getDomField(),s._updateDomField();},1);}var u=r.tree;u&&o===u.parentNode&&"click"===n&&!e.hasMoved&&((void 0!==e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<Object(C.getAbsoluteLeft)(r.tdSeparator))||a?d&&(Object(C.setEndOfContentEditable)(d),d.focus()):l&&!this.enum&&(Object(C.setEndOfContentEditable)(l),l.focus())),(o!==r.tdExpand||a)&&o!==r.tdField&&o!==r.tdSeparator||"click"!==n||e.hasMoved||d&&(Object(C.setEndOfContentEditable)(d),d.focus()),"keydown"===n&&this.onKeyDown(e);}},{key:"_onEvent",value:function(e){var t,i=e.target;i!==this.dom.field&&i!==this.dom.value||(t={field:this.getField(),path:this.getPath()},this._hasChilds()||i!==this.dom.value||(t.value=this.getValue()),this.editor.options.onEvent(t,e));}},{key:"onKeyDown",value:function(t){var i,n,o,r,s,a,l,c,h,u,g,p,m,f,I,A,b,v,y,w,x,S,k=t.which||t.keyCode,T=t.target||t.srcElement,M=t.ctrlKey,j=t.shiftKey,N=t.altKey,E=!1,L="tree"===this.editor.options.mode,O=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],Z=O[0],W=O[O.length-1];13===k?T===this.dom.value?this.editable.value&&!t.ctrlKey||Object(C.isUrl)(this.value)&&(window.open(this.value,"_blank","noopener"),E=!0):T===this.dom.expand&&this._hasChilds()&&(m=t.ctrlKey,this._onExpand(m),T.focus(),E=!0):68===k?M&&L&&(e.onDuplicate(O),E=!0):69===k?M&&(this._onExpand(j),T.focus(),E=!0):77===k&&L?M&&(this.showContextMenu(T),E=!0):46===k&&L?M&&(e.onRemove(O),E=!0):45===k&&L?M&&!j?(this._onInsertBefore(),E=!0):M&&j&&(this._onInsertAfter(),E=!0):35===k?N&&((f=this._lastNode())&&f.focus(e.focusElement||this._getElementName(T)),E=!0):36===k?N&&((I=this._firstNode())&&I.focus(e.focusElement||this._getElementName(T)),E=!0):37===k?N&&!j?((A=this._previousElement(T))&&this.focus(this._getElementName(A)),E=!0):N&&j&&L&&(v=W.expanded?(b=W.getAppendDom())?b.nextSibling:void 0:W.getDom().nextSibling)&&(n=e.getNodeFromTarget(v),o=v.nextSibling,y=e.getNodeFromTarget(o),n&&n instanceof R&&1!==W.parent.childs.length&&y&&y.parent&&(r=this.editor.getDomSelection(),s=(a=Z.parent).childs[W.getIndex()+1]||a.append,l=Z.getIndex(),c=y.getIndex(),h=a.getInternalPath(),u=y.parent.getInternalPath(),O.forEach(function(e){y.parent.moveBefore(e,y);}),this.focus(e.focusElement||this._getElementName(T)),this.editor._onAction("moveNodes",{count:O.length,fieldNames:O.map(d),oldParentPath:a.getInternalPath(),newParentPath:Z.parent.getInternalPath(),oldIndex:s.getIndex(),newIndex:Z.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:h,newParentPathRedo:u,oldSelection:r,newSelection:this.editor.getDomSelection()}))):38===k?N&&!j?((i=this._previousNode())&&(this.editor.deselect(!0),i.focus(e.focusElement||this._getElementName(T))),E=!0):!N&&M&&j&&L?((i=this._previousNode())&&((p=this.editor.multiselection).start=p.start||this,p.end=i,g=this.editor._findTopLevelNodes(p.start,p.end),this.editor.select(g),i.focus("field")),E=!0):N&&j&&L&&((i=Z._previousNode())&&i.parent&&(r=this.editor.getDomSelection(),s=(a=Z.parent).childs[W.getIndex()+1]||a.append,l=Z.getIndex(),c=i.getIndex(),h=a.getInternalPath(),u=i.parent.getInternalPath(),O.forEach(function(e){i.parent.moveBefore(e,i);}),this.focus(e.focusElement||this._getElementName(T)),this.editor._onAction("moveNodes",{count:O.length,fieldNames:O.map(d),oldParentPath:a.getInternalPath(),newParentPath:Z.parent.getInternalPath(),oldIndex:s.getIndex(),newIndex:Z.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:h,newParentPathRedo:u,oldSelection:r,newSelection:this.editor.getDomSelection()})),E=!0):39===k?N&&!j?((w=this._nextElement(T))&&this.focus(this._getElementName(w)),E=!0):N&&j&&L&&(x=Z.getDom().previousSibling)&&(i=e.getNodeFromTarget(x))&&i.parent&&!i.isVisible()&&(r=this.editor.getDomSelection(),s=(a=Z.parent).childs[W.getIndex()+1]||a.append,l=Z.getIndex(),c=i.getIndex(),h=a.getInternalPath(),u=i.parent.getInternalPath(),O.forEach(function(e){i.parent.moveBefore(e,i);}),this.focus(e.focusElement||this._getElementName(T)),this.editor._onAction("moveNodes",{count:O.length,fieldNames:O.map(d),oldParentPath:a.getInternalPath(),newParentPath:Z.parent.getInternalPath(),oldIndex:s.getIndex(),newIndex:Z.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:h,newParentPathRedo:u,oldSelection:r,newSelection:this.editor.getDomSelection()})):40===k&&(N&&!j?((n=this._nextNode())&&(this.editor.deselect(!0),n.focus(e.focusElement||this._getElementName(T))),E=!0):!N&&M&&j&&L?((n=this._nextNode())&&((p=this.editor.multiselection).start=p.start||this,p.end=n,g=this.editor._findTopLevelNodes(p.start,p.end),this.editor.select(g),n.focus("field")),E=!0):N&&j&&L&&((n=W.expanded?W.append?W.append._nextNode():void 0:W._nextNode())&&!n.isVisible()&&(n=n.parent.showMore),n&&n instanceof R&&(n=W),(S=n&&(n._nextNode()||n.parent.append))&&S.parent&&(r=this.editor.getDomSelection(),s=(a=Z.parent).childs[W.getIndex()+1]||a.append,l=Z.getIndex(),c=S.getIndex(),h=a.getInternalPath(),u=S.parent.getInternalPath(),O.forEach(function(e){S.parent.moveBefore(e,S);}),this.focus(e.focusElement||this._getElementName(T)),this.editor._onAction("moveNodes",{count:O.length,fieldNames:O.map(d),oldParentPath:a.getInternalPath(),newParentPath:Z.parent.getInternalPath(),oldParentPathRedo:h,newParentPathRedo:u,oldIndexRedo:l,newIndexRedo:c,oldIndex:s.getIndex(),newIndex:Z.getIndex(),oldSelection:r,newSelection:this.editor.getDomSelection()})),E=!0)),E&&(t.preventDefault(),t.stopPropagation());}},{key:"_onExpand",value:function(e){var t,i,n;e&&(n=(i=(t=this.dom.tr.parentNode).parentNode).scrollTop,i.removeChild(t)),this.expanded?this.collapse(e):this.expand(e),e&&(i.appendChild(t),i.scrollTop=n);}},{key:"_showColorPicker",value:function(){var e,t;"function"==typeof this.editor.options.onColorPicker&&this.dom.color&&((e=this)._deleteDomColor(),e.updateDom(),t=Object(S.a)(this.dom.color,this.editor.getPopupAnchor()),this.editor.options.onColorPicker(t,this.value,function(t){"string"==typeof t&&t!==e.value&&(e._deleteDomColor(),e.value=t,e.updateDom(),e._debouncedOnChangeValue());}));}},{key:"getFieldNames",value:function(e){return "object"===this.type?this.childs.filter(function(t){return t!==e}).map(function(e){return e.field}):[]}},{key:"_onInsertBefore",value:function(t,i,n){var o=this.editor.getDomSelection(),r=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==i?i:"",type:n});r.expand(!0);var s=this.getInternalPath();this.parent.insertBefore(r,this),this.editor.highlighter.unhighlight(),r.focus("field");var a=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[r],paths:[r.getInternalPath()],beforePath:s,parentPath:this.parent.getInternalPath(),oldSelection:o,newSelection:a});}},{key:"_onInsertAfter",value:function(t,i,n){var o=this.editor.getDomSelection(),r=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==i?i:"",type:n});r.expand(!0),this.parent.insertAfter(r,this),this.editor.highlighter.unhighlight(),r.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[r],paths:[r.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:o,newSelection:s});}},{key:"_onAppend",value:function(t,i,n){var o=this.editor.getDomSelection(),r=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==i?i:"",type:n});r.expand(!0),this.parent.appendChild(r),this.editor.highlighter.unhighlight(),r.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[r],paths:[r.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:o,newSelection:s});}},{key:"_onChangeType",value:function(e){var t,i,n=this.type;e!==n&&(t=this.editor.getDomSelection(),this.changeType(e),i=this.editor.getDomSelection(),this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:n,newType:e,oldSelection:t,newSelection:i}));}},{key:"sort",value:function(e,t,i){var n,o,r=!(2<arguments.length&&void 0!==i)||i;"string"==typeof e&&(e=Object(C.parsePath)(e)),this._hasChilds()&&(this.hideChilds(),n=this.childs,this.childs=this.childs.concat(),o="desc"===t?-1:1,"object"===this.type?this.childs.sort(function(e,t){return o*x()(e.field,t.field)}):this.childs.sort(function(t,i){var n=t.getNestedChild(e),r=i.getNestedChild(e);if(!n)return o;if(!r)return -o;var s=n.value,a=r.value;return "string"!=typeof s&&"string"!=typeof a?a<s?o:s<a?-o:0:o*x()(s,a)}),this._updateDomIndexes(),this.showChilds(),!0===r&&this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:n,newChilds:this.childs}));}},{key:"update",value:function(e){var t=this.getInternalValue();this.setValue(e),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()});}},{key:"_detachFromDom",value:function(){var e=this.dom.tr?this.dom.tr.parentNode:void 0,t=this.expanded?this.getAppendDom():this.getDom(),i=t&&t.parentNode?t.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:e,nextTr:i}}},{key:"_attachToDom",value:function(e){e.table&&(e.nextTr?e.table.insertBefore(this.getDom(),e.nextTr):e.table.appendChild(this.getDom())),this.expanded&&this.showChilds();}},{key:"transform",value:function(e){if(this._hasChilds()){this.hideChilds();try{var t=this.getInternalValue(),i=this.getValue(),n=this.editor.options.executeQuery(i,e);this.setValue(n);var o=this.getInternalValue();this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:o}),this.showChilds();}catch(e){this.showChilds(),this.editor._onError(e);}}}},{key:"extract",value:function(){this.editor.node.hideChilds(),this.hideChilds();try{var e=this.editor.node.getInternalValue();this.editor._setRoot(this);var t=this.editor.node.getInternalValue();this.editor._onAction("transform",{path:this.editor.node.getInternalPath(),oldValue:e,newValue:t});}catch(e){this.editor._onError(e);}finally{this.updateDom({recurse:!0}),this.showChilds();}}},{key:"getNestedChild",value:function(e){for(var t=0,i=this;i&&t<e.length;)i=i.findChildByProperty(e[t]),t++;return i}},{key:"findChildByProperty",value:function(e){if("object"===this.type)return this.childs.find(function(t){return t.field===e})}},{key:"getAppendDom",value:function(){return this.append||(this.append=new R(this.editor),this.append.setParent(this)),this.append.getDom()}},{key:"getShowMoreDom",value:function(){return this.showMore||(this.showMore=new E(this.editor,this)),this.showMore.getDom()}},{key:"nextSibling",value:function(){var e=this.parent.childs.indexOf(this);return this.parent.childs[e+1]||this.parent.append}},{key:"_previousNode",value:function(){var t=null,i=this.getDom();if(i&&i.parentNode)for(var n=i;n=n.previousSibling,t=e.getNodeFromTarget(n),n&&t&&t instanceof R&&!t.isVisible(););return t}},{key:"_nextNode",value:function(){var t=null,i=this.getDom();if(i&&i.parentNode)for(var n=i;n=n.nextSibling,t=e.getNodeFromTarget(n),n&&t&&t instanceof R&&!t.isVisible(););return t}},{key:"_firstNode",value:function(){var t,i=null,n=this.getDom();return n&&n.parentNode&&(t=n.parentNode.firstChild,i=e.getNodeFromTarget(t)),i}},{key:"_lastNode",value:function(){var t=null,i=this.getDom();if(i&&i.parentNode)for(var n=i.parentNode.lastChild,t=e.getNodeFromTarget(n);n&&t&&!t.isVisible();)n=n.previousSibling,t=e.getNodeFromTarget(n);return t}},{key:"_previousElement",value:function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}}},{key:"_nextElement",value:function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}}},{key:"_getElementName",value:function(e){var t=this;return Object.keys(this.dom).find(function(i){return t.dom[i]===e})}},{key:"_hasChilds",value:function(){return "array"===this.type||"object"===this.type}},{key:"addTemplates",value:function(e,t){var i=this,n=i.editor.options.templates;null!=n&&(n.length&&e.push({type:"separator"}),n.forEach(function(n){e.push({text:n.text,className:n.className||"jsoneditor-type-object",title:n.title,click:t?function(e,t){i._onAppend(e,t);}.bind(this,n.field,n.value):function(e,t){i._onInsertBefore(e,t);}.bind(this,n.field,n.value)});}));}},{key:"showContextMenu",value:function(t,i){var n,o,r,s,a=this,l=[];this.editable.value&&l.push({text:Object(A.c)("type"),title:Object(A.c)("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:Object(A.c)("auto"),className:"jsoneditor-type-auto"+("auto"===this.type?" jsoneditor-selected":""),title:Object(A.c)("autoType"),click:function(){a._onChangeType("auto");}},{text:Object(A.c)("array"),className:"jsoneditor-type-array"+("array"===this.type?" jsoneditor-selected":""),title:Object(A.c)("arrayType"),click:function(){a._onChangeType("array");}},{text:Object(A.c)("object"),className:"jsoneditor-type-object"+("object"===this.type?" jsoneditor-selected":""),title:Object(A.c)("objectType"),click:function(){a._onChangeType("object");}},{text:Object(A.c)("string"),className:"jsoneditor-type-string"+("string"===this.type?" jsoneditor-selected":""),title:Object(A.c)("stringType"),click:function(){a._onChangeType("string");}}]}),this._hasChilds()&&(this.editor.options.enableSort&&l.push({text:Object(A.c)("sort"),title:Object(A.c)("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){a.showSortModal();}}),this.editor.options.enableTransform&&l.push({text:Object(A.c)("transform"),title:Object(A.c)("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){a.showTransformModal();}}),this.parent&&l.push({text:Object(A.c)("extract"),title:Object(A.c)("extractTitle",{type:this.type}),className:"jsoneditor-extract",click:function(){a.extract();}})),this.parent&&this.parent._hasChilds()&&(l.length&&l.push({type:"separator"}),n=a.parent.childs,a===n[n.length-1]&&(o=[{text:Object(A.c)("auto"),className:"jsoneditor-type-auto",title:Object(A.c)("autoType"),click:function(){a._onAppend("","","auto");}},{text:Object(A.c)("array"),className:"jsoneditor-type-array",title:Object(A.c)("arrayType"),click:function(){a._onAppend("",[]);}},{text:Object(A.c)("object"),className:"jsoneditor-type-object",title:Object(A.c)("objectType"),click:function(){a._onAppend("",{});}},{text:Object(A.c)("string"),className:"jsoneditor-type-string",title:Object(A.c)("stringType"),click:function(){a._onAppend("","","string");}}],a.addTemplates(o,!0),l.push({text:Object(A.c)("appendText"),title:Object(A.c)("appendTitle"),submenuTitle:Object(A.c)("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){a._onAppend("","","auto");},submenu:o})),r=[{text:Object(A.c)("auto"),className:"jsoneditor-type-auto",title:Object(A.c)("autoType"),click:function(){a._onInsertBefore("","","auto");}},{text:Object(A.c)("array"),className:"jsoneditor-type-array",title:Object(A.c)("arrayType"),click:function(){a._onInsertBefore("",[]);}},{text:Object(A.c)("object"),className:"jsoneditor-type-object",title:Object(A.c)("objectType"),click:function(){a._onInsertBefore("",{});}},{text:Object(A.c)("string"),className:"jsoneditor-type-string",title:Object(A.c)("stringType"),click:function(){a._onInsertBefore("","","string");}}],a.addTemplates(r,!1),l.push({text:Object(A.c)("insert"),title:Object(A.c)("insertTitle"),submenuTitle:Object(A.c)("insertSub"),className:"jsoneditor-insert",click:function(){a._onInsertBefore("","","auto");},submenu:r}),this.editable.field&&(l.push({text:Object(A.c)("duplicateText"),title:Object(A.c)("duplicateField"),className:"jsoneditor-duplicate",click:function(){e.onDuplicate(a);}}),l.push({text:Object(A.c)("removeText"),title:Object(A.c)("removeField"),className:"jsoneditor-remove",click:function(){e.onRemove(a);}}))),this.editor.options.onCreateMenu&&(s=a.getPath(),l=this.editor.options.onCreateMenu(l,{type:"single",path:s,paths:[s]})),new v.a(l,{close:i}).show(t,this.editor.getPopupAnchor());}},{key:"showSortModal",value:function(){var e=this,t=this.editor.options.modalAnchor||M.a,i=this.getValue();Object(k.showSortModal)(t,i,function(t){var i=t.path,n=Object(C.parsePath)(i);e.sortedBy=t,e.sort(n,t.direction);},e.sortedBy);}},{key:"showTransformModal",value:function(){var e=this,t=this.editor.options,i=t.modalAnchor,n=t.createQuery,o=t.executeQuery,r=t.queryDescription,s=this.getValue();Object(T.showTransformModal)({container:i||M.a,json:s,queryDescription:r,createQuery:n,executeQuery:o,onTransform:function(t){e.transform(t);}});}},{key:"_getType",value:function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof Object(C.parseString)(e)?"string":"auto"}},{key:"_escapeHTML",value:function(e){if("string"!=typeof e)return String(e);var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),i=JSON.stringify(t),n=i.substring(1,i.length-1);return !0===this.editor.options.escapeUnicode&&(n=Object(C.escapeUnicodeChars)(n)),n}},{key:"_unescapeHTML",value:function(e){var t='"'+this._escapeJSON(e)+'"';return Object(C.parse)(t).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")}},{key:"_escapeJSON",value:function(e){for(var t="",i=0;i<e.length;){var n=e.charAt(i);"\n"===n?t+="\\n":"\\"===n?(t+=n,i++,""!==(n=e.charAt(i))&&-1!=='"\\/bfnrtu'.indexOf(n)||(t+="\\"),t+=n):t+='"'===n?'\\"':n,i++;}return t}},{key:"updateNodeName",value:function(){var e,t=this.childs?this.childs.length:0;if("object"===this.type||"array"===this.type){if(this.editor.options.onNodeName)try{e=this.editor.options.onNodeName({path:this.getPath(),size:t,type:this.type});}catch(e){console.error("Error in onNodeName callback: ",e);}this.dom.value.textContent="object"===this.type?"{"+(e||t)+"}":"["+(e||t)+"]";}}},{key:"recursivelyUpdateNodeName",value:function(){if(this.expanded&&(this.updateNodeName(),"undefined"!==this.childs))for(var e in this.childs)this.childs[e].recursivelyUpdateNodeName();}}])&&l(t.prototype,i),e}();j.prototype.DEBOUNCE_INTERVAL=150,j.prototype.MAX_SEARCH_RESULTS=999;var N=100;j.focusElement=void 0,j.select=function(e){setTimeout(function(){Object(C.selectContentEditable)(e);},0);},j.onDragStart=function(e,t){if(!Array.isArray(e))return j.onDragStart([e],t);var i,n,o,r,s,a;0!==e.length&&(i=e[0],n=e[e.length-1],o=i.parent,r=j.getNodeFromTarget(t.target),s=i.editor,a=Object(C.getAbsoluteTop)(r.dom.tr)-Object(C.getAbsoluteTop)(i.dom.tr),s.mousemove||(s.mousemove=Object(C.addEventListener)(t.view,"mousemove",function(t){j.onDrag(e,t);})),s.mouseup||(s.mouseup=Object(C.addEventListener)(t.view,"mouseup",function(t){j.onDragEnd(e,t);})),s.highlighter.lock(),s.drag={oldCursor:document.body.style.cursor,oldSelection:s.getDomSelection(),oldPaths:e.map(c),oldParent:o,oldNextNode:o.childs[n.getIndex()+1]||o.append,oldParentPathRedo:o.getInternalPath(),oldIndexRedo:i.getIndex(),mouseX:t.pageX,offsetY:a,level:i.getLevel()},document.body.style.cursor="move",t.preventDefault());},j.onDrag=function(e,t){if(!Array.isArray(e))return j.onDrag([e],t);if(0!==e.length){var i,n,o,r,s,a,l,c=e[0].editor,d=t.pageY-c.drag.offsetY,h=t.pageX,u=!1,g=e[0],p=g.dom.tr,m=Object(C.getAbsoluteTop)(p),f=p.offsetHeight;if(d<m){for(S=p;S=S.previousSibling,k=j.getNodeFromTarget(S),r=S?Object(C.getAbsoluteTop)(S):0,S&&d<r;);k&&!k.parent&&(k=void 0),k||(S=(n=p.parentNode.firstChild)?n.nextSibling:void 0,(k=j.getNodeFromTarget(S))===g&&(k=void 0)),k&&k.isVisible()&&(r=(S=k.dom.tr)?Object(C.getAbsoluteTop)(S):0)+f<d&&(k=void 0),!k||!1!==c.options.limitDragging&&k.parent!==e[0].parent||(e.forEach(function(e){k.parent.moveBefore(e,k);}),u=!0);}else{var I,A,b=e[e.length-1];if(A=(I=b.expanded&&b.append?b.append.getDom():b.dom.tr)?I.nextSibling:void 0){for(s=Object(C.getAbsoluteTop)(A),i=A;o=j.getNodeFromTarget(i),i&&(a=i.nextSibling?Object(C.getAbsoluteTop)(i.nextSibling):0,l=i?a-s:0,o&&o.parent.childs.length===e.length&&o.parent.childs[e.length-1]===b&&(m+=27),i=i.nextSibling),i&&m+l<d;);if(o&&o.parent){for(var v=h-c.drag.mouseX,y=Math.round(v/24/2),w=c.drag.level+y,x=o.getLevel(),S=o.dom.tr&&o.dom.tr.previousSibling;x<w&&S;){var k=j.getNodeFromTarget(S);if(!e.some(function(e){return e===k||k.isDescendantOf(e)})){if(!(k instanceof R))break;var T=k.parent.childs;if(T.length===e.length&&T[e.length-1]===b)break;x=(o=j.getNodeFromTarget(S)).getLevel();}S=S.previousSibling;}o instanceof R&&!o.isVisible()&&o.parent.showMore.isVisible()&&(o=o._nextNode()),o&&(!1===c.options.limitDragging||o.parent===e[0].parent)&&o.dom.tr&&o.dom.tr!==I.nextSibling&&(e.forEach(function(e){o.parent.moveBefore(e,o);}),u=!0);}}}u&&(c.drag.mouseX=h,c.drag.level=g.getLevel()),c.startAutoScroll(d),t.preventDefault();}},j.onDragEnd=function(e,t){if(!Array.isArray(e))return j.onDrag([e],t);var i,n,o,r,s,a,l,c,h,u;0!==e.length&&(i=e[0],n=i.editor,e[0]&&e[0].dom.menu.focus(),o=n.drag.oldParent.getInternalPath(),r=i.parent.getInternalPath(),s=n.drag.oldParent===i.parent,a=n.drag.oldNextNode.getIndex(),l=i.getIndex(),c=n.drag.oldParentPathRedo,h=n.drag.oldIndexRedo,u=s&&h<l?l+e.length:l,s&&h===l||n._onAction("moveNodes",{count:e.length,fieldNames:e.map(d),oldParentPath:o,newParentPath:r,oldIndex:a,newIndex:l,oldIndexRedo:h,newIndexRedo:u,oldParentPathRedo:c,newParentPathRedo:null,oldSelection:n.drag.oldSelection,newSelection:n.getDomSelection()}),document.body.style.cursor=n.drag.oldCursor,n.highlighter.unlock(),e.forEach(function(e){e.updateDom(),t.target!==e.dom.drag&&t.target!==e.dom.menu&&n.highlighter.unhighlight();}),delete n.drag,n.mousemove&&(Object(C.removeEventListener)(t.view,"mousemove",n.mousemove),delete n.mousemove),n.mouseup&&(Object(C.removeEventListener)(t.view,"mouseup",n.mouseup),delete n.mouseup),n.stopAutoScroll(),t.preventDefault());},j._findEnum=function(e){if(e.enum)return e.enum;var t=e.oneOf||e.anyOf||e.allOf;if(t){var i=t.filter(function(e){return e.enum});if(0<i.length)return i[0].enum}return null},j._findSchema=function(e,t,i){for(var n=e,o=n,r=(r=e.oneOf||e.anyOf||e.allOf)||[e],s=0;s<r.length;s++){"$ref"in(n=r[s])&&"string"==typeof n.$ref&&(n=t[n.$ref])&&(o=j._findSchema(n,t,i));for(var a=0;a<i.length&&n;a++){var l=i.slice(a+1,i.length),c=i[a];if("string"!=typeof c||!n.patternProperties||n.properties&&c in n.properties)"string"==typeof c&&n.properties?c in n.properties?(n=n.properties[c])&&(o=j._findSchema(n,t,l)):o=null:"number"==typeof c&&n.items&&(n=n.items)&&(o=j._findSchema(n,t,l));else for(var d in n.patternProperties)c.match(d)&&(o.properties||o.patternProperties)&&(o=j._findSchema(n.patternProperties[d],t,l));}}return o===e&&0<i.length?null:o},j.onRemove=function(e){if(!Array.isArray(e))return j.onRemove([e]);var t,i,n,o,r,s,a;e&&0<e.length&&(i=(t=e[0]).parent,n=t.editor,o=t.getIndex(),n.highlighter.unhighlight(),r=n.getDomSelection(),j.blurNodes(e),s=n.getDomSelection(),a=e.map(c),e.forEach(function(e){e.parent._remove(e);}),n._onAction("removeNodes",{nodes:e,paths:a,parentPath:i.getInternalPath(),index:o,oldSelection:r,newSelection:s}));},j.onDuplicate=function(e){if(!Array.isArray(e))return j.onDuplicate([e]);var t,i,n,o,r,s,a;e&&0<e.length&&(t=e[e.length-1],i=t.parent,(n=t.editor).deselect(n.multiselection.nodes),o=n.getDomSelection(),r=t,s=e.map(function(e){var t,n=e.clone();return "object"===e.parent.type&&(t=e.parent.getFieldNames(),n.field=Object(C.findUniqueName)(e.field,t)),i.insertAfter(n,r),r=n}),1===e.length?"object"===s[0].parent.type?(s[0].dom.field.innerHTML=e[0]._escapeHTML(e[0].field),s[0].focus("field")):s[0].focus():n.select(s),a=n.getDomSelection(),n._onAction("duplicateNodes",{paths:e.map(c),clonePaths:s.map(c),afterPath:t.getInternalPath(),parentPath:i.getInternalPath(),oldSelection:o,newSelection:a}));},j.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode;}},j.targetIsColorPicker=function(e){var t=j.getNodeFromTarget(e);if(t)for(var i=e&&e.parentNode;i;){if(i===t.dom.color)return !0;i=i.parentNode;}return !1},j.blurNodes=function(e){var t,i,n;Array.isArray(e)?(i=(t=e[0]).parent,n=t.getIndex(),i.childs[n+e.length]?i.childs[n+e.length].focus():i.childs[n-1]?i.childs[n-1].focus():i.focus()):j.blurNodes([e]);};var R=((u.prototype=new j).getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t,i,n=document.createElement("tr");n.className="jsoneditor-append",n.node=this,e.tr=n,"tree"===this.editor.options.mode&&(e.tdDrag=document.createElement("td"),t=document.createElement("td"),e.tdMenu=t,(i=document.createElement("button")).type="button",i.className="jsoneditor-button jsoneditor-contextmenu-button",i.title="Click to open the actions menu (Ctrl+M)",e.menu=i,t.appendChild(e.menu));var o=document.createElement("td"),r=document.createElement("div");return r.appendChild(document.createTextNode("("+Object(A.c)("empty")+")")),r.className="jsoneditor-readonly",o.appendChild(r),e.td=o,e.text=r,this.updateDom(),n},u.prototype.getPath=function(){return null},u.prototype.getIndex=function(){return null},u.prototype.updateDom=function(e){var t=this.dom,i=t.td;i&&(i.style.paddingLeft=24*this.getLevel()+26+"px");var n=t.text;n&&(n.firstChild.nodeValue="("+Object(A.c)("empty")+" "+this.parent.type+")");var o=t.tr;this.isVisible()?t.tr.firstChild||(t.tdDrag&&o.appendChild(t.tdDrag),t.tdMenu&&o.appendChild(t.tdMenu),o.appendChild(i)):t.tr.firstChild&&(t.tdDrag&&o.removeChild(t.tdDrag),t.tdMenu&&o.removeChild(t.tdMenu),o.removeChild(i));},u.prototype.isVisible=function(){return 0===this.parent.childs.length},u.prototype.showContextMenu=function(e,t){var i=this,n=[{text:Object(A.c)("auto"),className:"jsoneditor-type-auto",title:Object(A.c)("autoType"),click:function(){i._onAppend("","","auto");}},{text:Object(A.c)("array"),className:"jsoneditor-type-array",title:Object(A.c)("arrayType"),click:function(){i._onAppend("",[]);}},{text:Object(A.c)("object"),className:"jsoneditor-type-object",title:Object(A.c)("objectType"),click:function(){i._onAppend("",{});}},{text:Object(A.c)("string"),className:"jsoneditor-type-string",title:Object(A.c)("stringType"),click:function(){i._onAppend("","","string");}}];i.addTemplates(n,!0);var o,r=[{text:Object(A.c)("appendText"),title:Object(A.c)("appendTitleAuto"),submenuTitle:Object(A.c)("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){i._onAppend("","","auto");},submenu:n}];this.editor.options.onCreateMenu&&(o=i.parent.getPath(),r=this.editor.options.onCreateMenu(r,{type:"append",path:o,paths:[o]})),new v.a(r,{close:t}).show(e,this.editor.getPopupAnchor());},u.prototype.onEvent=function(e){var t,i=e.type,n=e.target||e.srcElement,o=this.dom;n===o.menu&&("mouseover"===i?this.editor.highlighter.highlight(this.parent):"mouseout"===i&&this.editor.highlighter.unhighlight()),"click"===i&&n===o.menu&&((t=this.editor.highlighter).highlight(this.parent),t.lock(),Object(C.addClassName)(o.menu,"jsoneditor-selected"),this.showContextMenu(o.menu,function(){Object(C.removeClassName)(o.menu,"jsoneditor-selected"),t.unlock(),t.unhighlight();})),"keydown"===i&&this.onKeyDown(e);},u),E=((g.prototype=new j).getDom=function(){return this.dom.tr||(this._updateEditability(),this.dom.tr||(t=(e=this).parent,(i=document.createElement("a")).appendChild(document.createTextNode(Object(A.c)("showMore"))),i.href="#",i.onclick=function(i){return t.visibleChilds=Math.floor(t.visibleChilds/t.getMaxVisibleChilds()+1)*t.getMaxVisibleChilds(),e.updateDom(),t.showChilds(),i.preventDefault(),!1},(n=document.createElement("a")).appendChild(document.createTextNode(Object(A.c)("showAll"))),n.href="#",n.onclick=function(i){return t.visibleChilds=1/0,e.updateDom(),t.showChilds(),i.preventDefault(),!1},o=document.createElement("div"),r=document.createTextNode(this._getShowMoreText()),o.className="jsoneditor-show-more",o.appendChild(r),o.appendChild(i),o.appendChild(document.createTextNode(". ")),o.appendChild(n),o.appendChild(document.createTextNode(". ")),(s=document.createElement("td")).appendChild(o),a=document.createElement("tr"),"tree"===this.editor.options.mode&&(a.appendChild(document.createElement("td")),a.appendChild(document.createElement("td"))),a.appendChild(s),a.className="jsoneditor-show-more",this.dom.tr=a,this.dom.moreContents=o,this.dom.moreText=r),this.updateDom()),this.dom.tr;var e,t,i,n,o,r,s,a;},g.prototype.updateDom=function(e){var t;this.isVisible()?(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],this.dom.tr.parentNode||(t=this.parent._getNextTr())&&t.parentNode.insertBefore(this.dom.tr,t),this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"):this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr);},g.prototype._getShowMoreText=function(){return Object(A.c)("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},g.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},g.prototype.onEvent=function(e){"keydown"===e.type&&this.onKeyDown(e);},g),L=i(8),O=i(9),Z={start:function(e,t){return 0===t.indexOf(e)},contain:function(e,t){return -1<t.indexOf(e)}},W=i(4),G={};G.create=function(e,t){if(!e)throw new Error("No container element provided.");this.container=e,this.dom={},this.highlighter=new f,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.validationSequence=0,this.errorNodes=[],this.lastSchemaErrors=void 0,this.node=null,this.focusTarget=null,this._setOptions(t),t.autocomplete&&(this.autocomplete=function(e){function t(e){var t,i;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(i=window.getSelection()).removeAllRanges(),i.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select());}function i(e){return void 0===c&&((c=document.createElement("span")).style.visibility="hidden",c.style.position="fixed",c.style.outline="0",c.style.margin="0",c.style.padding="0",c.style.border="0",c.style.left="0",c.style.whiteSpace="pre",c.style.fontSize=s,c.style.fontFamily=a,c.style.fontWeight="normal",document.body.appendChild(c)),c.textContent=e,c.getBoundingClientRect().right}function n(){this.style.backgroundColor="#ddd";}function o(){this.style.backgroundColor="";}function r(){f.hide(),f.onmouseselection(this.__hint,f.rs);}(e=e||{}).filter=e.filter||"start",e.trigger=e.trigger||"keydown",e.confirmKeys=e.confirmKeys||[39,35,9],e.caseSensitive=e.caseSensitive||!1;var s="",a="",l=document.createElement("div");l.style.position="relative",l.style.outline="0",l.style.border="0",l.style.margin="0",l.style.padding="0";var c,d,h=document.createElement("div");h.className="autocomplete dropdown",h.style.position="absolute",h.style.visibility="hidden";var u,g,p,m,f,C={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:l,show:function(e,t,i){var n=this;this.startFrom=t,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""===s&&(s=window.getComputedStyle(e).getPropertyValue("font-size")),""===a&&(a=window.getComputedStyle(e).getPropertyValue("font-family")),h.style.marginLeft="0",h.style.marginTop=e.getBoundingClientRect().height+"px",this.options=i.map(String),this.element!==e&&(this.element=e,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=e.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){n.element.focus();},this.element.addEventListener&&(this.element.removeEventListener("keydown",A),this.element.addEventListener("keydown",A,!1),this.element.removeEventListener("blur",b),this.element.addEventListener("blur",b,!1)),l.appendChild(this.elementHint),l.appendChild(h),e.parentElement.appendChild(l),this.repaint(e);},setText:function(e){this.element.innerText=e;},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,I.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor);},repaint:function(t){var n=(n=t.innerText).replace("\n",""),o=this.options.length,r=n.substring(this.startFrom);d=n.substring(0,this.startFrom);for(var s=0;s<o;s++){var a=this.options[s];if(!e.caseSensitive&&0===a.toLowerCase().indexOf(r.toLowerCase())||e.caseSensitive&&0===a.indexOf(r)){this.elementHint.innerText=d+r+a.substring(r.length),this.elementHint.realInnerText=d+a;break}}h.style.left=i(d)+"px",I.refresh(r,this.options),this.elementHint.style.width=i(this.elementHint.innerText)+10+"px","hidden"===h.style.visibility||(this.elementHint.style.width=i(this.elementHint.innerText)+h.clientWidth+"px");}},I=(u=h,g=[],p=0,m=-1,f={rs:C,hide:function(){u.style.visibility="hidden";},refresh:function(t,i){u.style.visibility="hidden",p=0,u.textContent="";var s=window.innerHeight||document.documentElement.clientHeight,a=u.parentNode.getBoundingClientRect(),l=a.top-6,c=s-a.bottom-6;g=[];var d="function"==typeof e.filter?e.filter:Z[e.filter],h=d?i.filter(function(i){return d(e.caseSensitive?t:t.toLowerCase(),e.caseSensitive?i:i.toLowerCase(),e)}):[];0!==(g=h.map(function(e){var i=document.createElement("div");i.className="item",i.onmouseover=n,i.onmouseout=o,i.onmousedown=r,i.__hint=e,i.textContent="",i.appendChild(document.createTextNode(e.substring(0,t.length)));var s=document.createElement("b");return s.appendChild(document.createTextNode(e.substring(t.length))),i.appendChild(s),u.appendChild(i),i})).length&&(1===g.length&&(t.toLowerCase()===g[0].__hint.toLowerCase()&&!e.caseSensitive||t===g[0].__hint&&e.caseSensitive)||g.length<2||(f.highlight(0),3*c<l?(u.style.maxHeight=l+"px",u.style.top="",u.style.bottom="100%"):(u.style.top="100%",u.style.bottom="",u.style.maxHeight=c+"px"),u.style.visibility="visible"));},highlight:function(e){-1!==m&&g[m]&&(g[m].className="item"),g[e].className="item hover",m=e;},move:function(e){return "hidden"===u.style.visibility?"":(p+e===-1||p+e===g.length||(p+=e,f.highlight(p)),g[p].__hint)},onmouseselection:function(){}}),A=function(i){var n=(i=i||window.event).keyCode;if(null!=this.elementHint&&33!==n&&34!==n){if(27===n)return C.hideDropDown(),C.element.focus(),i.preventDefault(),void i.stopPropagation();var o,r,s=(s=this.element.innerText).replace("\n","");if(0<=e.confirmKeys.indexOf(n))return 9===n&&0===this.elementHint.innerText.length&&C.onTab(),void(0<this.elementHint.innerText.length&&this.element.innerText!==this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,C.hideDropDown(),t(this.element),9===n&&(C.element.focus(),i.preventDefault(),i.stopPropagation())));if(13!==n){if(40===n){var a=s.substring(this.startFrom),l=I.move(1);return ""===l&&C.onArrowDown(),this.elementHint.innerText=d+a+l.substring(a.length),this.elementHint.realInnerText=d+l,i.preventDefault(),void i.stopPropagation()}38===n&&(o=s.substring(this.startFrom),""===(r=I.move(-1))&&C.onArrowUp(),this.elementHint.innerText=d+o+r.substring(o.length),this.elementHint.realInnerText=d+r,i.preventDefault(),i.stopPropagation());}else if(0===this.elementHint.innerText.length)C.onEnter();else{var c="hidden"===h.style.visibility;if(I.hide(),c)return C.hideDropDown(),C.element.focus(),void C.onEnter();this.element.innerText=this.elementHint.realInnerText,C.hideDropDown(),t(this.element),i.preventDefault(),i.stopPropagation();}}}.bind(C),b=function(){C.hideDropDown();};return I.onmouseselection=function(e,i){i.element.innerText=i.elementHint.innerText=d+e,i.hideDropDown(),window.setTimeout(function(){i.element.focus(),t(i.element);},1);},C}(t.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new I(this)),this._createFrame(),this._createTable();},G.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.frameFocusTracker.destroy();},G._setOptions=function(e){var t=this;this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,limitDragging:!1,onSelectionChange:null,colorPicker:!0,onColorPicker:function(e,t,i){var n,o;m.a?(n=e.getBoundingClientRect().top,o=Object(C.getWindow)(e).innerHeight-n<300&&300<n,new m.a({parent:e,color:t,popup:o?"top":"bottom",onDone:function(e){var t=1===e.rgba[3]?e.hex.substr(0,7):e.hex;i(t);}}).show()):console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.");},timestampTag:!0,timestampFormat:null,createQuery:W.a,executeQuery:W.b,onEvent:null,enableSort:!0,enableTransform:!0},e&&(Object.keys(e).forEach(function(i){t.options[i]=e[i];}),null==e.limitDragging&&null!=e.schema&&(this.options.limitDragging=!0)),this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=Object(C.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),e.onSelectionChange&&this.onSelectionChange(e.onSelectionChange),Object(A.b)(this.options.languages),Object(A.a)(this.options.language);},G.set=function(e){var t,i;e instanceof Function||void 0===e?this.clear():(this.content.removeChild(this.table),t={field:this.options.name,value:e},i=new j(this,t),this._setRoot(i),this.validate(),this.node.expand(!1),this.content.appendChild(this.table)),this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear();},G.update=function(e){var t,i,n;this.node.deepEqual(e)||(t=this.getSelection(),this.onChangeDisabled=!0,this.node.update(e),this.onChangeDisabled=!1,this.validate(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),t&&t.start&&t.end?(i=this.node.findNodeByPath(t.start.path),n=this.node.findNodeByPath(t.end.path),i&&n?this.setSelection(t.start,t.end):this.setSelection({},{})):this.setSelection({},{}));},G.get=function(){return this.node?this.node.getValue():void 0},G.getText=function(){return JSON.stringify(this.get())},G.setText=function(e){try{this.set(Object(C.parse)(e));}catch(i){var t=Object(C.repair)(e);this.set(Object(C.parse)(t));}},G.updateText=function(e){try{this.update(Object(C.parse)(e));}catch(i){var t=Object(C.repair)(e);this.update(Object(C.parse)(t));}},G.setName=function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name);},G.getName=function(){return this.options.name},G.focus=function(){var e=this.scrollableContent.querySelector("[contenteditable=true]");e?e.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(e=this.frame.querySelector("button"))&&e.focus();},G.clear=function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset();},G._setRoot=function(e){this.clear(),(this.node=e).setParent(null),e.setField(this.getName(),!1),delete e.index,this.tbody.appendChild(e.getDom());},G.search=function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},G.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table));},G.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table));},G._onAction=function(e,t){this.history&&this.history.add(e,t),this._onChange();},G._onChange=function(){if(!this.onChangeDisabled){var e;if(this.selection=this.getDomSelection(),this._debouncedValidate(),this.treePath&&((e=this.node&&this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:void 0)?this._updateTreePath(e.getNodePath()):this.treePath.reset()),this.options.onChange)try{this.options.onChange();}catch(e){console.error("Error in onChange callback: ",e);}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get());}catch(e){console.error("Error in onChangeJSON callback: ",e);}if(this.options.onChangeText)try{this.options.onChangeText(this.getText());}catch(e){console.error("Error in onChangeText callback: ",e);}if(this.options.onClassName&&this.node.recursivelyUpdateCssClassesOnNodes(),this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName();}catch(e){console.error("Error in onNodeName callback: ",e);}}},G.validate=function(){var e=this,t=this.node;if(t){var i=t.getValue(),n=[];this.validateSchema&&(this.validateSchema(i)||(n=this.validateSchema.errors.map(function(e){return Object(C.improveSchemaError)(e)}).map(function(e){return {node:t.findNode(e.dataPath),error:e,type:"validation"}}).filter(function(e){return null!=e.node})));try{this.validationSequence++;var o=this,r=this.validationSequence;this._validateCustom(i).then(function(t){var i;r===o.validationSequence&&(i=[].concat(n,t||[]),o._renderValidationErrors(i),"function"==typeof e.options.onValidationError&&(Object(C.isValidationErrorChanged)(i,e.lastSchemaErrors)&&e.options.onValidationError.call(e,i),e.lastSchemaErrors=i));}).catch(function(e){console.error(e);});}catch(i){console.error(i);}}},G._renderValidationErrors=function(e){this.errorNodes&&this.errorNodes.forEach(function(e){e.setError(null);});var t=e.reduce(function(e,t){return t.node.findParents().filter(function(t){return !e.some(function(e){return e[0]===t})}).map(function(e){return [e,t.node]}).concat(e)},[]);this.errorNodes=t.map(function(e){return {node:e[0],child:e[1],error:{message:"object"===e[0].type?Object(A.c)("containsInvalidProperties"):Object(A.c)("containsInvalidItems")}}}).concat(e).map(function(e){return e.node.setError(e.error,e.child),e.node});},G._validateCustom=function(e){try{if(this.options.onValidate){var t=this.node,i=this.options.onValidate(e);return (Object(C.isPromise)(i)?i:Promise.resolve(i)).then(function(e){return Array.isArray(e)?e.filter(function(e){var t=Object(C.isValidValidationError)(e);return t||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',e),t}).map(function(e){var i;try{i=e&&e.path?t.findNodeByPath(e.path):null;}catch(e){}return i||console.warn("Ignoring validation error: node not found. Path:",e.path,"Error:",e),{node:i,error:e,type:"customValidation"}}).filter(function(e){return e&&e.node&&e.error&&e.error.message}):null})}}catch(e){return Promise.reject(e)}return Promise.resolve(null)},G.refresh=function(){this.node&&this.node.updateDom({recurse:!0});},G.startAutoScroll=function(e){var t=this,i=this.scrollableContent,n=Object(C.getAbsoluteTop)(i),o=i.clientHeight,r=n+o;e<n+24&&0<i.scrollTop?this.autoScrollStep=(n+24-e)/3:r-24<e&&o+i.scrollTop<i.scrollHeight?this.autoScrollStep=(r-24-e)/3:this.autoScrollStep=void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){t.autoScrollStep?i.scrollTop-=t.autoScrollStep:t.stopAutoScroll();},50)):this.stopAutoScroll();},G.stopAutoScroll=function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep;},G.setDomSelection=function(e){var t,i,n,o,r;e&&("scrollTop"in e&&this.scrollableContent&&(this.scrollableContent.scrollTop=e.scrollTop),e.paths?(t=this,i=e.paths.map(function(e){return t.node.findNodeByInternalPath(e)}),this.select(i)):(o=(n=e.path?this.node.findNodeByInternalPath(e.path):null)&&e.domName?n.dom[e.domName]:null,e.range&&o?(r=Object.assign({},e.range,{container:o}),Object(C.setSelectionOffset)(r)):n&&n.focus()));},G.getDomSelection=function(){var e=j.getNodeFromTarget(this.focusTarget),t=this.focusTarget,i=e?Object.keys(e.dom).find(function(i){return e.dom[i]===t}):null,n=Object(C.getSelectionOffset)();return n&&"DIV"!==n.container.nodeName&&(n=null),n&&n.container!==t&&(n=null),n&&delete n.container,{path:e?e.getInternalPath():null,domName:i,range:n,paths:0<this.multiselection.length?this.multiselection.nodes.map(function(e){return e.getInternalPath()}):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},G.scrollTo=function(e,t){var i,n,o,r,s=this.scrollableContent;s?((i=this).animateTimeout&&(clearTimeout(i.animateTimeout),delete i.animateTimeout),i.animateCallback&&(i.animateCallback(!1),delete i.animateCallback),n=s.clientHeight,o=s.scrollHeight-n,r=Math.min(Math.max(e-n/4,0),o),function e(){var n=s.scrollTop,o=r-n;3<Math.abs(o)?(s.scrollTop+=o/3,i.animateCallback=t,i.animateTimeout=setTimeout(e,50)):(t&&t(!0),s.scrollTop=r,delete i.animateTimeout,delete i.animateCallback);}()):t&&t(!1);},G._createFrame=function(){function e(e){l._onEvent&&l._onEvent(e);}this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame),this.contentOuter=document.createElement("div"),this.contentOuter.className="jsoneditor-outer";var t,i,n,o,r,s,a,l=this,c={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};this.frameFocusTracker=new O.a(c),this.frame.onclick=function(t){var i=t.target;e(t),"BUTTON"===i.nodeName&&t.preventDefault();},this.frame.oninput=e,this.frame.onchange=e,this.frame.onkeydown=e,this.frame.onkeyup=e,this.frame.oncut=e,this.frame.onpaste=e,this.frame.onmousedown=e,this.frame.onmouseup=e,this.frame.onmouseover=e,this.frame.onmouseout=e,Object(C.addEventListener)(this.frame,"focus",e,!0),Object(C.addEventListener)(this.frame,"blur",e,!0),this.frame.onfocusin=e,this.frame.onfocusout=e,this.options.mainMenuBar&&(Object(C.addClassName)(this.contentOuter,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(t=document.createElement("button")).type="button",t.className="jsoneditor-expand-all",t.title=Object(A.c)("expandAll"),t.onclick=function(){l.expandAll();},this.menu.appendChild(t),(i=document.createElement("button")).type="button",i.title=Object(A.c)("collapseAll"),i.className="jsoneditor-collapse-all",i.onclick=function(){l.collapseAll();},this.menu.appendChild(i),this.options.enableSort&&((n=document.createElement("button")).type="button",n.className="jsoneditor-sort",n.title=Object(A.c)("sortTitleShort"),n.onclick=function(){l.node.showSortModal();},this.menu.appendChild(n)),this.options.enableTransform&&((o=document.createElement("button")).type="button",o.title=Object(A.c)("transformTitleShort"),o.className="jsoneditor-transform",o.onclick=function(){l.node.showTransformModal();},this.menu.appendChild(o)),this.history&&((r=document.createElement("button")).type="button",r.className="jsoneditor-undo jsoneditor-separator",r.title=Object(A.c)("undo"),r.onclick=function(){l._onUndo();},this.menu.appendChild(r),this.dom.undo=r,(s=document.createElement("button")).type="button",s.className="jsoneditor-redo",s.title=Object(A.c)("redo"),s.onclick=function(){l._onRedo();},this.menu.appendChild(s),this.dom.redo=s,this.history.onChange=function(){r.disabled=!l.history.canUndo(),s.disabled=!l.history.canRedo();},this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&((a=this).modeSwitcher=new L.a(this.menu,this.options.modes,this.options.mode,function(e){a.setMode(e),a.modeSwitcher.focus();})),this.options.search&&(this.searchBox=new b(this,this.menu))),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new y(this.navBar,this.getPopupAnchor()),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)));},G._onUndo=function(){this.history&&(this.history.undo(),this._onChange());},G._onRedo=function(){this.history&&(this.history.redo(),this._onChange());},G._onEvent=function(e){if(!j.targetIsColorPicker(e.target)){var t,i=j.getNodeFromTarget(e.target);if("keydown"===e.type&&this._onKeyDown(e),i&&"focus"===e.type&&(this.focusTarget=e.target,this.options.autocomplete&&"focus"===this.options.autocomplete.trigger&&this._showAutoComplete(e.target)),"mousedown"===e.type&&this._startDragDistance(e),"mousemove"!==e.type&&"mouseup"!==e.type&&"click"!==e.type||this._updateDragDistance(e),i&&this.options&&this.options.navigationBar&&i&&("keydown"===e.type||"mousedown"===e.type)&&(t=this,setTimeout(function(){t._updateTreePath(i.getNodePath());})),i&&i.selected){if("click"===e.type){if(e.target===i.dom.menu)return void this.showContextMenu(e.target);e.hasMoved||this.deselect();}"mousedown"===e.type&&j.onDragStart(this.multiselection.nodes,e);}else"mousedown"===e.type&&Object(C.hasParentNode)(e.target,this.content)&&(this.deselect(),i&&e.target===i.dom.drag?j.onDragStart(i,e):i&&(e.target===i.dom.field||e.target===i.dom.value||e.target===i.dom.select)||this._onMultiSelectStart(e));i&&i.onEvent(e);}},G._updateTreePath=function(e){function t(e){return e.parent?"array"===e.parent.type?e.index:e.field:e.field||e.type}var i;e&&e.length?(Object(C.removeClassName)(this.navBar,"nav-bar-empty"),i=[],e.forEach(function(e){var n={name:t(e),node:e,children:[]};e.childs&&e.childs.length&&e.childs.forEach(function(e){n.children.push({name:t(e),node:e});}),i.push(n);}),this.treePath.setPath(i)):Object(C.addClassName)(this.navBar,"nav-bar-empty");},G._onTreePathSectionSelected=function(e){e&&e.node&&(e.node.expandTo(),e.node.focus());},G._onTreePathMenuItemSelected=function(e,t){var i;e&&e.children.length&&(i=e.children.find(function(e){return e.name===t}))&&i.node&&(this._updateTreePath(i.node.getNodePath()),i.node.expandTo(),i.node.focus());},G._startDragDistance=function(e){this.dragDistanceEvent={initialTarget:e.target,initialPageX:e.pageX,initialPageY:e.pageY,dragDistance:0,hasMoved:!1};},G._updateDragDistance=function(e){this.dragDistanceEvent||this._startDragDistance(e);var t=e.pageX-this.dragDistanceEvent.initialPageX,i=e.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+i*i),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance,e.dragDistance=this.dragDistanceEvent.dragDistance,e.hasMoved=this.dragDistanceEvent.hasMoved,e.dragDistance},G._onMultiSelectStart=function(e){var t,i=j.getNodeFromTarget(e.target);"tree"===this.options.mode&&void 0===this.options.onEditable&&(this.multiselection={start:i||null,end:null,nodes:[]},this._startDragDistance(e),(t=this).mousemove||(this.mousemove=Object(C.addEventListener)(e.view,"mousemove",function(e){t._onMultiSelect(e);})),this.mouseup||(this.mouseup=Object(C.addEventListener)(e.view,"mouseup",function(e){t._onMultiSelectEnd(e);})),e.preventDefault());},G._onMultiSelect=function(e){var t,i,n,o;e.preventDefault(),this._updateDragDistance(e),e.hasMoved&&((t=j.getNodeFromTarget(e.target))&&(null==this.multiselection.start&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect(),i=this.multiselection.start,n=this.multiselection.end||this.multiselection.start,i&&n&&(this.multiselection.nodes=this._findTopLevelNodes(i,n),this.multiselection.nodes&&this.multiselection.nodes.length&&(o=this.multiselection.nodes[0],this.multiselection.start===o||this.multiselection.start.isDescendantOf(o)?this.multiselection.direction="down":this.multiselection.direction="up"),this.select(this.multiselection.nodes)));},G._onMultiSelectEnd=function(e){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(Object(C.removeEventListener)(e.view,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(Object(C.removeEventListener)(e.view,"mouseup",this.mouseup),delete this.mouseup);},G.deselect=function(e){var t=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(e){e.setSelected(!1);}),this.multiselection.nodes=[],e&&(this.multiselection.start=null,this.multiselection.end=null),t&&this._selectionChangedHandler&&this._selectionChangedHandler();},G.select=function(e){if(!Array.isArray(e))return this.select([e]);var t,i;e&&(this.deselect(),this.multiselection.nodes=e.slice(0),t=e[0],e.forEach(function(e){e.expandPathToNode(),e.setSelected(!0,e===t);}),this._selectionChangedHandler&&(i=this.getSelection(),this._selectionChangedHandler(i.start,i.end)));},G._findTopLevelNodes=function(e,t){for(var i=e.getNodePath(),n=t.getNodePath(),o=0;o<i.length&&i[o]===n[o];)o++;var r=i[o-1],s=i[o],a=n[o];if(s&&a||(r.parent?r=(a=s=r).parent:(s=r.childs[0],a=r.childs[r.childs.length-1])),r&&s&&a){var l=r.childs.indexOf(s),c=r.childs.indexOf(a),d=Math.min(l,c),h=Math.max(l,c);return r.childs.slice(d,h+1)}return []},G._showAutoComplete=function(e){var t,i=j.getNodeFromTarget(e),n="";0<=e.className.indexOf("jsoneditor-value")&&(n="value"),0<=e.className.indexOf("jsoneditor-field")&&(n="field"),""!==n&&(t=this,setTimeout(function(){var o;i&&("focus"===t.options.autocomplete.trigger||0<e.innerText.length)&&null!==(o=t.options.autocomplete.getOptions(e.innerText,i.getPath(),n,i.editor))?"function"==typeof o.then?o.then(function(i){null===i?t.autocomplete.hideDropDown():i.options?t.autocomplete.show(e,i.startFrom,i.options):t.autocomplete.show(e,0,i);}).catch(function(e){console.error(e);}):o.options?t.autocomplete.show(e,o.startFrom,o.options):t.autocomplete.show(e,0,o):t.autocomplete.hideDropDown();},50));},G._onKeyDown=function(e){var t,i=e.which||e.keyCode,n=e.altKey,o=e.ctrlKey,r=e.metaKey,s=e.shiftKey,a=!1,l=this.focusTarget;9===i&&(t=this,setTimeout(function(){t.focusTarget!==l&&Object(C.selectContentEditable)(t.focusTarget);},0)),this.searchBox&&(o&&70===i?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),a=!0):(114===i||o&&71===i)&&(s?this.searchBox.previous(!0):this.searchBox.next(!0),a=!0)),this.history&&(o&&!s&&90===i?(this._onUndo(),a=!0):o&&s&&90===i&&(this._onRedo(),a=!0)),this.options.autocomplete&&!a&&(o||n||r||1!==e.key.length&&8!==i&&46!==i||(a=!1,this._showAutoComplete(e.target))),a&&(e.preventDefault(),e.stopPropagation());},G._createTable=function(){var e;this.options.navigationBar&&Object(C.addClassName)(this.contentOuter,"has-nav-bar"),this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",this.contentOuter.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e)),(e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e),e=document.createElement("col"),this.colgroupContent.appendChild(e),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(this.contentOuter);},G.showContextMenu=function(e,t){var i,n=[],o=this.multiselection.nodes.slice();n.push({text:Object(A.c)("duplicateText"),title:Object(A.c)("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){j.onDuplicate(o);}}),n.push({text:Object(A.c)("remove"),title:Object(A.c)("removeTitle"),className:"jsoneditor-remove",click:function(){j.onRemove(o);}}),this.options.onCreateMenu&&(i=o.map(function(e){return e.getPath()}),n=this.options.onCreateMenu(n,{type:"multiple",path:i[0],paths:i})),new v.a(n,{close:t}).show(e,this.getPopupAnchor());},G.getPopupAnchor=function(){return this.options.popupAnchor||this.frame},G.getSelection=function(){var e,t,i={start:null,end:null};return this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length&&(e=this.multiselection.nodes[0],t=this.multiselection.nodes[this.multiselection.nodes.length-1],"down"===this.multiselection.direction?(i.start=e.serialize(),i.end=t.serialize()):(i.start=t.serialize(),i.end=e.serialize())),i},G.onSelectionChange=function(e){"function"==typeof e&&(this._selectionChangedHandler=Object(C.debounce)(e,this.DEBOUNCE_INTERVAL));},G.setSelection=function(e,t){e&&e.dom&&e.range&&(console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"),this.setDomSelection(e));var i=this._getNodeInstancesByRange(e,t);i.forEach(function(e){e.expandTo();}),this.select(i);},G._getNodeInstancesByRange=function(e,t){var i,n;e&&e.path&&(i=this.node.findNodeByPath(e.path),t&&t.path&&(n=this.node.findNodeByPath(t.path)));var o=[];if(i instanceof j)if(n instanceof j&&n!==i)if(i.parent===n.parent){t=i.getIndex()<n.getIndex()?(e=i,n):(e=n,i);var r=e;for(o.push(r);r=r.nextSibling(),o.push(r),r&&r!==t;);}else o=this._findTopLevelNodes(i,n);else o.push(i);return o},G.getNodesByRange=function(e,t){var i=this._getNodeInstancesByRange(e,t),n=[];return i.forEach(function(e){n.push(e.serialize());}),n};var D=[{mode:"tree",mixin:G,data:"json"},{mode:"view",mixin:G,data:"json"},{mode:"form",mixin:G,data:"json"}];},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}i.r(t),i.d(t,"previewModeMixins",function(){return C});var o=i(1),r=i(8),s=i(15),a=i(5),l=i(6),c=i(21),d=i(2),h=i(9),u=i(0),g=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onChange=t,this.calculateItemSize=i||function(){return 1},this.limit=n,this.items=[],this.index=-1;}var t,i;return t=e,(i=[{key:"add",value:function(e){for(;this._calculateHistorySize()>this.limit&&1<this.items.length;)this.items.shift(),this.index--;this.items=this.items.slice(0,this.index+1),this.items.push(e),this.index++,this.onChange();}},{key:"_calculateHistorySize",value:function(){var e=this.calculateItemSize,t=0;return this.items.forEach(function(i){t+=e(i);}),t}},{key:"undo",value:function(){if(this.canUndo())return this.index--,this.onChange(),this.items[this.index]}},{key:"redo",value:function(){if(this.canRedo())return this.index++,this.onChange(),this.items[this.index]}},{key:"canUndo",value:function(){return 0<this.index}},{key:"canRedo",value:function(){return this.index<this.items.length-1}},{key:"clear",value:function(){this.items=[],this.index=-1,this.onChange();}}])&&n(t.prototype,i),e}(),p=i(4),m=c.textModeMixins[0].mixin,f={create:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};void 0===t.statusBar&&(t.statusBar=!0),t.mainMenuBar=!1!==t.mainMenuBar,t.enableSort=!1!==t.enableSort,t.enableTransform=!1!==t.enableTransform,t.createQuery=t.createQuery||p.a,t.executeQuery=t.executeQuery||p.b,"number"==typeof(this.options=t).indentation?this.indentation=Number(t.indentation):this.indentation=2,Object(o.b)(this.options.languages),Object(o.a)(this.options.language),this.mode="preview";var i=this;this.container=e,this.dom={},this.json=void 0,this.text="",this._debouncedValidate=Object(u.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-preview",this.frame.onclick=function(e){e.preventDefault();};var n,a,l,c,m,f,C,I,A={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};this.frameFocusTracker=new h.a(A),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.dom.busy=document.createElement("div"),this.dom.busy.className="jsoneditor-busy",this.dom.busyContent=document.createElement("span"),this.dom.busyContent.textContent="busy...",this.dom.busy.appendChild(this.dom.busyContent),this.content.appendChild(this.dom.busy),this.dom.previewContent=document.createElement("pre"),this.dom.previewContent.className="jsoneditor-preview",this.dom.previewText=document.createTextNode(""),this.dom.previewContent.appendChild(this.dom.previewText),this.content.appendChild(this.dom.previewContent),this.options.mainMenuBar&&(Object(u.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(n=document.createElement("button")).type="button",n.className="jsoneditor-format",n.title=Object(o.c)("formatTitle"),this.menu.appendChild(n),n.onclick=function(){i.executeWithBusyMessage(function(){try{i.format();}catch(e){i._onError(e);}},"formatting...");},(a=document.createElement("button")).type="button",a.className="jsoneditor-compact",a.title=Object(o.c)("compactTitle"),this.menu.appendChild(a),a.onclick=function(){i.executeWithBusyMessage(function(){try{i.compact();}catch(e){i._onError(e);}},"compacting...");},this.options.enableSort&&((l=document.createElement("button")).type="button",l.className="jsoneditor-sort",l.title=Object(o.c)("sortTitleShort"),l.onclick=function(){i._showSortModal();},this.menu.appendChild(l)),this.options.enableTransform&&((c=document.createElement("button")).type="button",c.title=Object(o.c)("transformTitleShort"),c.className="jsoneditor-transform",c.onclick=function(){i._showTransformModal();},this.dom.transform=c,this.menu.appendChild(c)),(m=document.createElement("button")).type="button",m.className="jsoneditor-repair",m.title=Object(o.c)("repairTitle"),this.menu.appendChild(m),!(m.onclick=function(){void 0===i.json&&i.executeWithBusyMessage(function(){try{i.repair();}catch(e){i._onError(e);}},"repairing...");})!==this.options.history&&(this.history=new g(function(){i.dom.undo.disabled=!i.history.canUndo(),i.dom.redo.disabled=!i.history.canRedo();},function(e){return 2*e.text.length},d.c),(f=document.createElement("button")).type="button",f.className="jsoneditor-undo jsoneditor-separator",f.title=Object(o.c)("undo"),f.onclick=function(){var e=i.history.undo();e&&i._applyHistory(e);},this.menu.appendChild(f),this.dom.undo=f,(C=document.createElement("button")).type="button",C.className="jsoneditor-redo",C.title=Object(o.c)("redo"),C.onclick=function(){var e=i.history.redo();e&&i._applyHistory(e);},this.menu.appendChild(C),this.dom.redo=C,this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new r.a(this.menu,this.options.modes,this.options.mode,function(e){i.setMode(e),i.modeSwitcher.focus();}))),this.errorTable=new s.a({errorTableVisible:!0,onToggleVisibility:function(){i.validate();},onFocusLine:null,onChangeHeight:function(e){var t=e+(i.dom.statusBar?i.dom.statusBar.clientHeight:0)+1;i.content.style.marginBottom=-t+"px",i.content.style.paddingBottom=t+"px";}}),this.frame.appendChild(this.content),this.frame.appendChild(this.errorTable.getErrorTable()),this.container.appendChild(this.frame),t.statusBar&&(Object(u.addClassName)(this.content,"has-status-bar"),I=document.createElement("div"),(this.dom.statusBar=I).className="jsoneditor-statusbar",this.frame.appendChild(I),this.dom.fileSizeInfo=document.createElement("span"),this.dom.fileSizeInfo.className="jsoneditor-size-info",this.dom.fileSizeInfo.innerText="",I.appendChild(this.dom.fileSizeInfo),this.dom.arrayInfo=document.createElement("span"),this.dom.arrayInfo.className="jsoneditor-size-info",this.dom.arrayInfo.innerText="",I.appendChild(this.dom.arrayInfo),I.appendChild(this.errorTable.getErrorCounter()),I.appendChild(this.errorTable.getWarningIcon()),I.appendChild(this.errorTable.getErrorIcon())),this._renderPreview(),this.setSchema(this.options.schema,this.options.schemaRefs);},_renderPreview:function(){var e=this.getText();this.dom.previewText.nodeValue=Object(u.limitCharacters)(e,d.b),this.dom.fileSizeInfo&&(this.dom.fileSizeInfo.innerText="Size: "+Object(u.formatSize)(e.length)),this.dom.arrayInfo&&(Array.isArray(this.json)?this.dom.arrayInfo.innerText="Array: "+this.json.length+" items":this.dom.arrayInfo.innerText="");},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange();}catch(e){console.error("Error in onChange callback: ",e);}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get());}catch(e){console.error("Error in onChangeJSON callback: ",e);}if(this.options.onChangeText)try{this.options.onChangeText(this.getText());}catch(e){console.error("Error in onChangeText callback: ",e);}}};f._showSortModal=function(){var e=this;this.executeWithBusyMessage(function(){var t=e.options.modalAnchor||d.a,i=e.get();e._renderPreview(),Object(a.showSortModal)(t,i,function(t){e.executeWithBusyMessage(function(){var n,o,r,s;n=i,o=t,Array.isArray(n)&&(r=Object(u.sort)(n,o.path,o.direction),e.sortedBy=o,e._setAndFireOnChange(r)),Object(u.isObject)(n)&&(s=Object(u.sortObjectKeys)(n,o.direction),e.sortedBy=o,e._setAndFireOnChange(s));},"sorting...");},e.sortedBy);},"parsing...");},f._showTransformModal=function(){var e=this;this.executeWithBusyMessage(function(){var t=e.options,i=t.createQuery,n=t.executeQuery,o=t.modalAnchor,r=t.queryDescription,s=e.get();e._renderPreview(),Object(l.showTransformModal)({container:o||d.a,json:s,queryDescription:r,createQuery:i,executeQuery:n,onTransform:function(t){e.executeWithBusyMessage(function(){var i=n(s,t);e._setAndFireOnChange(i);},"transforming...");}});},"parsing...");},f.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this._debouncedValidate=null,this.history&&(this.history.clear(),this.history=null),this.frameFocusTracker.destroy();},f.compact=function(){var e=this.get(),t=JSON.stringify(e);this._setTextAndFireOnChange(t,e);},f.format=function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this._setTextAndFireOnChange(t,e);},f.repair=function(){var e=this.getText(),t=Object(u.repair)(e);this._setTextAndFireOnChange(t);},f.focus=function(){this.dom.transform.focus();},f.set=function(e){this.history&&this.history.clear(),this._set(e);},f.update=function(e){this._set(e);},f._set=function(e){this.text=void 0,this.json=e,this._renderPreview(),this._pushHistory(),this._debouncedValidate();},f._setAndFireOnChange=function(e){this._set(e),this._onChange();},f.get=function(){var e;return void 0===this.json&&(e=this.getText(),this.json=Object(u.parse)(e)),this.json},f.getText=function(){return void 0===this.text&&(this.text=JSON.stringify(this.json,null,this.indentation),!0===this.options.escapeUnicode&&(this.text=Object(u.escapeUnicodeChars)(this.text))),this.text},f.setText=function(e){this.history&&this.history.clear(),this._setText(e);},f.updateText=function(e){this.getText()!==e&&this._setText(e);},f._setText=function(e,t){var i;!0===this.options.escapeUnicode?this.text=Object(u.escapeUnicodeChars)(e):this.text=e,this.json=t,this._renderPreview(),void 0===this.json?(i=this).executeWithBusyMessage(function(){try{i.json=i.get(),i._renderPreview(),i._pushHistory();}catch(e){}},"parsing..."):this._pushHistory(),this._debouncedValidate();},f._setTextAndFireOnChange=function(e,t){this._setText(e,t),this._onChange();},f._applyHistory=function(e){this.json=e.json,this.text=e.text,this._renderPreview(),this._debouncedValidate();},f._pushHistory=function(){var e;this.history&&(e={text:this.text,json:this.json},this.history.add(e));},f.executeWithBusyMessage=function(e,t){var i;this.getText().length>d.d?(i=this,Object(u.addClassName)(i.frame,"busy"),i.dom.busyContent.innerText=t,setTimeout(function(){e(),Object(u.removeClassName)(i.frame,"busy"),i.dom.busyContent.innerText="";},100)):e();},f.validate=m.validate,f._renderErrors=m._renderErrors;var C=[{mode:"preview",mixin:f,data:"json"}];}],e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n});},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(n,o,function(e){return t[e]}.bind(null,o));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=36);var t,i;});},function(e,t,i){var n=i(14);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(3)("62bece8f",n,!0,{});},function(e,t,i){var n=i(1);t=e.exports=i(2)(!1),t.push([e.i,".jsoneditor-modal input,.jsoneditor-modal input:not([type]),.jsoneditor-modal input[type=search],.jsoneditor-modal input[type=text],.jsoneditor input,.jsoneditor input:not([type]),.jsoneditor input[type=search],.jsoneditor input[type=text]{height:auto;border:inherit;box-shadow:none;font-size:inherit;box-sizing:inherit;padding:inherit;font-family:inherit;transition:none;line-height:inherit}.jsoneditor-modal input:focus,.jsoneditor-modal input:not([type]):focus,.jsoneditor-modal input[type=search]:focus,.jsoneditor-modal input[type=text]:focus,.jsoneditor input:focus,.jsoneditor input:not([type]):focus,.jsoneditor input[type=search]:focus,.jsoneditor input[type=text]:focus{border:inherit;box-shadow:inherit}.jsoneditor-modal textarea,.jsoneditor textarea{height:inherit}.jsoneditor-modal select,.jsoneditor select{display:inherit;height:inherit}.jsoneditor-modal label,.jsoneditor label{font-size:inherit;font-weight:inherit;color:inherit}.jsoneditor-modal table,.jsoneditor table{border-collapse:collapse;width:auto}.jsoneditor-modal td,.jsoneditor-modal th,.jsoneditor td,.jsoneditor th{padding:0;display:table-cell;text-align:left;vertical-align:inherit;border-radius:inherit}.jsoneditor .autocomplete.dropdown{position:absolute;background:#fff;box-shadow:2px 2px 12px hsla(0,0%,50%,.3);border:1px solid #d3d3d3;overflow-x:hidden;overflow-y:auto;cursor:default;margin:0;padding:5px;text-align:left;outline:0;font-family:dejavu sans mono,droid sans mono,consolas,monaco,lucida console,courier new,courier,monospace,sans-serif;font-size:10pt}.jsoneditor .autocomplete.dropdown .item{color:#333}.jsoneditor .autocomplete.dropdown .item.hover{background-color:#ddd}.jsoneditor .autocomplete.hint{color:#aaa;top:4px;left:4px}.jsoneditor-contextmenu-root{position:relative;width:0;height:0}.jsoneditor-contextmenu{position:absolute;box-sizing:content-box;z-index:2}.jsoneditor-contextmenu .jsoneditor-menu{position:relative;left:0;top:0;width:128px;height:auto;background:#fff;border:1px solid #d3d3d3;box-shadow:2px 2px 12px hsla(0,0%,50%,.3);list-style:none;margin:0;padding:0}.jsoneditor-contextmenu .jsoneditor-menu button{position:relative;padding:0 4px 0 0;margin:0;width:128px;height:auto;border:none;cursor:pointer;color:#4d4d4d;background:0 0;font-size:10pt;font-family:arial,sans-serif;box-sizing:border-box;text-align:left}.jsoneditor-contextmenu .jsoneditor-menu button::-moz-focus-inner{padding:0;border:0}.jsoneditor-contextmenu .jsoneditor-menu button.jsoneditor-default{width:96px}.jsoneditor-contextmenu .jsoneditor-menu button.jsoneditor-expand{float:right;width:32px;height:24px;border-left:1px solid #e5e5e5}.jsoneditor-contextmenu .jsoneditor-menu li{overflow:hidden}.jsoneditor-contextmenu .jsoneditor-menu li ul{display:none;position:relative;left:-10px;top:0;border:none;box-shadow:inset 0 0 10px hsla(0,0%,50%,.5);padding:0 10px;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}.jsoneditor-contextmenu .jsoneditor-menu li ul .jsoneditor-icon{margin-left:24px}.jsoneditor-contextmenu .jsoneditor-menu li ul li button{padding-left:24px;animation:all ease-in-out 1s}.jsoneditor-contextmenu .jsoneditor-menu li button .jsoneditor-expand{position:absolute;top:0;right:0;width:24px;height:24px;padding:0;margin:0 4px 0 0;background:url("+n(i(0))+") 0 -72px}.jsoneditor-contextmenu .jsoneditor-icon{position:absolute;top:0;left:0;width:24px;height:24px;border:none;padding:0;margin:0;background-image:url("+n(i(0))+')}.jsoneditor-contextmenu .jsoneditor-text{padding:4px 0 4px 24px;word-wrap:break-word}.jsoneditor-contextmenu .jsoneditor-text.jsoneditor-right-margin{padding-right:24px}.jsoneditor-contextmenu .jsoneditor-separator{height:0;border-top:1px solid #e5e5e5;padding-top:5px;margin-top:5px}.jsoneditor-contextmenu button.jsoneditor-remove .jsoneditor-icon{background-position:-24px 0}.jsoneditor-contextmenu button.jsoneditor-append .jsoneditor-icon,.jsoneditor-contextmenu button.jsoneditor-insert .jsoneditor-icon{background-position:0 0}.jsoneditor-contextmenu button.jsoneditor-duplicate .jsoneditor-icon{background-position:-48px 0}.jsoneditor-contextmenu button.jsoneditor-sort-asc .jsoneditor-icon{background-position:-168px 0}.jsoneditor-contextmenu button.jsoneditor-sort-desc .jsoneditor-icon{background-position:-192px 0}.jsoneditor-contextmenu button.jsoneditor-transform .jsoneditor-icon{background-position:-216px 0}.jsoneditor-contextmenu button.jsoneditor-extract .jsoneditor-icon{background-position:0 -24px}.jsoneditor-contextmenu button.jsoneditor-type-string .jsoneditor-icon{background-position:-144px 0}.jsoneditor-contextmenu button.jsoneditor-type-auto .jsoneditor-icon{background-position:-120px 0}.jsoneditor-contextmenu button.jsoneditor-type-object .jsoneditor-icon{background-position:-72px 0}.jsoneditor-contextmenu button.jsoneditor-type-array .jsoneditor-icon{background-position:-96px 0}.jsoneditor-contextmenu button.jsoneditor-type-modes .jsoneditor-icon{background-image:none;width:6px}.jsoneditor-contextmenu li,.jsoneditor-contextmenu ul{box-sizing:content-box;position:relative}.jsoneditor-contextmenu .jsoneditor-menu button:focus,.jsoneditor-contextmenu .jsoneditor-menu button:hover{color:#1a1a1a;background-color:#f5f5f5;outline:0}.jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected,.jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected:focus,.jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected:hover{color:#fff;background-color:#ee422e}.jsoneditor-contextmenu .jsoneditor-menu li ul li button:focus,.jsoneditor-contextmenu .jsoneditor-menu li ul li button:hover{background-color:#f5f5f5}.jsoneditor-modal{max-width:95%;border-radius:2px!important;padding:45px 15px 15px!important;box-shadow:2px 2px 12px hsla(0,0%,50%,.3);color:#4d4d4d;line-height:1.3em}.jsoneditor-modal.jsoneditor-modal-transform{width:600px!important}.jsoneditor-modal .pico-modal-header{position:absolute;box-sizing:border-box;top:0;left:0;width:100%;padding:0 10px;height:30px;line-height:30px;font-family:arial,sans-serif;font-size:11pt;background:#3883fa;color:#fff}.jsoneditor-modal table{width:100%}.jsoneditor-modal table td{padding:3px 0}.jsoneditor-modal table td.jsoneditor-modal-input{text-align:right;padding-right:0;white-space:nowrap}.jsoneditor-modal table td.jsoneditor-modal-actions{padding-top:15px}.jsoneditor-modal table th{vertical-align:middle}.jsoneditor-modal p:first-child{margin-top:0}.jsoneditor-modal a{color:#3883fa}.jsoneditor-modal .jsoneditor-jmespath-block{margin-bottom:10px}.jsoneditor-modal .pico-close{background:0 0!important;font-size:24px!important;top:7px!important;right:7px!important;color:#fff}.jsoneditor-modal input{padding:4px}.jsoneditor-modal input[type=text]{cursor:inherit}.jsoneditor-modal input[disabled]{background:#d3d3d3;color:grey}.jsoneditor-modal .jsoneditor-select-wrapper{position:relative;display:inline-block}.jsoneditor-modal .jsoneditor-select-wrapper:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid #666;position:absolute;right:8px;top:14px;pointer-events:none}.jsoneditor-modal select{padding:3px 24px 3px 10px;min-width:180px;max-width:350px;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:0;text-overflow:"";font-size:10pt;line-height:1.5em}.jsoneditor-modal select::-ms-expand{display:none}.jsoneditor-modal .jsoneditor-button-group input{padding:4px 10px;margin:0;border-radius:0;border-left-style:none}.jsoneditor-modal .jsoneditor-button-group input.jsoneditor-button-first{border-top-left-radius:3px;border-bottom-left-radius:3px;border-left-style:solid}.jsoneditor-modal .jsoneditor-button-group input.jsoneditor-button-last{border-top-right-radius:3px;border-bottom-right-radius:3px}.jsoneditor-modal .jsoneditor-transform-preview{background:#f5f5f5;height:200px}.jsoneditor-modal .jsoneditor-transform-preview.jsoneditor-error{color:#ee422e}.jsoneditor-modal .jsoneditor-jmespath-wizard{line-height:1.2em;width:100%;padding:0;border-radius:3px}.jsoneditor-modal .jsoneditor-jmespath-label{font-weight:700;color:#1e90ff;margin-top:20px;margin-bottom:5px}.jsoneditor-modal .jsoneditor-jmespath-wizard-table{width:100%;border-collapse:collapse}.jsoneditor-modal .jsoneditor-jmespath-wizard-label{font-style:italic;margin:4px 0 2px}.jsoneditor-modal .jsoneditor-inline{position:relative;display:inline-block;width:100%;padding-top:2px;padding-bottom:2px}.jsoneditor-modal .jsoneditor-inline:not(:last-child){padding-right:2px}.jsoneditor-modal .jsoneditor-jmespath-filter{display:flex;flex-wrap:wrap}.jsoneditor-modal .jsoneditor-jmespath-filter-field{width:180px}.jsoneditor-modal .jsoneditor-jmespath-filter-relation{width:100px}.jsoneditor-modal .jsoneditor-jmespath-filter-value{min-width:180px;flex:1}.jsoneditor-modal .jsoneditor-jmespath-sort-field{width:170px}.jsoneditor-modal .jsoneditor-jmespath-sort-order{width:150px}.jsoneditor-modal .jsoneditor-jmespath-select-fields{width:100%}.jsoneditor-modal .selectr-selected{border-color:#d3d3d3;padding:4px 28px 4px 8px}.jsoneditor-modal .selectr-selected .selectr-tag{background-color:#3883fa;border-radius:5px}.jsoneditor-modal table td,.jsoneditor-modal table th{text-align:left;vertical-align:middle;font-weight:400;color:#4d4d4d;border-spacing:0;border-collapse:collapse}.jsoneditor-modal #query,.jsoneditor-modal input,.jsoneditor-modal input[type=text],.jsoneditor-modal input[type=text]:focus,.jsoneditor-modal select,.jsoneditor-modal textarea{background:#fff;border:1px solid #d3d3d3;color:#4d4d4d;border-radius:3px;padding:4px}.jsoneditor-modal,.jsoneditor-modal #query,.jsoneditor-modal input,.jsoneditor-modal input[type=text],.jsoneditor-modal option,.jsoneditor-modal select,.jsoneditor-modal table td,.jsoneditor-modal table th,.jsoneditor-modal textarea{font-size:10.5pt;font-family:arial,sans-serif}.jsoneditor-modal #query,.jsoneditor-modal .jsoneditor-transform-preview{font-family:dejavu sans mono,droid sans mono,consolas,monaco,lucida console,courier new,courier,monospace,sans-serif;font-size:10pt;width:100%;box-sizing:border-box}.jsoneditor-modal input[type=button],.jsoneditor-modal input[type=submit]{background:#f5f5f5;padding:4px 20px}.jsoneditor-modal input,.jsoneditor-modal select{cursor:pointer}.jsoneditor-modal .jsoneditor-button-group.jsoneditor-button-group-value-asc input.jsoneditor-button-asc,.jsoneditor-modal .jsoneditor-button-group.jsoneditor-button-group-value-desc input.jsoneditor-button-desc{background:#3883fa;border-color:#3883fa;color:#fff}.jsoneditor{color:#1a1a1a;border:thin solid #3883fa;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:100%;position:relative;padding:0;line-height:100%}div.jsoneditor-default,div.jsoneditor-field,div.jsoneditor-readonly,div.jsoneditor-value{border:1px solid transparent;min-height:16px;min-width:32px;padding:2px;margin:1px;word-wrap:break-word;float:left}div.jsoneditor-field p,div.jsoneditor-value p{margin:0}div.jsoneditor-value{word-break:break-word}div.jsoneditor-value.jsoneditor-empty:after{content:"value"}div.jsoneditor-value.jsoneditor-string{color:#006000}div.jsoneditor-value.jsoneditor-number{color:#ee422e}div.jsoneditor-value.jsoneditor-boolean{color:#ff8c00}div.jsoneditor-value.jsoneditor-null{color:#004ed0}div.jsoneditor-value.jsoneditor-color-value,div.jsoneditor-value.jsoneditor-invalid{color:#1a1a1a}div.jsoneditor-readonly{min-width:16px;color:grey}div.jsoneditor-empty{border-color:#d3d3d3;border-style:dashed;border-radius:2px}div.jsoneditor-field.jsoneditor-empty:after{content:"field"}div.jsoneditor td{vertical-align:top}div.jsoneditor td.jsoneditor-separator{padding:3px 0;vertical-align:top;color:grey}div.jsoneditor td.jsoneditor-tree{vertical-align:top}div.jsoneditor.busy pre.jsoneditor-preview{background:#f5f5f5;color:grey}div.jsoneditor.busy div.jsoneditor-busy{display:inherit}div.jsoneditor code.jsoneditor-preview{background:0 0}div.jsoneditor.jsoneditor-mode-preview pre.jsoneditor-preview{width:100%;height:100%;box-sizing:border-box;overflow:auto;padding:2px;margin:0;white-space:pre-wrap;word-break:break-all}div.jsoneditor-default{color:grey;padding-left:10px}div.jsoneditor-tree{width:100%;height:100%;position:relative;overflow:auto}div.jsoneditor-tree button.jsoneditor-button{width:24px;height:24px;padding:0;margin:0;border:none;cursor:pointer;background:transparent url('+n(i(0))+")}div.jsoneditor-tree button.jsoneditor-button:focus{background-color:#f5f5f5;outline:1px solid #e5e5e5}div.jsoneditor-tree button.jsoneditor-collapsed{background-position:0 -48px}div.jsoneditor-tree button.jsoneditor-expanded{background-position:0 -72px}div.jsoneditor-tree button.jsoneditor-contextmenu-button{background-position:-48px -72px}div.jsoneditor-tree button.jsoneditor-invisible{visibility:hidden;background:0 0}div.jsoneditor-tree button.jsoneditor-dragarea{background:url("+n(i(0))+") -72px -72px;cursor:move}div.jsoneditor-tree :focus{outline:0}div.jsoneditor-tree div.jsoneditor-show-more{display:inline-block;padding:3px 4px;margin:2px 0;background-color:#e5e5e5;border-radius:3px;color:grey;font-family:arial,sans-serif;font-size:10pt}div.jsoneditor-tree div.jsoneditor-show-more a{display:inline-block;color:grey}div.jsoneditor-tree div.jsoneditor-color{display:inline-block;width:12px;height:12px;margin:4px;border:1px solid grey;cursor:pointer}div.jsoneditor-tree div.jsoneditor-date{background:#a1a1a1;color:#fff;font-family:arial,sans-serif;border-radius:3px;display:inline-block;padding:3px;margin:0 3px}div.jsoneditor-tree table.jsoneditor-tree{border-collapse:collapse;border-spacing:0;width:100%}div.jsoneditor-tree .jsoneditor-button.jsoneditor-schema-error{width:24px;height:24px;padding:0;margin:0 4px 0 0;background:url("+n(i(0))+') -168px -48px}div.jsoneditor-outer{position:static;width:100%;height:100%;margin:0;padding:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}div.jsoneditor-outer.has-nav-bar{margin-top:-26px;padding-top:26px}div.jsoneditor-outer.has-nav-bar.has-main-menu-bar{margin-top:-61px;padding-top:61px}div.jsoneditor-outer.has-status-bar{margin-bottom:-26px;padding-bottom:26px}div.jsoneditor-outer.has-main-menu-bar{margin-top:-35px;padding-top:35px}div.jsoneditor-busy{position:absolute;top:15%;left:0;box-sizing:border-box;width:100%;text-align:center;display:none}div.jsoneditor-busy span{background-color:#ffffab;border:1px solid #fe0;border-radius:3px;padding:5px 15px;box-shadow:0 0 5px rgba(0,0,0,.4)}div.jsoneditor-field.jsoneditor-empty:after,div.jsoneditor-value.jsoneditor-empty:after{pointer-events:none;color:#d3d3d3;font-size:8pt}a.jsoneditor-value.jsoneditor-url,div.jsoneditor-value.jsoneditor-url{color:#006000;text-decoration:underline}a.jsoneditor-value.jsoneditor-url{display:inline-block;padding:2px;margin:2px}a.jsoneditor-value.jsoneditor-url:focus,a.jsoneditor-value.jsoneditor-url:hover{color:#ee422e}div.jsoneditor-field.jsoneditor-highlight,div.jsoneditor-field[contenteditable=true]:focus,div.jsoneditor-field[contenteditable=true]:hover,div.jsoneditor-value.jsoneditor-highlight,div.jsoneditor-value[contenteditable=true]:focus,div.jsoneditor-value[contenteditable=true]:hover{background-color:#ffffab;border:1px solid #fe0;border-radius:2px}div.jsoneditor-field.jsoneditor-highlight-active,div.jsoneditor-field.jsoneditor-highlight-active:focus,div.jsoneditor-field.jsoneditor-highlight-active:hover,div.jsoneditor-value.jsoneditor-highlight-active,div.jsoneditor-value.jsoneditor-highlight-active:focus,div.jsoneditor-value.jsoneditor-highlight-active:hover{background-color:#fe0;border:1px solid #ffc700;border-radius:2px}div.jsoneditor-value.jsoneditor-array,div.jsoneditor-value.jsoneditor-object{min-width:16px}div.jsoneditor-tree button.jsoneditor-contextmenu-button.jsoneditor-selected,div.jsoneditor-tree button.jsoneditor-contextmenu-button:focus,div.jsoneditor-tree button.jsoneditor-contextmenu-button:hover,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-contextmenu-button{background-position:-48px -48px}div.jsoneditor-tree div.jsoneditor-show-more a:focus,div.jsoneditor-tree div.jsoneditor-show-more a:hover{color:#ee422e}.ace-jsoneditor,textarea.jsoneditor-text{min-height:150px}.ace-jsoneditor *,textarea.jsoneditor-text *{font-family:dejavu sans mono,droid sans mono,consolas,monaco,lucida console,courier new,courier,monospace,sans-serif}textarea.jsoneditor-text{width:100%;height:100%;margin:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;outline-width:0;border:none;background-color:#fff;resize:none}tr.jsoneditor-highlight,tr.jsoneditor-selected{background-color:#d3d3d3}tr.jsoneditor-selected button.jsoneditor-contextmenu-button,tr.jsoneditor-selected button.jsoneditor-dragarea{visibility:hidden}tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-contextmenu-button,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-dragarea{visibility:visible}div.jsoneditor-tree button.jsoneditor-dragarea:focus,div.jsoneditor-tree button.jsoneditor-dragarea:hover,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-dragarea{background-position:-72px -48px}div.jsoneditor td,div.jsoneditor th,div.jsoneditor tr{padding:0;margin:0}.jsoneditor-popover,.jsoneditor-schema-error,div.jsoneditor-field,div.jsoneditor-value,div.jsoneditor td,div.jsoneditor textarea,div.jsoneditor th,pre.jsoneditor-preview{font-family:dejavu sans mono,droid sans mono,consolas,monaco,lucida console,courier new,courier,monospace,sans-serif;font-size:10pt;color:#1a1a1a}.jsoneditor-schema-error{cursor:default;display:inline-block;height:24px;line-height:24px;position:relative;text-align:center;width:24px}.jsoneditor-popover{background-color:#4c4c4c;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.4);color:#fff;padding:7px 10px;position:absolute;cursor:auto;width:200px}.jsoneditor-popover.jsoneditor-above{bottom:32px;left:-98px}.jsoneditor-popover.jsoneditor-above:before{border-top:7px solid #4c4c4c;bottom:-7px}.jsoneditor-popover.jsoneditor-below{top:32px;left:-98px}.jsoneditor-popover.jsoneditor-below:before{border-bottom:7px solid #4c4c4c;top:-7px}.jsoneditor-popover.jsoneditor-left{top:-7px;right:32px}.jsoneditor-popover.jsoneditor-left:before{border-left:7px solid #4c4c4c;border-top:7px solid transparent;border-bottom:7px solid transparent;content:"";top:19px;right:-14px;left:inherit;margin-left:inherit;margin-top:-7px;position:absolute}.jsoneditor-popover.jsoneditor-right{top:-7px;left:32px}.jsoneditor-popover.jsoneditor-right:before{border-right:7px solid #4c4c4c;border-top:7px solid transparent;border-bottom:7px solid transparent;content:"";top:19px;left:-14px;margin-left:inherit;margin-top:-7px;position:absolute}.jsoneditor-popover:before{border-right:7px solid transparent;border-left:7px solid transparent;content:"";display:block;left:50%;margin-left:-7px;position:absolute}.jsoneditor-text-errors tr.jump-to-line:hover{text-decoration:underline;cursor:pointer}.jsoneditor-schema-error:focus .jsoneditor-popover,.jsoneditor-schema-error:hover .jsoneditor-popover{display:block;animation:fade-in .3s linear 1,move-up .3s linear 1}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.jsoneditor .jsoneditor-validation-errors-container{max-height:130px;overflow-y:auto}.jsoneditor .jsoneditor-validation-errors{width:100%;overflow:hidden}.jsoneditor .jsoneditor-additional-errors{position:absolute;margin:auto;bottom:31px;left:calc(50% - 92px);color:grey;background-color:#ebebeb;padding:7px 15px;border-radius:8px}.jsoneditor .jsoneditor-additional-errors.visible{visibility:visible;opacity:1;transition:opacity 2s linear}.jsoneditor .jsoneditor-additional-errors.hidden{visibility:hidden;opacity:0;transition:visibility 0s 2s,opacity 2s linear}.jsoneditor .jsoneditor-text-errors{width:100%;border-collapse:collapse;border-top:1px solid #ffc700}.jsoneditor .jsoneditor-text-errors td{padding:3px 6px;vertical-align:middle}.jsoneditor .jsoneditor-text-errors td pre{margin:0;white-space:normal}.jsoneditor .jsoneditor-text-errors tr{background-color:#ffffab}.jsoneditor .jsoneditor-text-errors tr.parse-error{background-color:#ee2e2e70}.jsoneditor-text-errors .jsoneditor-schema-error{border:none;width:24px;height:24px;padding:0;margin:0 4px 0 0;cursor:pointer}.jsoneditor-text-errors tr .jsoneditor-schema-error{background:url('+n(i(0))+") -168px -48px}.jsoneditor-text-errors tr.parse-error .jsoneditor-schema-error{background:url("+n(i(0))+") -25px 0}.jsoneditor-anchor{cursor:pointer}.jsoneditor-anchor .picker_wrapper.popup.popup_bottom{top:28px;left:-10px}.fadein{-webkit-animation:fadein .3s;animation:fadein .3s;-moz-animation:fadein .3s;-o-animation:fadein .3s}@keyframes fadein{0%{opacity:0}to{opacity:1}}.jsoneditor-modal input[type=search].selectr-input{border:1px solid #d3d3d3;width:calc(100% - 4px);margin:2px;padding:4px;box-sizing:border-box}.jsoneditor-modal button.selectr-input-clear{right:8px}.jsoneditor-menu{width:100%;height:35px;padding:2px;margin:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;background-color:#3883fa;border-bottom:1px solid #3883fa}.jsoneditor-menu>.jsoneditor-modes>button,.jsoneditor-menu>button{width:26px;height:26px;margin:2px;padding:0;border-radius:2px;border:1px solid transparent;background:transparent url("+n(i(0))+");color:#fff;opacity:.8;font-family:arial,sans-serif;font-size:10pt;float:left}.jsoneditor-menu>.jsoneditor-modes>button:hover,.jsoneditor-menu>button:hover{background-color:hsla(0,0%,100%,.2);border:1px solid hsla(0,0%,100%,.4)}.jsoneditor-menu>.jsoneditor-modes>button:active,.jsoneditor-menu>.jsoneditor-modes>button:focus,.jsoneditor-menu>button:active,.jsoneditor-menu>button:focus{background-color:hsla(0,0%,100%,.3)}.jsoneditor-menu>.jsoneditor-modes>button:disabled,.jsoneditor-menu>button:disabled{opacity:.5;background-color:transparent;border:none}.jsoneditor-menu>button.jsoneditor-collapse-all{background-position:0 -96px}.jsoneditor-menu>button.jsoneditor-expand-all{background-position:0 -120px}.jsoneditor-menu>button.jsoneditor-sort{background-position:-120px -96px}.jsoneditor-menu>button.jsoneditor-transform{background-position:-144px -96px}.jsoneditor.jsoneditor-mode-form>.jsoneditor-menu>button.jsoneditor-sort,.jsoneditor.jsoneditor-mode-form>.jsoneditor-menu>button.jsoneditor-transform,.jsoneditor.jsoneditor-mode-view>.jsoneditor-menu>button.jsoneditor-sort,.jsoneditor.jsoneditor-mode-view>.jsoneditor-menu>button.jsoneditor-transform{display:none}.jsoneditor-menu>button.jsoneditor-undo{background-position:-24px -96px}.jsoneditor-menu>button.jsoneditor-undo:disabled{background-position:-24px -120px}.jsoneditor-menu>button.jsoneditor-redo{background-position:-48px -96px}.jsoneditor-menu>button.jsoneditor-redo:disabled{background-position:-48px -120px}.jsoneditor-menu>button.jsoneditor-compact{background-position:-72px -96px}.jsoneditor-menu>button.jsoneditor-format{background-position:-72px -120px}.jsoneditor-menu>button.jsoneditor-repair{background-position:-96px -96px}.jsoneditor-menu>.jsoneditor-modes{display:inline-block;float:left}.jsoneditor-menu>.jsoneditor-modes>button{background-image:none;width:auto;padding-left:6px;padding-right:6px}.jsoneditor-menu>.jsoneditor-modes>button.jsoneditor-separator,.jsoneditor-menu>button.jsoneditor-separator{margin-left:10px}.jsoneditor-menu a{font-family:arial,sans-serif;font-size:10pt;color:#fff;opacity:.8;vertical-align:middle}.jsoneditor-menu a:hover{opacity:1}.jsoneditor-menu a.jsoneditor-poweredBy{font-size:8pt;position:absolute;right:0;top:0;padding:10px}.jsoneditor-navigation-bar{width:100%;height:26px;line-height:26px;padding:0;margin:0;border-bottom:1px solid #d3d3d3;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:grey;background-color:#ebebeb;overflow:hidden;font-family:arial,sans-serif;font-size:10pt}.jsoneditor-search{font-family:arial,sans-serif;position:absolute;right:4px;top:4px;border-collapse:collapse;border-spacing:0;display:flex}.jsoneditor-search input{color:#1a1a1a;width:120px;border:none;outline:0;margin:1px;line-height:20px;font-family:arial,sans-serif}.jsoneditor-search button{width:16px;height:24px;padding:0;margin:0;border:none;background:url("+n(i(0))+");vertical-align:top}.jsoneditor-search button:hover{background-color:transparent}.jsoneditor-search button.jsoneditor-refresh{width:18px;background-position:-99px -73px}.jsoneditor-search button.jsoneditor-next{cursor:pointer;background-position:-124px -73px}.jsoneditor-search button.jsoneditor-next:hover{background-position:-124px -49px}.jsoneditor-search button.jsoneditor-previous{cursor:pointer;background-position:-148px -73px;margin-right:2px}.jsoneditor-search button.jsoneditor-previous:hover{background-position:-148px -49px}.jsoneditor-results{font-family:arial,sans-serif;color:#fff;padding-right:5px;line-height:26px}.jsoneditor-frame{border:1px solid transparent;background-color:#fff;padding:0 2px;margin:0}.jsoneditor-statusbar{line-height:26px;height:26px;color:grey;background-color:#ebebeb;border-top:1px solid #d3d3d3;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:10pt}.jsoneditor-statusbar>.jsoneditor-curserinfo-val{margin-right:12px}.jsoneditor-statusbar>.jsoneditor-curserinfo-count{margin-left:4px}.jsoneditor-statusbar>.jsoneditor-validation-error-icon{float:right;width:24px;height:24px;padding:0;margin-top:1px;background:url("+n(i(0))+") -168px -48px;cursor:pointer}.jsoneditor-statusbar>.jsoneditor-validation-error-count{float:right;margin:0 4px 0 0;cursor:pointer}.jsoneditor-statusbar>.jsoneditor-parse-error-icon{float:right;width:24px;height:24px;padding:0;margin:1px;background:url("+n(i(0))+') -25px 0}.jsoneditor-statusbar .jsoneditor-array-info a{color:inherit}div.jsoneditor-statusbar>.jsoneditor-curserinfo-label,div.jsoneditor-statusbar>.jsoneditor-size-info{margin:0 4px}.jsoneditor-treepath{padding:0 5px;overflow:hidden;white-space:nowrap;outline:0}.jsoneditor-treepath.show-all{word-wrap:break-word;white-space:normal;position:absolute;background-color:#ebebeb;z-index:1;box-shadow:2px 2px 12px hsla(0,0%,50%,.3)}.jsoneditor-treepath.show-all span.jsoneditor-treepath-show-all-btn{display:none}.jsoneditor-treepath div.jsoneditor-contextmenu-root{position:absolute;left:0}.jsoneditor-treepath .jsoneditor-treepath-show-all-btn{position:absolute;background-color:#ebebeb;left:0;height:20px;padding:0 3px;cursor:pointer}.jsoneditor-treepath .jsoneditor-treepath-element{margin:1px;font-family:arial,sans-serif;font-size:10pt}.jsoneditor-treepath .jsoneditor-treepath-seperator{margin:2px;font-size:9pt;font-family:arial,sans-serif}.jsoneditor-treepath span.jsoneditor-treepath-element:hover,.jsoneditor-treepath span.jsoneditor-treepath-seperator:hover{cursor:pointer;text-decoration:underline}/*!\n * Selectr 2.4.0\n * https://github.com/Mobius1/Selectr\n *\n * Released under the MIT license\n */.selectr-container{position:relative}.selectr-container li{list-style:none}.selectr-hidden{position:absolute;overflow:hidden;clip:rect(0,0,0,0);width:1px;height:1px;margin:-1px;padding:0;border:0 none}.selectr-visible{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;z-index:11}.selectr-desktop.multiple .selectr-visible{display:none}.selectr-desktop.multiple.native-open .selectr-visible{top:100%;min-height:200px!important;height:auto;opacity:1;display:block}.selectr-container.multiple.selectr-mobile .selectr-selected{z-index:0}.selectr-selected{position:relative;z-index:1;box-sizing:border-box;width:100%;padding:7px 28px 7px 14px;cursor:pointer;border:1px solid #999;border-radius:3px;background-color:#fff}.selectr-selected:before{position:absolute;top:50%;right:10px;width:0;height:0;content:"";-o-transform:rotate(0) translate3d(0,-50%,0);-ms-transform:rotate(0) translate3d(0,-50%,0);-moz-transform:rotate(0) translate3d(0,-50%,0);-webkit-transform:rotate(0) translate3d(0,-50%,0);transform:rotate(0) translate3d(0,-50%,0);border-width:4px 4px 0;border-style:solid;border-color:#6c7a86 transparent transparent}.selectr-container.native-open .selectr-selected:before,.selectr-container.open .selectr-selected:before{border-width:0 4px 4px;border-style:solid;border-color:transparent transparent #6c7a86}.selectr-label{display:none;overflow:hidden;width:100%;white-space:nowrap;text-overflow:ellipsis}.selectr-placeholder{color:#6c7a86}.selectr-tags{margin:0;padding:0;white-space:normal}.has-selected .selectr-tags{margin:0 0 -2px}.selectr-tag{list-style:none;position:relative;float:left;padding:2px 25px 2px 8px;margin:0 2px 2px 0;cursor:default;color:#fff;border:medium none;border-radius:10px;background:#acb7bf none repeat scroll 0 0}.selectr-container.multiple.has-selected .selectr-selected{padding:5px 28px 5px 5px}.selectr-options-container{position:absolute;z-index:10000;top:calc(100% - 1px);left:0;display:none;box-sizing:border-box;width:100%;border-width:0 1px 1px;border-style:solid;border-color:transparent #999 #999;border-radius:0 0 3px 3px;background-color:#fff}.selectr-container.open .selectr-options-container{display:block}.selectr-input-container{position:relative;display:none}.selectr-clear,.selectr-input-clear,.selectr-tag-remove{position:absolute;top:50%;right:22px;width:20px;height:20px;padding:0;cursor:pointer;-o-transform:translate3d(0,-50%,0);-ms-transform:translate3d(0,-50%,0);-moz-transform:translate3d(0,-50%,0);-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);border:medium none;background-color:transparent;z-index:11}.selectr-clear,.selectr-input-clear{display:none}.selectr-container.has-selected .selectr-clear,.selectr-input-container.active .selectr-input-clear{display:block}.selectr-selected .selectr-tag-remove{right:2px}.selectr-clear:after,.selectr-clear:before,.selectr-input-clear:after,.selectr-input-clear:before,.selectr-tag-remove:after,.selectr-tag-remove:before{position:absolute;top:5px;left:9px;width:2px;height:10px;content:" ";background-color:#6c7a86}.selectr-tag-remove:after,.selectr-tag-remove:before{top:4px;width:3px;height:12px;background-color:#fff}.selectr-clear:before,.selectr-input-clear:before,.selectr-tag-remove:before{-o-transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg)}.selectr-clear:after,.selectr-input-clear:after,.selectr-tag-remove:after{-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.selectr-input-container.active,.selectr-input-container.active .selectr-clear{display:block}.selectr-input{top:5px;left:5px;box-sizing:border-box;width:calc(100% - 30px);margin:10px 15px;padding:7px 30px 7px 9px;border:1px solid #999;border-radius:3px}.selectr-notice{display:none;box-sizing:border-box;width:100%;padding:8px 16px;border-top:1px solid #999;border-radius:0 0 3px 3px;background-color:#fff}.selectr-container.notice .selectr-notice{display:block}.selectr-container.notice .selectr-selected{border-radius:3px 3px 0 0}.selectr-options{position:relative;top:calc(100% + 2px);display:none;overflow-x:auto;overflow-y:scroll;max-height:200px;margin:0;padding:0}.selectr-container.notice .selectr-options-container,.selectr-container.open .selectr-input-container,.selectr-container.open .selectr-options{display:block}.selectr-option{position:relative;display:block;padding:5px 20px;list-style:outside none none;cursor:pointer;font-weight:400}.selectr-options.optgroups>.selectr-option{padding-left:25px}.selectr-optgroup{font-weight:700;padding:0}.selectr-optgroup--label{font-weight:700;margin-top:10px;padding:5px 15px}.selectr-match{text-decoration:underline}.selectr-option.selected{background-color:#ddd}.selectr-option.active{color:#fff;background-color:#5897fb}.selectr-option.disabled{opacity:.4}.selectr-option.excluded{display:none}.selectr-container.open .selectr-selected{border-color:#999 #999 transparent;border-radius:3px 3px 0 0}.selectr-container.open .selectr-selected:after{-o-transform:rotate(180deg) translate3d(0,50%,0);-ms-transform:rotate(180deg) translate3d(0,50%,0);-moz-transform:rotate(180deg) translate3d(0,50%,0);-webkit-transform:rotate(180deg) translate3d(0,50%,0);transform:rotate(180deg) translate3d(0,50%,0)}.selectr-disabled{opacity:.6}.has-selected .selectr-placeholder,.selectr-empty{display:none}.has-selected .selectr-label{display:block}.taggable .selectr-selected{padding:4px 28px 4px 4px}.taggable .selectr-selected:after{display:table;content:" ";clear:both}.taggable .selectr-label{width:auto}.taggable .selectr-tags{float:left;display:block}.taggable .selectr-placeholder{display:none}.input-tag{float:left;min-width:90px;width:auto}.selectr-tag-input{border:medium none;padding:3px 10px;width:100%;font-family:inherit;font-weight:inherit;font-size:inherit}.selectr-input-container.loading:after{position:absolute;top:50%;right:20px;width:20px;height:20px;content:"";-o-transform:translate3d(0,-50%,0);-ms-transform:translate3d(0,-50%,0);-moz-transform:translate3d(0,-50%,0);-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);-o-transform-origin:50% 0 0;-ms-transform-origin:50% 0 0;-moz-transform-origin:50% 0 0;-webkit-transform-origin:50% 0 0;transform-origin:50% 0 0;-moz-animation:.5s linear 0s normal forwards infinite running spin;-webkit-animation:.5s linear 0s normal forwards infinite running spin;animation:.5s linear 0s normal forwards infinite running spin;border-width:3px;border-style:solid;border-color:#aaa #ddd #ddd;border-radius:50%}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0) translate3d(0,-50%,0);transform:rotate(0) translate3d(0,-50%,0)}to{-webkit-transform:rotate(1turn) translate3d(0,-50%,0);transform:rotate(1turn) translate3d(0,-50%,0)}}@keyframes spin{0%{-webkit-transform:rotate(0) translate3d(0,-50%,0);transform:rotate(0) translate3d(0,-50%,0)}to{-webkit-transform:rotate(1turn) translate3d(0,-50%,0);transform:rotate(1turn) translate3d(0,-50%,0)}}.selectr-container.open.inverted .selectr-selected{border-color:transparent #999 #999;border-radius:0 0 3px 3px}.selectr-container.inverted .selectr-options-container{border-width:1px 1px 0;border-color:#999 #999 transparent;border-radius:3px 3px 0 0;background-color:#fff;top:auto;bottom:calc(100% - 1px)}.selectr-container ::-webkit-input-placeholder{color:#6c7a86;opacity:1}.selectr-container ::-moz-placeholder{color:#6c7a86;opacity:1}.selectr-container :-ms-input-placeholder{color:#6c7a86;opacity:1}.selectr-container ::placeholder{color:#6c7a86;opacity:1}',""]);},function(e,t,i){var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"jsoneditor-container",class:{"max-box":e.max,"min-box":!e.max},style:e.getHeight},[i("div",{ref:"jsoneditor",staticClass:"jsoneditor-box"}),e._v(" "),"code"==e.options.mode&&e.plus?i("button",{staticClass:"max-btn",attrs:{type:"button",size:"mini"},on:{click:function(t){e.max=!e.max;}}}):e._e()])},o=[],r={render:n,staticRenderFns:o};t.a=r;}])});

  });

  var VJsoneditor = unwrapExports(vJsoneditor_min);
  var vJsoneditor_min_1 = vJsoneditor_min.VJsoneditor;

  /**
  * Code editor with multi-language support
  *
  * @param {number} height The size of the editing window
  * @param {string} syntax ENUM: ['text', 'json', 'javascript', 'html', 'css']
  * @param {object} options Further customisations for underlying library
  *
  * @emits change Emitted as `(newValue)` when the value changes
  *
  * @example Display a code editor box
  * <mg-code syntax="javascript" :value="someValue" @change="someValue = $event">
  */

  var script$f = Vue.mgComponent('mgCode', {
    meta: {
      title: 'Code Editor',
      icon: 'fal fa-code',
      category: 'Complex Inputs',
      preferId: true
    },
    components: {
      VJsoneditor: VJsoneditor
    },
    data: function data() {
      return {
        editor: undefined
      };
    },
    computed: {
      // TODO: Could pick options based on what each library supports
      options: function options() {
        if (this.syntax === 'json') {
          return _objectSpread2({
            enableSort: false,
            search: false,
            mode: 'code',
            modes: ['code', 'tree']
          }, _.isPlainObject(this.$props.options) ? this.$props.options : {});
        } else {
          return _objectSpread2({
            showPrintMargin: false
          }, _.isPlainObject(this.$props.options) ? this.$props.options : {});
        }
      }
    },
    props: {
      height: {
        type: 'mgText',
        "default": '400',
        help: 'The size of the editing window',
        advanced: true
      },
      syntax: {
        type: 'mgChoiceDropdown',
        "enum": ['text', 'json', 'javascript', 'html', 'css'],
        "default": 'json'
      },
      options: {
        type: 'mgCode',
        "default": {},
        help: 'Further customisations for underlying library'
      }
    },
    methods: {
      initAceMode: function initAceMode(mode) {
        var _this = this;

        return new Promise(function (resolve, reject) {
          var script = document.createElement('script');
          script.src = 'node_modules/ace-builds/src-noconflict/mode-' + mode + '.js';
          script.addEventListener('load', resolve);
          script.addEventListener('error', function (e) {
            return reject(e.error);
          });
          document.head.appendChild(script);
        }).then(function () {
          var Mode = ace.require('ace/mode/' + mode).Mode;

          _this.editor.session.setMode(new Mode());
        });
      },
      initAce: function initAce() {
        var _this2 = this;

        this.$el.style = "position: relative; height: ".concat(this.$props.height, "px; width: 100%;");
        this.editor = ace.edit(this.$el);
        this.initAceMode(this.syntax);
        this.editor.$blockScrolling = Infinity;
        this.editor.setOptions(this.options);
        this.$nextTick(function () {
          return _this2.editor.resize(true);
        });
        this.editor.on('change', function (delta) {
          _this2.data = _this2.editor.getValue();
          return true;
        });
        this.$watch('data', function (newVal, oldVal) {
          if (!newVal) return;
          if (newVal === _this2.editor.getValue()) return;

          _this2.editor.setValue(newVal, 1);
        }, {
          deep: true,
          immediate: true
        });
      },
      errorHandler: function errorHandler(e) {
        console.log('errorHandler', e);
      }
    },
    mounted: function mounted() {
      if (this.syntax === 'json') return;
      this.initAce();
    },
    beforeDestroy: function beforeDestroy() {
      if (!this.editor) return;
      this.editor.destroy();
      this.editor.container.remove();
    }
  });

  /* script */
  const __vue_script__$g = script$f;

  /* template */
  var __vue_render__$b = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "mg-code" },
      [
        _vm.syntax == "json"
          ? _c("v-jsoneditor", {
              attrs: { options: _vm.options, plus: false, height: _vm.height },
              on: { error: _vm.errorHandler },
              model: {
                value: _vm.data,
                callback: function($$v) {
                  _vm.data = $$v;
                },
                expression: "data"
              }
            })
          : _vm._e()
      ],
      1
    )
  };
  var __vue_staticRenderFns__$b = [];
  __vue_render__$b._withStripped = true;

    /* style */
    const __vue_inject_styles__$g = function (inject) {
      if (!inject) return
      inject("data-v-3249237c_0", { source: "\n.mg-code {\n\tborder: 1px solid #f0f0f0;\n\tborder-radius: 5px;\n\tmin-width: 150px;\n}\n.jsoneditor-menu a.jsoneditor-poweredBy {\n\tdisplay: none;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgCode.vue"],"names":[],"mappings":";AAqHA;CACA,yBAAA;CACA,kBAAA;CACA,gBAAA;AACA;AACA;CACA,aAAA;AACA","file":"mgCode.vue","sourcesContent":["<script>\nimport VJsoneditor from 'v-jsoneditor';\n\n/**\n* Code editor with multi-language support\n*\n* @param {number} height The size of the editing window\n* @param {string} syntax ENUM: ['text', 'json', 'javascript', 'html', 'css']\n* @param {object} options Further customisations for underlying library\n*\n* @emits change Emitted as `(newValue)` when the value changes\n*\n* @example Display a code editor box\n* <mg-code syntax=\"javascript\" :value=\"someValue\" @change=\"someValue = $event\">\n*/\nexport default Vue.mgComponent('mgCode', {\n\tmeta: {\n\t\ttitle: 'Code Editor',\n\t\ticon: 'fal fa-code',\n\t\tcategory: 'Complex Inputs',\n\t\tpreferId: true,\n\t},\n\tcomponents: {VJsoneditor},\n\tdata() { return {\n\t\teditor: undefined,\n\t}},\n\tcomputed: {\n\t\t// TODO: Could pick options based on what each library supports\n\t\toptions() {\n\t\t\tif (this.syntax === 'json') {\n\t\t\t\treturn {\n\t\t\t\t\tenableSort: false,\n\t\t\t\t\tsearch: false,\n\t\t\t\t\tmode: 'code',\n\t\t\t\t\tmodes: ['code', 'tree'],\n\t\t\t\t\t..._.isPlainObject(this.$props.options) ? this.$props.options : {},\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tshowPrintMargin: false,\n\t\t\t\t\t..._.isPlainObject(this.$props.options) ? this.$props.options : {},\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t},\n\tprops: {\n\t\theight: {type: 'mgText', default: '400', help: 'The size of the editing window', advanced: true},\n\t\tsyntax: {type: 'mgChoiceDropdown', enum: ['text', 'json', 'javascript', 'html', 'css'], default: 'json'},\n\t\toptions: {type: 'mgCode', default: {}, help: 'Further customisations for underlying library'},\n\t},\n\tmethods: {\n\t\tinitAceMode(mode) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst script = document.createElement('script');\n\t\t\t\tscript.src = 'node_modules/ace-builds/src-noconflict/mode-' + mode + '.js';\n\t\t\t\tscript.addEventListener('load', resolve);\n\t\t\t\tscript.addEventListener('error', e => reject(e.error));\n\t\t\t\tdocument.head.appendChild(script);\n\t\t\t}).then(() => {\n\t\t\t\tvar Mode = ace.require('ace/mode/' + mode).Mode;\n\t\t\t\tthis.editor.session.setMode(new Mode());\n\t\t\t});\n\t\t},\n\t\tinitAce() {\n\t\t\tthis.$el.style = `position: relative; height: ${this.$props.height}px; width: 100%;`;\n\t\t\tthis.editor = ace.edit(this.$el);\n\n\t\t\tthis.initAceMode(this.syntax);\n\n\t\t\tthis.editor.$blockScrolling = Infinity;\n\t\t\tthis.editor.setOptions(this.options);\n\n\t\t\tthis.$nextTick(()=> this.editor.resize(true));\n\n\t\t\tthis.editor.on('change', delta => {\n\t\t\t\tthis.data = this.editor.getValue();\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tthis.$watch('data', (newVal, oldVal)=> {\n\t\t\t\tif (!newVal) return;\n\t\t\t\tif (newVal === this.editor.getValue()) return;\n\t\t\t\tthis.editor.setValue(newVal, 1);\n\t\t\t}, {deep: true, immediate: true});\n\t\t},\n\t\terrorHandler(e) {\n\t\t\tconsole.log('errorHandler', e);\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.syntax === 'json') return;\n\t\t\n\t\tthis.initAce();\n\t},\n\tbeforeDestroy() {\n\t\tif (!this.editor) return;\n\n\t\tthis.editor.destroy();\n\t\tthis.editor.container.remove();\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-code\">\n\t\t<v-jsoneditor\n\t\t\tv-if=\"syntax == 'json'\"\n\t\t\tv-model=\"data\"\n\t\t\t:options=\"options\"\n\t\t\t:plus=\"false\"\n\t\t\t:height=\"height\"\n\t\t\t@error=\"errorHandler\"\n\t\t/>\n\t</div>\n</template>\n\n<style>\n.mg-code {\n\tborder: 1px solid #f0f0f0;\n\tborder-radius: 5px;\n\tmin-width: 150px;\n}\n.jsoneditor-menu a.jsoneditor-poweredBy {\n\tdisplay: none;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$g = undefined;
    /* module identifier */
    const __vue_module_identifier__$g = undefined;
    /* functional template */
    const __vue_is_functional_template__$g = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$g = normalizeComponent(
      { render: __vue_render__$b, staticRenderFns: __vue_staticRenderFns__$b },
      __vue_inject_styles__$g,
      __vue_script__$g,
      __vue_scope_id__$g,
      __vue_is_functional_template__$g,
      __vue_module_identifier__$g,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgCode = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$g
  });

  var vueSwatches_min = createCommonjsModule(function (module, exports) {
  !function(e,t){module.exports=t();}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r});},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0});},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=11)}([function(e,t,n){t.__esModule=!0;var r,i=n(43),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}return e};},function(e,t){e.exports=function(e){try{return !!e()}catch(e){return !0}};},function(e,t,n){e.exports=!n(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});},function(e,t){e.exports=function(e){return "object"==typeof e?null!==e:"function"==typeof e};},function(e,t){var n=e.exports={version:"2.5.6"};"number"==typeof __e&&(__e=n);},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n);},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)};},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e};},function(e,t,n){var r=n(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return "String"==r(e)?e.split(""):Object(e)};},function(e,t,n){var r=n(8),i=n(7);e.exports=function(e){return r(i(e))};},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)};},function(e,t,n){n.r(t);var r=n(0),i=n.n(r),o={basic:{swatches:["#1FBC9C","#1CA085","#2ECC70","#27AF60","#3398DB","#2980B9","#A463BF","#8E43AD","#3D556E","#222F3D","#F2C511","#F39C19","#E84B3C","#C0382B","#DDE6E8","#BDC3C8"],rowLength:4},"text-basic":{swatches:["#CC0001","#E36101","#FFCC00","#009900","#0066CB","#000000","#FFFFFF"],showBorder:!0},"text-advanced":{swatches:[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]],borderRadius:"0",rowLength:10,swatchSize:24,spacingSize:0},"material-basic":{swatches:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"]},"material-light":{swatches:["#EF9A9A","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#E6EE9C","#FFF59D","#FFE082","#FFCC80","#FFAB91","#BCAAA4","#EEEEEE","#B0BEC5"]},"material-dark":{swatches:["#D32F2F","#C2185B","#7B1FA2","#512DA8","#303F9F","#1976D2","#0288D1","#0097A7","#00796B","#388E3C","#689F38","#AFB42B","#FBC02D","#FFA000","#F57C00","#E64A19","#5D4037","#616161","#455A64"]}};function s(e,t,n,r,i,o,s,c){var a=typeof(e=e||{}).default;"object"!==a&&"function"!==a||(e=e.default);var u,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId=o),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s);},l._ssrRegister=u):i&&(u=c?function(){i.call(this,this.$root.$options.shadowRoot);}:i),u)if(l.functional){l._injectStyles=u;var p=l.render;l.render=function(e,t){return u.call(t),p(e,t)};}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u];}return {exports:e,options:l}}var c=s({name:"swatches",components:{Swatch:s({name:"swatch",components:{Check:s({name:"check",data:function(){return {}}},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-swatches__check__wrapper vue-swatches--has-children-centered"},[t("div",{staticClass:"vue-swatches__check__circle vue-swatches--has-children-centered"},[t("svg",{staticClass:"check",attrs:{version:"1.1",role:"presentation",width:"12",height:"12",viewBox:"0 0 1792 1792"}},[t("path",{staticClass:"vue-swatches__check__path",attrs:{d:"M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z"}})])])])},[],!1,function(e){n(13);},null,null).exports},props:{borderRadius:{type:String},disabled:{type:Boolean},exceptionMode:{type:String},isException:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},showCheckbox:{type:Boolean},showBorder:{type:Boolean},size:{type:Number},spacingSize:{type:Number},swatchColor:{type:String,default:""},swatchStyle:{type:Object}},data:function(){return {}},computed:{computedSwatchStyle:function(){return {display:this.isException&&"hidden"===this.exceptionMode?"none":"inline-block",width:this.size+"px",height:this.size+"px",marginBottom:this.spacingSize+"px",marginRight:this.spacingSize+"px",borderRadius:this.borderRadius,backgroundColor:""!==this.swatchColor?this.swatchColor:"#FFFFFF",cursor:this.cursorStyle}},cursorStyle:function(){return this.disabled?"not-allowed":this.isException&&"disabled"===this.exceptionMode?"not-allowed":"pointer"},swatchStyles:function(){return [this.computedSwatchStyle,this.swatchStyle]}}},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-swatches__swatch",class:{"vue-swatches__swatch--border":e.showBorder,"vue-swatches__swatch--selected":e.selected,"vue-swatches__swatch--is-exception":e.isException||e.disabled},style:e.swatchStyles},[""===e.swatchColor?n("div",{staticClass:"vue-swatches__diagonal--wrapper vue-swatches--has-children-centered"},[n("div",{staticClass:"vue-swatches__diagonal"})]):e._e(),e._v(" "),n("check",{directives:[{name:"show",rawName:"v-show",value:e.showCheckbox&&e.selected,expression:"showCheckbox && selected"}]})],1)},[],!1,function(e){n(15);},null,null).exports},props:{backgroundColor:{type:String,default:"#ffffff"},closeOnSelect:{type:Boolean,default:!0},colors:{type:[Array,Object,String],default:"basic"},exceptions:{type:Array,default:function(){return []}},exceptionMode:{type:String,default:"disabled"},disabled:{type:Boolean,default:!1},fallbackInputClass:{type:[Array,Object,String],default:null},fallbackOkClass:{type:[Array,Object,String],default:null},fallbackOkText:{type:String,default:"Ok"},fallbackInputType:{type:String,default:function(){return "text"},validator:function(e){return -1!==["text","color"].indexOf(e)}},inline:{type:Boolean,default:!1},maxHeight:{type:[Number,String],default:null},shapes:{type:String,default:"squares"},popoverTo:{type:String,default:"right"},rowLength:{type:[Number,String],default:null},showBorder:{type:Boolean,default:null},showFallback:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!0},swatchSize:{type:[Number,String],default:null},swatchStyle:{type:[Object,Array],default:function(){}},triggerStyle:{type:[Object,Array],default:function(){}},wrapperStyle:{type:[Object,Array],default:function(){}},value:{type:String,default:null}},data:function(){return {presetBorderRadius:null,presetMaxHeight:null,presetRowLength:null,presetShowBorder:null,presetSwatchSize:null,presetSpacingSize:null,internalValue:this.value,internalIsOpen:!1}},computed:{isNested:function(){return !!(this.computedColors&&this.computedColors.length>0&&this.computedColors[0]instanceof Array)},isOpen:function(){return !this.inline&&this.internalIsOpen},isNoColor:function(){return this.checkEquality("",this.value)},computedColors:function(){return this.colors instanceof Array?this.colors:this.extractSwatchesFromPreset(this.colors)},computedBorderRadius:function(){return null!==this.presetBorderRadius?this.presetBorderRadius:this.borderRadius},computedExceptionMode:function(){return "hidden"===this.exceptionMode?this.exceptionMode:"disabled"===this.exceptionMode?this.exceptionMode:void 0},computedMaxHeight:function(){return null!==this.maxHeight?Number(this.maxHeight):null!==this.presetMaxHeight?this.presetMaxHeight:300},computedRowLength:function(){return null!==this.rowLength?Number(this.rowLength):null!==this.presetRowLength?this.presetRowLength:4},computedSwatchSize:function(){return null!==this.swatchSize?Number(this.swatchSize):null!==this.presetSwatchSize?this.presetSwatchSize:42},computedSpacingSize:function(){return null!==this.presetSpacingSize?this.presetSpacingSize:this.spacingSize},computedShowBorder:function(){return null!==this.showBorder?this.showBorder:null!==this.presetShowBorder&&this.presetShowBorder},borderRadius:function(){return "squares"===this.shapes?Math.round(.25*this.computedSwatchSize)+"px":"circles"===this.shapes?"50%":void 0},spacingSize:function(){return Math.round(.25*this.computedSwatchSize)},wrapperWidth:function(){return this.computedRowLength*(this.computedSwatchSize+this.computedSpacingSize)},computedtriggerStyle:function(){return {width:"42px",height:"42px",backgroundColor:this.value?this.value:"#ffffff",borderRadius:"circles"===this.shapes?"50%":"10px"}},triggerStyles:function(){return [this.computedtriggerStyle,this.triggerStyle]},containerStyle:function(){var e={backgroundColor:this.backgroundColor},t={};return this.inline?e:("right"===this.popoverTo?t={left:0}:"left"===this.popoverTo&&(t={right:0}),i()({},t,e,{maxHeight:this.computedMaxHeight+"px"}))},containerStyles:function(){return [this.containerStyle]},computedWrapperStyle:function(){var e={paddingTop:this.computedSpacingSize+"px",paddingLeft:this.computedSpacingSize+"px"};return this.inline?e:i()({},e,{width:this.wrapperWidth+"px"})},wrapperStyles:function(){return [this.computedWrapperStyle,this.wrapperStyle]},computedFallbackWrapperStyle:function(){var e={marginLeft:this.computedSpacingSize+"px",paddingBottom:this.computedSpacingSize+"px"};return this.inline?e:i()({},e,{width:this.wrapperWidth-this.computedSpacingSize+"px"})},computedFallbackWrapperStyles:function(){return [this.computedFallbackWrapperStyle]}},watch:{value:function(e){this.internalValue=e;}},methods:{checkEquality:function(e,t){return !(!e&&""!==e||!t&&""!==t)&&e.toUpperCase()===t.toUpperCase()},checkException:function(e){return -1!==this.exceptions.map(function(e){return e.toUpperCase()}).indexOf(e.toUpperCase())},hidePopover:function(){this.internalIsOpen=!1,this.$el.blur(),this.$emit("close",this.internalValue);},onBlur:function(e){this.isOpen&&(null!==e&&this.$el.contains(e)||(this.internalIsOpen=!1,this.$emit("close",this.internalValue)));},onFallbackButtonClick:function(){this.hidePopover();},showPopover:function(){this.isOpen||this.inline||this.disabled||(this.internalIsOpen=!0,this.$el.focus(),this.$emit("open"));},togglePopover:function(){this.isOpen?this.hidePopover():this.showPopover();},updateSwatch:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fromFallbackInput;this.checkException(e)||this.disabled||(this.internalValue=e,this.$emit("input",e),!this.closeOnSelect||this.inline||t||this.hidePopover());},extractSwatchesFromPreset:function(e){var t=null;return (t=e instanceof Object?e:o[e]).borderRadius&&(this.presetBorderRadius=t.borderRadius),t.maxHeight&&(this.presetMaxHeight=t.maxHeight),t.rowLength&&(this.presetRowLength=t.rowLength),t.showBorder&&(this.presetShowBorder=t.showBorder),t.swatchSize&&(this.presetSwatchSize=t.swatchSize),(0===t.spacingSize||t.spacingSize)&&(this.presetSpacingSize=t.spacingSize),t.swatches}}},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-swatches",attrs:{tabindex:"0"},on:{blur:function(t){return t.target!==t.currentTarget?null:(n=t,e.onBlur(n.relatedTarget));var n;}}},[e.inline?e._e():n("div",{ref:"trigger-wrapper",on:{click:e.togglePopover}},[e._t("trigger",[n("div",{staticClass:"vue-swatches__trigger",class:{"vue-swatches--is-empty":!e.value,"vue-swatches--is-disabled":e.disabled},style:e.triggerStyles},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isNoColor,expression:"isNoColor"}],staticClass:"vue-swatches__diagonal--wrapper vue-swatches--has-children-centered"},[n("div",{staticClass:"vue-swatches__diagonal"})])])])],2),e._v(" "),n("transition",{attrs:{name:"vue-swatches-show-hide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.inline||e.isOpen,expression:"inline || isOpen"}],staticClass:"vue-swatches__container",class:{"vue-swatches--inline":e.inline},style:e.containerStyles},[n("div",{staticClass:"vue-swatches__wrapper",style:e.wrapperStyles},[e.isNested?e._l(e.computedColors,function(t,r){return n("div",{key:r,staticClass:"vue-swatches__row"},e._l(t,function(t){return n("swatch",{key:t,attrs:{"border-radius":e.computedBorderRadius,disabled:e.disabled,"exception-mode":e.computedExceptionMode,"is-exception":e.checkException(t),selected:e.checkEquality(t,e.value),size:e.computedSwatchSize,"spacing-size":e.computedSpacingSize,"show-border":e.computedShowBorder,"show-checkbox":e.showCheckbox,"swatch-color":t,"swatch-style":e.swatchStyle},nativeOn:{click:function(n){e.updateSwatch(t);}}})}))}):e._l(e.computedColors,function(t){return n("swatch",{key:t,attrs:{"border-radius":e.computedBorderRadius,disabled:e.disabled,"exception-mode":e.computedExceptionMode,"is-exception":e.checkException(t),selected:e.checkEquality(t,e.value),size:e.computedSwatchSize,"spacing-size":e.computedSpacingSize,"show-border":e.computedShowBorder,"show-checkbox":e.showCheckbox,"swatch-color":t,"swatch-style":e.swatchStyle},nativeOn:{click:function(n){e.updateSwatch(t);}}})})],2),e._v(" "),e.showFallback?n("div",{staticClass:"vue-swatches__fallback__wrapper",style:e.computedFallbackWrapperStyles},[n("span",{staticClass:"vue-swatches__fallback__input--wrapper"},[n("input",{ref:"fallbackInput",staticClass:"vue-swatches__fallback__input",class:e.fallbackInputClass,attrs:{type:e.fallbackInputType},domProps:{value:e.internalValue},on:{input:function(t){return e.updateSwatch(t.target.value,{fromFallbackInput:!0})}}})]),e._v(" "),n("button",{staticClass:"vue-swatches__fallback__button",class:e.fallbackOkClass,on:{click:function(t){return t.preventDefault(),e.onFallbackButtonClick(t)}}},[e._v("\n          "+e._s(e.fallbackOkText)+"\n        ")])]):e._e()])])],1)},[],!1,function(e){n(45);},null,null).exports;n.d(t,"Swatches",function(){return c});t.default=c;},,function(e,t,n){},,function(e,t,n){},function(e,t,n){var r=n(7);e.exports=function(e){return Object(r(e))};},function(e,t){t.f={}.propertyIsEnumerable;},function(e,t){t.f=Object.getOwnPropertySymbols;},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");},function(e,t){var n=0,r=Math.random();e.exports=function(e){return "Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))};},function(e,t){e.exports=!0;},function(e,t,n){var r=n(4),i=n(5),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(21)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"});},function(e,t,n){var r=n(22)("keys"),i=n(20);e.exports=function(e){return r[e]||(r[e]=i(e))};},function(e,t,n){var r=n(6),i=Math.max,o=Math.min;e.exports=function(e,t){return (e=r(e))<0?i(e+t,0):o(e,t)};},function(e,t,n){var r=n(6),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0};},function(e,t,n){var r=n(9),i=n(25),o=n(24);e.exports=function(e){return function(t,n,s){var c,a=r(t),u=i(a.length),l=o(s,u);if(e&&n!=n){for(;u>l;)if((c=a[l++])!=c)return !0}else for(;u>l;l++)if((e||l in a)&&a[l]===n)return e||l||0;return !e&&-1}};},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)};},function(e,t,n){var r=n(10),i=n(9),o=n(26)(!1),s=n(23)("IE_PROTO");e.exports=function(e,t){var n,c=i(e),a=0,u=[];for(n in c)n!=s&&r(c,n)&&u.push(n);for(;t.length>a;)r(c,n=t[a++])&&(~o(u,n)||u.push(n));return u};},function(e,t,n){var r=n(28),i=n(19);e.exports=Object.keys||function(e){return r(e,i)};},function(e,t,n){var r=n(29),i=n(18),o=n(17),s=n(16),c=n(8),a=Object.assign;e.exports=!a||n(1)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e;}),7!=a({},e)[n]||Object.keys(a({},t)).join("")!=r})?function(e,t){for(var n=s(e),a=arguments.length,u=1,l=i.f,p=o.f;a>u;)for(var h,f=c(arguments[u++]),d=l?r(f).concat(l(f)):r(f),w=d.length,v=0;w>v;)p.call(f,h=d[v++])&&(n[h]=f[h]);return n}:a;},function(e,t){e.exports=function(e,t){return {enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}};},function(e,t,n){var r=n(3);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")};},function(e,t,n){var r=n(3),i=n(5).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}};},function(e,t,n){e.exports=!n(2)&&!n(1)(function(){return 7!=Object.defineProperty(n(33)("div"),"a",{get:function(){return 7}}).a});},function(e,t,n){var r=n(3);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e};},function(e,t,n){var r=n(35),i=n(34),o=n(32),s=Object.defineProperty;t.f=n(2)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return "value"in n&&(e[t]=n.value),e};},function(e,t,n){var r=n(36),i=n(31);e.exports=n(2)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e};},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e};},function(e,t,n){var r=n(38);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}};},function(e,t,n){var r=n(5),i=n(4),o=n(39),s=n(37),c=n(10),a=function(e,t,n){var u,l,p,h=e&a.F,f=e&a.G,d=e&a.S,w=e&a.P,v=e&a.B,b=e&a.W,y=f?i:i[t]||(i[t]={}),g=y.prototype,S=f?r:d?r[t]:(r[t]||{}).prototype;for(u in f&&(n=t),n)(l=!h&&S&&void 0!==S[u])&&c(y,u)||(p=l?S[u]:n[u],y[u]=f&&"function"!=typeof S[u]?n[u]:v&&l?o(p,r):b&&S[u]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):w&&"function"==typeof p?o(Function.call,p):p,w&&((y.virtual||(y.virtual={}))[u]=p,e&a.R&&g&&!g[u]&&s(g,u,p)));};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a;},function(e,t,n){var r=n(40);r(r.S+r.F,"Object",{assign:n(30)});},function(e,t,n){n(41),e.exports=n(4).Object.assign;},function(e,t,n){e.exports={default:n(42),__esModule:!0};},,function(e,t,n){}])});
  });

  var Swatches = unwrapExports(vueSwatches_min);
  var vueSwatches_min_1 = vueSwatches_min.VueSwatches;

  var script$g = Vue.mgComponent('mgColor', {
    meta: {
      title: 'Color',
      icon: 'far fa-paint-roller',
      category: 'Simple Inputs',
      preferId: true,
      shorthand: ['color', 'hue', 'swatch']
    },
    props: {
      required: {
        type: 'mgToggle',
        "default": false
      },
      colorSet: {
        type: 'mgChoiceDropdown',
        "enum": [{
          id: 'basic',
          title: 'Basic'
        }, {
          id: 'material-light',
          title: 'Material'
        }, {
          id: 'text-advanced',
          title: 'Full swatch'
        }],
        "default": 'text-advanced'
      },
      "interface": {
        type: 'mgChoiceDropdown',
        "default": 'input',
        "enum": ['input', 'colorOnly']
      },
      placeholder: {
        type: 'mgText',
        help: 'Ghost text to display when there is no value'
      },
      popoverSide: {
        type: 'mgChoiceButtons',
        "enum": ['left', 'right'],
        advanced: true
      }
    },
    components: {
      Swatches: Swatches
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    },
    methods: {
      change: function change(e) {
        var value = e.target.value;

        if (value && /^#[0-9A-F]+$/i.test(value)) {
          this.data = value;
        }
      }
    }
  });

  /* script */
  const __vue_script__$h = script$g;

  /* template */
  var __vue_render__$c = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "mg-color" },
      [
        _vm.$props.interface == "input"
          ? _c("div", { staticClass: "input-group" }, [
              _c(
                "div",
                { staticClass: "input-group-prepend" },
                [
                  _c("swatches", {
                    staticClass: "input-group-text",
                    attrs: {
                      value: _vm.data,
                      colors: _vm.$props.colorSet,
                      "popover-to": _vm.$props.popoverSide
                    },
                    on: {
                      input: function($event) {
                        _vm.data = $event.toUpperCase();
                      }
                    }
                  })
                ],
                1
              ),
              _vm._v(" "),
              _c("input", {
                staticClass: "form-control",
                attrs: { type: "text", placeholder: _vm.$props.placeholder },
                domProps: { value: _vm.data },
                on: { input: _vm.change }
              })
            ])
          : _c("swatches", {
              attrs: {
                value: _vm.data,
                colors: _vm.$props.colorSet,
                "popover-to": _vm.$props.popoverSide
              },
              on: {
                input: function($event) {
                  _vm.data = $event.toUpperCase();
                }
              }
            })
      ],
      1
    )
  };
  var __vue_staticRenderFns__$c = [];
  __vue_render__$c._withStripped = true;

    /* style */
    const __vue_inject_styles__$h = function (inject) {
      if (!inject) return
      inject("data-v-6cab4432_0", { source: "\n.mg-color .input-group > .input-group-prepend .vue-swatches {\n\tpadding: 3px;\n}\n.mg-color .input-group > .input-group-prepend .vue-swatches .vue-swatches__trigger {\n\twidth: 30px !important;\n\theight: 30px !important;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgColor.vue"],"names":[],"mappings":";AAmEA;CACA,YAAA;AACA;AAEA;CACA,sBAAA;CACA,uBAAA;AACA","file":"mgColor.vue","sourcesContent":["<script>\nimport Swatches from 'vue-swatches';\nimport 'vue-swatches/dist/vue-swatches.min.css';\n\nexport default Vue.mgComponent('mgColor', {\n\tmeta: {\n\t\ttitle: 'Color',\n\t\ticon: 'far fa-paint-roller',\n\t\tcategory: 'Simple Inputs',\n\t\tpreferId: true,\n\t\tshorthand: ['color', 'hue', 'swatch'],\n\t},\n\tprops: {\n\t\trequired: {type: 'mgToggle', default: false},\n\t\tcolorSet: {type: 'mgChoiceDropdown', enum: [{id: 'basic', title: 'Basic'}, {id: 'material-light', title: 'Material'}, {id: 'text-advanced', title: 'Full swatch'}], default: 'text-advanced'},\n\t\tinterface: {type: 'mgChoiceDropdown', default: 'input', enum: ['input', 'colorOnly']},\n\t\tplaceholder: {type: 'mgText', help: 'Ghost text to display when there is no value'},\n\t\tpopoverSide: {type: 'mgChoiceButtons', enum: ['left', 'right'], advanced: true},\n\t},\n\tcomponents: {Swatches},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && !this.data) return reply(`${this.$props.title} is required`);\n\t\t});\n\t},\n\tmethods: {\n\t\tchange(e) {\n\t\t\tvar value = e.target.value;\n\t\t\tif (value && /^#[0-9A-F]+$/i.test(value)) {\n\t\t\t\tthis.data = value;\n\t\t\t}\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-color\">\n\t\t<div v-if=\"$props.interface == 'input'\" class=\"input-group\">\n\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t<swatches\n\t\t\t\t\t:value=\"data\"\n\t\t\t\t\t:colors=\"$props.colorSet\"\n\t\t\t\t\t:popover-to=\"$props.popoverSide\"\n\t\t\t\t\tclass=\"input-group-text\"\n\t\t\t\t\t@input=\"data = $event.toUpperCase()\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\t:value=\"data\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"form-control\"\n\t\t\t\t:placeholder=\"$props.placeholder\"\n\t\t\t\t@input=\"change\"\n\t\t\t/>\n\t\t</div>\n\t\t<swatches\n\t\t\tv-else\n\t\t\t:value=\"data\"\n\t\t\t:colors=\"$props.colorSet\"\n\t\t\t:popover-to=\"$props.popoverSide\"\n\t\t\t@input=\"data = $event.toUpperCase()\"\n\t\t/>\n\t</div>\n</template>\n\n<style>\n.mg-color .input-group > .input-group-prepend .vue-swatches {\n\tpadding: 3px;\n}\n\n.mg-color .input-group > .input-group-prepend .vue-swatches .vue-swatches__trigger {\n\twidth: 30px !important;\n\theight: 30px !important;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$h = undefined;
    /* module identifier */
    const __vue_module_identifier__$h = undefined;
    /* functional template */
    const __vue_is_functional_template__$h = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$h = normalizeComponent(
      { render: __vue_render__$c, staticRenderFns: __vue_staticRenderFns__$c },
      __vue_inject_styles__$h,
      __vue_script__$h,
      __vue_scope_id__$h,
      __vue_is_functional_template__$h,
      __vue_module_identifier__$h,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgColor = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$h
  });

  /**
  * Instance of a MacGyver widget
  * This is the parent of all other mg* components
  *
  * @param {Object} config The MacGyver component config - this is a simple object containing all prototype $props mappings
  */
  var script$h = Vue.component('mgComponent', {
    inject: ['$mgForm'],
    data: function data() {
      return {
        data: undefined
      };
    },
    props: {
      config: {
        type: Object,
        required: true
      }
    },
    // TODO: Functional? Proxy?
    render: function render(h) {
      var _this = this;

      if (!this.$macgyver.widgets[this.$props.config.type]) return h('mg-error', {
        props: {
          text: "Unknown widget type \"".concat(this.$props.config.type, "\"")
        }
      });
      return h(this.$props.config.type, {
        props: this.$props.config,
        nativeOn: {
          click: function click(e) {
            return _this.$mgForm.$emit('mgComponent.click', _this, e);
          },
          mousedown: function mousedown(e) {
            return _this.$mgForm.$emit('mgComponent.mouseDown', _this, e);
          },
          mouseup: function mouseup(e) {
            return _this.$mgForm.$emit('mgComponent.mouseUp', _this, e);
          },
          mousemove: function mousemove(e) {
            return _this.$mgForm.$emit('mgComponent.mouseMove', _this, e);
          },
          mouseenter: function mouseenter(e) {
            return _this.$mgForm.$emit('mgComponent.mouseEnter', _this, e);
          },
          mouseleave: function mouseleave(e) {
            return _this.$mgForm.$emit('mgComponent.mouseLeave', _this, e);
          },
          mouseover: function mouseover(e) {
            return _this.$mgForm.$emit('mgComponent.mouseOver', _this, e);
          },
          mouseout: function mouseout(e) {
            return _this.$mgForm.$emit('mgComponent.mouseOut', _this, e);
          }
        }
      });
    }
  });

  /* script */
  const __vue_script__$i = script$h;

  /* template */

    /* style */
    const __vue_inject_styles__$i = undefined;
    /* scoped */
    const __vue_scope_id__$i = undefined;
    /* module identifier */
    const __vue_module_identifier__$i = undefined;
    /* functional template */
    const __vue_is_functional_template__$i = undefined;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$i = normalizeComponent(
      {},
      __vue_inject_styles__$i,
      __vue_script__$i,
      __vue_scope_id__$i,
      __vue_is_functional_template__$i,
      __vue_module_identifier__$i,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgComponent = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$i
  });

  /**
  * MacGyver component loader
  * This is a meta component that loads other dynamic components as an array
  */
  var script$i = Vue.mgComponent('mgContainer', {
    inject: {
      $mgForm: {
        from: '$mgForm'
      },
      $mgFormEditor: {
        from: '$mgFormEditor',
        "default": false
      }
    },
    meta: {
      title: 'Container layout',
      icon: 'far fa-th-large',
      category: 'Layout',
      preferId: false
    },
    props: {
      layout: {
        type: 'mgChoiceRadio',
        title: 'Layout profile',
        help: 'How to layout child elements',
        "default": 'form',
        "enum": [{
          id: 'form',
          title: 'Simple form layout'
        }, {
          id: 'formFloating',
          title: 'Form with floating labels'
        }, {
          id: 'card',
          title: 'Card based layout'
        }, {
          id: 'columns',
          title: 'Vertical column layout'
        }, {
          id: 'query',
          title: 'Query constructor'
        }]
      },
      formClass: {
        type: 'mgChoiceDropdown',
        title: 'Form style',
        showIf: {
          layout: {
            $in: ['form', 'card']
          }
        },
        "default": 'normal',
        "enum": [{
          id: 'normal',
          title: 'Normal'
        }, {
          id: 'titles-above',
          title: 'Titles above'
        }]
      },
      title: {
        type: 'mgText',
        showIf: {
          layout: 'card'
        }
      },
      showTitles: {
        type: 'mgToggle',
        "default": true,
        help: 'Show titles for fields',
        showIf: {
          layout: {
            $in: ['form', 'card']
          }
        }
      },
      columnHeaders: {
        type: 'mgToggle',
        "default": false,
        help: 'Show column headers',
        showIf: "layout == 'columns'"
      },
      collapsable: {
        type: 'mgToggle',
        "default": false,
        help: 'This card can be hidden',
        showIf: "layout == 'card'"
      },
      collapsed: {
        type: 'mgToggle',
        "default": false,
        help: 'This card is collapsed by default',
        showIf: "layout == 'card'"
      },
      border: {
        type: 'mgToggle',
        "default": true,
        help: 'Show a border around the container',
        showIf: "layout == 'columns'"
      },
      verbs: {
        type: 'mgTable',
        advanced: true,
        showIf: "layout == 'card'",
        items: [{
          id: 'icon',
          type: 'mgIcon'
        }, {
          id: 'tooltip',
          type: 'mgText'
        }, {
          id: 'class',
          type: 'mgText'
        }, {
          id: 'action',
          type: 'mgText'
        }]
      },
      items: {
        type: 'mgAlert',
        vueType: 'array',
        text: 'Use the editor to define child widgets'
      } // Child items

    },
    childProps: {
      help: {
        type: 'mgText',
        title: 'Help text',
        help: 'Optional help text for the item - just like what you are reading now'
      },
      showTitle: {
        type: 'mgToggle',
        "default": true,
        title: 'Show Title',
        help: 'Whether to show the side title for this element'
      },
      title: {
        type: 'mgText',
        title: 'Title'
      },
      rowClass: {
        type: 'mgChoiceDropdown',
        title: 'Styling',
        help: 'Additional styling to apply to the widget',
        "default": '',
        advanced: true,
        "enum": [{
          id: '',
          title: 'Normal'
        }, {
          id: 'mgContainerRowLarge',
          title: 'Large text'
        }]
      },
      onChange: {
        type: 'string',
        title: 'Change action',
        help: 'Action to trigger when the value of this component changes',
        advanced: true
      },
      show: {
        type: 'mgToggle',
        "default": true,
        advanced: true,
        help: 'Whether the item is visible by default'
      },
      showIf: {
        type: 'mgCode',
        syntax: 'text',
        advanced: true,
        help: 'A simple equality expression or Sift object to deteremine visibility'
      }
    },
    data: function data() {
      return {
        highlights: {},
        // Lookup of extra classes to add to widgets, each key is the array offset of the widget within this container, the value is an array of classes to add
        localData: {} // Lookup of immediate child data values, used when `$props.layout == 'formFloating'`

      };
    },
    mounted: function mounted() {
      var _this = this;

      if (this.$props.collapsable) {
        var $card = $(this.$el).find('.card').first();
        $card.find('.card-header').first().on('click', function () {
          var $body = $(_this.$el).find('.card-body');

          if ($card.hasClass('card-collapsed')) {
            $body.slideDown({
              complete: function complete() {
                return $card.removeClass('card-collapsed');
              }
            });
          } else {
            $body.slideUp({
              complete: function complete() {
                return $card.addClass('card-collapsed');
              }
            });
          }
        });
      }

      if (this.$props.layout == 'formFloating') {
        // When in floating mode we need to keep track of child data so we copy its value into our `localData` object lookup
        this.$mgForm.$on('changeItem', function (v) {
          // Bind to parent form handler
          if (_this.$props.items.some(function (item) {
            return item.$dataPath == v.path;
          })) {
            // Is this widget one of our immediate children?
            _this.$set(_this.localData, v.path, v.value); // Copy its data against our local copy

          }
        });
      }
    },
    methods: {
      /**
      * Emit an event passing this container as a scope
      * This is really just a wrapper to be able to pass this VueComponent to mgContainer.* emitters
      * @param {string} eventName Event to emit
      * @param {string} specPath The widget specPath
      * @param {number} widgetIndex The widget sending the message
      */
      componentEvent: function componentEvent(eventName, specPath, widgetIndex, vueEvent) {
        this.$mgForm.$emit(eventName, this, specPath, widgetIndex, vueEvent);
      },

      /**
      * Find the child index by its component
      * This works like findIndex only with Magyver components, ignoring all non-mg children when computing the index
      * @param {VueComponent} child The child offset to find
      * @returns {number} The offset of the component or boolean `false`
      */
      findChildIndex: function findChildIndex(child) {
        var result = _(this.$refs).map(function (v) {
          return v[0];
        }) // Dynamic refs always end up as an array of 1 item, so unpack that
        .reduce(function (t, v, i) {
          if (t.found) {
            // Already found the child
            return t;
          } else if (v._uid == child._uid) {
            // Found by direct UID
            return _objectSpread2(_objectSpread2({}, t), {}, {
              found: true
            });
          } else if (v.$children && v.$children.length == 1 && v.$children[0]._uid == child._uid) {
            // Check into mgComponent wrappers
            return _objectSpread2(_objectSpread2({}, t), {}, {
              found: true
            });
          } else if (v.$mgForm) {
            // Is an mgComponent {
            return _objectSpread2(_objectSpread2({}, t), {}, {
              mgIndex: t.mgIndex + 1
            });
          } else {
            // Implied else - regular Vue component - skip incrementing when calculating the offset
            return t;
          }
        }, {
          found: false,
          mgIndex: 0
        });

        return result.found ? result.mgIndex : false;
      }
    }
  });

  /* script */
  const __vue_script__$j = script$i;

  /* template */
  var __vue_render__$d = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _vm.$props.layout == "form" || _vm.$props.layout === undefined
      ? _c(
          "div",
          { staticClass: "mg-container", class: _vm.$props.formClass },
          _vm._l(_vm.$props.items, function(widget, widgetIndex) {
            return widget.show
              ? _c(
                  "div",
                  {
                    key: widget.id,
                    staticClass: "form-group row mg-component",
                    class: [
                      widget.mgValidation == "error" ? "has-error" : "",
                      widget.rowClass
                    ].concat(_vm.highlights[widgetIndex] || [])
                  },
                  [
                    widget.showTitle || _vm.$props.showTitles
                      ? _c(
                          "label",
                          { staticClass: "col-form-label text-left col-sm-3" },
                          [_vm._v("\n\t\t\t" + _vm._s(widget.title) + "\n\t\t")]
                        )
                      : _vm._e(),
                    _vm._v(" "),
                    _c(
                      "div",
                      {
                        staticClass: "col-form-value mg-component-wrapper",
                        class:
                          widget.showTitle || _vm.$props.showTitles
                            ? "col-sm-9"
                            : "col-sm-12"
                      },
                      [
                        _c("mg-component", {
                          ref: widgetIndex,
                          refInFor: true,
                          attrs: { config: widget }
                        })
                      ],
                      1
                    ),
                    _vm._v(" "),
                    widget.help
                      ? _c(
                          "div",
                          {
                            staticClass: "help-block",
                            class:
                              widget.showTitle || _vm.$props.showTitles
                                ? "col-sm-9 col-sm-offset-3"
                                : "col-sm-12"
                          },
                          [_vm._v(_vm._s(widget.help))]
                        )
                      : _vm._e()
                  ]
                )
              : _vm._e()
          }),
          0
        )
      : _vm.$props.layout == "card"
      ? _c("div", { staticClass: "mg-container", class: _vm.$props.formClass }, [
          _c(
            "div",
            {
              staticClass: "card mg-container",
              class: {
                "card-collapsable": _vm.$props.collapsable,
                "card-collapsed": _vm.$props.collapsed
              }
            },
            [
              _vm.$props.title || (_vm.$props.verbs && _vm.$props.verbs.length)
                ? _c("div", { staticClass: "card-header" }, [
                    _vm._v("\n\t\t\t" + _vm._s(_vm.$props.title) + "\n\t\t\t"),
                    _vm.$props.verbs && _vm.$props.verbs.length
                      ? _c(
                          "div",
                          { staticClass: "card-verbs" },
                          _vm._l(_vm.$props.verbs, function(verb, verbIndex) {
                            return _c("a", {
                              directives: [
                                {
                                  name: "tooltip",
                                  rawName: "v-tooltip",
                                  value: verb.tooltip,
                                  expression: "verb.tooltip"
                                }
                              ],
                              key: verbIndex,
                              class: [verb.class, verb.icon],
                              on: {
                                click: function($event) {
                                  return _vm.$mgForm.run(_vm.form, verb.action)
                                }
                              }
                            })
                          }),
                          0
                        )
                      : _vm._e()
                  ])
                : _vm._e(),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "card-body" },
                _vm._l(_vm.$props.items, function(widget, widgetIndex) {
                  return widget.show
                    ? _c(
                        "div",
                        {
                          key: widget.id,
                          staticClass: "form-group row mg-component",
                          class: [
                            widget.mgValidation == "error" ? "has-error" : "",
                            widget.rowClass
                          ].concat(_vm.highlights[widgetIndex] || []),
                          on: {
                            click: function($event) {
                              return _vm.componentEvent(
                                "mgContainer.click",
                                widget.$specPath,
                                widgetIndex,
                                $event
                              )
                            },
                            mouseenter: function($event) {
                              return _vm.componentEvent(
                                "mgContainer.mouseEnter",
                                widget.$specPath,
                                widgetIndex,
                                $event
                              )
                            },
                            mouseleave: function($event) {
                              return _vm.componentEvent(
                                "mgContainer.mouseLeave",
                                widget.$specPath,
                                widgetIndex,
                                $event
                              )
                            }
                          }
                        },
                        [
                          _vm.$mgFormEditor
                            ? _c("mg-form-editor-controls", {
                                directives: [
                                  {
                                    name: "show",
                                    rawName: "v-show",
                                    value:
                                      _vm.highlights[widgetIndex] &&
                                      _vm.highlights[widgetIndex].some(function(
                                        c
                                      ) {
                                        return (
                                          c == "editHover" || c == "editEditing"
                                        )
                                      }),
                                    expression:
                                      "highlights[widgetIndex] && highlights[widgetIndex].some(c => c == 'editHover' || c == 'editEditing')"
                                  }
                                ],
                                attrs: { config: widget }
                              })
                            : _vm._e(),
                          _vm._v(" "),
                          widget.showTitle || _vm.$props.showTitles
                            ? _c(
                                "label",
                                {
                                  staticClass: "col-form-label text-left col-sm-3"
                                },
                                [
                                  _vm._v(
                                    "\n\t\t\t\t\t" +
                                      _vm._s(widget.title) +
                                      "\n\t\t\t\t"
                                  )
                                ]
                              )
                            : _vm._e(),
                          _vm._v(" "),
                          _c(
                            "div",
                            {
                              staticClass: "col-form-value mg-component-wrapper",
                              class:
                                widget.showTitle || _vm.$props.showTitles
                                  ? "col-sm-9"
                                  : "col-sm-12"
                            },
                            [
                              _c("mg-component", {
                                ref: widgetIndex,
                                refInFor: true,
                                attrs: { config: widget }
                              })
                            ],
                            1
                          ),
                          _vm._v(" "),
                          widget.help
                            ? _c(
                                "div",
                                {
                                  staticClass: "help-block",
                                  class:
                                    widget.showTitle || _vm.$props.showTitles
                                      ? "col-sm-9 col-sm-offset-3"
                                      : "col-sm-12"
                                },
                                [_vm._v(_vm._s(widget.help))]
                              )
                            : _vm._e()
                        ],
                        1
                      )
                    : _vm._e()
                }),
                0
              )
            ]
          )
        ])
      : _vm.$props.layout == "formFloating"
      ? _c(
          "div",
          _vm._l(_vm.$props.items, function(widget, widgetIndex) {
            return widget.show
              ? _c(
                  "div",
                  {
                    key: widget.id,
                    staticClass:
                      "form-group mgContainer-formFloating row mg-component",
                    class: [
                      widget.mgValidation == "error" ? "has-error" : "",
                      widget.rowClass
                    ].concat(_vm.highlights[widgetIndex] || [])
                  },
                  [
                    _c(
                      "div",
                      { staticClass: "col-12 mg-component-wrapper" },
                      [
                        _c("mg-component", {
                          staticClass: "control-input",
                          class: !_vm.localData[widget.$dataPath] && "blank",
                          attrs: { config: widget }
                        }),
                        _vm._v(" "),
                        _vm.$props.showTitles
                          ? _c(
                              "label",
                              {
                                staticClass: "col-form-label text-left col-sm-3"
                              },
                              [
                                _vm._v(
                                  "\n\t\t\t\t" + _vm._s(widget.title) + "\n\t\t\t"
                                )
                              ]
                            )
                          : _vm._e()
                      ],
                      1
                    ),
                    _vm._v(" "),
                    widget.help
                      ? _c(
                          "div",
                          {
                            staticClass: "help-block",
                            class:
                              widget.showTitle || _vm.$props.showTitles
                                ? "col-sm-9 col-sm-offset-3"
                                : "col-sm-12"
                          },
                          [_vm._v(_vm._s(widget.help))]
                        )
                      : _vm._e()
                  ]
                )
              : _vm._e()
          }),
          0
        )
      : _vm.$props.layout == "columns"
      ? _c("div", [
          _c(
            "table",
            {
              staticClass: "mg-container",
              class: _vm.$props.border
                ? "table table-bordered"
                : "mg-container-columns-no-border",
              staticStyle: { width: "100%" }
            },
            [
              _vm.$props.columnHeaders
                ? _c("thead", [
                    _c(
                      "tr",
                      _vm._l(_vm.config.items, function(widget) {
                        return widget.show
                          ? _c("th", { key: widget.id }, [
                              _vm._v(_vm._s(widget.title))
                            ])
                          : _vm._e()
                      }),
                      0
                    )
                  ])
                : _vm._e(),
              _vm._v(" "),
              _c("tbody", [
                _c(
                  "tr",
                  _vm._l(_vm.$props.items, function(widget, widgetIndex) {
                    return widget.show
                      ? _c(
                          "td",
                          {
                            key: widget.id,
                            staticClass: "mg-component-wrapper",
                            class: [
                              widget.mgValidation == "error" ? "has-error" : "",
                              widget.rowClass
                            ].concat(_vm.highlights[widgetIndex] || [])
                          },
                          [
                            _c("mg-component", {
                              ref: widgetIndex,
                              refInFor: true,
                              attrs: { config: widget }
                            }),
                            _vm._v(" "),
                            widget.help
                              ? _c("div", { staticClass: "help-block" }, [
                                  _vm._v(_vm._s(widget.help))
                                ])
                              : _vm._e()
                          ],
                          1
                        )
                      : _vm._e()
                  }),
                  0
                )
              ])
            ]
          )
        ])
      : _vm.$props.layout == "query"
      ? _c("div", [
          _c(
            "div",
            { staticClass: "mg-container mg-container-query" },
            _vm._l(_vm.$props.items, function(rowWidget) {
              return _c("div", { key: rowWidget.id }, [
                rowWidget.type == "mgContainer" && rowWidget.layout == "query-row"
                  ? _c(
                      "div",
                      { staticClass: "row" },
                      _vm._l(rowWidget.items, function(colWidget) {
                        return _c(
                          "div",
                          {
                            key: colWidget.id,
                            staticClass: "col mg-component mg-component-wrapper"
                          },
                          [
                            _c("mg-component", {
                              ref: _vm.widgetIndex,
                              refInFor: true,
                              attrs: { config: colWidget }
                            })
                          ],
                          1
                        )
                      }),
                      0
                    )
                  : _c("div", { staticClass: "alert alert-danger" }, [
                      _vm._v(
                        "\n\t\t\t\tAll children of mgContainer[layout=query] must match the mgContainer[layout=queryRow]\n\t\t\t\t"
                      ),
                      _c("pre", [_vm._v(_vm._s(_vm.widget))])
                    ])
              ])
            }),
            0
          )
        ])
      : _c("div", { staticClass: "mg-container" }, [
          _c("div", { staticClass: "alert alert-danger" }, [
            _vm._v(
              '\n\t\tUnsupported mgContainer layout "' +
                _vm._s(_vm.$props.layout || "Unspecified") +
                '"\n\t\t'
            ),
            _c("pre", [_vm._v(_vm._s(_vm.$props))])
          ])
        ])
  };
  var __vue_staticRenderFns__$d = [];
  __vue_render__$d._withStripped = true;

    /* style */
    const __vue_inject_styles__$j = function (inject) {
      if (!inject) return
      inject("data-v-73579910_0", { source: "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* formClass > .titles-above {{{ */\n.mg-container.titles-above > .form-group,\n.mg-container.titles-above > .form-group,\n.mg-container.titles-above > .card > .card-body > .form-group,\n.mg-container.titles-above > .card > .card-body > .form-group {\n\tdisplay: block;\n}\n.mg-container.titles-above > .form-group > .col-form-label,\n.mg-container.titles-above > .form-group > .col-form-value,\n.mg-container.titles-above > .card > .card-body > .form-group > .col-form-label,\n.mg-container.titles-above > .card > .card-body > .form-group > .col-form-value {\n\twidth: 100%;\n\tmax-width: none;\n}\n/* }}} */\n\n/* Card layout {{{ */\n/* Collapsable card {{{ */\n.mg-container.card.card-collapsable {\n\ttransition: all 0.2s ease-in;\n}\n.mg-container.card.card-collapsable .card-header {\n\tcursor: pointer;\n}\n.mg-container.card.card-collapsable .card-header::after {\n\tfont-family: \"Font Awesome 5 Pro\";\n\tcontent: '\\f054';\n\tfloat: right;\n\ttransition: transform 0.4s;\n}\n.mg-container.card.card-collapsable:not(.card-collapsed) .card-header::after {\n\ttransform: rotate(90deg);\n}\n\n\n/* Collapsed card {{{ */\n.mg-container.card.card-collapsable.card-collapsed {\n\tbox-shadow: none;\n\tborder-bottom: none;\n\tmargin-bottom: 0px;\n}\n.mg-container.card.card-collapsable.card-collapsed .card-body {\n\tdisplay: none;\n}\n/* }}} */\n/* }}} */\n\n/* Card verbs {{{ */\n.mg-container.card .card-header .card-verbs {\n\tposition: absolute;\n\tright: 15px;\n\ttop: 10px;\n\tfont-size: 20px;\n}\n.mg-container.card .card-header .card-verbs > a {\n\tcolor: #999;\n\tpadding: 5px;\n}\n.mg-container.card .card-header .card-verbs > a:hover {\n\tcolor: #000;\n}\n/* }}} */\n/* }}} */\n\n/* formFloating {{{ */\n.mgContainer-formFloating > .col-12 {\n\tposition: relative;\n\tline-height: 14px;\n\tmargin: 0 0px;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n.mgContainer-formFloating > .col-12 > .control-input {\n\theight: 45px;\n\tpadding-top: 8px;\n\tpadding-bottom: 2px;\n\tpadding-left: 2px;\n\tpadding-right: 12px;\n\tfont-size: 15px;\n\tline-height: 1.42857143;\n\tcolor: #333333;\n\tbackground-color: #ffffff;\n\tbackground-image: none;\n\toutline: none;\n\t/* border: 1px solid rgba(120, 120, 120, 0.5);\n\t*/\n\tborder: none;\n\tborder-bottom: 1px solid #bbb;\n\t-moz-box-shadow: none;\n\t-webkit-box-shadow: none;\n\tbox-shadow: none;\n\tborder-radius: 0;\n\tposition: relative;\n}\n.mgContainer-formFloating > .col-12 > .control-input.blank + .col-form-label {\n\ttransform: translateY(0px);\n\tcolor: #bbb;\n\tfont-size: 15px;\n\tfont-weight: 100;\n\topacity: 1;\n}\n.mgContainer-formFloating > .col-12 > .control-input.control-input:focus + .col-form-label {\n\ttransform: translateY(-21px);\n\tcolor: #66afe9;\n\tfont-size: 14px;\n\topacity: 1;\n\tfont-weight: 100;\n\tbackground-color: white;\n}\n.mgContainer-formFloating > .col-12 > .col-form-label {\n\tcolor: #aaa;\n\tdisplay: inline-block;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 2;\n\tleft: 2px;\n\ttop: 16px;\n\tpadding: 0 0px;\n\tpointer-events: none;\n\tbackground: white;\n\ttransition: all 300ms ease;\n\ttransform: translateY(-21px);\n\tfont-weight: 500;\n}\n/* }}} */\n\n/* Columns layout {{{ */\n.mg-container.mg-container-columns-no-border th,\n.mg-container.mg-container-columns-no-border td {\n\tpadding: 5px;\n}\n/* }}} */\n\n/* Query layout {{{ */\n.mg-container.mg-container-query .row {\n\tdisplay: block;\n}\n.mg-container.mg-container-query .col {\n\tdisplay: inline-flex;\n\twidth: 200px;\n\theight: 35px;\n\tmin-width: 200px;\n\tmargin-left: 30px;\n\tmargin-bottom: 10px;\n\tmax-width: 400px;\n\tposition: relative;\n\talign-items: center;\n\tbox-shadow: 1px 3px 5px 0px rgba(50, 50, 50, 0.75);\n\tborder-radius: 3px;\n\tcolor: #FFF;\n\theight: 38px;\n\tpadding: 5px 15px;\n\tbackground: #FFF;\n}\n\n/* Query > Background color scale {{{ */\n.mg-container.mg-container-query .col:nth-child(1) {\n\tbackground: #104E8B;\n}\n.mg-container.mg-container-query .col:nth-child(2) {\n\tbackground: #1874CD;\n}\n.mg-container.mg-container-query .col:nth-child(3) {\n\tbackground: #1C86EE;\n}\n/* }}} */\n\n/* Query > Connecting lines {{{ */\n/* Vertical */\n.mg-container.mg-container-query .row::before {\n\tbackground-color: #CCC;\n\tcontent: '';\n\tdisplay: block;\n\tposition: absolute;\n\twidth: 4px;\n\ttop: 17px;\n\tbottom: 30px;\n}\n\n/* Horizontal */\n.mg-container.mg-container-query .col::before {\n\tleft: -30px;\n\theight: 4px;\n\ttop: calc(50% - 2px);\n\twidth: 30px;\n\tbackground-color: #CCC;\n\tcontent: '';\n\tdisplay: block;\n\tposition: absolute;\n}\n/* }}} */\n\n/* Query > Basic Inputs {{{ */\n.mg-container.mg-container-query .col input {\n\tbackground: transparent;\n\tborder: 1px solid transparent;\n\tcolor: #FFF;\n\theight: 1.8em;\n\tborder-radius: 0px;\n}\n.mg-container.mg-container-query .col input[type=text] {\n\tborder-bottom: 1px solid #CCC;\n}\n.mg-container.mg-container-query .col input[type=number] {\n\ttext-align: center;\n}\n.mg-container.mg-container-query .col input:focus {\n\tbox-shadow: none;\n\tborder: 1px solid #CCC;\n}\n/* }}} */\n\n/* Query > Buttons {{{ */\n.mg-container.mg-container-query .col .btn {\n\tbox-shadow: none;\n\tpadding: 1px 5px;\n\tbackground: transparent;\n\tborder: 1px solid #003e7b;\n}\n.mg-container.mg-container-query .col .btn,\n.mg-container.mg-container-query .col svg {\n\topacity: 0.2;\n\ttransition: opacity 0.5s;\n}\n.mg-container.mg-container-query .row:hover .col .btn,\n.mg-container.mg-container-query .row:hover .col svg {\n\topacity: 1;\n}\n.mg-container.mg-container-query .col .vs__clear {\n\tdisplay: none;\n}\n/* }}} */\n\n/* Query > Dropdowns {{{ */\n.mg-container.mg-container-query .v-select {\n\twidth: 100%;\n}\n.mg-container.mg-container-query .v-select,\n.mg-container.mg-container-query .v-select .vs--searchable .vs__dropdown-toggle,\n.mg-container.mg-container-query .v-select .vs__selected,\n.mg-container.mg-container-query .v-select input,\n.mg-container.mg-container-query .v-select .vs__actions {\n\tcursor: pointer !important;\n}\n.mg-container.mg-container-query .v-select .vs__dropdown-toggle {\n\tborder: none;\n}\n.mg-container.mg-container-query .col .v-select .vs__selected {\n\tcolor: #FFF;\n}\n.mg-container.mg-container-query .col .v-select .vs__selected {\n\ttop: 3px;\n}\n.mg-container.mg-container-query .col .v-select .vs__actions svg,\n.mg-container.mg-container-query .col .v-select .vs__deselect {\n\tstroke: #FFF;\n\tfill: #FFF;\n}\n.mg-container.mg-container-query .col .v-select.mg-choice-tags .vs__selected-options .vs__selected {\n\tbackground-color: #5bc0de;\n\tborder-radius: 10px;\n\tcolor: #fff;\n\tdisplay: inline-block;\n\tfont-size: 12px;\n\tline-height: 1rem;\n\tmin-width: 10px;\n\tpadding: 1px 10px;\n\ttext-align: center;\n\tvertical-align: middle;\n\twhite-space: nowrap;\n\tborder: none;\n}\n/* }}} */\n\n/* Query > Toggle {{{ */\n.mg-container.mg-container-query .col .vue-js-switch {\n\tmargin: auto;\n\theight: 10px;\n\ttop: -5px;\n}\n/* }}} */\n/* }}} */\n\n/* Misc utility types {{{ */\n.mg-form .help-block {\n\tfont-size: 80%;\n\tcolor: #6c757d !important;\n}\n/* }}} */\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgTA,kCAAA;AACA;;;;CAIA,cAAA;AACA;AAEA;;;;CAIA,WAAA;CACA,eAAA;AACA;AACA,QAAA;;AAEA,oBAAA;AACA,yBAAA;AACA;CACA,4BAAA;AACA;AAEA;CACA,eAAA;AACA;AAEA;CACA,iCAAA;CACA,gBAAA;CACA,YAAA;CACA,0BAAA;AACA;AAEA;CACA,wBAAA;AACA;;;AAGA,uBAAA;AACA;CACA,gBAAA;CACA,mBAAA;CACA,kBAAA;AACA;AAEA;CACA,aAAA;AACA;AACA,QAAA;AACA,QAAA;;AAEA,mBAAA;AACA;CACA,kBAAA;CACA,WAAA;CACA,SAAA;CACA,eAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;AACA;AAEA;CACA,WAAA;AACA;AACA,QAAA;AACA,QAAA;;AAEA,qBAAA;AACA;CACA,kBAAA;CACA,iBAAA;CACA,aAAA;CACA,qBAAA;CACA,WAAA;AACA;AAEA;CACA,YAAA;CACA,gBAAA;CACA,mBAAA;CACA,iBAAA;CACA,mBAAA;CACA,eAAA;CACA,uBAAA;CACA,cAAA;CACA,yBAAA;CACA,sBAAA;CACA,aAAA;CACA;EACA;CACA,YAAA;CACA,6BAAA;CACA,qBAAA;CACA,wBAAA;CACA,gBAAA;CACA,gBAAA;CACA,kBAAA;AACA;AAEA;CACA,0BAAA;CACA,WAAA;CACA,eAAA;CACA,gBAAA;CACA,UAAA;AACA;AAEA;CACA,4BAAA;CACA,cAAA;CACA,eAAA;CACA,UAAA;CACA,gBAAA;CACA,uBAAA;AACA;AAEA;CACA,WAAA;CACA,qBAAA;CACA,eAAA;CACA,kBAAA;CACA,UAAA;CACA,SAAA;CACA,SAAA;CACA,cAAA;CACA,oBAAA;CACA,iBAAA;CACA,0BAAA;CACA,4BAAA;CACA,gBAAA;AACA;AACA,QAAA;;AAEA,uBAAA;AACA;;CAEA,YAAA;AACA;AACA,QAAA;;AAEA,qBAAA;AACA;CACA,cAAA;AACA;AAEA;CACA,oBAAA;CACA,YAAA;CACA,YAAA;CACA,gBAAA;CACA,iBAAA;CACA,mBAAA;CACA,gBAAA;CACA,kBAAA;CACA,mBAAA;CACA,kDAAA;CACA,kBAAA;CACA,WAAA;CACA,YAAA;CACA,iBAAA;CACA,gBAAA;AACA;;AAEA,uCAAA;AACA;CACA,mBAAA;AACA;AAEA;CACA,mBAAA;AACA;AAEA;CACA,mBAAA;AACA;AACA,QAAA;;AAEA,iCAAA;AACA,aAAA;AACA;CACA,sBAAA;CACA,WAAA;CACA,cAAA;CACA,kBAAA;CACA,UAAA;CACA,SAAA;CACA,YAAA;AACA;;AAEA,eAAA;AACA;CACA,WAAA;CACA,WAAA;CACA,oBAAA;CACA,WAAA;CACA,sBAAA;CACA,WAAA;CACA,cAAA;CACA,kBAAA;AACA;AACA,QAAA;;AAEA,6BAAA;AACA;CACA,uBAAA;CACA,6BAAA;CACA,WAAA;CACA,aAAA;CACA,kBAAA;AACA;AAEA;CACA,6BAAA;AACA;AAEA;CACA,kBAAA;AACA;AAEA;CACA,gBAAA;CACA,sBAAA;AACA;AACA,QAAA;;AAEA,wBAAA;AACA;CACA,gBAAA;CACA,gBAAA;CACA,uBAAA;CACA,yBAAA;AACA;AAEA;;CAEA,YAAA;CACA,wBAAA;AACA;AAEA;;CAEA,UAAA;AACA;AAEA;CACA,aAAA;AACA;AACA,QAAA;;AAEA,0BAAA;AACA;CACA,WAAA;AACA;AAEA;;;;;CAKA,0BAAA;AACA;AAEA;CACA,YAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,QAAA;AACA;AAEA;;CAEA,YAAA;CACA,UAAA;AACA;AAEA;CACA,yBAAA;CACA,mBAAA;CACA,WAAA;CACA,qBAAA;CACA,eAAA;CACA,iBAAA;CACA,eAAA;CACA,iBAAA;CACA,kBAAA;CACA,sBAAA;CACA,mBAAA;CACA,YAAA;AACA;AACA,QAAA;;AAEA,uBAAA;AACA;CACA,YAAA;CACA,YAAA;CACA,SAAA;AACA;AACA,QAAA;AACA,QAAA;;AAEA,2BAAA;AACA;CACA,cAAA;CACA,yBAAA;AACA;AACA,QAAA","file":"mgContainer.vue","sourcesContent":["<script>\n/**\n* MacGyver component loader\n* This is a meta component that loads other dynamic components as an array\n*/\nexport default Vue.mgComponent('mgContainer', {\n\tinject: {\n\t\t$mgForm: {from: '$mgForm'},\n\t\t$mgFormEditor: {from: '$mgFormEditor', default: false},\n\t},\n\tmeta: {\n\t\ttitle: 'Container layout',\n\t\ticon: 'far fa-th-large',\n\t\tcategory: 'Layout',\n\t\tpreferId: false,\n\t},\n\tprops: {\n\t\tlayout: {\n\t\t\ttype: 'mgChoiceRadio',\n\t\t\ttitle: 'Layout profile',\n\t\t\thelp: 'How to layout child elements',\n\t\t\tdefault: 'form',\n\t\t\tenum: [\n\t\t\t\t{id: 'form', title: 'Simple form layout'},\n\t\t\t\t{id: 'formFloating', title: 'Form with floating labels'},\n\t\t\t\t{id: 'card', title: 'Card based layout'},\n\t\t\t\t{id: 'columns', title: 'Vertical column layout'},\n\t\t\t\t{id: 'query', title: 'Query constructor'},\n\t\t\t],\n\t\t},\n\t\tformClass: {\n\t\t\ttype: 'mgChoiceDropdown',\n\t\t\ttitle: 'Form style',\n\t\t\tshowIf: {layout: {$in: ['form', 'card']}},\n\t\t\tdefault: 'normal',\n\t\t\tenum: [\n\t\t\t\t{id: 'normal', title: 'Normal'},\n\t\t\t\t{id: 'titles-above', title: 'Titles above'},\n\t\t\t],\n\t\t},\n\t\ttitle: {type: 'mgText', showIf: {layout: 'card'}},\n\t\tshowTitles: {type: 'mgToggle', default: true, help: 'Show titles for fields', showIf: {layout: {$in: ['form', 'card']}}},\n\t\tcolumnHeaders: {type: 'mgToggle', default: false, help: 'Show column headers', showIf: \"layout == 'columns'\"},\n\t\tcollapsable: {type: 'mgToggle', default: false, help: 'This card can be hidden', showIf: \"layout == 'card'\"},\n\t\tcollapsed: {type: 'mgToggle', default: false, help: 'This card is collapsed by default', showIf: \"layout == 'card'\"},\n\t\tborder: {type: 'mgToggle', default: true, help: 'Show a border around the container', showIf: \"layout == 'columns'\"},\n\t\tverbs: {\n\t\t\ttype: 'mgTable',\n\t\t\tadvanced: true,\n\t\t\tshowIf: \"layout == 'card'\",\n\t\t\titems: [\n\t\t\t\t{id: 'icon', type: 'mgIcon'},\n\t\t\t\t{id: 'tooltip', type: 'mgText'},\n\t\t\t\t{id: 'class', type: 'mgText'},\n\t\t\t\t{id: 'action', type: 'mgText'},\n\t\t\t],\n\t\t},\n\n\t\titems: {type: 'mgAlert', vueType: 'array', text: 'Use the editor to define child widgets'}, // Child items\n\t},\n\tchildProps: {\n\t\thelp: {type: 'mgText', title: 'Help text', help: 'Optional help text for the item - just like what you are reading now'},\n\t\tshowTitle: {type: 'mgToggle', default: true, title: 'Show Title', help: 'Whether to show the side title for this element'},\n\t\ttitle: {type: 'mgText', title: 'Title'},\n\t\trowClass: {type: 'mgChoiceDropdown', title: 'Styling', help: 'Additional styling to apply to the widget', default: '', advanced: true, enum: [\n\t\t\t{id: '', title: 'Normal'},\n\t\t\t{id: 'mgContainerRowLarge', title: 'Large text'},\n\t\t]},\n\t\tonChange: {type: 'string', title: 'Change action', help: 'Action to trigger when the value of this component changes', advanced: true},\n\t\tshow: {type: 'mgToggle', default: true, advanced: true, help: 'Whether the item is visible by default'},\n\t\tshowIf: {type: 'mgCode', syntax: 'text', advanced: true, help: 'A simple equality expression or Sift object to deteremine visibility'},\n\t},\n\tdata() { return {\n\t\thighlights: {}, // Lookup of extra classes to add to widgets, each key is the array offset of the widget within this container, the value is an array of classes to add\n\t\tlocalData: {}, // Lookup of immediate child data values, used when `$props.layout == 'formFloating'`\n\t}},\n\tmounted() {\n\t\tif (this.$props.collapsable) {\n\t\t\tvar $card = $(this.$el).find('.card').first();\n\n\t\t\t$card.find('.card-header').first().on('click', ()=> {\n\t\t\t\tvar $body = $(this.$el).find('.card-body');\n\t\t\t\tif ($card.hasClass('card-collapsed')) {\n\t\t\t\t\t$body.slideDown({complete: ()=> $card.removeClass('card-collapsed')});\n\t\t\t\t} else {\n\t\t\t\t\t$body.slideUp({complete: ()=> $card.addClass('card-collapsed')});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.$props.layout == 'formFloating') {\n\t\t\t// When in floating mode we need to keep track of child data so we copy its value into our `localData` object lookup\n\t\t\tthis.$mgForm.$on('changeItem', v => { // Bind to parent form handler\n\t\t\t\tif (this.$props.items.some(item => item.$dataPath == v.path)) { // Is this widget one of our immediate children?\n\t\t\t\t\tthis.$set(this.localData, v.path, v.value); // Copy its data against our local copy\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\n\t\t* Emit an event passing this container as a scope\n\t\t* This is really just a wrapper to be able to pass this VueComponent to mgContainer.* emitters\n\t\t* @param {string} eventName Event to emit\n\t\t* @param {string} specPath The widget specPath\n\t\t* @param {number} widgetIndex The widget sending the message\n\t\t*/\n\t\tcomponentEvent(eventName, specPath, widgetIndex, vueEvent) {\n\t\t\tthis.$mgForm.$emit(eventName, this, specPath, widgetIndex, vueEvent);\n\t\t},\n\n\n\t\t/**\n\t\t* Find the child index by its component\n\t\t* This works like findIndex only with Magyver components, ignoring all non-mg children when computing the index\n\t\t* @param {VueComponent} child The child offset to find\n\t\t* @returns {number} The offset of the component or boolean `false`\n\t\t*/\n\t\tfindChildIndex(child) {\n\t\t\tvar result = _(this.$refs)\n\t\t\t\t.map(v => v[0]) // Dynamic refs always end up as an array of 1 item, so unpack that\n\t\t\t\t.reduce((t, v, i) => {\n\t\t\t\t\tif (t.found) { // Already found the child\n\t\t\t\t\t\treturn t;\n\t\t\t\t\t} else if (v._uid == child._uid) { // Found by direct UID\n\t\t\t\t\t\treturn {...t, found: true};\n\t\t\t\t\t} else if (v.$children && v.$children.length == 1 && v.$children[0]._uid == child._uid) { // Check into mgComponent wrappers\n\t\t\t\t\t\treturn {...t, found: true};\n\t\t\t\t\t} else if (v.$mgForm) { // Is an mgComponent {\n\t\t\t\t\t\treturn {...t, mgIndex: t.mgIndex + 1};\n\t\t\t\t\t} else { // Implied else - regular Vue component - skip incrementing when calculating the offset\n\t\t\t\t\t\treturn t;\n\t\t\t\t\t}\n\t\t\t\t}, {found: false, mgIndex: 0});\n\n\t\t\treturn (result.found ? result.mgIndex : false);\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<!-- Layout: form {{{ -->\n\t<div\n\t\tv-if=\"$props.layout == 'form' || $props.layout === undefined\"\n\t\tclass=\"mg-container\"\n\t\t:class=\"$props.formClass\"\n\t>\n\t\t<div\n\t\t\tv-for=\"(widget, widgetIndex) in $props.items\"\n\t\t\t:key=\"widget.id\"\n\t\t\tv-if=\"widget.show\"\n\t\t\tclass=\"form-group row mg-component\"\n\t\t\t:class=\"[widget.mgValidation == 'error' ? 'has-error' : '', widget.rowClass].concat(highlights[widgetIndex] || [])\"\n\t\t>\n\t\t\t<label v-if=\"widget.showTitle || $props.showTitles\" class=\"col-form-label text-left col-sm-3\">\n\t\t\t\t{{widget.title}}\n\t\t\t</label>\n\t\t\t<div class=\"col-form-value mg-component-wrapper\" :class=\"widget.showTitle || $props.showTitles ? 'col-sm-9' : 'col-sm-12'\">\n\t\t\t\t<mg-component\n\t\t\t\t\t:ref=\"widgetIndex\"\n\t\t\t\t\t:config=\"widget\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div class=\"help-block\" v-if=\"widget.help\" :class=\"widget.showTitle || $props.showTitles ? 'col-sm-9 col-sm-offset-3' : 'col-sm-12'\">{{widget.help}}</div>\n\t\t</div>\n\t</div>\n\t<!-- }}} -->\n\t<!-- Layout: card {{{ -->\n\t<div\n\t\tv-else-if=\"$props.layout == 'card'\"\n\t\tclass=\"mg-container\"\n\t\t:class=\"$props.formClass\"\n\t>\n\t\t<div class=\"card mg-container\" :class=\"{'card-collapsable': $props.collapsable, 'card-collapsed': $props.collapsed}\">\n\t\t\t<div v-if=\"$props.title || ($props.verbs && $props.verbs.length)\" class=\"card-header\">\n\t\t\t\t{{$props.title}}\n\t\t\t\t<div v-if=\"$props.verbs && $props.verbs.length\" class=\"card-verbs\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-for=\"(verb, verbIndex) in $props.verbs\"\n\t\t\t\t\t\t:key=\"verbIndex\"\n\t\t\t\t\t\t:class=\"[verb.class, verb.icon]\"\n\t\t\t\t\t\tv-tooltip=\"verb.tooltip\"\n\t\t\t\t\t\t@click=\"$mgForm.run(form, verb.action)\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(widget, widgetIndex) in $props.items\"\n\t\t\t\t\t:key=\"widget.id\"\n\t\t\t\t\tv-if=\"widget.show\"\n\t\t\t\t\tclass=\"form-group row mg-component\"\n\t\t\t\t\t:class=\"[widget.mgValidation == 'error' ? 'has-error' : '', widget.rowClass].concat(highlights[widgetIndex] || [])\"\n\t\t\t\t\t@click=\"componentEvent('mgContainer.click', widget.$specPath, widgetIndex, $event)\"\n\t\t\t\t\t@mouseenter=\"componentEvent('mgContainer.mouseEnter', widget.$specPath, widgetIndex, $event)\"\n\t\t\t\t\t@mouseleave=\"componentEvent('mgContainer.mouseLeave', widget.$specPath, widgetIndex, $event)\"\n\t\t\t\t>\n\t\t\t\t\t<mg-form-editor-controls\n\t\t\t\t\t\tv-if=\"$mgFormEditor\"\n\t\t\t\t\t\tv-show=\"highlights[widgetIndex] && highlights[widgetIndex].some(c => c == 'editHover' || c == 'editEditing')\"\n\t\t\t\t\t\t:config=\"widget\"\n\t\t\t\t\t/>\n\t\t\t\t\t<label v-if=\"widget.showTitle || $props.showTitles\" class=\"col-form-label text-left col-sm-3\">\n\t\t\t\t\t\t{{widget.title}}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"col-form-value mg-component-wrapper\" :class=\"widget.showTitle || $props.showTitles ? 'col-sm-9' : 'col-sm-12'\">\n\t\t\t\t\t\t<mg-component\n\t\t\t\t\t\t\t:ref=\"widgetIndex\"\n\t\t\t\t\t\t\t:config=\"widget\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"help-block\" v-if=\"widget.help\" :class=\"widget.showTitle || $props.showTitles ? 'col-sm-9 col-sm-offset-3' : 'col-sm-12'\">{{widget.help}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<!-- }}} -->\n\t<!-- Layout: formFloating {{{ -->\n\t<div v-else-if=\"$props.layout == 'formFloating'\">\n\t\t<div\n\t\t\tv-for=\"(widget, widgetIndex) in $props.items\"\n\t\t\t:key=\"widget.id\"\n\t\t\tv-if=\"widget.show\"\n\t\t\tclass=\"form-group mgContainer-formFloating row mg-component\"\n\t\t\t:class=\"[widget.mgValidation == 'error' ? 'has-error' : '', widget.rowClass].concat(highlights[widgetIndex] || [])\"\n\t\t>\n\t\t\t<div class=\"col-12 mg-component-wrapper\">\n\t\t\t\t<mg-component\n\t\t\t\t\t:config=\"widget\"\n\t\t\t\t\tclass=\"control-input\"\n\t\t\t\t\t:class=\"!localData[widget.$dataPath] && 'blank'\"\n\t\t\t\t/>\n\t\t\t\t<label v-if=\"$props.showTitles\" class=\"col-form-label text-left col-sm-3\">\n\t\t\t\t\t{{widget.title}}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"help-block\" v-if=\"widget.help\" :class=\"widget.showTitle || $props.showTitles ? 'col-sm-9 col-sm-offset-3' : 'col-sm-12'\">{{widget.help}}</div>\n\t\t</div>\n\t</div>\n\t<!-- }}} -->\n\t<!-- Layout: columns {{{ -->\n\t<div v-else-if=\"$props.layout == 'columns'\">\n\t\t<table class=\"mg-container\" :class=\"$props.border ? 'table table-bordered' : 'mg-container-columns-no-border'\" style=\"width: 100%\">\n\t\t\t<thead v-if=\"$props.columnHeaders\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th\n\t\t\t\t\t\tv-for=\"widget in config.items\"\n\t\t\t\t\t\t:key=\"widget.id\"\n\t\t\t\t\t\tv-if=\"widget.show\"\n\t\t\t\t\t>{{widget.title}}</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td\n\t\t\t\t\t\tv-for=\"(widget, widgetIndex) in $props.items\"\n\t\t\t\t\t\t:key=\"widget.id\"\n\t\t\t\t\t\tv-if=\"widget.show\"\n\t\t\t\t\t\tclass=\"mg-component-wrapper\"\n\t\t\t\t\t\t:class=\"[widget.mgValidation == 'error' ? 'has-error' : '', widget.rowClass].concat(highlights[widgetIndex] || [])\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<mg-component\n\t\t\t\t\t\t\t:ref=\"widgetIndex\"\n\t\t\t\t\t\t\t:config=\"widget\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"help-block\" v-if=\"widget.help\">{{widget.help}}</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n\t<!-- }}} -->\n\t<!-- Layout: query {{{ -->\n\t<div v-else-if=\"$props.layout == 'query'\">\n\t\t<div class=\"mg-container mg-container-query\">\n\t\t\t<div v-for=\"rowWidget in $props.items\" :key=\"rowWidget.id\">\n\t\t\t\t<div v-if=\"rowWidget.type == 'mgContainer' && rowWidget.layout == 'query-row'\" class=\"row\">\n\t\t\t\t\t<div v-for=\"colWidget in rowWidget.items\" :key=\"colWidget.id\" class=\"col mg-component mg-component-wrapper\">\n\t\t\t\t\t\t<mg-component\n\t\t\t\t\t\t\t:ref=\"widgetIndex\"\n\t\t\t\t\t\t\t:config=\"colWidget\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"alert alert-danger\">\n\t\t\t\t\tAll children of mgContainer[layout=query] must match the mgContainer[layout=queryRow]\n\t\t\t\t\t<pre>{{widget}}</pre>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<!-- }}} -->\n\t<!-- Layout: unknown {{{ -->\n\t<div v-else class=\"mg-container\">\n\t\t<div class=\"alert alert-danger\">\n\t\t\tUnsupported mgContainer layout \"{{$props.layout || 'Unspecified'}}\"\n\t\t\t<pre>{{$props}}</pre>\n\t\t</div>\n\t</div>\n\t<!-- }}} -->\n</template>\n\n<style>\n/* formClass > .titles-above {{{ */\n.mg-container.titles-above > .form-group,\n.mg-container.titles-above > .form-group,\n.mg-container.titles-above > .card > .card-body > .form-group,\n.mg-container.titles-above > .card > .card-body > .form-group {\n\tdisplay: block;\n}\n\n.mg-container.titles-above > .form-group > .col-form-label,\n.mg-container.titles-above > .form-group > .col-form-value,\n.mg-container.titles-above > .card > .card-body > .form-group > .col-form-label,\n.mg-container.titles-above > .card > .card-body > .form-group > .col-form-value {\n\twidth: 100%;\n\tmax-width: none;\n}\n/* }}} */\n\n/* Card layout {{{ */\n/* Collapsable card {{{ */\n.mg-container.card.card-collapsable {\n\ttransition: all 0.2s ease-in;\n}\n\n.mg-container.card.card-collapsable .card-header {\n\tcursor: pointer;\n}\n\n.mg-container.card.card-collapsable .card-header::after {\n\tfont-family: \"Font Awesome 5 Pro\";\n\tcontent: '\\f054';\n\tfloat: right;\n\ttransition: transform 0.4s;\n}\n\n.mg-container.card.card-collapsable:not(.card-collapsed) .card-header::after {\n\ttransform: rotate(90deg);\n}\n\n\n/* Collapsed card {{{ */\n.mg-container.card.card-collapsable.card-collapsed {\n\tbox-shadow: none;\n\tborder-bottom: none;\n\tmargin-bottom: 0px;\n}\n\n.mg-container.card.card-collapsable.card-collapsed .card-body {\n\tdisplay: none;\n}\n/* }}} */\n/* }}} */\n\n/* Card verbs {{{ */\n.mg-container.card .card-header .card-verbs {\n\tposition: absolute;\n\tright: 15px;\n\ttop: 10px;\n\tfont-size: 20px;\n}\n\n.mg-container.card .card-header .card-verbs > a {\n\tcolor: #999;\n\tpadding: 5px;\n}\n\n.mg-container.card .card-header .card-verbs > a:hover {\n\tcolor: #000;\n}\n/* }}} */\n/* }}} */\n\n/* formFloating {{{ */\n.mgContainer-formFloating > .col-12 {\n\tposition: relative;\n\tline-height: 14px;\n\tmargin: 0 0px;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.mgContainer-formFloating > .col-12 > .control-input {\n\theight: 45px;\n\tpadding-top: 8px;\n\tpadding-bottom: 2px;\n\tpadding-left: 2px;\n\tpadding-right: 12px;\n\tfont-size: 15px;\n\tline-height: 1.42857143;\n\tcolor: #333333;\n\tbackground-color: #ffffff;\n\tbackground-image: none;\n\toutline: none;\n\t/* border: 1px solid rgba(120, 120, 120, 0.5);\n\t*/\n\tborder: none;\n\tborder-bottom: 1px solid #bbb;\n\t-moz-box-shadow: none;\n\t-webkit-box-shadow: none;\n\tbox-shadow: none;\n\tborder-radius: 0;\n\tposition: relative;\n}\n\n.mgContainer-formFloating > .col-12 > .control-input.blank + .col-form-label {\n\ttransform: translateY(0px);\n\tcolor: #bbb;\n\tfont-size: 15px;\n\tfont-weight: 100;\n\topacity: 1;\n}\n\n.mgContainer-formFloating > .col-12 > .control-input.control-input:focus + .col-form-label {\n\ttransform: translateY(-21px);\n\tcolor: #66afe9;\n\tfont-size: 14px;\n\topacity: 1;\n\tfont-weight: 100;\n\tbackground-color: white;\n}\n\n.mgContainer-formFloating > .col-12 > .col-form-label {\n\tcolor: #aaa;\n\tdisplay: inline-block;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 2;\n\tleft: 2px;\n\ttop: 16px;\n\tpadding: 0 0px;\n\tpointer-events: none;\n\tbackground: white;\n\ttransition: all 300ms ease;\n\ttransform: translateY(-21px);\n\tfont-weight: 500;\n}\n/* }}} */\n\n/* Columns layout {{{ */\n.mg-container.mg-container-columns-no-border th,\n.mg-container.mg-container-columns-no-border td {\n\tpadding: 5px;\n}\n/* }}} */\n\n/* Query layout {{{ */\n.mg-container.mg-container-query .row {\n\tdisplay: block;\n}\n\n.mg-container.mg-container-query .col {\n\tdisplay: inline-flex;\n\twidth: 200px;\n\theight: 35px;\n\tmin-width: 200px;\n\tmargin-left: 30px;\n\tmargin-bottom: 10px;\n\tmax-width: 400px;\n\tposition: relative;\n\talign-items: center;\n\tbox-shadow: 1px 3px 5px 0px rgba(50, 50, 50, 0.75);\n\tborder-radius: 3px;\n\tcolor: #FFF;\n\theight: 38px;\n\tpadding: 5px 15px;\n\tbackground: #FFF;\n}\n\n/* Query > Background color scale {{{ */\n.mg-container.mg-container-query .col:nth-child(1) {\n\tbackground: #104E8B;\n}\n\n.mg-container.mg-container-query .col:nth-child(2) {\n\tbackground: #1874CD;\n}\n\n.mg-container.mg-container-query .col:nth-child(3) {\n\tbackground: #1C86EE;\n}\n/* }}} */\n\n/* Query > Connecting lines {{{ */\n/* Vertical */\n.mg-container.mg-container-query .row::before {\n\tbackground-color: #CCC;\n\tcontent: '';\n\tdisplay: block;\n\tposition: absolute;\n\twidth: 4px;\n\ttop: 17px;\n\tbottom: 30px;\n}\n\n/* Horizontal */\n.mg-container.mg-container-query .col::before {\n\tleft: -30px;\n\theight: 4px;\n\ttop: calc(50% - 2px);\n\twidth: 30px;\n\tbackground-color: #CCC;\n\tcontent: '';\n\tdisplay: block;\n\tposition: absolute;\n}\n/* }}} */\n\n/* Query > Basic Inputs {{{ */\n.mg-container.mg-container-query .col input {\n\tbackground: transparent;\n\tborder: 1px solid transparent;\n\tcolor: #FFF;\n\theight: 1.8em;\n\tborder-radius: 0px;\n}\n\n.mg-container.mg-container-query .col input[type=text] {\n\tborder-bottom: 1px solid #CCC;\n}\n\n.mg-container.mg-container-query .col input[type=number] {\n\ttext-align: center;\n}\n\n.mg-container.mg-container-query .col input:focus {\n\tbox-shadow: none;\n\tborder: 1px solid #CCC;\n}\n/* }}} */\n\n/* Query > Buttons {{{ */\n.mg-container.mg-container-query .col .btn {\n\tbox-shadow: none;\n\tpadding: 1px 5px;\n\tbackground: transparent;\n\tborder: 1px solid #003e7b;\n}\n\n.mg-container.mg-container-query .col .btn,\n.mg-container.mg-container-query .col svg {\n\topacity: 0.2;\n\ttransition: opacity 0.5s;\n}\n\n.mg-container.mg-container-query .row:hover .col .btn,\n.mg-container.mg-container-query .row:hover .col svg {\n\topacity: 1;\n}\n\n.mg-container.mg-container-query .col .vs__clear {\n\tdisplay: none;\n}\n/* }}} */\n\n/* Query > Dropdowns {{{ */\n.mg-container.mg-container-query .v-select {\n\twidth: 100%;\n}\n\n.mg-container.mg-container-query .v-select,\n.mg-container.mg-container-query .v-select .vs--searchable .vs__dropdown-toggle,\n.mg-container.mg-container-query .v-select .vs__selected,\n.mg-container.mg-container-query .v-select input,\n.mg-container.mg-container-query .v-select .vs__actions {\n\tcursor: pointer !important;\n}\n\n.mg-container.mg-container-query .v-select .vs__dropdown-toggle {\n\tborder: none;\n}\n\n.mg-container.mg-container-query .col .v-select .vs__selected {\n\tcolor: #FFF;\n}\n\n.mg-container.mg-container-query .col .v-select .vs__selected {\n\ttop: 3px;\n}\n\n.mg-container.mg-container-query .col .v-select .vs__actions svg,\n.mg-container.mg-container-query .col .v-select .vs__deselect {\n\tstroke: #FFF;\n\tfill: #FFF;\n}\n\n.mg-container.mg-container-query .col .v-select.mg-choice-tags .vs__selected-options .vs__selected {\n\tbackground-color: #5bc0de;\n\tborder-radius: 10px;\n\tcolor: #fff;\n\tdisplay: inline-block;\n\tfont-size: 12px;\n\tline-height: 1rem;\n\tmin-width: 10px;\n\tpadding: 1px 10px;\n\ttext-align: center;\n\tvertical-align: middle;\n\twhite-space: nowrap;\n\tborder: none;\n}\n/* }}} */\n\n/* Query > Toggle {{{ */\n.mg-container.mg-container-query .col .vue-js-switch {\n\tmargin: auto;\n\theight: 10px;\n\ttop: -5px;\n}\n/* }}} */\n/* }}} */\n\n/* Misc utility types {{{ */\n.mg-form .help-block {\n\tfont-size: 80%;\n\tcolor: #6c757d !important;\n}\n/* }}} */\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$j = undefined;
    /* module identifier */
    const __vue_module_identifier__$j = undefined;
    /* functional template */
    const __vue_is_functional_template__$j = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$j = normalizeComponent(
      { render: __vue_render__$d, staticRenderFns: __vue_staticRenderFns__$d },
      __vue_inject_styles__$j,
      __vue_script__$j,
      __vue_scope_id__$j,
      __vue_is_functional_template__$j,
      __vue_module_identifier__$j,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgContainer = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$j
  });

  var moment = createCommonjsModule(function (module, exports) {
  (function (global, factory) {
       module.exports = factory() ;
  }(commonjsGlobal, (function () {
      var hookCallback;

      function hooks() {
          return hookCallback.apply(null, arguments);
      }

      // This is done to register the method called with moment()
      // without creating circular dependencies.
      function setHookCallback(callback) {
          hookCallback = callback;
      }

      function isArray(input) {
          return (
              input instanceof Array ||
              Object.prototype.toString.call(input) === '[object Array]'
          );
      }

      function isObject(input) {
          // IE8 will treat undefined and null as object if it wasn't for
          // input != null
          return (
              input != null &&
              Object.prototype.toString.call(input) === '[object Object]'
          );
      }

      function hasOwnProp(a, b) {
          return Object.prototype.hasOwnProperty.call(a, b);
      }

      function isObjectEmpty(obj) {
          if (Object.getOwnPropertyNames) {
              return Object.getOwnPropertyNames(obj).length === 0;
          } else {
              var k;
              for (k in obj) {
                  if (hasOwnProp(obj, k)) {
                      return false;
                  }
              }
              return true;
          }
      }

      function isUndefined(input) {
          return input === void 0;
      }

      function isNumber(input) {
          return (
              typeof input === 'number' ||
              Object.prototype.toString.call(input) === '[object Number]'
          );
      }

      function isDate(input) {
          return (
              input instanceof Date ||
              Object.prototype.toString.call(input) === '[object Date]'
          );
      }

      function map(arr, fn) {
          var res = [],
              i;
          for (i = 0; i < arr.length; ++i) {
              res.push(fn(arr[i], i));
          }
          return res;
      }

      function extend(a, b) {
          for (var i in b) {
              if (hasOwnProp(b, i)) {
                  a[i] = b[i];
              }
          }

          if (hasOwnProp(b, 'toString')) {
              a.toString = b.toString;
          }

          if (hasOwnProp(b, 'valueOf')) {
              a.valueOf = b.valueOf;
          }

          return a;
      }

      function createUTC(input, format, locale, strict) {
          return createLocalOrUTC(input, format, locale, strict, true).utc();
      }

      function defaultParsingFlags() {
          // We need to deep clone this object.
          return {
              empty: false,
              unusedTokens: [],
              unusedInput: [],
              overflow: -2,
              charsLeftOver: 0,
              nullInput: false,
              invalidEra: null,
              invalidMonth: null,
              invalidFormat: false,
              userInvalidated: false,
              iso: false,
              parsedDateParts: [],
              era: null,
              meridiem: null,
              rfc2822: false,
              weekdayMismatch: false,
          };
      }

      function getParsingFlags(m) {
          if (m._pf == null) {
              m._pf = defaultParsingFlags();
          }
          return m._pf;
      }

      var some;
      if (Array.prototype.some) {
          some = Array.prototype.some;
      } else {
          some = function (fun) {
              var t = Object(this),
                  len = t.length >>> 0,
                  i;

              for (i = 0; i < len; i++) {
                  if (i in t && fun.call(this, t[i], i, t)) {
                      return true;
                  }
              }

              return false;
          };
      }

      function isValid(m) {
          if (m._isValid == null) {
              var flags = getParsingFlags(m),
                  parsedParts = some.call(flags.parsedDateParts, function (i) {
                      return i != null;
                  }),
                  isNowValid =
                      !isNaN(m._d.getTime()) &&
                      flags.overflow < 0 &&
                      !flags.empty &&
                      !flags.invalidEra &&
                      !flags.invalidMonth &&
                      !flags.invalidWeekday &&
                      !flags.weekdayMismatch &&
                      !flags.nullInput &&
                      !flags.invalidFormat &&
                      !flags.userInvalidated &&
                      (!flags.meridiem || (flags.meridiem && parsedParts));

              if (m._strict) {
                  isNowValid =
                      isNowValid &&
                      flags.charsLeftOver === 0 &&
                      flags.unusedTokens.length === 0 &&
                      flags.bigHour === undefined;
              }

              if (Object.isFrozen == null || !Object.isFrozen(m)) {
                  m._isValid = isNowValid;
              } else {
                  return isNowValid;
              }
          }
          return m._isValid;
      }

      function createInvalid(flags) {
          var m = createUTC(NaN);
          if (flags != null) {
              extend(getParsingFlags(m), flags);
          } else {
              getParsingFlags(m).userInvalidated = true;
          }

          return m;
      }

      // Plugins that add properties should also add the key here (null value),
      // so we can properly clone ourselves.
      var momentProperties = (hooks.momentProperties = []),
          updateInProgress = false;

      function copyConfig(to, from) {
          var i, prop, val;

          if (!isUndefined(from._isAMomentObject)) {
              to._isAMomentObject = from._isAMomentObject;
          }
          if (!isUndefined(from._i)) {
              to._i = from._i;
          }
          if (!isUndefined(from._f)) {
              to._f = from._f;
          }
          if (!isUndefined(from._l)) {
              to._l = from._l;
          }
          if (!isUndefined(from._strict)) {
              to._strict = from._strict;
          }
          if (!isUndefined(from._tzm)) {
              to._tzm = from._tzm;
          }
          if (!isUndefined(from._isUTC)) {
              to._isUTC = from._isUTC;
          }
          if (!isUndefined(from._offset)) {
              to._offset = from._offset;
          }
          if (!isUndefined(from._pf)) {
              to._pf = getParsingFlags(from);
          }
          if (!isUndefined(from._locale)) {
              to._locale = from._locale;
          }

          if (momentProperties.length > 0) {
              for (i = 0; i < momentProperties.length; i++) {
                  prop = momentProperties[i];
                  val = from[prop];
                  if (!isUndefined(val)) {
                      to[prop] = val;
                  }
              }
          }

          return to;
      }

      // Moment prototype object
      function Moment(config) {
          copyConfig(this, config);
          this._d = new Date(config._d != null ? config._d.getTime() : NaN);
          if (!this.isValid()) {
              this._d = new Date(NaN);
          }
          // Prevent infinite loop in case updateOffset creates new moment
          // objects.
          if (updateInProgress === false) {
              updateInProgress = true;
              hooks.updateOffset(this);
              updateInProgress = false;
          }
      }

      function isMoment(obj) {
          return (
              obj instanceof Moment || (obj != null && obj._isAMomentObject != null)
          );
      }

      function warn(msg) {
          if (
              hooks.suppressDeprecationWarnings === false &&
              typeof console !== 'undefined' &&
              console.warn
          ) {
              console.warn('Deprecation warning: ' + msg);
          }
      }

      function deprecate(msg, fn) {
          var firstTime = true;

          return extend(function () {
              if (hooks.deprecationHandler != null) {
                  hooks.deprecationHandler(null, msg);
              }
              if (firstTime) {
                  var args = [],
                      arg,
                      i,
                      key;
                  for (i = 0; i < arguments.length; i++) {
                      arg = '';
                      if (typeof arguments[i] === 'object') {
                          arg += '\n[' + i + '] ';
                          for (key in arguments[0]) {
                              if (hasOwnProp(arguments[0], key)) {
                                  arg += key + ': ' + arguments[0][key] + ', ';
                              }
                          }
                          arg = arg.slice(0, -2); // Remove trailing comma and space
                      } else {
                          arg = arguments[i];
                      }
                      args.push(arg);
                  }
                  warn(
                      msg +
                          '\nArguments: ' +
                          Array.prototype.slice.call(args).join('') +
                          '\n' +
                          new Error().stack
                  );
                  firstTime = false;
              }
              return fn.apply(this, arguments);
          }, fn);
      }

      var deprecations = {};

      function deprecateSimple(name, msg) {
          if (hooks.deprecationHandler != null) {
              hooks.deprecationHandler(name, msg);
          }
          if (!deprecations[name]) {
              warn(msg);
              deprecations[name] = true;
          }
      }

      hooks.suppressDeprecationWarnings = false;
      hooks.deprecationHandler = null;

      function isFunction(input) {
          return (
              (typeof Function !== 'undefined' && input instanceof Function) ||
              Object.prototype.toString.call(input) === '[object Function]'
          );
      }

      function set(config) {
          var prop, i;
          for (i in config) {
              if (hasOwnProp(config, i)) {
                  prop = config[i];
                  if (isFunction(prop)) {
                      this[i] = prop;
                  } else {
                      this['_' + i] = prop;
                  }
              }
          }
          this._config = config;
          // Lenient ordinal parsing accepts just a number in addition to
          // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
          // TODO: Remove "ordinalParse" fallback in next major release.
          this._dayOfMonthOrdinalParseLenient = new RegExp(
              (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                  '|' +
                  /\d{1,2}/.source
          );
      }

      function mergeConfigs(parentConfig, childConfig) {
          var res = extend({}, parentConfig),
              prop;
          for (prop in childConfig) {
              if (hasOwnProp(childConfig, prop)) {
                  if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                      res[prop] = {};
                      extend(res[prop], parentConfig[prop]);
                      extend(res[prop], childConfig[prop]);
                  } else if (childConfig[prop] != null) {
                      res[prop] = childConfig[prop];
                  } else {
                      delete res[prop];
                  }
              }
          }
          for (prop in parentConfig) {
              if (
                  hasOwnProp(parentConfig, prop) &&
                  !hasOwnProp(childConfig, prop) &&
                  isObject(parentConfig[prop])
              ) {
                  // make sure changes to properties don't modify parent config
                  res[prop] = extend({}, res[prop]);
              }
          }
          return res;
      }

      function Locale(config) {
          if (config != null) {
              this.set(config);
          }
      }

      var keys;

      if (Object.keys) {
          keys = Object.keys;
      } else {
          keys = function (obj) {
              var i,
                  res = [];
              for (i in obj) {
                  if (hasOwnProp(obj, i)) {
                      res.push(i);
                  }
              }
              return res;
          };
      }

      var defaultCalendar = {
          sameDay: '[Today at] LT',
          nextDay: '[Tomorrow at] LT',
          nextWeek: 'dddd [at] LT',
          lastDay: '[Yesterday at] LT',
          lastWeek: '[Last] dddd [at] LT',
          sameElse: 'L',
      };

      function calendar(key, mom, now) {
          var output = this._calendar[key] || this._calendar['sameElse'];
          return isFunction(output) ? output.call(mom, now) : output;
      }

      function zeroFill(number, targetLength, forceSign) {
          var absNumber = '' + Math.abs(number),
              zerosToFill = targetLength - absNumber.length,
              sign = number >= 0;
          return (
              (sign ? (forceSign ? '+' : '') : '-') +
              Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +
              absNumber
          );
      }

      var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
          localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
          formatFunctions = {},
          formatTokenFunctions = {};

      // token:    'M'
      // padded:   ['MM', 2]
      // ordinal:  'Mo'
      // callback: function () { this.month() + 1 }
      function addFormatToken(token, padded, ordinal, callback) {
          var func = callback;
          if (typeof callback === 'string') {
              func = function () {
                  return this[callback]();
              };
          }
          if (token) {
              formatTokenFunctions[token] = func;
          }
          if (padded) {
              formatTokenFunctions[padded[0]] = function () {
                  return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
              };
          }
          if (ordinal) {
              formatTokenFunctions[ordinal] = function () {
                  return this.localeData().ordinal(
                      func.apply(this, arguments),
                      token
                  );
              };
          }
      }

      function removeFormattingTokens(input) {
          if (input.match(/\[[\s\S]/)) {
              return input.replace(/^\[|\]$/g, '');
          }
          return input.replace(/\\/g, '');
      }

      function makeFormatFunction(format) {
          var array = format.match(formattingTokens),
              i,
              length;

          for (i = 0, length = array.length; i < length; i++) {
              if (formatTokenFunctions[array[i]]) {
                  array[i] = formatTokenFunctions[array[i]];
              } else {
                  array[i] = removeFormattingTokens(array[i]);
              }
          }

          return function (mom) {
              var output = '',
                  i;
              for (i = 0; i < length; i++) {
                  output += isFunction(array[i])
                      ? array[i].call(mom, format)
                      : array[i];
              }
              return output;
          };
      }

      // format date using native date object
      function formatMoment(m, format) {
          if (!m.isValid()) {
              return m.localeData().invalidDate();
          }

          format = expandFormat(format, m.localeData());
          formatFunctions[format] =
              formatFunctions[format] || makeFormatFunction(format);

          return formatFunctions[format](m);
      }

      function expandFormat(format, locale) {
          var i = 5;

          function replaceLongDateFormatTokens(input) {
              return locale.longDateFormat(input) || input;
          }

          localFormattingTokens.lastIndex = 0;
          while (i >= 0 && localFormattingTokens.test(format)) {
              format = format.replace(
                  localFormattingTokens,
                  replaceLongDateFormatTokens
              );
              localFormattingTokens.lastIndex = 0;
              i -= 1;
          }

          return format;
      }

      var defaultLongDateFormat = {
          LTS: 'h:mm:ss A',
          LT: 'h:mm A',
          L: 'MM/DD/YYYY',
          LL: 'MMMM D, YYYY',
          LLL: 'MMMM D, YYYY h:mm A',
          LLLL: 'dddd, MMMM D, YYYY h:mm A',
      };

      function longDateFormat(key) {
          var format = this._longDateFormat[key],
              formatUpper = this._longDateFormat[key.toUpperCase()];

          if (format || !formatUpper) {
              return format;
          }

          this._longDateFormat[key] = formatUpper
              .match(formattingTokens)
              .map(function (tok) {
                  if (
                      tok === 'MMMM' ||
                      tok === 'MM' ||
                      tok === 'DD' ||
                      tok === 'dddd'
                  ) {
                      return tok.slice(1);
                  }
                  return tok;
              })
              .join('');

          return this._longDateFormat[key];
      }

      var defaultInvalidDate = 'Invalid date';

      function invalidDate() {
          return this._invalidDate;
      }

      var defaultOrdinal = '%d',
          defaultDayOfMonthOrdinalParse = /\d{1,2}/;

      function ordinal(number) {
          return this._ordinal.replace('%d', number);
      }

      var defaultRelativeTime = {
          future: 'in %s',
          past: '%s ago',
          s: 'a few seconds',
          ss: '%d seconds',
          m: 'a minute',
          mm: '%d minutes',
          h: 'an hour',
          hh: '%d hours',
          d: 'a day',
          dd: '%d days',
          w: 'a week',
          ww: '%d weeks',
          M: 'a month',
          MM: '%d months',
          y: 'a year',
          yy: '%d years',
      };

      function relativeTime(number, withoutSuffix, string, isFuture) {
          var output = this._relativeTime[string];
          return isFunction(output)
              ? output(number, withoutSuffix, string, isFuture)
              : output.replace(/%d/i, number);
      }

      function pastFuture(diff, output) {
          var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
          return isFunction(format) ? format(output) : format.replace(/%s/i, output);
      }

      var aliases = {};

      function addUnitAlias(unit, shorthand) {
          var lowerCase = unit.toLowerCase();
          aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
      }

      function normalizeUnits(units) {
          return typeof units === 'string'
              ? aliases[units] || aliases[units.toLowerCase()]
              : undefined;
      }

      function normalizeObjectUnits(inputObject) {
          var normalizedInput = {},
              normalizedProp,
              prop;

          for (prop in inputObject) {
              if (hasOwnProp(inputObject, prop)) {
                  normalizedProp = normalizeUnits(prop);
                  if (normalizedProp) {
                      normalizedInput[normalizedProp] = inputObject[prop];
                  }
              }
          }

          return normalizedInput;
      }

      var priorities = {};

      function addUnitPriority(unit, priority) {
          priorities[unit] = priority;
      }

      function getPrioritizedUnits(unitsObj) {
          var units = [],
              u;
          for (u in unitsObj) {
              if (hasOwnProp(unitsObj, u)) {
                  units.push({ unit: u, priority: priorities[u] });
              }
          }
          units.sort(function (a, b) {
              return a.priority - b.priority;
          });
          return units;
      }

      function isLeapYear(year) {
          return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
      }

      function absFloor(number) {
          if (number < 0) {
              // -0 -> 0
              return Math.ceil(number) || 0;
          } else {
              return Math.floor(number);
          }
      }

      function toInt(argumentForCoercion) {
          var coercedNumber = +argumentForCoercion,
              value = 0;

          if (coercedNumber !== 0 && isFinite(coercedNumber)) {
              value = absFloor(coercedNumber);
          }

          return value;
      }

      function makeGetSet(unit, keepTime) {
          return function (value) {
              if (value != null) {
                  set$1(this, unit, value);
                  hooks.updateOffset(this, keepTime);
                  return this;
              } else {
                  return get(this, unit);
              }
          };
      }

      function get(mom, unit) {
          return mom.isValid()
              ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]()
              : NaN;
      }

      function set$1(mom, unit, value) {
          if (mom.isValid() && !isNaN(value)) {
              if (
                  unit === 'FullYear' &&
                  isLeapYear(mom.year()) &&
                  mom.month() === 1 &&
                  mom.date() === 29
              ) {
                  value = toInt(value);
                  mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](
                      value,
                      mom.month(),
                      daysInMonth(value, mom.month())
                  );
              } else {
                  mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
              }
          }
      }

      // MOMENTS

      function stringGet(units) {
          units = normalizeUnits(units);
          if (isFunction(this[units])) {
              return this[units]();
          }
          return this;
      }

      function stringSet(units, value) {
          if (typeof units === 'object') {
              units = normalizeObjectUnits(units);
              var prioritized = getPrioritizedUnits(units),
                  i;
              for (i = 0; i < prioritized.length; i++) {
                  this[prioritized[i].unit](units[prioritized[i].unit]);
              }
          } else {
              units = normalizeUnits(units);
              if (isFunction(this[units])) {
                  return this[units](value);
              }
          }
          return this;
      }

      var match1 = /\d/, //       0 - 9
          match2 = /\d\d/, //      00 - 99
          match3 = /\d{3}/, //     000 - 999
          match4 = /\d{4}/, //    0000 - 9999
          match6 = /[+-]?\d{6}/, // -999999 - 999999
          match1to2 = /\d\d?/, //       0 - 99
          match3to4 = /\d\d\d\d?/, //     999 - 9999
          match5to6 = /\d\d\d\d\d\d?/, //   99999 - 999999
          match1to3 = /\d{1,3}/, //       0 - 999
          match1to4 = /\d{1,4}/, //       0 - 9999
          match1to6 = /[+-]?\d{1,6}/, // -999999 - 999999
          matchUnsigned = /\d+/, //       0 - inf
          matchSigned = /[+-]?\d+/, //    -inf - inf
          matchOffset = /Z|[+-]\d\d:?\d\d/gi, // +00:00 -00:00 +0000 -0000 or Z
          matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z
          matchTimestamp = /[+-]?\d+(\.\d{1,3})?/, // 123456789 123456789.123
          // any word (or two) characters or numbers including two/three word month in arabic.
          // includes scottish gaelic two word and hyphenated months
          matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,
          regexes;

      regexes = {};

      function addRegexToken(token, regex, strictRegex) {
          regexes[token] = isFunction(regex)
              ? regex
              : function (isStrict, localeData) {
                    return isStrict && strictRegex ? strictRegex : regex;
                };
      }

      function getParseRegexForToken(token, config) {
          if (!hasOwnProp(regexes, token)) {
              return new RegExp(unescapeFormat(token));
          }

          return regexes[token](config._strict, config._locale);
      }

      // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
      function unescapeFormat(s) {
          return regexEscape(
              s
                  .replace('\\', '')
                  .replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (
                      matched,
                      p1,
                      p2,
                      p3,
                      p4
                  ) {
                      return p1 || p2 || p3 || p4;
                  })
          );
      }

      function regexEscape(s) {
          return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
      }

      var tokens = {};

      function addParseToken(token, callback) {
          var i,
              func = callback;
          if (typeof token === 'string') {
              token = [token];
          }
          if (isNumber(callback)) {
              func = function (input, array) {
                  array[callback] = toInt(input);
              };
          }
          for (i = 0; i < token.length; i++) {
              tokens[token[i]] = func;
          }
      }

      function addWeekParseToken(token, callback) {
          addParseToken(token, function (input, array, config, token) {
              config._w = config._w || {};
              callback(input, config._w, config, token);
          });
      }

      function addTimeToArrayFromToken(token, input, config) {
          if (input != null && hasOwnProp(tokens, token)) {
              tokens[token](input, config._a, config, token);
          }
      }

      var YEAR = 0,
          MONTH = 1,
          DATE = 2,
          HOUR = 3,
          MINUTE = 4,
          SECOND = 5,
          MILLISECOND = 6,
          WEEK = 7,
          WEEKDAY = 8;

      function mod(n, x) {
          return ((n % x) + x) % x;
      }

      var indexOf;

      if (Array.prototype.indexOf) {
          indexOf = Array.prototype.indexOf;
      } else {
          indexOf = function (o) {
              // I know
              var i;
              for (i = 0; i < this.length; ++i) {
                  if (this[i] === o) {
                      return i;
                  }
              }
              return -1;
          };
      }

      function daysInMonth(year, month) {
          if (isNaN(year) || isNaN(month)) {
              return NaN;
          }
          var modMonth = mod(month, 12);
          year += (month - modMonth) / 12;
          return modMonth === 1
              ? isLeapYear(year)
                  ? 29
                  : 28
              : 31 - ((modMonth % 7) % 2);
      }

      // FORMATTING

      addFormatToken('M', ['MM', 2], 'Mo', function () {
          return this.month() + 1;
      });

      addFormatToken('MMM', 0, 0, function (format) {
          return this.localeData().monthsShort(this, format);
      });

      addFormatToken('MMMM', 0, 0, function (format) {
          return this.localeData().months(this, format);
      });

      // ALIASES

      addUnitAlias('month', 'M');

      // PRIORITY

      addUnitPriority('month', 8);

      // PARSING

      addRegexToken('M', match1to2);
      addRegexToken('MM', match1to2, match2);
      addRegexToken('MMM', function (isStrict, locale) {
          return locale.monthsShortRegex(isStrict);
      });
      addRegexToken('MMMM', function (isStrict, locale) {
          return locale.monthsRegex(isStrict);
      });

      addParseToken(['M', 'MM'], function (input, array) {
          array[MONTH] = toInt(input) - 1;
      });

      addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
          var month = config._locale.monthsParse(input, token, config._strict);
          // if we didn't find a month name, mark the date as invalid.
          if (month != null) {
              array[MONTH] = month;
          } else {
              getParsingFlags(config).invalidMonth = input;
          }
      });

      // LOCALES

      var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split(
              '_'
          ),
          defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split(
              '_'
          ),
          MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
          defaultMonthsShortRegex = matchWord,
          defaultMonthsRegex = matchWord;

      function localeMonths(m, format) {
          if (!m) {
              return isArray(this._months)
                  ? this._months
                  : this._months['standalone'];
          }
          return isArray(this._months)
              ? this._months[m.month()]
              : this._months[
                    (this._months.isFormat || MONTHS_IN_FORMAT).test(format)
                        ? 'format'
                        : 'standalone'
                ][m.month()];
      }

      function localeMonthsShort(m, format) {
          if (!m) {
              return isArray(this._monthsShort)
                  ? this._monthsShort
                  : this._monthsShort['standalone'];
          }
          return isArray(this._monthsShort)
              ? this._monthsShort[m.month()]
              : this._monthsShort[
                    MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'
                ][m.month()];
      }

      function handleStrictParse(monthName, format, strict) {
          var i,
              ii,
              mom,
              llc = monthName.toLocaleLowerCase();
          if (!this._monthsParse) {
              // this is not used
              this._monthsParse = [];
              this._longMonthsParse = [];
              this._shortMonthsParse = [];
              for (i = 0; i < 12; ++i) {
                  mom = createUTC([2000, i]);
                  this._shortMonthsParse[i] = this.monthsShort(
                      mom,
                      ''
                  ).toLocaleLowerCase();
                  this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
              }
          }

          if (strict) {
              if (format === 'MMM') {
                  ii = indexOf.call(this._shortMonthsParse, llc);
                  return ii !== -1 ? ii : null;
              } else {
                  ii = indexOf.call(this._longMonthsParse, llc);
                  return ii !== -1 ? ii : null;
              }
          } else {
              if (format === 'MMM') {
                  ii = indexOf.call(this._shortMonthsParse, llc);
                  if (ii !== -1) {
                      return ii;
                  }
                  ii = indexOf.call(this._longMonthsParse, llc);
                  return ii !== -1 ? ii : null;
              } else {
                  ii = indexOf.call(this._longMonthsParse, llc);
                  if (ii !== -1) {
                      return ii;
                  }
                  ii = indexOf.call(this._shortMonthsParse, llc);
                  return ii !== -1 ? ii : null;
              }
          }
      }

      function localeMonthsParse(monthName, format, strict) {
          var i, mom, regex;

          if (this._monthsParseExact) {
              return handleStrictParse.call(this, monthName, format, strict);
          }

          if (!this._monthsParse) {
              this._monthsParse = [];
              this._longMonthsParse = [];
              this._shortMonthsParse = [];
          }

          // TODO: add sorting
          // Sorting makes sure if one month (or abbr) is a prefix of another
          // see sorting in computeMonthsParse
          for (i = 0; i < 12; i++) {
              // make the regex if we don't have it already
              mom = createUTC([2000, i]);
              if (strict && !this._longMonthsParse[i]) {
                  this._longMonthsParse[i] = new RegExp(
                      '^' + this.months(mom, '').replace('.', '') + '$',
                      'i'
                  );
                  this._shortMonthsParse[i] = new RegExp(
                      '^' + this.monthsShort(mom, '').replace('.', '') + '$',
                      'i'
                  );
              }
              if (!strict && !this._monthsParse[i]) {
                  regex =
                      '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                  this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
              }
              // test the regex
              if (
                  strict &&
                  format === 'MMMM' &&
                  this._longMonthsParse[i].test(monthName)
              ) {
                  return i;
              } else if (
                  strict &&
                  format === 'MMM' &&
                  this._shortMonthsParse[i].test(monthName)
              ) {
                  return i;
              } else if (!strict && this._monthsParse[i].test(monthName)) {
                  return i;
              }
          }
      }

      // MOMENTS

      function setMonth(mom, value) {
          var dayOfMonth;

          if (!mom.isValid()) {
              // No op
              return mom;
          }

          if (typeof value === 'string') {
              if (/^\d+$/.test(value)) {
                  value = toInt(value);
              } else {
                  value = mom.localeData().monthsParse(value);
                  // TODO: Another silent failure?
                  if (!isNumber(value)) {
                      return mom;
                  }
              }
          }

          dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
          mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
          return mom;
      }

      function getSetMonth(value) {
          if (value != null) {
              setMonth(this, value);
              hooks.updateOffset(this, true);
              return this;
          } else {
              return get(this, 'Month');
          }
      }

      function getDaysInMonth() {
          return daysInMonth(this.year(), this.month());
      }

      function monthsShortRegex(isStrict) {
          if (this._monthsParseExact) {
              if (!hasOwnProp(this, '_monthsRegex')) {
                  computeMonthsParse.call(this);
              }
              if (isStrict) {
                  return this._monthsShortStrictRegex;
              } else {
                  return this._monthsShortRegex;
              }
          } else {
              if (!hasOwnProp(this, '_monthsShortRegex')) {
                  this._monthsShortRegex = defaultMonthsShortRegex;
              }
              return this._monthsShortStrictRegex && isStrict
                  ? this._monthsShortStrictRegex
                  : this._monthsShortRegex;
          }
      }

      function monthsRegex(isStrict) {
          if (this._monthsParseExact) {
              if (!hasOwnProp(this, '_monthsRegex')) {
                  computeMonthsParse.call(this);
              }
              if (isStrict) {
                  return this._monthsStrictRegex;
              } else {
                  return this._monthsRegex;
              }
          } else {
              if (!hasOwnProp(this, '_monthsRegex')) {
                  this._monthsRegex = defaultMonthsRegex;
              }
              return this._monthsStrictRegex && isStrict
                  ? this._monthsStrictRegex
                  : this._monthsRegex;
          }
      }

      function computeMonthsParse() {
          function cmpLenRev(a, b) {
              return b.length - a.length;
          }

          var shortPieces = [],
              longPieces = [],
              mixedPieces = [],
              i,
              mom;
          for (i = 0; i < 12; i++) {
              // make the regex if we don't have it already
              mom = createUTC([2000, i]);
              shortPieces.push(this.monthsShort(mom, ''));
              longPieces.push(this.months(mom, ''));
              mixedPieces.push(this.months(mom, ''));
              mixedPieces.push(this.monthsShort(mom, ''));
          }
          // Sorting makes sure if one month (or abbr) is a prefix of another it
          // will match the longer piece.
          shortPieces.sort(cmpLenRev);
          longPieces.sort(cmpLenRev);
          mixedPieces.sort(cmpLenRev);
          for (i = 0; i < 12; i++) {
              shortPieces[i] = regexEscape(shortPieces[i]);
              longPieces[i] = regexEscape(longPieces[i]);
          }
          for (i = 0; i < 24; i++) {
              mixedPieces[i] = regexEscape(mixedPieces[i]);
          }

          this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
          this._monthsShortRegex = this._monthsRegex;
          this._monthsStrictRegex = new RegExp(
              '^(' + longPieces.join('|') + ')',
              'i'
          );
          this._monthsShortStrictRegex = new RegExp(
              '^(' + shortPieces.join('|') + ')',
              'i'
          );
      }

      // FORMATTING

      addFormatToken('Y', 0, 0, function () {
          var y = this.year();
          return y <= 9999 ? zeroFill(y, 4) : '+' + y;
      });

      addFormatToken(0, ['YY', 2], 0, function () {
          return this.year() % 100;
      });

      addFormatToken(0, ['YYYY', 4], 0, 'year');
      addFormatToken(0, ['YYYYY', 5], 0, 'year');
      addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

      // ALIASES

      addUnitAlias('year', 'y');

      // PRIORITIES

      addUnitPriority('year', 1);

      // PARSING

      addRegexToken('Y', matchSigned);
      addRegexToken('YY', match1to2, match2);
      addRegexToken('YYYY', match1to4, match4);
      addRegexToken('YYYYY', match1to6, match6);
      addRegexToken('YYYYYY', match1to6, match6);

      addParseToken(['YYYYY', 'YYYYYY'], YEAR);
      addParseToken('YYYY', function (input, array) {
          array[YEAR] =
              input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
      });
      addParseToken('YY', function (input, array) {
          array[YEAR] = hooks.parseTwoDigitYear(input);
      });
      addParseToken('Y', function (input, array) {
          array[YEAR] = parseInt(input, 10);
      });

      // HELPERS

      function daysInYear(year) {
          return isLeapYear(year) ? 366 : 365;
      }

      // HOOKS

      hooks.parseTwoDigitYear = function (input) {
          return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
      };

      // MOMENTS

      var getSetYear = makeGetSet('FullYear', true);

      function getIsLeapYear() {
          return isLeapYear(this.year());
      }

      function createDate(y, m, d, h, M, s, ms) {
          // can't just apply() to create a date:
          // https://stackoverflow.com/q/181348
          var date;
          // the date constructor remaps years 0-99 to 1900-1999
          if (y < 100 && y >= 0) {
              // preserve leap years using a full 400 year cycle, then reset
              date = new Date(y + 400, m, d, h, M, s, ms);
              if (isFinite(date.getFullYear())) {
                  date.setFullYear(y);
              }
          } else {
              date = new Date(y, m, d, h, M, s, ms);
          }

          return date;
      }

      function createUTCDate(y) {
          var date, args;
          // the Date.UTC function remaps years 0-99 to 1900-1999
          if (y < 100 && y >= 0) {
              args = Array.prototype.slice.call(arguments);
              // preserve leap years using a full 400 year cycle, then reset
              args[0] = y + 400;
              date = new Date(Date.UTC.apply(null, args));
              if (isFinite(date.getUTCFullYear())) {
                  date.setUTCFullYear(y);
              }
          } else {
              date = new Date(Date.UTC.apply(null, arguments));
          }

          return date;
      }

      // start-of-first-week - start-of-year
      function firstWeekOffset(year, dow, doy) {
          var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
              fwd = 7 + dow - doy,
              // first-week day local weekday -- which local weekday is fwd
              fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

          return -fwdlw + fwd - 1;
      }

      // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
      function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
          var localWeekday = (7 + weekday - dow) % 7,
              weekOffset = firstWeekOffset(year, dow, doy),
              dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
              resYear,
              resDayOfYear;

          if (dayOfYear <= 0) {
              resYear = year - 1;
              resDayOfYear = daysInYear(resYear) + dayOfYear;
          } else if (dayOfYear > daysInYear(year)) {
              resYear = year + 1;
              resDayOfYear = dayOfYear - daysInYear(year);
          } else {
              resYear = year;
              resDayOfYear = dayOfYear;
          }

          return {
              year: resYear,
              dayOfYear: resDayOfYear,
          };
      }

      function weekOfYear(mom, dow, doy) {
          var weekOffset = firstWeekOffset(mom.year(), dow, doy),
              week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
              resWeek,
              resYear;

          if (week < 1) {
              resYear = mom.year() - 1;
              resWeek = week + weeksInYear(resYear, dow, doy);
          } else if (week > weeksInYear(mom.year(), dow, doy)) {
              resWeek = week - weeksInYear(mom.year(), dow, doy);
              resYear = mom.year() + 1;
          } else {
              resYear = mom.year();
              resWeek = week;
          }

          return {
              week: resWeek,
              year: resYear,
          };
      }

      function weeksInYear(year, dow, doy) {
          var weekOffset = firstWeekOffset(year, dow, doy),
              weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
          return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
      }

      // FORMATTING

      addFormatToken('w', ['ww', 2], 'wo', 'week');
      addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

      // ALIASES

      addUnitAlias('week', 'w');
      addUnitAlias('isoWeek', 'W');

      // PRIORITIES

      addUnitPriority('week', 5);
      addUnitPriority('isoWeek', 5);

      // PARSING

      addRegexToken('w', match1to2);
      addRegexToken('ww', match1to2, match2);
      addRegexToken('W', match1to2);
      addRegexToken('WW', match1to2, match2);

      addWeekParseToken(['w', 'ww', 'W', 'WW'], function (
          input,
          week,
          config,
          token
      ) {
          week[token.substr(0, 1)] = toInt(input);
      });

      // HELPERS

      // LOCALES

      function localeWeek(mom) {
          return weekOfYear(mom, this._week.dow, this._week.doy).week;
      }

      var defaultLocaleWeek = {
          dow: 0, // Sunday is the first day of the week.
          doy: 6, // The week that contains Jan 6th is the first week of the year.
      };

      function localeFirstDayOfWeek() {
          return this._week.dow;
      }

      function localeFirstDayOfYear() {
          return this._week.doy;
      }

      // MOMENTS

      function getSetWeek(input) {
          var week = this.localeData().week(this);
          return input == null ? week : this.add((input - week) * 7, 'd');
      }

      function getSetISOWeek(input) {
          var week = weekOfYear(this, 1, 4).week;
          return input == null ? week : this.add((input - week) * 7, 'd');
      }

      // FORMATTING

      addFormatToken('d', 0, 'do', 'day');

      addFormatToken('dd', 0, 0, function (format) {
          return this.localeData().weekdaysMin(this, format);
      });

      addFormatToken('ddd', 0, 0, function (format) {
          return this.localeData().weekdaysShort(this, format);
      });

      addFormatToken('dddd', 0, 0, function (format) {
          return this.localeData().weekdays(this, format);
      });

      addFormatToken('e', 0, 0, 'weekday');
      addFormatToken('E', 0, 0, 'isoWeekday');

      // ALIASES

      addUnitAlias('day', 'd');
      addUnitAlias('weekday', 'e');
      addUnitAlias('isoWeekday', 'E');

      // PRIORITY
      addUnitPriority('day', 11);
      addUnitPriority('weekday', 11);
      addUnitPriority('isoWeekday', 11);

      // PARSING

      addRegexToken('d', match1to2);
      addRegexToken('e', match1to2);
      addRegexToken('E', match1to2);
      addRegexToken('dd', function (isStrict, locale) {
          return locale.weekdaysMinRegex(isStrict);
      });
      addRegexToken('ddd', function (isStrict, locale) {
          return locale.weekdaysShortRegex(isStrict);
      });
      addRegexToken('dddd', function (isStrict, locale) {
          return locale.weekdaysRegex(isStrict);
      });

      addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
          var weekday = config._locale.weekdaysParse(input, token, config._strict);
          // if we didn't get a weekday name, mark the date as invalid
          if (weekday != null) {
              week.d = weekday;
          } else {
              getParsingFlags(config).invalidWeekday = input;
          }
      });

      addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
          week[token] = toInt(input);
      });

      // HELPERS

      function parseWeekday(input, locale) {
          if (typeof input !== 'string') {
              return input;
          }

          if (!isNaN(input)) {
              return parseInt(input, 10);
          }

          input = locale.weekdaysParse(input);
          if (typeof input === 'number') {
              return input;
          }

          return null;
      }

      function parseIsoWeekday(input, locale) {
          if (typeof input === 'string') {
              return locale.weekdaysParse(input) % 7 || 7;
          }
          return isNaN(input) ? null : input;
      }

      // LOCALES
      function shiftWeekdays(ws, n) {
          return ws.slice(n, 7).concat(ws.slice(0, n));
      }

      var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split(
              '_'
          ),
          defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
          defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
          defaultWeekdaysRegex = matchWord,
          defaultWeekdaysShortRegex = matchWord,
          defaultWeekdaysMinRegex = matchWord;

      function localeWeekdays(m, format) {
          var weekdays = isArray(this._weekdays)
              ? this._weekdays
              : this._weekdays[
                    m && m !== true && this._weekdays.isFormat.test(format)
                        ? 'format'
                        : 'standalone'
                ];
          return m === true
              ? shiftWeekdays(weekdays, this._week.dow)
              : m
              ? weekdays[m.day()]
              : weekdays;
      }

      function localeWeekdaysShort(m) {
          return m === true
              ? shiftWeekdays(this._weekdaysShort, this._week.dow)
              : m
              ? this._weekdaysShort[m.day()]
              : this._weekdaysShort;
      }

      function localeWeekdaysMin(m) {
          return m === true
              ? shiftWeekdays(this._weekdaysMin, this._week.dow)
              : m
              ? this._weekdaysMin[m.day()]
              : this._weekdaysMin;
      }

      function handleStrictParse$1(weekdayName, format, strict) {
          var i,
              ii,
              mom,
              llc = weekdayName.toLocaleLowerCase();
          if (!this._weekdaysParse) {
              this._weekdaysParse = [];
              this._shortWeekdaysParse = [];
              this._minWeekdaysParse = [];

              for (i = 0; i < 7; ++i) {
                  mom = createUTC([2000, 1]).day(i);
                  this._minWeekdaysParse[i] = this.weekdaysMin(
                      mom,
                      ''
                  ).toLocaleLowerCase();
                  this._shortWeekdaysParse[i] = this.weekdaysShort(
                      mom,
                      ''
                  ).toLocaleLowerCase();
                  this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
              }
          }

          if (strict) {
              if (format === 'dddd') {
                  ii = indexOf.call(this._weekdaysParse, llc);
                  return ii !== -1 ? ii : null;
              } else if (format === 'ddd') {
                  ii = indexOf.call(this._shortWeekdaysParse, llc);
                  return ii !== -1 ? ii : null;
              } else {
                  ii = indexOf.call(this._minWeekdaysParse, llc);
                  return ii !== -1 ? ii : null;
              }
          } else {
              if (format === 'dddd') {
                  ii = indexOf.call(this._weekdaysParse, llc);
                  if (ii !== -1) {
                      return ii;
                  }
                  ii = indexOf.call(this._shortWeekdaysParse, llc);
                  if (ii !== -1) {
                      return ii;
                  }
                  ii = indexOf.call(this._minWeekdaysParse, llc);
                  return ii !== -1 ? ii : null;
              } else if (format === 'ddd') {
                  ii = indexOf.call(this._shortWeekdaysParse, llc);
                  if (ii !== -1) {
                      return ii;
                  }
                  ii = indexOf.call(this._weekdaysParse, llc);
                  if (ii !== -1) {
                      return ii;
                  }
                  ii = indexOf.call(this._minWeekdaysParse, llc);
                  return ii !== -1 ? ii : null;
              } else {
                  ii = indexOf.call(this._minWeekdaysParse, llc);
                  if (ii !== -1) {
                      return ii;
                  }
                  ii = indexOf.call(this._weekdaysParse, llc);
                  if (ii !== -1) {
                      return ii;
                  }
                  ii = indexOf.call(this._shortWeekdaysParse, llc);
                  return ii !== -1 ? ii : null;
              }
          }
      }

      function localeWeekdaysParse(weekdayName, format, strict) {
          var i, mom, regex;

          if (this._weekdaysParseExact) {
              return handleStrictParse$1.call(this, weekdayName, format, strict);
          }

          if (!this._weekdaysParse) {
              this._weekdaysParse = [];
              this._minWeekdaysParse = [];
              this._shortWeekdaysParse = [];
              this._fullWeekdaysParse = [];
          }

          for (i = 0; i < 7; i++) {
              // make the regex if we don't have it already

              mom = createUTC([2000, 1]).day(i);
              if (strict && !this._fullWeekdaysParse[i]) {
                  this._fullWeekdaysParse[i] = new RegExp(
                      '^' + this.weekdays(mom, '').replace('.', '\\.?') + '$',
                      'i'
                  );
                  this._shortWeekdaysParse[i] = new RegExp(
                      '^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$',
                      'i'
                  );
                  this._minWeekdaysParse[i] = new RegExp(
                      '^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$',
                      'i'
                  );
              }
              if (!this._weekdaysParse[i]) {
                  regex =
                      '^' +
                      this.weekdays(mom, '') +
                      '|^' +
                      this.weekdaysShort(mom, '') +
                      '|^' +
                      this.weekdaysMin(mom, '');
                  this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
              }
              // test the regex
              if (
                  strict &&
                  format === 'dddd' &&
                  this._fullWeekdaysParse[i].test(weekdayName)
              ) {
                  return i;
              } else if (
                  strict &&
                  format === 'ddd' &&
                  this._shortWeekdaysParse[i].test(weekdayName)
              ) {
                  return i;
              } else if (
                  strict &&
                  format === 'dd' &&
                  this._minWeekdaysParse[i].test(weekdayName)
              ) {
                  return i;
              } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                  return i;
              }
          }
      }

      // MOMENTS

      function getSetDayOfWeek(input) {
          if (!this.isValid()) {
              return input != null ? this : NaN;
          }
          var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
          if (input != null) {
              input = parseWeekday(input, this.localeData());
              return this.add(input - day, 'd');
          } else {
              return day;
          }
      }

      function getSetLocaleDayOfWeek(input) {
          if (!this.isValid()) {
              return input != null ? this : NaN;
          }
          var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
          return input == null ? weekday : this.add(input - weekday, 'd');
      }

      function getSetISODayOfWeek(input) {
          if (!this.isValid()) {
              return input != null ? this : NaN;
          }

          // behaves the same as moment#day except
          // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
          // as a setter, sunday should belong to the previous week.

          if (input != null) {
              var weekday = parseIsoWeekday(input, this.localeData());
              return this.day(this.day() % 7 ? weekday : weekday - 7);
          } else {
              return this.day() || 7;
          }
      }

      function weekdaysRegex(isStrict) {
          if (this._weekdaysParseExact) {
              if (!hasOwnProp(this, '_weekdaysRegex')) {
                  computeWeekdaysParse.call(this);
              }
              if (isStrict) {
                  return this._weekdaysStrictRegex;
              } else {
                  return this._weekdaysRegex;
              }
          } else {
              if (!hasOwnProp(this, '_weekdaysRegex')) {
                  this._weekdaysRegex = defaultWeekdaysRegex;
              }
              return this._weekdaysStrictRegex && isStrict
                  ? this._weekdaysStrictRegex
                  : this._weekdaysRegex;
          }
      }

      function weekdaysShortRegex(isStrict) {
          if (this._weekdaysParseExact) {
              if (!hasOwnProp(this, '_weekdaysRegex')) {
                  computeWeekdaysParse.call(this);
              }
              if (isStrict) {
                  return this._weekdaysShortStrictRegex;
              } else {
                  return this._weekdaysShortRegex;
              }
          } else {
              if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                  this._weekdaysShortRegex = defaultWeekdaysShortRegex;
              }
              return this._weekdaysShortStrictRegex && isStrict
                  ? this._weekdaysShortStrictRegex
                  : this._weekdaysShortRegex;
          }
      }

      function weekdaysMinRegex(isStrict) {
          if (this._weekdaysParseExact) {
              if (!hasOwnProp(this, '_weekdaysRegex')) {
                  computeWeekdaysParse.call(this);
              }
              if (isStrict) {
                  return this._weekdaysMinStrictRegex;
              } else {
                  return this._weekdaysMinRegex;
              }
          } else {
              if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                  this._weekdaysMinRegex = defaultWeekdaysMinRegex;
              }
              return this._weekdaysMinStrictRegex && isStrict
                  ? this._weekdaysMinStrictRegex
                  : this._weekdaysMinRegex;
          }
      }

      function computeWeekdaysParse() {
          function cmpLenRev(a, b) {
              return b.length - a.length;
          }

          var minPieces = [],
              shortPieces = [],
              longPieces = [],
              mixedPieces = [],
              i,
              mom,
              minp,
              shortp,
              longp;
          for (i = 0; i < 7; i++) {
              // make the regex if we don't have it already
              mom = createUTC([2000, 1]).day(i);
              minp = regexEscape(this.weekdaysMin(mom, ''));
              shortp = regexEscape(this.weekdaysShort(mom, ''));
              longp = regexEscape(this.weekdays(mom, ''));
              minPieces.push(minp);
              shortPieces.push(shortp);
              longPieces.push(longp);
              mixedPieces.push(minp);
              mixedPieces.push(shortp);
              mixedPieces.push(longp);
          }
          // Sorting makes sure if one weekday (or abbr) is a prefix of another it
          // will match the longer piece.
          minPieces.sort(cmpLenRev);
          shortPieces.sort(cmpLenRev);
          longPieces.sort(cmpLenRev);
          mixedPieces.sort(cmpLenRev);

          this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
          this._weekdaysShortRegex = this._weekdaysRegex;
          this._weekdaysMinRegex = this._weekdaysRegex;

          this._weekdaysStrictRegex = new RegExp(
              '^(' + longPieces.join('|') + ')',
              'i'
          );
          this._weekdaysShortStrictRegex = new RegExp(
              '^(' + shortPieces.join('|') + ')',
              'i'
          );
          this._weekdaysMinStrictRegex = new RegExp(
              '^(' + minPieces.join('|') + ')',
              'i'
          );
      }

      // FORMATTING

      function hFormat() {
          return this.hours() % 12 || 12;
      }

      function kFormat() {
          return this.hours() || 24;
      }

      addFormatToken('H', ['HH', 2], 0, 'hour');
      addFormatToken('h', ['hh', 2], 0, hFormat);
      addFormatToken('k', ['kk', 2], 0, kFormat);

      addFormatToken('hmm', 0, 0, function () {
          return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
      });

      addFormatToken('hmmss', 0, 0, function () {
          return (
              '' +
              hFormat.apply(this) +
              zeroFill(this.minutes(), 2) +
              zeroFill(this.seconds(), 2)
          );
      });

      addFormatToken('Hmm', 0, 0, function () {
          return '' + this.hours() + zeroFill(this.minutes(), 2);
      });

      addFormatToken('Hmmss', 0, 0, function () {
          return (
              '' +
              this.hours() +
              zeroFill(this.minutes(), 2) +
              zeroFill(this.seconds(), 2)
          );
      });

      function meridiem(token, lowercase) {
          addFormatToken(token, 0, 0, function () {
              return this.localeData().meridiem(
                  this.hours(),
                  this.minutes(),
                  lowercase
              );
          });
      }

      meridiem('a', true);
      meridiem('A', false);

      // ALIASES

      addUnitAlias('hour', 'h');

      // PRIORITY
      addUnitPriority('hour', 13);

      // PARSING

      function matchMeridiem(isStrict, locale) {
          return locale._meridiemParse;
      }

      addRegexToken('a', matchMeridiem);
      addRegexToken('A', matchMeridiem);
      addRegexToken('H', match1to2);
      addRegexToken('h', match1to2);
      addRegexToken('k', match1to2);
      addRegexToken('HH', match1to2, match2);
      addRegexToken('hh', match1to2, match2);
      addRegexToken('kk', match1to2, match2);

      addRegexToken('hmm', match3to4);
      addRegexToken('hmmss', match5to6);
      addRegexToken('Hmm', match3to4);
      addRegexToken('Hmmss', match5to6);

      addParseToken(['H', 'HH'], HOUR);
      addParseToken(['k', 'kk'], function (input, array, config) {
          var kInput = toInt(input);
          array[HOUR] = kInput === 24 ? 0 : kInput;
      });
      addParseToken(['a', 'A'], function (input, array, config) {
          config._isPm = config._locale.isPM(input);
          config._meridiem = input;
      });
      addParseToken(['h', 'hh'], function (input, array, config) {
          array[HOUR] = toInt(input);
          getParsingFlags(config).bigHour = true;
      });
      addParseToken('hmm', function (input, array, config) {
          var pos = input.length - 2;
          array[HOUR] = toInt(input.substr(0, pos));
          array[MINUTE] = toInt(input.substr(pos));
          getParsingFlags(config).bigHour = true;
      });
      addParseToken('hmmss', function (input, array, config) {
          var pos1 = input.length - 4,
              pos2 = input.length - 2;
          array[HOUR] = toInt(input.substr(0, pos1));
          array[MINUTE] = toInt(input.substr(pos1, 2));
          array[SECOND] = toInt(input.substr(pos2));
          getParsingFlags(config).bigHour = true;
      });
      addParseToken('Hmm', function (input, array, config) {
          var pos = input.length - 2;
          array[HOUR] = toInt(input.substr(0, pos));
          array[MINUTE] = toInt(input.substr(pos));
      });
      addParseToken('Hmmss', function (input, array, config) {
          var pos1 = input.length - 4,
              pos2 = input.length - 2;
          array[HOUR] = toInt(input.substr(0, pos1));
          array[MINUTE] = toInt(input.substr(pos1, 2));
          array[SECOND] = toInt(input.substr(pos2));
      });

      // LOCALES

      function localeIsPM(input) {
          // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
          // Using charAt should be more compatible.
          return (input + '').toLowerCase().charAt(0) === 'p';
      }

      var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i,
          // Setting the hour should keep the time, because the user explicitly
          // specified which hour they want. So trying to maintain the same hour (in
          // a new timezone) makes sense. Adding/subtracting hours does not follow
          // this rule.
          getSetHour = makeGetSet('Hours', true);

      function localeMeridiem(hours, minutes, isLower) {
          if (hours > 11) {
              return isLower ? 'pm' : 'PM';
          } else {
              return isLower ? 'am' : 'AM';
          }
      }

      var baseConfig = {
          calendar: defaultCalendar,
          longDateFormat: defaultLongDateFormat,
          invalidDate: defaultInvalidDate,
          ordinal: defaultOrdinal,
          dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
          relativeTime: defaultRelativeTime,

          months: defaultLocaleMonths,
          monthsShort: defaultLocaleMonthsShort,

          week: defaultLocaleWeek,

          weekdays: defaultLocaleWeekdays,
          weekdaysMin: defaultLocaleWeekdaysMin,
          weekdaysShort: defaultLocaleWeekdaysShort,

          meridiemParse: defaultLocaleMeridiemParse,
      };

      // internal storage for locale config files
      var locales = {},
          localeFamilies = {},
          globalLocale;

      function commonPrefix(arr1, arr2) {
          var i,
              minl = Math.min(arr1.length, arr2.length);
          for (i = 0; i < minl; i += 1) {
              if (arr1[i] !== arr2[i]) {
                  return i;
              }
          }
          return minl;
      }

      function normalizeLocale(key) {
          return key ? key.toLowerCase().replace('_', '-') : key;
      }

      // pick the locale from the array
      // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
      // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
      function chooseLocale(names) {
          var i = 0,
              j,
              next,
              locale,
              split;

          while (i < names.length) {
              split = normalizeLocale(names[i]).split('-');
              j = split.length;
              next = normalizeLocale(names[i + 1]);
              next = next ? next.split('-') : null;
              while (j > 0) {
                  locale = loadLocale(split.slice(0, j).join('-'));
                  if (locale) {
                      return locale;
                  }
                  if (
                      next &&
                      next.length >= j &&
                      commonPrefix(split, next) >= j - 1
                  ) {
                      //the next array item is better than a shallower substring of this one
                      break;
                  }
                  j--;
              }
              i++;
          }
          return globalLocale;
      }

      function loadLocale(name) {
          var oldLocale = null,
              aliasedRequire;
          // TODO: Find a better way to register and load all the locales in Node
          if (
              locales[name] === undefined &&
              'object' !== 'undefined' &&
              module &&
              module.exports
          ) {
              try {
                  oldLocale = globalLocale._abbr;
                  aliasedRequire = commonjsRequire;
                  aliasedRequire('./locale/' + name);
                  getSetGlobalLocale(oldLocale);
              } catch (e) {
                  // mark as not found to avoid repeating expensive file require call causing high CPU
                  // when trying to find en-US, en_US, en-us for every format call
                  locales[name] = null; // null means not found
              }
          }
          return locales[name];
      }

      // This function will load locale and then set the global locale.  If
      // no arguments are passed in, it will simply return the current global
      // locale key.
      function getSetGlobalLocale(key, values) {
          var data;
          if (key) {
              if (isUndefined(values)) {
                  data = getLocale(key);
              } else {
                  data = defineLocale(key, values);
              }

              if (data) {
                  // moment.duration._locale = moment._locale = data;
                  globalLocale = data;
              } else {
                  if (typeof console !== 'undefined' && console.warn) {
                      //warn user if arguments are passed but the locale could not be set
                      console.warn(
                          'Locale ' + key + ' not found. Did you forget to load it?'
                      );
                  }
              }
          }

          return globalLocale._abbr;
      }

      function defineLocale(name, config) {
          if (config !== null) {
              var locale,
                  parentConfig = baseConfig;
              config.abbr = name;
              if (locales[name] != null) {
                  deprecateSimple(
                      'defineLocaleOverride',
                      'use moment.updateLocale(localeName, config) to change ' +
                          'an existing locale. moment.defineLocale(localeName, ' +
                          'config) should only be used for creating a new locale ' +
                          'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'
                  );
                  parentConfig = locales[name]._config;
              } else if (config.parentLocale != null) {
                  if (locales[config.parentLocale] != null) {
                      parentConfig = locales[config.parentLocale]._config;
                  } else {
                      locale = loadLocale(config.parentLocale);
                      if (locale != null) {
                          parentConfig = locale._config;
                      } else {
                          if (!localeFamilies[config.parentLocale]) {
                              localeFamilies[config.parentLocale] = [];
                          }
                          localeFamilies[config.parentLocale].push({
                              name: name,
                              config: config,
                          });
                          return null;
                      }
                  }
              }
              locales[name] = new Locale(mergeConfigs(parentConfig, config));

              if (localeFamilies[name]) {
                  localeFamilies[name].forEach(function (x) {
                      defineLocale(x.name, x.config);
                  });
              }

              // backwards compat for now: also set the locale
              // make sure we set the locale AFTER all child locales have been
              // created, so we won't end up with the child locale set.
              getSetGlobalLocale(name);

              return locales[name];
          } else {
              // useful for testing
              delete locales[name];
              return null;
          }
      }

      function updateLocale(name, config) {
          if (config != null) {
              var locale,
                  tmpLocale,
                  parentConfig = baseConfig;

              if (locales[name] != null && locales[name].parentLocale != null) {
                  // Update existing child locale in-place to avoid memory-leaks
                  locales[name].set(mergeConfigs(locales[name]._config, config));
              } else {
                  // MERGE
                  tmpLocale = loadLocale(name);
                  if (tmpLocale != null) {
                      parentConfig = tmpLocale._config;
                  }
                  config = mergeConfigs(parentConfig, config);
                  if (tmpLocale == null) {
                      // updateLocale is called for creating a new locale
                      // Set abbr so it will have a name (getters return
                      // undefined otherwise).
                      config.abbr = name;
                  }
                  locale = new Locale(config);
                  locale.parentLocale = locales[name];
                  locales[name] = locale;
              }

              // backwards compat for now: also set the locale
              getSetGlobalLocale(name);
          } else {
              // pass null for config to unupdate, useful for tests
              if (locales[name] != null) {
                  if (locales[name].parentLocale != null) {
                      locales[name] = locales[name].parentLocale;
                      if (name === getSetGlobalLocale()) {
                          getSetGlobalLocale(name);
                      }
                  } else if (locales[name] != null) {
                      delete locales[name];
                  }
              }
          }
          return locales[name];
      }

      // returns locale data
      function getLocale(key) {
          var locale;

          if (key && key._locale && key._locale._abbr) {
              key = key._locale._abbr;
          }

          if (!key) {
              return globalLocale;
          }

          if (!isArray(key)) {
              //short-circuit everything else
              locale = loadLocale(key);
              if (locale) {
                  return locale;
              }
              key = [key];
          }

          return chooseLocale(key);
      }

      function listLocales() {
          return keys(locales);
      }

      function checkOverflow(m) {
          var overflow,
              a = m._a;

          if (a && getParsingFlags(m).overflow === -2) {
              overflow =
                  a[MONTH] < 0 || a[MONTH] > 11
                      ? MONTH
                      : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])
                      ? DATE
                      : a[HOUR] < 0 ||
                        a[HOUR] > 24 ||
                        (a[HOUR] === 24 &&
                            (a[MINUTE] !== 0 ||
                                a[SECOND] !== 0 ||
                                a[MILLISECOND] !== 0))
                      ? HOUR
                      : a[MINUTE] < 0 || a[MINUTE] > 59
                      ? MINUTE
                      : a[SECOND] < 0 || a[SECOND] > 59
                      ? SECOND
                      : a[MILLISECOND] < 0 || a[MILLISECOND] > 999
                      ? MILLISECOND
                      : -1;

              if (
                  getParsingFlags(m)._overflowDayOfYear &&
                  (overflow < YEAR || overflow > DATE)
              ) {
                  overflow = DATE;
              }
              if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                  overflow = WEEK;
              }
              if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                  overflow = WEEKDAY;
              }

              getParsingFlags(m).overflow = overflow;
          }

          return m;
      }

      // iso 8601 regex
      // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
      var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
          basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
          tzRegex = /Z|[+-]\d\d(?::?\d\d)?/,
          isoDates = [
              ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
              ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
              ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
              ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
              ['YYYY-DDD', /\d{4}-\d{3}/],
              ['YYYY-MM', /\d{4}-\d\d/, false],
              ['YYYYYYMMDD', /[+-]\d{10}/],
              ['YYYYMMDD', /\d{8}/],
              ['GGGG[W]WWE', /\d{4}W\d{3}/],
              ['GGGG[W]WW', /\d{4}W\d{2}/, false],
              ['YYYYDDD', /\d{7}/],
              ['YYYYMM', /\d{6}/, false],
              ['YYYY', /\d{4}/, false],
          ],
          // iso time formats and regexes
          isoTimes = [
              ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
              ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
              ['HH:mm:ss', /\d\d:\d\d:\d\d/],
              ['HH:mm', /\d\d:\d\d/],
              ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
              ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
              ['HHmmss', /\d\d\d\d\d\d/],
              ['HHmm', /\d\d\d\d/],
              ['HH', /\d\d/],
          ],
          aspNetJsonRegex = /^\/?Date\((-?\d+)/i,
          // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
          rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,
          obsOffsets = {
              UT: 0,
              GMT: 0,
              EDT: -4 * 60,
              EST: -5 * 60,
              CDT: -5 * 60,
              CST: -6 * 60,
              MDT: -6 * 60,
              MST: -7 * 60,
              PDT: -7 * 60,
              PST: -8 * 60,
          };

      // date from iso format
      function configFromISO(config) {
          var i,
              l,
              string = config._i,
              match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
              allowTime,
              dateFormat,
              timeFormat,
              tzFormat;

          if (match) {
              getParsingFlags(config).iso = true;

              for (i = 0, l = isoDates.length; i < l; i++) {
                  if (isoDates[i][1].exec(match[1])) {
                      dateFormat = isoDates[i][0];
                      allowTime = isoDates[i][2] !== false;
                      break;
                  }
              }
              if (dateFormat == null) {
                  config._isValid = false;
                  return;
              }
              if (match[3]) {
                  for (i = 0, l = isoTimes.length; i < l; i++) {
                      if (isoTimes[i][1].exec(match[3])) {
                          // match[2] should be 'T' or space
                          timeFormat = (match[2] || ' ') + isoTimes[i][0];
                          break;
                      }
                  }
                  if (timeFormat == null) {
                      config._isValid = false;
                      return;
                  }
              }
              if (!allowTime && timeFormat != null) {
                  config._isValid = false;
                  return;
              }
              if (match[4]) {
                  if (tzRegex.exec(match[4])) {
                      tzFormat = 'Z';
                  } else {
                      config._isValid = false;
                      return;
                  }
              }
              config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
              configFromStringAndFormat(config);
          } else {
              config._isValid = false;
          }
      }

      function extractFromRFC2822Strings(
          yearStr,
          monthStr,
          dayStr,
          hourStr,
          minuteStr,
          secondStr
      ) {
          var result = [
              untruncateYear(yearStr),
              defaultLocaleMonthsShort.indexOf(monthStr),
              parseInt(dayStr, 10),
              parseInt(hourStr, 10),
              parseInt(minuteStr, 10),
          ];

          if (secondStr) {
              result.push(parseInt(secondStr, 10));
          }

          return result;
      }

      function untruncateYear(yearStr) {
          var year = parseInt(yearStr, 10);
          if (year <= 49) {
              return 2000 + year;
          } else if (year <= 999) {
              return 1900 + year;
          }
          return year;
      }

      function preprocessRFC2822(s) {
          // Remove comments and folding whitespace and replace multiple-spaces with a single space
          return s
              .replace(/\([^)]*\)|[\n\t]/g, ' ')
              .replace(/(\s\s+)/g, ' ')
              .replace(/^\s\s*/, '')
              .replace(/\s\s*$/, '');
      }

      function checkWeekday(weekdayStr, parsedInput, config) {
          if (weekdayStr) {
              // TODO: Replace the vanilla JS Date object with an independent day-of-week check.
              var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                  weekdayActual = new Date(
                      parsedInput[0],
                      parsedInput[1],
                      parsedInput[2]
                  ).getDay();
              if (weekdayProvided !== weekdayActual) {
                  getParsingFlags(config).weekdayMismatch = true;
                  config._isValid = false;
                  return false;
              }
          }
          return true;
      }

      function calculateOffset(obsOffset, militaryOffset, numOffset) {
          if (obsOffset) {
              return obsOffsets[obsOffset];
          } else if (militaryOffset) {
              // the only allowed military tz is Z
              return 0;
          } else {
              var hm = parseInt(numOffset, 10),
                  m = hm % 100,
                  h = (hm - m) / 100;
              return h * 60 + m;
          }
      }

      // date and time from ref 2822 format
      function configFromRFC2822(config) {
          var match = rfc2822.exec(preprocessRFC2822(config._i)),
              parsedArray;
          if (match) {
              parsedArray = extractFromRFC2822Strings(
                  match[4],
                  match[3],
                  match[2],
                  match[5],
                  match[6],
                  match[7]
              );
              if (!checkWeekday(match[1], parsedArray, config)) {
                  return;
              }

              config._a = parsedArray;
              config._tzm = calculateOffset(match[8], match[9], match[10]);

              config._d = createUTCDate.apply(null, config._a);
              config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

              getParsingFlags(config).rfc2822 = true;
          } else {
              config._isValid = false;
          }
      }

      // date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict
      function configFromString(config) {
          var matched = aspNetJsonRegex.exec(config._i);
          if (matched !== null) {
              config._d = new Date(+matched[1]);
              return;
          }

          configFromISO(config);
          if (config._isValid === false) {
              delete config._isValid;
          } else {
              return;
          }

          configFromRFC2822(config);
          if (config._isValid === false) {
              delete config._isValid;
          } else {
              return;
          }

          if (config._strict) {
              config._isValid = false;
          } else {
              // Final attempt, use Input Fallback
              hooks.createFromInputFallback(config);
          }
      }

      hooks.createFromInputFallback = deprecate(
          'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
              'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
              'discouraged and will be removed in an upcoming major release. Please refer to ' +
              'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
          function (config) {
              config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
          }
      );

      // Pick the first defined of two or three arguments.
      function defaults(a, b, c) {
          if (a != null) {
              return a;
          }
          if (b != null) {
              return b;
          }
          return c;
      }

      function currentDateArray(config) {
          // hooks is actually the exported moment object
          var nowValue = new Date(hooks.now());
          if (config._useUTC) {
              return [
                  nowValue.getUTCFullYear(),
                  nowValue.getUTCMonth(),
                  nowValue.getUTCDate(),
              ];
          }
          return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
      }

      // convert an array to a date.
      // the array should mirror the parameters below
      // note: all values past the year are optional and will default to the lowest possible value.
      // [year, month, day , hour, minute, second, millisecond]
      function configFromArray(config) {
          var i,
              date,
              input = [],
              currentDate,
              expectedWeekday,
              yearToUse;

          if (config._d) {
              return;
          }

          currentDate = currentDateArray(config);

          //compute day of the year from weeks and weekdays
          if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
              dayOfYearFromWeekInfo(config);
          }

          //if the day of the year is set, figure out what it is
          if (config._dayOfYear != null) {
              yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

              if (
                  config._dayOfYear > daysInYear(yearToUse) ||
                  config._dayOfYear === 0
              ) {
                  getParsingFlags(config)._overflowDayOfYear = true;
              }

              date = createUTCDate(yearToUse, 0, config._dayOfYear);
              config._a[MONTH] = date.getUTCMonth();
              config._a[DATE] = date.getUTCDate();
          }

          // Default to current date.
          // * if no year, month, day of month are given, default to today
          // * if day of month is given, default month and year
          // * if month is given, default only year
          // * if year is given, don't default anything
          for (i = 0; i < 3 && config._a[i] == null; ++i) {
              config._a[i] = input[i] = currentDate[i];
          }

          // Zero out whatever was not defaulted, including time
          for (; i < 7; i++) {
              config._a[i] = input[i] =
                  config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];
          }

          // Check for 24:00:00.000
          if (
              config._a[HOUR] === 24 &&
              config._a[MINUTE] === 0 &&
              config._a[SECOND] === 0 &&
              config._a[MILLISECOND] === 0
          ) {
              config._nextDay = true;
              config._a[HOUR] = 0;
          }

          config._d = (config._useUTC ? createUTCDate : createDate).apply(
              null,
              input
          );
          expectedWeekday = config._useUTC
              ? config._d.getUTCDay()
              : config._d.getDay();

          // Apply timezone offset from input. The actual utcOffset can be changed
          // with parseZone.
          if (config._tzm != null) {
              config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
          }

          if (config._nextDay) {
              config._a[HOUR] = 24;
          }

          // check for mismatching day of week
          if (
              config._w &&
              typeof config._w.d !== 'undefined' &&
              config._w.d !== expectedWeekday
          ) {
              getParsingFlags(config).weekdayMismatch = true;
          }
      }

      function dayOfYearFromWeekInfo(config) {
          var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;

          w = config._w;
          if (w.GG != null || w.W != null || w.E != null) {
              dow = 1;
              doy = 4;

              // TODO: We need to take the current isoWeekYear, but that depends on
              // how we interpret now (local, utc, fixed offset). So create
              // a now version of current config (take local/utc/offset flags, and
              // create now).
              weekYear = defaults(
                  w.GG,
                  config._a[YEAR],
                  weekOfYear(createLocal(), 1, 4).year
              );
              week = defaults(w.W, 1);
              weekday = defaults(w.E, 1);
              if (weekday < 1 || weekday > 7) {
                  weekdayOverflow = true;
              }
          } else {
              dow = config._locale._week.dow;
              doy = config._locale._week.doy;

              curWeek = weekOfYear(createLocal(), dow, doy);

              weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

              // Default to current week.
              week = defaults(w.w, curWeek.week);

              if (w.d != null) {
                  // weekday -- low day numbers are considered next week
                  weekday = w.d;
                  if (weekday < 0 || weekday > 6) {
                      weekdayOverflow = true;
                  }
              } else if (w.e != null) {
                  // local weekday -- counting starts from beginning of week
                  weekday = w.e + dow;
                  if (w.e < 0 || w.e > 6) {
                      weekdayOverflow = true;
                  }
              } else {
                  // default to beginning of week
                  weekday = dow;
              }
          }
          if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
              getParsingFlags(config)._overflowWeeks = true;
          } else if (weekdayOverflow != null) {
              getParsingFlags(config)._overflowWeekday = true;
          } else {
              temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
              config._a[YEAR] = temp.year;
              config._dayOfYear = temp.dayOfYear;
          }
      }

      // constant that refers to the ISO standard
      hooks.ISO_8601 = function () {};

      // constant that refers to the RFC 2822 form
      hooks.RFC_2822 = function () {};

      // date from string and format string
      function configFromStringAndFormat(config) {
          // TODO: Move this to another part of the creation flow to prevent circular deps
          if (config._f === hooks.ISO_8601) {
              configFromISO(config);
              return;
          }
          if (config._f === hooks.RFC_2822) {
              configFromRFC2822(config);
              return;
          }
          config._a = [];
          getParsingFlags(config).empty = true;

          // This array is used to make a Date, either with `new Date` or `Date.UTC`
          var string = '' + config._i,
              i,
              parsedInput,
              tokens,
              token,
              skipped,
              stringLength = string.length,
              totalParsedInputLength = 0,
              era;

          tokens =
              expandFormat(config._f, config._locale).match(formattingTokens) || [];

          for (i = 0; i < tokens.length; i++) {
              token = tokens[i];
              parsedInput = (string.match(getParseRegexForToken(token, config)) ||
                  [])[0];
              if (parsedInput) {
                  skipped = string.substr(0, string.indexOf(parsedInput));
                  if (skipped.length > 0) {
                      getParsingFlags(config).unusedInput.push(skipped);
                  }
                  string = string.slice(
                      string.indexOf(parsedInput) + parsedInput.length
                  );
                  totalParsedInputLength += parsedInput.length;
              }
              // don't parse if it's not a known token
              if (formatTokenFunctions[token]) {
                  if (parsedInput) {
                      getParsingFlags(config).empty = false;
                  } else {
                      getParsingFlags(config).unusedTokens.push(token);
                  }
                  addTimeToArrayFromToken(token, parsedInput, config);
              } else if (config._strict && !parsedInput) {
                  getParsingFlags(config).unusedTokens.push(token);
              }
          }

          // add remaining unparsed input length to the string
          getParsingFlags(config).charsLeftOver =
              stringLength - totalParsedInputLength;
          if (string.length > 0) {
              getParsingFlags(config).unusedInput.push(string);
          }

          // clear _12h flag if hour is <= 12
          if (
              config._a[HOUR] <= 12 &&
              getParsingFlags(config).bigHour === true &&
              config._a[HOUR] > 0
          ) {
              getParsingFlags(config).bigHour = undefined;
          }

          getParsingFlags(config).parsedDateParts = config._a.slice(0);
          getParsingFlags(config).meridiem = config._meridiem;
          // handle meridiem
          config._a[HOUR] = meridiemFixWrap(
              config._locale,
              config._a[HOUR],
              config._meridiem
          );

          // handle era
          era = getParsingFlags(config).era;
          if (era !== null) {
              config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);
          }

          configFromArray(config);
          checkOverflow(config);
      }

      function meridiemFixWrap(locale, hour, meridiem) {
          var isPm;

          if (meridiem == null) {
              // nothing to do
              return hour;
          }
          if (locale.meridiemHour != null) {
              return locale.meridiemHour(hour, meridiem);
          } else if (locale.isPM != null) {
              // Fallback
              isPm = locale.isPM(meridiem);
              if (isPm && hour < 12) {
                  hour += 12;
              }
              if (!isPm && hour === 12) {
                  hour = 0;
              }
              return hour;
          } else {
              // this is not supposed to happen
              return hour;
          }
      }

      // date from string and array of format strings
      function configFromStringAndArray(config) {
          var tempConfig,
              bestMoment,
              scoreToBeat,
              i,
              currentScore,
              validFormatFound,
              bestFormatIsValid = false;

          if (config._f.length === 0) {
              getParsingFlags(config).invalidFormat = true;
              config._d = new Date(NaN);
              return;
          }

          for (i = 0; i < config._f.length; i++) {
              currentScore = 0;
              validFormatFound = false;
              tempConfig = copyConfig({}, config);
              if (config._useUTC != null) {
                  tempConfig._useUTC = config._useUTC;
              }
              tempConfig._f = config._f[i];
              configFromStringAndFormat(tempConfig);

              if (isValid(tempConfig)) {
                  validFormatFound = true;
              }

              // if there is any input that was not parsed add a penalty for that format
              currentScore += getParsingFlags(tempConfig).charsLeftOver;

              //or tokens
              currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

              getParsingFlags(tempConfig).score = currentScore;

              if (!bestFormatIsValid) {
                  if (
                      scoreToBeat == null ||
                      currentScore < scoreToBeat ||
                      validFormatFound
                  ) {
                      scoreToBeat = currentScore;
                      bestMoment = tempConfig;
                      if (validFormatFound) {
                          bestFormatIsValid = true;
                      }
                  }
              } else {
                  if (currentScore < scoreToBeat) {
                      scoreToBeat = currentScore;
                      bestMoment = tempConfig;
                  }
              }
          }

          extend(config, bestMoment || tempConfig);
      }

      function configFromObject(config) {
          if (config._d) {
              return;
          }

          var i = normalizeObjectUnits(config._i),
              dayOrDate = i.day === undefined ? i.date : i.day;
          config._a = map(
              [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],
              function (obj) {
                  return obj && parseInt(obj, 10);
              }
          );

          configFromArray(config);
      }

      function createFromConfig(config) {
          var res = new Moment(checkOverflow(prepareConfig(config)));
          if (res._nextDay) {
              // Adding is smart enough around DST
              res.add(1, 'd');
              res._nextDay = undefined;
          }

          return res;
      }

      function prepareConfig(config) {
          var input = config._i,
              format = config._f;

          config._locale = config._locale || getLocale(config._l);

          if (input === null || (format === undefined && input === '')) {
              return createInvalid({ nullInput: true });
          }

          if (typeof input === 'string') {
              config._i = input = config._locale.preparse(input);
          }

          if (isMoment(input)) {
              return new Moment(checkOverflow(input));
          } else if (isDate(input)) {
              config._d = input;
          } else if (isArray(format)) {
              configFromStringAndArray(config);
          } else if (format) {
              configFromStringAndFormat(config);
          } else {
              configFromInput(config);
          }

          if (!isValid(config)) {
              config._d = null;
          }

          return config;
      }

      function configFromInput(config) {
          var input = config._i;
          if (isUndefined(input)) {
              config._d = new Date(hooks.now());
          } else if (isDate(input)) {
              config._d = new Date(input.valueOf());
          } else if (typeof input === 'string') {
              configFromString(config);
          } else if (isArray(input)) {
              config._a = map(input.slice(0), function (obj) {
                  return parseInt(obj, 10);
              });
              configFromArray(config);
          } else if (isObject(input)) {
              configFromObject(config);
          } else if (isNumber(input)) {
              // from milliseconds
              config._d = new Date(input);
          } else {
              hooks.createFromInputFallback(config);
          }
      }

      function createLocalOrUTC(input, format, locale, strict, isUTC) {
          var c = {};

          if (format === true || format === false) {
              strict = format;
              format = undefined;
          }

          if (locale === true || locale === false) {
              strict = locale;
              locale = undefined;
          }

          if (
              (isObject(input) && isObjectEmpty(input)) ||
              (isArray(input) && input.length === 0)
          ) {
              input = undefined;
          }
          // object construction must be done this way.
          // https://github.com/moment/moment/issues/1423
          c._isAMomentObject = true;
          c._useUTC = c._isUTC = isUTC;
          c._l = locale;
          c._i = input;
          c._f = format;
          c._strict = strict;

          return createFromConfig(c);
      }

      function createLocal(input, format, locale, strict) {
          return createLocalOrUTC(input, format, locale, strict, false);
      }

      var prototypeMin = deprecate(
              'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
              function () {
                  var other = createLocal.apply(null, arguments);
                  if (this.isValid() && other.isValid()) {
                      return other < this ? this : other;
                  } else {
                      return createInvalid();
                  }
              }
          ),
          prototypeMax = deprecate(
              'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
              function () {
                  var other = createLocal.apply(null, arguments);
                  if (this.isValid() && other.isValid()) {
                      return other > this ? this : other;
                  } else {
                      return createInvalid();
                  }
              }
          );

      // Pick a moment m from moments so that m[fn](other) is true for all
      // other. This relies on the function fn to be transitive.
      //
      // moments should either be an array of moment objects or an array, whose
      // first element is an array of moment objects.
      function pickBy(fn, moments) {
          var res, i;
          if (moments.length === 1 && isArray(moments[0])) {
              moments = moments[0];
          }
          if (!moments.length) {
              return createLocal();
          }
          res = moments[0];
          for (i = 1; i < moments.length; ++i) {
              if (!moments[i].isValid() || moments[i][fn](res)) {
                  res = moments[i];
              }
          }
          return res;
      }

      // TODO: Use [].sort instead?
      function min() {
          var args = [].slice.call(arguments, 0);

          return pickBy('isBefore', args);
      }

      function max() {
          var args = [].slice.call(arguments, 0);

          return pickBy('isAfter', args);
      }

      var now = function () {
          return Date.now ? Date.now() : +new Date();
      };

      var ordering = [
          'year',
          'quarter',
          'month',
          'week',
          'day',
          'hour',
          'minute',
          'second',
          'millisecond',
      ];

      function isDurationValid(m) {
          var key,
              unitHasDecimal = false,
              i;
          for (key in m) {
              if (
                  hasOwnProp(m, key) &&
                  !(
                      indexOf.call(ordering, key) !== -1 &&
                      (m[key] == null || !isNaN(m[key]))
                  )
              ) {
                  return false;
              }
          }

          for (i = 0; i < ordering.length; ++i) {
              if (m[ordering[i]]) {
                  if (unitHasDecimal) {
                      return false; // only allow non-integers for smallest unit
                  }
                  if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                      unitHasDecimal = true;
                  }
              }
          }

          return true;
      }

      function isValid$1() {
          return this._isValid;
      }

      function createInvalid$1() {
          return createDuration(NaN);
      }

      function Duration(duration) {
          var normalizedInput = normalizeObjectUnits(duration),
              years = normalizedInput.year || 0,
              quarters = normalizedInput.quarter || 0,
              months = normalizedInput.month || 0,
              weeks = normalizedInput.week || normalizedInput.isoWeek || 0,
              days = normalizedInput.day || 0,
              hours = normalizedInput.hour || 0,
              minutes = normalizedInput.minute || 0,
              seconds = normalizedInput.second || 0,
              milliseconds = normalizedInput.millisecond || 0;

          this._isValid = isDurationValid(normalizedInput);

          // representation for dateAddRemove
          this._milliseconds =
              +milliseconds +
              seconds * 1e3 + // 1000
              minutes * 6e4 + // 1000 * 60
              hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
          // Because of dateAddRemove treats 24 hours as different from a
          // day when working around DST, we need to store them separately
          this._days = +days + weeks * 7;
          // It is impossible to translate months into days without knowing
          // which months you are are talking about, so we have to store
          // it separately.
          this._months = +months + quarters * 3 + years * 12;

          this._data = {};

          this._locale = getLocale();

          this._bubble();
      }

      function isDuration(obj) {
          return obj instanceof Duration;
      }

      function absRound(number) {
          if (number < 0) {
              return Math.round(-1 * number) * -1;
          } else {
              return Math.round(number);
          }
      }

      // compare two arrays, return the number of differences
      function compareArrays(array1, array2, dontConvert) {
          var len = Math.min(array1.length, array2.length),
              lengthDiff = Math.abs(array1.length - array2.length),
              diffs = 0,
              i;
          for (i = 0; i < len; i++) {
              if (
                  (dontConvert && array1[i] !== array2[i]) ||
                  (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))
              ) {
                  diffs++;
              }
          }
          return diffs + lengthDiff;
      }

      // FORMATTING

      function offset(token, separator) {
          addFormatToken(token, 0, 0, function () {
              var offset = this.utcOffset(),
                  sign = '+';
              if (offset < 0) {
                  offset = -offset;
                  sign = '-';
              }
              return (
                  sign +
                  zeroFill(~~(offset / 60), 2) +
                  separator +
                  zeroFill(~~offset % 60, 2)
              );
          });
      }

      offset('Z', ':');
      offset('ZZ', '');

      // PARSING

      addRegexToken('Z', matchShortOffset);
      addRegexToken('ZZ', matchShortOffset);
      addParseToken(['Z', 'ZZ'], function (input, array, config) {
          config._useUTC = true;
          config._tzm = offsetFromString(matchShortOffset, input);
      });

      // HELPERS

      // timezone chunker
      // '+10:00' > ['10',  '00']
      // '-1530'  > ['-15', '30']
      var chunkOffset = /([\+\-]|\d\d)/gi;

      function offsetFromString(matcher, string) {
          var matches = (string || '').match(matcher),
              chunk,
              parts,
              minutes;

          if (matches === null) {
              return null;
          }

          chunk = matches[matches.length - 1] || [];
          parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];
          minutes = +(parts[1] * 60) + toInt(parts[2]);

          return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;
      }

      // Return a moment from input, that is local/utc/zone equivalent to model.
      function cloneWithOffset(input, model) {
          var res, diff;
          if (model._isUTC) {
              res = model.clone();
              diff =
                  (isMoment(input) || isDate(input)
                      ? input.valueOf()
                      : createLocal(input).valueOf()) - res.valueOf();
              // Use low-level api, because this fn is low-level api.
              res._d.setTime(res._d.valueOf() + diff);
              hooks.updateOffset(res, false);
              return res;
          } else {
              return createLocal(input).local();
          }
      }

      function getDateOffset(m) {
          // On Firefox.24 Date#getTimezoneOffset returns a floating point.
          // https://github.com/moment/moment/pull/1871
          return -Math.round(m._d.getTimezoneOffset());
      }

      // HOOKS

      // This function will be called whenever a moment is mutated.
      // It is intended to keep the offset in sync with the timezone.
      hooks.updateOffset = function () {};

      // MOMENTS

      // keepLocalTime = true means only change the timezone, without
      // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
      // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
      // +0200, so we adjust the time as needed, to be valid.
      //
      // Keeping the time actually adds/subtracts (one hour)
      // from the actual represented time. That is why we call updateOffset
      // a second time. In case it wants us to change the offset again
      // _changeInProgress == true case, then we have to adjust, because
      // there is no such time in the given timezone.
      function getSetOffset(input, keepLocalTime, keepMinutes) {
          var offset = this._offset || 0,
              localAdjust;
          if (!this.isValid()) {
              return input != null ? this : NaN;
          }
          if (input != null) {
              if (typeof input === 'string') {
                  input = offsetFromString(matchShortOffset, input);
                  if (input === null) {
                      return this;
                  }
              } else if (Math.abs(input) < 16 && !keepMinutes) {
                  input = input * 60;
              }
              if (!this._isUTC && keepLocalTime) {
                  localAdjust = getDateOffset(this);
              }
              this._offset = input;
              this._isUTC = true;
              if (localAdjust != null) {
                  this.add(localAdjust, 'm');
              }
              if (offset !== input) {
                  if (!keepLocalTime || this._changeInProgress) {
                      addSubtract(
                          this,
                          createDuration(input - offset, 'm'),
                          1,
                          false
                      );
                  } else if (!this._changeInProgress) {
                      this._changeInProgress = true;
                      hooks.updateOffset(this, true);
                      this._changeInProgress = null;
                  }
              }
              return this;
          } else {
              return this._isUTC ? offset : getDateOffset(this);
          }
      }

      function getSetZone(input, keepLocalTime) {
          if (input != null) {
              if (typeof input !== 'string') {
                  input = -input;
              }

              this.utcOffset(input, keepLocalTime);

              return this;
          } else {
              return -this.utcOffset();
          }
      }

      function setOffsetToUTC(keepLocalTime) {
          return this.utcOffset(0, keepLocalTime);
      }

      function setOffsetToLocal(keepLocalTime) {
          if (this._isUTC) {
              this.utcOffset(0, keepLocalTime);
              this._isUTC = false;

              if (keepLocalTime) {
                  this.subtract(getDateOffset(this), 'm');
              }
          }
          return this;
      }

      function setOffsetToParsedOffset() {
          if (this._tzm != null) {
              this.utcOffset(this._tzm, false, true);
          } else if (typeof this._i === 'string') {
              var tZone = offsetFromString(matchOffset, this._i);
              if (tZone != null) {
                  this.utcOffset(tZone);
              } else {
                  this.utcOffset(0, true);
              }
          }
          return this;
      }

      function hasAlignedHourOffset(input) {
          if (!this.isValid()) {
              return false;
          }
          input = input ? createLocal(input).utcOffset() : 0;

          return (this.utcOffset() - input) % 60 === 0;
      }

      function isDaylightSavingTime() {
          return (
              this.utcOffset() > this.clone().month(0).utcOffset() ||
              this.utcOffset() > this.clone().month(5).utcOffset()
          );
      }

      function isDaylightSavingTimeShifted() {
          if (!isUndefined(this._isDSTShifted)) {
              return this._isDSTShifted;
          }

          var c = {},
              other;

          copyConfig(c, this);
          c = prepareConfig(c);

          if (c._a) {
              other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
              this._isDSTShifted =
                  this.isValid() && compareArrays(c._a, other.toArray()) > 0;
          } else {
              this._isDSTShifted = false;
          }

          return this._isDSTShifted;
      }

      function isLocal() {
          return this.isValid() ? !this._isUTC : false;
      }

      function isUtcOffset() {
          return this.isValid() ? this._isUTC : false;
      }

      function isUtc() {
          return this.isValid() ? this._isUTC && this._offset === 0 : false;
      }

      // ASP.NET json date format regex
      var aspNetRegex = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,
          // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
          // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
          // and further modified to allow for strings containing both week and day
          isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

      function createDuration(input, key) {
          var duration = input,
              // matching against regexp is expensive, do it on demand
              match = null,
              sign,
              ret,
              diffRes;

          if (isDuration(input)) {
              duration = {
                  ms: input._milliseconds,
                  d: input._days,
                  M: input._months,
              };
          } else if (isNumber(input) || !isNaN(+input)) {
              duration = {};
              if (key) {
                  duration[key] = +input;
              } else {
                  duration.milliseconds = +input;
              }
          } else if ((match = aspNetRegex.exec(input))) {
              sign = match[1] === '-' ? -1 : 1;
              duration = {
                  y: 0,
                  d: toInt(match[DATE]) * sign,
                  h: toInt(match[HOUR]) * sign,
                  m: toInt(match[MINUTE]) * sign,
                  s: toInt(match[SECOND]) * sign,
                  ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match
              };
          } else if ((match = isoRegex.exec(input))) {
              sign = match[1] === '-' ? -1 : 1;
              duration = {
                  y: parseIso(match[2], sign),
                  M: parseIso(match[3], sign),
                  w: parseIso(match[4], sign),
                  d: parseIso(match[5], sign),
                  h: parseIso(match[6], sign),
                  m: parseIso(match[7], sign),
                  s: parseIso(match[8], sign),
              };
          } else if (duration == null) {
              // checks for null or undefined
              duration = {};
          } else if (
              typeof duration === 'object' &&
              ('from' in duration || 'to' in duration)
          ) {
              diffRes = momentsDifference(
                  createLocal(duration.from),
                  createLocal(duration.to)
              );

              duration = {};
              duration.ms = diffRes.milliseconds;
              duration.M = diffRes.months;
          }

          ret = new Duration(duration);

          if (isDuration(input) && hasOwnProp(input, '_locale')) {
              ret._locale = input._locale;
          }

          if (isDuration(input) && hasOwnProp(input, '_isValid')) {
              ret._isValid = input._isValid;
          }

          return ret;
      }

      createDuration.fn = Duration.prototype;
      createDuration.invalid = createInvalid$1;

      function parseIso(inp, sign) {
          // We'd normally use ~~inp for this, but unfortunately it also
          // converts floats to ints.
          // inp may be undefined, so careful calling replace on it.
          var res = inp && parseFloat(inp.replace(',', '.'));
          // apply sign while we're at it
          return (isNaN(res) ? 0 : res) * sign;
      }

      function positiveMomentsDifference(base, other) {
          var res = {};

          res.months =
              other.month() - base.month() + (other.year() - base.year()) * 12;
          if (base.clone().add(res.months, 'M').isAfter(other)) {
              --res.months;
          }

          res.milliseconds = +other - +base.clone().add(res.months, 'M');

          return res;
      }

      function momentsDifference(base, other) {
          var res;
          if (!(base.isValid() && other.isValid())) {
              return { milliseconds: 0, months: 0 };
          }

          other = cloneWithOffset(other, base);
          if (base.isBefore(other)) {
              res = positiveMomentsDifference(base, other);
          } else {
              res = positiveMomentsDifference(other, base);
              res.milliseconds = -res.milliseconds;
              res.months = -res.months;
          }

          return res;
      }

      // TODO: remove 'name' arg after deprecation is removed
      function createAdder(direction, name) {
          return function (val, period) {
              var dur, tmp;
              //invert the arguments, but complain about it
              if (period !== null && !isNaN(+period)) {
                  deprecateSimple(
                      name,
                      'moment().' +
                          name +
                          '(period, number) is deprecated. Please use moment().' +
                          name +
                          '(number, period). ' +
                          'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'
                  );
                  tmp = val;
                  val = period;
                  period = tmp;
              }

              dur = createDuration(val, period);
              addSubtract(this, dur, direction);
              return this;
          };
      }

      function addSubtract(mom, duration, isAdding, updateOffset) {
          var milliseconds = duration._milliseconds,
              days = absRound(duration._days),
              months = absRound(duration._months);

          if (!mom.isValid()) {
              // No op
              return;
          }

          updateOffset = updateOffset == null ? true : updateOffset;

          if (months) {
              setMonth(mom, get(mom, 'Month') + months * isAdding);
          }
          if (days) {
              set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
          }
          if (milliseconds) {
              mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
          }
          if (updateOffset) {
              hooks.updateOffset(mom, days || months);
          }
      }

      var add = createAdder(1, 'add'),
          subtract = createAdder(-1, 'subtract');

      function isString(input) {
          return typeof input === 'string' || input instanceof String;
      }

      // type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined
      function isMomentInput(input) {
          return (
              isMoment(input) ||
              isDate(input) ||
              isString(input) ||
              isNumber(input) ||
              isNumberOrStringArray(input) ||
              isMomentInputObject(input) ||
              input === null ||
              input === undefined
          );
      }

      function isMomentInputObject(input) {
          var objectTest = isObject(input) && !isObjectEmpty(input),
              propertyTest = false,
              properties = [
                  'years',
                  'year',
                  'y',
                  'months',
                  'month',
                  'M',
                  'days',
                  'day',
                  'd',
                  'dates',
                  'date',
                  'D',
                  'hours',
                  'hour',
                  'h',
                  'minutes',
                  'minute',
                  'm',
                  'seconds',
                  'second',
                  's',
                  'milliseconds',
                  'millisecond',
                  'ms',
              ],
              i,
              property;

          for (i = 0; i < properties.length; i += 1) {
              property = properties[i];
              propertyTest = propertyTest || hasOwnProp(input, property);
          }

          return objectTest && propertyTest;
      }

      function isNumberOrStringArray(input) {
          var arrayTest = isArray(input),
              dataTypeTest = false;
          if (arrayTest) {
              dataTypeTest =
                  input.filter(function (item) {
                      return !isNumber(item) && isString(input);
                  }).length === 0;
          }
          return arrayTest && dataTypeTest;
      }

      function isCalendarSpec(input) {
          var objectTest = isObject(input) && !isObjectEmpty(input),
              propertyTest = false,
              properties = [
                  'sameDay',
                  'nextDay',
                  'lastDay',
                  'nextWeek',
                  'lastWeek',
                  'sameElse',
              ],
              i,
              property;

          for (i = 0; i < properties.length; i += 1) {
              property = properties[i];
              propertyTest = propertyTest || hasOwnProp(input, property);
          }

          return objectTest && propertyTest;
      }

      function getCalendarFormat(myMoment, now) {
          var diff = myMoment.diff(now, 'days', true);
          return diff < -6
              ? 'sameElse'
              : diff < -1
              ? 'lastWeek'
              : diff < 0
              ? 'lastDay'
              : diff < 1
              ? 'sameDay'
              : diff < 2
              ? 'nextDay'
              : diff < 7
              ? 'nextWeek'
              : 'sameElse';
      }

      function calendar$1(time, formats) {
          // Support for single parameter, formats only overload to the calendar function
          if (arguments.length === 1) {
              if (isMomentInput(arguments[0])) {
                  time = arguments[0];
                  formats = undefined;
              } else if (isCalendarSpec(arguments[0])) {
                  formats = arguments[0];
                  time = undefined;
              }
          }
          // We want to compare the start of today, vs this.
          // Getting start-of-today depends on whether we're local/utc/offset or not.
          var now = time || createLocal(),
              sod = cloneWithOffset(now, this).startOf('day'),
              format = hooks.calendarFormat(this, sod) || 'sameElse',
              output =
                  formats &&
                  (isFunction(formats[format])
                      ? formats[format].call(this, now)
                      : formats[format]);

          return this.format(
              output || this.localeData().calendar(format, this, createLocal(now))
          );
      }

      function clone() {
          return new Moment(this);
      }

      function isAfter(input, units) {
          var localInput = isMoment(input) ? input : createLocal(input);
          if (!(this.isValid() && localInput.isValid())) {
              return false;
          }
          units = normalizeUnits(units) || 'millisecond';
          if (units === 'millisecond') {
              return this.valueOf() > localInput.valueOf();
          } else {
              return localInput.valueOf() < this.clone().startOf(units).valueOf();
          }
      }

      function isBefore(input, units) {
          var localInput = isMoment(input) ? input : createLocal(input);
          if (!(this.isValid() && localInput.isValid())) {
              return false;
          }
          units = normalizeUnits(units) || 'millisecond';
          if (units === 'millisecond') {
              return this.valueOf() < localInput.valueOf();
          } else {
              return this.clone().endOf(units).valueOf() < localInput.valueOf();
          }
      }

      function isBetween(from, to, units, inclusivity) {
          var localFrom = isMoment(from) ? from : createLocal(from),
              localTo = isMoment(to) ? to : createLocal(to);
          if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
              return false;
          }
          inclusivity = inclusivity || '()';
          return (
              (inclusivity[0] === '('
                  ? this.isAfter(localFrom, units)
                  : !this.isBefore(localFrom, units)) &&
              (inclusivity[1] === ')'
                  ? this.isBefore(localTo, units)
                  : !this.isAfter(localTo, units))
          );
      }

      function isSame(input, units) {
          var localInput = isMoment(input) ? input : createLocal(input),
              inputMs;
          if (!(this.isValid() && localInput.isValid())) {
              return false;
          }
          units = normalizeUnits(units) || 'millisecond';
          if (units === 'millisecond') {
              return this.valueOf() === localInput.valueOf();
          } else {
              inputMs = localInput.valueOf();
              return (
                  this.clone().startOf(units).valueOf() <= inputMs &&
                  inputMs <= this.clone().endOf(units).valueOf()
              );
          }
      }

      function isSameOrAfter(input, units) {
          return this.isSame(input, units) || this.isAfter(input, units);
      }

      function isSameOrBefore(input, units) {
          return this.isSame(input, units) || this.isBefore(input, units);
      }

      function diff(input, units, asFloat) {
          var that, zoneDelta, output;

          if (!this.isValid()) {
              return NaN;
          }

          that = cloneWithOffset(input, this);

          if (!that.isValid()) {
              return NaN;
          }

          zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

          units = normalizeUnits(units);

          switch (units) {
              case 'year':
                  output = monthDiff(this, that) / 12;
                  break;
              case 'month':
                  output = monthDiff(this, that);
                  break;
              case 'quarter':
                  output = monthDiff(this, that) / 3;
                  break;
              case 'second':
                  output = (this - that) / 1e3;
                  break; // 1000
              case 'minute':
                  output = (this - that) / 6e4;
                  break; // 1000 * 60
              case 'hour':
                  output = (this - that) / 36e5;
                  break; // 1000 * 60 * 60
              case 'day':
                  output = (this - that - zoneDelta) / 864e5;
                  break; // 1000 * 60 * 60 * 24, negate dst
              case 'week':
                  output = (this - that - zoneDelta) / 6048e5;
                  break; // 1000 * 60 * 60 * 24 * 7, negate dst
              default:
                  output = this - that;
          }

          return asFloat ? output : absFloor(output);
      }

      function monthDiff(a, b) {
          if (a.date() < b.date()) {
              // end-of-month calculations work correct when the start month has more
              // days than the end month.
              return -monthDiff(b, a);
          }
          // difference in months
          var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),
              // b is in (anchor - 1 month, anchor + 1 month)
              anchor = a.clone().add(wholeMonthDiff, 'months'),
              anchor2,
              adjust;

          if (b - anchor < 0) {
              anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
              // linear across the month
              adjust = (b - anchor) / (anchor - anchor2);
          } else {
              anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
              // linear across the month
              adjust = (b - anchor) / (anchor2 - anchor);
          }

          //check for negative zero, return zero if negative zero
          return -(wholeMonthDiff + adjust) || 0;
      }

      hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
      hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

      function toString() {
          return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
      }

      function toISOString(keepOffset) {
          if (!this.isValid()) {
              return null;
          }
          var utc = keepOffset !== true,
              m = utc ? this.clone().utc() : this;
          if (m.year() < 0 || m.year() > 9999) {
              return formatMoment(
                  m,
                  utc
                      ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'
                      : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'
              );
          }
          if (isFunction(Date.prototype.toISOString)) {
              // native implementation is ~50x faster, use it when we can
              if (utc) {
                  return this.toDate().toISOString();
              } else {
                  return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)
                      .toISOString()
                      .replace('Z', formatMoment(m, 'Z'));
              }
          }
          return formatMoment(
              m,
              utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'
          );
      }

      /**
       * Return a human readable representation of a moment that can
       * also be evaluated to get a new moment which is the same
       *
       * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
       */
      function inspect() {
          if (!this.isValid()) {
              return 'moment.invalid(/* ' + this._i + ' */)';
          }
          var func = 'moment',
              zone = '',
              prefix,
              year,
              datetime,
              suffix;
          if (!this.isLocal()) {
              func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
              zone = 'Z';
          }
          prefix = '[' + func + '("]';
          year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';
          datetime = '-MM-DD[T]HH:mm:ss.SSS';
          suffix = zone + '[")]';

          return this.format(prefix + year + datetime + suffix);
      }

      function format(inputString) {
          if (!inputString) {
              inputString = this.isUtc()
                  ? hooks.defaultFormatUtc
                  : hooks.defaultFormat;
          }
          var output = formatMoment(this, inputString);
          return this.localeData().postformat(output);
      }

      function from(time, withoutSuffix) {
          if (
              this.isValid() &&
              ((isMoment(time) && time.isValid()) || createLocal(time).isValid())
          ) {
              return createDuration({ to: this, from: time })
                  .locale(this.locale())
                  .humanize(!withoutSuffix);
          } else {
              return this.localeData().invalidDate();
          }
      }

      function fromNow(withoutSuffix) {
          return this.from(createLocal(), withoutSuffix);
      }

      function to(time, withoutSuffix) {
          if (
              this.isValid() &&
              ((isMoment(time) && time.isValid()) || createLocal(time).isValid())
          ) {
              return createDuration({ from: this, to: time })
                  .locale(this.locale())
                  .humanize(!withoutSuffix);
          } else {
              return this.localeData().invalidDate();
          }
      }

      function toNow(withoutSuffix) {
          return this.to(createLocal(), withoutSuffix);
      }

      // If passed a locale key, it will set the locale for this
      // instance.  Otherwise, it will return the locale configuration
      // variables for this instance.
      function locale(key) {
          var newLocaleData;

          if (key === undefined) {
              return this._locale._abbr;
          } else {
              newLocaleData = getLocale(key);
              if (newLocaleData != null) {
                  this._locale = newLocaleData;
              }
              return this;
          }
      }

      var lang = deprecate(
          'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
          function (key) {
              if (key === undefined) {
                  return this.localeData();
              } else {
                  return this.locale(key);
              }
          }
      );

      function localeData() {
          return this._locale;
      }

      var MS_PER_SECOND = 1000,
          MS_PER_MINUTE = 60 * MS_PER_SECOND,
          MS_PER_HOUR = 60 * MS_PER_MINUTE,
          MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;

      // actual modulo - handles negative numbers (for dates before 1970):
      function mod$1(dividend, divisor) {
          return ((dividend % divisor) + divisor) % divisor;
      }

      function localStartOfDate(y, m, d) {
          // the date constructor remaps years 0-99 to 1900-1999
          if (y < 100 && y >= 0) {
              // preserve leap years using a full 400 year cycle, then reset
              return new Date(y + 400, m, d) - MS_PER_400_YEARS;
          } else {
              return new Date(y, m, d).valueOf();
          }
      }

      function utcStartOfDate(y, m, d) {
          // Date.UTC remaps years 0-99 to 1900-1999
          if (y < 100 && y >= 0) {
              // preserve leap years using a full 400 year cycle, then reset
              return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
          } else {
              return Date.UTC(y, m, d);
          }
      }

      function startOf(units) {
          var time, startOfDate;
          units = normalizeUnits(units);
          if (units === undefined || units === 'millisecond' || !this.isValid()) {
              return this;
          }

          startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

          switch (units) {
              case 'year':
                  time = startOfDate(this.year(), 0, 1);
                  break;
              case 'quarter':
                  time = startOfDate(
                      this.year(),
                      this.month() - (this.month() % 3),
                      1
                  );
                  break;
              case 'month':
                  time = startOfDate(this.year(), this.month(), 1);
                  break;
              case 'week':
                  time = startOfDate(
                      this.year(),
                      this.month(),
                      this.date() - this.weekday()
                  );
                  break;
              case 'isoWeek':
                  time = startOfDate(
                      this.year(),
                      this.month(),
                      this.date() - (this.isoWeekday() - 1)
                  );
                  break;
              case 'day':
              case 'date':
                  time = startOfDate(this.year(), this.month(), this.date());
                  break;
              case 'hour':
                  time = this._d.valueOf();
                  time -= mod$1(
                      time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),
                      MS_PER_HOUR
                  );
                  break;
              case 'minute':
                  time = this._d.valueOf();
                  time -= mod$1(time, MS_PER_MINUTE);
                  break;
              case 'second':
                  time = this._d.valueOf();
                  time -= mod$1(time, MS_PER_SECOND);
                  break;
          }

          this._d.setTime(time);
          hooks.updateOffset(this, true);
          return this;
      }

      function endOf(units) {
          var time, startOfDate;
          units = normalizeUnits(units);
          if (units === undefined || units === 'millisecond' || !this.isValid()) {
              return this;
          }

          startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

          switch (units) {
              case 'year':
                  time = startOfDate(this.year() + 1, 0, 1) - 1;
                  break;
              case 'quarter':
                  time =
                      startOfDate(
                          this.year(),
                          this.month() - (this.month() % 3) + 3,
                          1
                      ) - 1;
                  break;
              case 'month':
                  time = startOfDate(this.year(), this.month() + 1, 1) - 1;
                  break;
              case 'week':
                  time =
                      startOfDate(
                          this.year(),
                          this.month(),
                          this.date() - this.weekday() + 7
                      ) - 1;
                  break;
              case 'isoWeek':
                  time =
                      startOfDate(
                          this.year(),
                          this.month(),
                          this.date() - (this.isoWeekday() - 1) + 7
                      ) - 1;
                  break;
              case 'day':
              case 'date':
                  time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
                  break;
              case 'hour':
                  time = this._d.valueOf();
                  time +=
                      MS_PER_HOUR -
                      mod$1(
                          time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),
                          MS_PER_HOUR
                      ) -
                      1;
                  break;
              case 'minute':
                  time = this._d.valueOf();
                  time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
                  break;
              case 'second':
                  time = this._d.valueOf();
                  time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
                  break;
          }

          this._d.setTime(time);
          hooks.updateOffset(this, true);
          return this;
      }

      function valueOf() {
          return this._d.valueOf() - (this._offset || 0) * 60000;
      }

      function unix() {
          return Math.floor(this.valueOf() / 1000);
      }

      function toDate() {
          return new Date(this.valueOf());
      }

      function toArray() {
          var m = this;
          return [
              m.year(),
              m.month(),
              m.date(),
              m.hour(),
              m.minute(),
              m.second(),
              m.millisecond(),
          ];
      }

      function toObject() {
          var m = this;
          return {
              years: m.year(),
              months: m.month(),
              date: m.date(),
              hours: m.hours(),
              minutes: m.minutes(),
              seconds: m.seconds(),
              milliseconds: m.milliseconds(),
          };
      }

      function toJSON() {
          // new Date(NaN).toJSON() === null
          return this.isValid() ? this.toISOString() : null;
      }

      function isValid$2() {
          return isValid(this);
      }

      function parsingFlags() {
          return extend({}, getParsingFlags(this));
      }

      function invalidAt() {
          return getParsingFlags(this).overflow;
      }

      function creationData() {
          return {
              input: this._i,
              format: this._f,
              locale: this._locale,
              isUTC: this._isUTC,
              strict: this._strict,
          };
      }

      addFormatToken('N', 0, 0, 'eraAbbr');
      addFormatToken('NN', 0, 0, 'eraAbbr');
      addFormatToken('NNN', 0, 0, 'eraAbbr');
      addFormatToken('NNNN', 0, 0, 'eraName');
      addFormatToken('NNNNN', 0, 0, 'eraNarrow');

      addFormatToken('y', ['y', 1], 'yo', 'eraYear');
      addFormatToken('y', ['yy', 2], 0, 'eraYear');
      addFormatToken('y', ['yyy', 3], 0, 'eraYear');
      addFormatToken('y', ['yyyy', 4], 0, 'eraYear');

      addRegexToken('N', matchEraAbbr);
      addRegexToken('NN', matchEraAbbr);
      addRegexToken('NNN', matchEraAbbr);
      addRegexToken('NNNN', matchEraName);
      addRegexToken('NNNNN', matchEraNarrow);

      addParseToken(['N', 'NN', 'NNN', 'NNNN', 'NNNNN'], function (
          input,
          array,
          config,
          token
      ) {
          var era = config._locale.erasParse(input, token, config._strict);
          if (era) {
              getParsingFlags(config).era = era;
          } else {
              getParsingFlags(config).invalidEra = input;
          }
      });

      addRegexToken('y', matchUnsigned);
      addRegexToken('yy', matchUnsigned);
      addRegexToken('yyy', matchUnsigned);
      addRegexToken('yyyy', matchUnsigned);
      addRegexToken('yo', matchEraYearOrdinal);

      addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);
      addParseToken(['yo'], function (input, array, config, token) {
          var match;
          if (config._locale._eraYearOrdinalRegex) {
              match = input.match(config._locale._eraYearOrdinalRegex);
          }

          if (config._locale.eraYearOrdinalParse) {
              array[YEAR] = config._locale.eraYearOrdinalParse(input, match);
          } else {
              array[YEAR] = parseInt(input, 10);
          }
      });

      function localeEras(m, format) {
          var i,
              l,
              date,
              eras = this._eras || getLocale('en')._eras;
          for (i = 0, l = eras.length; i < l; ++i) {
              switch (typeof eras[i].since) {
                  case 'string':
                      // truncate time
                      date = hooks(eras[i].since).startOf('day');
                      eras[i].since = date.valueOf();
                      break;
              }

              switch (typeof eras[i].until) {
                  case 'undefined':
                      eras[i].until = +Infinity;
                      break;
                  case 'string':
                      // truncate time
                      date = hooks(eras[i].until).startOf('day').valueOf();
                      eras[i].until = date.valueOf();
                      break;
              }
          }
          return eras;
      }

      function localeErasParse(eraName, format, strict) {
          var i,
              l,
              eras = this.eras(),
              name,
              abbr,
              narrow;
          eraName = eraName.toUpperCase();

          for (i = 0, l = eras.length; i < l; ++i) {
              name = eras[i].name.toUpperCase();
              abbr = eras[i].abbr.toUpperCase();
              narrow = eras[i].narrow.toUpperCase();

              if (strict) {
                  switch (format) {
                      case 'N':
                      case 'NN':
                      case 'NNN':
                          if (abbr === eraName) {
                              return eras[i];
                          }
                          break;

                      case 'NNNN':
                          if (name === eraName) {
                              return eras[i];
                          }
                          break;

                      case 'NNNNN':
                          if (narrow === eraName) {
                              return eras[i];
                          }
                          break;
                  }
              } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {
                  return eras[i];
              }
          }
      }

      function localeErasConvertYear(era, year) {
          var dir = era.since <= era.until ? +1 : -1;
          if (year === undefined) {
              return hooks(era.since).year();
          } else {
              return hooks(era.since).year() + (year - era.offset) * dir;
          }
      }

      function getEraName() {
          var i,
              l,
              val,
              eras = this.localeData().eras();
          for (i = 0, l = eras.length; i < l; ++i) {
              // truncate time
              val = this.startOf('day').valueOf();

              if (eras[i].since <= val && val <= eras[i].until) {
                  return eras[i].name;
              }
              if (eras[i].until <= val && val <= eras[i].since) {
                  return eras[i].name;
              }
          }

          return '';
      }

      function getEraNarrow() {
          var i,
              l,
              val,
              eras = this.localeData().eras();
          for (i = 0, l = eras.length; i < l; ++i) {
              // truncate time
              val = this.startOf('day').valueOf();

              if (eras[i].since <= val && val <= eras[i].until) {
                  return eras[i].narrow;
              }
              if (eras[i].until <= val && val <= eras[i].since) {
                  return eras[i].narrow;
              }
          }

          return '';
      }

      function getEraAbbr() {
          var i,
              l,
              val,
              eras = this.localeData().eras();
          for (i = 0, l = eras.length; i < l; ++i) {
              // truncate time
              val = this.startOf('day').valueOf();

              if (eras[i].since <= val && val <= eras[i].until) {
                  return eras[i].abbr;
              }
              if (eras[i].until <= val && val <= eras[i].since) {
                  return eras[i].abbr;
              }
          }

          return '';
      }

      function getEraYear() {
          var i,
              l,
              dir,
              val,
              eras = this.localeData().eras();
          for (i = 0, l = eras.length; i < l; ++i) {
              dir = eras[i].since <= eras[i].until ? +1 : -1;

              // truncate time
              val = this.startOf('day').valueOf();

              if (
                  (eras[i].since <= val && val <= eras[i].until) ||
                  (eras[i].until <= val && val <= eras[i].since)
              ) {
                  return (
                      (this.year() - hooks(eras[i].since).year()) * dir +
                      eras[i].offset
                  );
              }
          }

          return this.year();
      }

      function erasNameRegex(isStrict) {
          if (!hasOwnProp(this, '_erasNameRegex')) {
              computeErasParse.call(this);
          }
          return isStrict ? this._erasNameRegex : this._erasRegex;
      }

      function erasAbbrRegex(isStrict) {
          if (!hasOwnProp(this, '_erasAbbrRegex')) {
              computeErasParse.call(this);
          }
          return isStrict ? this._erasAbbrRegex : this._erasRegex;
      }

      function erasNarrowRegex(isStrict) {
          if (!hasOwnProp(this, '_erasNarrowRegex')) {
              computeErasParse.call(this);
          }
          return isStrict ? this._erasNarrowRegex : this._erasRegex;
      }

      function matchEraAbbr(isStrict, locale) {
          return locale.erasAbbrRegex(isStrict);
      }

      function matchEraName(isStrict, locale) {
          return locale.erasNameRegex(isStrict);
      }

      function matchEraNarrow(isStrict, locale) {
          return locale.erasNarrowRegex(isStrict);
      }

      function matchEraYearOrdinal(isStrict, locale) {
          return locale._eraYearOrdinalRegex || matchUnsigned;
      }

      function computeErasParse() {
          var abbrPieces = [],
              namePieces = [],
              narrowPieces = [],
              mixedPieces = [],
              i,
              l,
              eras = this.eras();

          for (i = 0, l = eras.length; i < l; ++i) {
              namePieces.push(regexEscape(eras[i].name));
              abbrPieces.push(regexEscape(eras[i].abbr));
              narrowPieces.push(regexEscape(eras[i].narrow));

              mixedPieces.push(regexEscape(eras[i].name));
              mixedPieces.push(regexEscape(eras[i].abbr));
              mixedPieces.push(regexEscape(eras[i].narrow));
          }

          this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
          this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');
          this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');
          this._erasNarrowRegex = new RegExp(
              '^(' + narrowPieces.join('|') + ')',
              'i'
          );
      }

      // FORMATTING

      addFormatToken(0, ['gg', 2], 0, function () {
          return this.weekYear() % 100;
      });

      addFormatToken(0, ['GG', 2], 0, function () {
          return this.isoWeekYear() % 100;
      });

      function addWeekYearFormatToken(token, getter) {
          addFormatToken(0, [token, token.length], 0, getter);
      }

      addWeekYearFormatToken('gggg', 'weekYear');
      addWeekYearFormatToken('ggggg', 'weekYear');
      addWeekYearFormatToken('GGGG', 'isoWeekYear');
      addWeekYearFormatToken('GGGGG', 'isoWeekYear');

      // ALIASES

      addUnitAlias('weekYear', 'gg');
      addUnitAlias('isoWeekYear', 'GG');

      // PRIORITY

      addUnitPriority('weekYear', 1);
      addUnitPriority('isoWeekYear', 1);

      // PARSING

      addRegexToken('G', matchSigned);
      addRegexToken('g', matchSigned);
      addRegexToken('GG', match1to2, match2);
      addRegexToken('gg', match1to2, match2);
      addRegexToken('GGGG', match1to4, match4);
      addRegexToken('gggg', match1to4, match4);
      addRegexToken('GGGGG', match1to6, match6);
      addRegexToken('ggggg', match1to6, match6);

      addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (
          input,
          week,
          config,
          token
      ) {
          week[token.substr(0, 2)] = toInt(input);
      });

      addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
          week[token] = hooks.parseTwoDigitYear(input);
      });

      // MOMENTS

      function getSetWeekYear(input) {
          return getSetWeekYearHelper.call(
              this,
              input,
              this.week(),
              this.weekday(),
              this.localeData()._week.dow,
              this.localeData()._week.doy
          );
      }

      function getSetISOWeekYear(input) {
          return getSetWeekYearHelper.call(
              this,
              input,
              this.isoWeek(),
              this.isoWeekday(),
              1,
              4
          );
      }

      function getISOWeeksInYear() {
          return weeksInYear(this.year(), 1, 4);
      }

      function getISOWeeksInISOWeekYear() {
          return weeksInYear(this.isoWeekYear(), 1, 4);
      }

      function getWeeksInYear() {
          var weekInfo = this.localeData()._week;
          return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
      }

      function getWeeksInWeekYear() {
          var weekInfo = this.localeData()._week;
          return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);
      }

      function getSetWeekYearHelper(input, week, weekday, dow, doy) {
          var weeksTarget;
          if (input == null) {
              return weekOfYear(this, dow, doy).year;
          } else {
              weeksTarget = weeksInYear(input, dow, doy);
              if (week > weeksTarget) {
                  week = weeksTarget;
              }
              return setWeekAll.call(this, input, week, weekday, dow, doy);
          }
      }

      function setWeekAll(weekYear, week, weekday, dow, doy) {
          var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
              date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

          this.year(date.getUTCFullYear());
          this.month(date.getUTCMonth());
          this.date(date.getUTCDate());
          return this;
      }

      // FORMATTING

      addFormatToken('Q', 0, 'Qo', 'quarter');

      // ALIASES

      addUnitAlias('quarter', 'Q');

      // PRIORITY

      addUnitPriority('quarter', 7);

      // PARSING

      addRegexToken('Q', match1);
      addParseToken('Q', function (input, array) {
          array[MONTH] = (toInt(input) - 1) * 3;
      });

      // MOMENTS

      function getSetQuarter(input) {
          return input == null
              ? Math.ceil((this.month() + 1) / 3)
              : this.month((input - 1) * 3 + (this.month() % 3));
      }

      // FORMATTING

      addFormatToken('D', ['DD', 2], 'Do', 'date');

      // ALIASES

      addUnitAlias('date', 'D');

      // PRIORITY
      addUnitPriority('date', 9);

      // PARSING

      addRegexToken('D', match1to2);
      addRegexToken('DD', match1to2, match2);
      addRegexToken('Do', function (isStrict, locale) {
          // TODO: Remove "ordinalParse" fallback in next major release.
          return isStrict
              ? locale._dayOfMonthOrdinalParse || locale._ordinalParse
              : locale._dayOfMonthOrdinalParseLenient;
      });

      addParseToken(['D', 'DD'], DATE);
      addParseToken('Do', function (input, array) {
          array[DATE] = toInt(input.match(match1to2)[0]);
      });

      // MOMENTS

      var getSetDayOfMonth = makeGetSet('Date', true);

      // FORMATTING

      addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

      // ALIASES

      addUnitAlias('dayOfYear', 'DDD');

      // PRIORITY
      addUnitPriority('dayOfYear', 4);

      // PARSING

      addRegexToken('DDD', match1to3);
      addRegexToken('DDDD', match3);
      addParseToken(['DDD', 'DDDD'], function (input, array, config) {
          config._dayOfYear = toInt(input);
      });

      // HELPERS

      // MOMENTS

      function getSetDayOfYear(input) {
          var dayOfYear =
              Math.round(
                  (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5
              ) + 1;
          return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');
      }

      // FORMATTING

      addFormatToken('m', ['mm', 2], 0, 'minute');

      // ALIASES

      addUnitAlias('minute', 'm');

      // PRIORITY

      addUnitPriority('minute', 14);

      // PARSING

      addRegexToken('m', match1to2);
      addRegexToken('mm', match1to2, match2);
      addParseToken(['m', 'mm'], MINUTE);

      // MOMENTS

      var getSetMinute = makeGetSet('Minutes', false);

      // FORMATTING

      addFormatToken('s', ['ss', 2], 0, 'second');

      // ALIASES

      addUnitAlias('second', 's');

      // PRIORITY

      addUnitPriority('second', 15);

      // PARSING

      addRegexToken('s', match1to2);
      addRegexToken('ss', match1to2, match2);
      addParseToken(['s', 'ss'], SECOND);

      // MOMENTS

      var getSetSecond = makeGetSet('Seconds', false);

      // FORMATTING

      addFormatToken('S', 0, 0, function () {
          return ~~(this.millisecond() / 100);
      });

      addFormatToken(0, ['SS', 2], 0, function () {
          return ~~(this.millisecond() / 10);
      });

      addFormatToken(0, ['SSS', 3], 0, 'millisecond');
      addFormatToken(0, ['SSSS', 4], 0, function () {
          return this.millisecond() * 10;
      });
      addFormatToken(0, ['SSSSS', 5], 0, function () {
          return this.millisecond() * 100;
      });
      addFormatToken(0, ['SSSSSS', 6], 0, function () {
          return this.millisecond() * 1000;
      });
      addFormatToken(0, ['SSSSSSS', 7], 0, function () {
          return this.millisecond() * 10000;
      });
      addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
          return this.millisecond() * 100000;
      });
      addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
          return this.millisecond() * 1000000;
      });

      // ALIASES

      addUnitAlias('millisecond', 'ms');

      // PRIORITY

      addUnitPriority('millisecond', 16);

      // PARSING

      addRegexToken('S', match1to3, match1);
      addRegexToken('SS', match1to3, match2);
      addRegexToken('SSS', match1to3, match3);

      var token, getSetMillisecond;
      for (token = 'SSSS'; token.length <= 9; token += 'S') {
          addRegexToken(token, matchUnsigned);
      }

      function parseMs(input, array) {
          array[MILLISECOND] = toInt(('0.' + input) * 1000);
      }

      for (token = 'S'; token.length <= 9; token += 'S') {
          addParseToken(token, parseMs);
      }

      getSetMillisecond = makeGetSet('Milliseconds', false);

      // FORMATTING

      addFormatToken('z', 0, 0, 'zoneAbbr');
      addFormatToken('zz', 0, 0, 'zoneName');

      // MOMENTS

      function getZoneAbbr() {
          return this._isUTC ? 'UTC' : '';
      }

      function getZoneName() {
          return this._isUTC ? 'Coordinated Universal Time' : '';
      }

      var proto = Moment.prototype;

      proto.add = add;
      proto.calendar = calendar$1;
      proto.clone = clone;
      proto.diff = diff;
      proto.endOf = endOf;
      proto.format = format;
      proto.from = from;
      proto.fromNow = fromNow;
      proto.to = to;
      proto.toNow = toNow;
      proto.get = stringGet;
      proto.invalidAt = invalidAt;
      proto.isAfter = isAfter;
      proto.isBefore = isBefore;
      proto.isBetween = isBetween;
      proto.isSame = isSame;
      proto.isSameOrAfter = isSameOrAfter;
      proto.isSameOrBefore = isSameOrBefore;
      proto.isValid = isValid$2;
      proto.lang = lang;
      proto.locale = locale;
      proto.localeData = localeData;
      proto.max = prototypeMax;
      proto.min = prototypeMin;
      proto.parsingFlags = parsingFlags;
      proto.set = stringSet;
      proto.startOf = startOf;
      proto.subtract = subtract;
      proto.toArray = toArray;
      proto.toObject = toObject;
      proto.toDate = toDate;
      proto.toISOString = toISOString;
      proto.inspect = inspect;
      if (typeof Symbol !== 'undefined' && Symbol.for != null) {
          proto[Symbol.for('nodejs.util.inspect.custom')] = function () {
              return 'Moment<' + this.format() + '>';
          };
      }
      proto.toJSON = toJSON;
      proto.toString = toString;
      proto.unix = unix;
      proto.valueOf = valueOf;
      proto.creationData = creationData;
      proto.eraName = getEraName;
      proto.eraNarrow = getEraNarrow;
      proto.eraAbbr = getEraAbbr;
      proto.eraYear = getEraYear;
      proto.year = getSetYear;
      proto.isLeapYear = getIsLeapYear;
      proto.weekYear = getSetWeekYear;
      proto.isoWeekYear = getSetISOWeekYear;
      proto.quarter = proto.quarters = getSetQuarter;
      proto.month = getSetMonth;
      proto.daysInMonth = getDaysInMonth;
      proto.week = proto.weeks = getSetWeek;
      proto.isoWeek = proto.isoWeeks = getSetISOWeek;
      proto.weeksInYear = getWeeksInYear;
      proto.weeksInWeekYear = getWeeksInWeekYear;
      proto.isoWeeksInYear = getISOWeeksInYear;
      proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;
      proto.date = getSetDayOfMonth;
      proto.day = proto.days = getSetDayOfWeek;
      proto.weekday = getSetLocaleDayOfWeek;
      proto.isoWeekday = getSetISODayOfWeek;
      proto.dayOfYear = getSetDayOfYear;
      proto.hour = proto.hours = getSetHour;
      proto.minute = proto.minutes = getSetMinute;
      proto.second = proto.seconds = getSetSecond;
      proto.millisecond = proto.milliseconds = getSetMillisecond;
      proto.utcOffset = getSetOffset;
      proto.utc = setOffsetToUTC;
      proto.local = setOffsetToLocal;
      proto.parseZone = setOffsetToParsedOffset;
      proto.hasAlignedHourOffset = hasAlignedHourOffset;
      proto.isDST = isDaylightSavingTime;
      proto.isLocal = isLocal;
      proto.isUtcOffset = isUtcOffset;
      proto.isUtc = isUtc;
      proto.isUTC = isUtc;
      proto.zoneAbbr = getZoneAbbr;
      proto.zoneName = getZoneName;
      proto.dates = deprecate(
          'dates accessor is deprecated. Use date instead.',
          getSetDayOfMonth
      );
      proto.months = deprecate(
          'months accessor is deprecated. Use month instead',
          getSetMonth
      );
      proto.years = deprecate(
          'years accessor is deprecated. Use year instead',
          getSetYear
      );
      proto.zone = deprecate(
          'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',
          getSetZone
      );
      proto.isDSTShifted = deprecate(
          'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',
          isDaylightSavingTimeShifted
      );

      function createUnix(input) {
          return createLocal(input * 1000);
      }

      function createInZone() {
          return createLocal.apply(null, arguments).parseZone();
      }

      function preParsePostFormat(string) {
          return string;
      }

      var proto$1 = Locale.prototype;

      proto$1.calendar = calendar;
      proto$1.longDateFormat = longDateFormat;
      proto$1.invalidDate = invalidDate;
      proto$1.ordinal = ordinal;
      proto$1.preparse = preParsePostFormat;
      proto$1.postformat = preParsePostFormat;
      proto$1.relativeTime = relativeTime;
      proto$1.pastFuture = pastFuture;
      proto$1.set = set;
      proto$1.eras = localeEras;
      proto$1.erasParse = localeErasParse;
      proto$1.erasConvertYear = localeErasConvertYear;
      proto$1.erasAbbrRegex = erasAbbrRegex;
      proto$1.erasNameRegex = erasNameRegex;
      proto$1.erasNarrowRegex = erasNarrowRegex;

      proto$1.months = localeMonths;
      proto$1.monthsShort = localeMonthsShort;
      proto$1.monthsParse = localeMonthsParse;
      proto$1.monthsRegex = monthsRegex;
      proto$1.monthsShortRegex = monthsShortRegex;
      proto$1.week = localeWeek;
      proto$1.firstDayOfYear = localeFirstDayOfYear;
      proto$1.firstDayOfWeek = localeFirstDayOfWeek;

      proto$1.weekdays = localeWeekdays;
      proto$1.weekdaysMin = localeWeekdaysMin;
      proto$1.weekdaysShort = localeWeekdaysShort;
      proto$1.weekdaysParse = localeWeekdaysParse;

      proto$1.weekdaysRegex = weekdaysRegex;
      proto$1.weekdaysShortRegex = weekdaysShortRegex;
      proto$1.weekdaysMinRegex = weekdaysMinRegex;

      proto$1.isPM = localeIsPM;
      proto$1.meridiem = localeMeridiem;

      function get$1(format, index, field, setter) {
          var locale = getLocale(),
              utc = createUTC().set(setter, index);
          return locale[field](utc, format);
      }

      function listMonthsImpl(format, index, field) {
          if (isNumber(format)) {
              index = format;
              format = undefined;
          }

          format = format || '';

          if (index != null) {
              return get$1(format, index, field, 'month');
          }

          var i,
              out = [];
          for (i = 0; i < 12; i++) {
              out[i] = get$1(format, i, field, 'month');
          }
          return out;
      }

      // ()
      // (5)
      // (fmt, 5)
      // (fmt)
      // (true)
      // (true, 5)
      // (true, fmt, 5)
      // (true, fmt)
      function listWeekdaysImpl(localeSorted, format, index, field) {
          if (typeof localeSorted === 'boolean') {
              if (isNumber(format)) {
                  index = format;
                  format = undefined;
              }

              format = format || '';
          } else {
              format = localeSorted;
              index = format;
              localeSorted = false;

              if (isNumber(format)) {
                  index = format;
                  format = undefined;
              }

              format = format || '';
          }

          var locale = getLocale(),
              shift = localeSorted ? locale._week.dow : 0,
              i,
              out = [];

          if (index != null) {
              return get$1(format, (index + shift) % 7, field, 'day');
          }

          for (i = 0; i < 7; i++) {
              out[i] = get$1(format, (i + shift) % 7, field, 'day');
          }
          return out;
      }

      function listMonths(format, index) {
          return listMonthsImpl(format, index, 'months');
      }

      function listMonthsShort(format, index) {
          return listMonthsImpl(format, index, 'monthsShort');
      }

      function listWeekdays(localeSorted, format, index) {
          return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
      }

      function listWeekdaysShort(localeSorted, format, index) {
          return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
      }

      function listWeekdaysMin(localeSorted, format, index) {
          return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
      }

      getSetGlobalLocale('en', {
          eras: [
              {
                  since: '0001-01-01',
                  until: +Infinity,
                  offset: 1,
                  name: 'Anno Domini',
                  narrow: 'AD',
                  abbr: 'AD',
              },
              {
                  since: '0000-12-31',
                  until: -Infinity,
                  offset: 1,
                  name: 'Before Christ',
                  narrow: 'BC',
                  abbr: 'BC',
              },
          ],
          dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
          ordinal: function (number) {
              var b = number % 10,
                  output =
                      toInt((number % 100) / 10) === 1
                          ? 'th'
                          : b === 1
                          ? 'st'
                          : b === 2
                          ? 'nd'
                          : b === 3
                          ? 'rd'
                          : 'th';
              return number + output;
          },
      });

      // Side effect imports

      hooks.lang = deprecate(
          'moment.lang is deprecated. Use moment.locale instead.',
          getSetGlobalLocale
      );
      hooks.langData = deprecate(
          'moment.langData is deprecated. Use moment.localeData instead.',
          getLocale
      );

      var mathAbs = Math.abs;

      function abs() {
          var data = this._data;

          this._milliseconds = mathAbs(this._milliseconds);
          this._days = mathAbs(this._days);
          this._months = mathAbs(this._months);

          data.milliseconds = mathAbs(data.milliseconds);
          data.seconds = mathAbs(data.seconds);
          data.minutes = mathAbs(data.minutes);
          data.hours = mathAbs(data.hours);
          data.months = mathAbs(data.months);
          data.years = mathAbs(data.years);

          return this;
      }

      function addSubtract$1(duration, input, value, direction) {
          var other = createDuration(input, value);

          duration._milliseconds += direction * other._milliseconds;
          duration._days += direction * other._days;
          duration._months += direction * other._months;

          return duration._bubble();
      }

      // supports only 2.0-style add(1, 's') or add(duration)
      function add$1(input, value) {
          return addSubtract$1(this, input, value, 1);
      }

      // supports only 2.0-style subtract(1, 's') or subtract(duration)
      function subtract$1(input, value) {
          return addSubtract$1(this, input, value, -1);
      }

      function absCeil(number) {
          if (number < 0) {
              return Math.floor(number);
          } else {
              return Math.ceil(number);
          }
      }

      function bubble() {
          var milliseconds = this._milliseconds,
              days = this._days,
              months = this._months,
              data = this._data,
              seconds,
              minutes,
              hours,
              years,
              monthsFromDays;

          // if we have a mix of positive and negative values, bubble down first
          // check: https://github.com/moment/moment/issues/2166
          if (
              !(
                  (milliseconds >= 0 && days >= 0 && months >= 0) ||
                  (milliseconds <= 0 && days <= 0 && months <= 0)
              )
          ) {
              milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
              days = 0;
              months = 0;
          }

          // The following code bubbles up values, see the tests for
          // examples of what that means.
          data.milliseconds = milliseconds % 1000;

          seconds = absFloor(milliseconds / 1000);
          data.seconds = seconds % 60;

          minutes = absFloor(seconds / 60);
          data.minutes = minutes % 60;

          hours = absFloor(minutes / 60);
          data.hours = hours % 24;

          days += absFloor(hours / 24);

          // convert days to months
          monthsFromDays = absFloor(daysToMonths(days));
          months += monthsFromDays;
          days -= absCeil(monthsToDays(monthsFromDays));

          // 12 months -> 1 year
          years = absFloor(months / 12);
          months %= 12;

          data.days = days;
          data.months = months;
          data.years = years;

          return this;
      }

      function daysToMonths(days) {
          // 400 years have 146097 days (taking into account leap year rules)
          // 400 years have 12 months === 4800
          return (days * 4800) / 146097;
      }

      function monthsToDays(months) {
          // the reverse of daysToMonths
          return (months * 146097) / 4800;
      }

      function as(units) {
          if (!this.isValid()) {
              return NaN;
          }
          var days,
              months,
              milliseconds = this._milliseconds;

          units = normalizeUnits(units);

          if (units === 'month' || units === 'quarter' || units === 'year') {
              days = this._days + milliseconds / 864e5;
              months = this._months + daysToMonths(days);
              switch (units) {
                  case 'month':
                      return months;
                  case 'quarter':
                      return months / 3;
                  case 'year':
                      return months / 12;
              }
          } else {
              // handle milliseconds separately because of floating point math errors (issue #1867)
              days = this._days + Math.round(monthsToDays(this._months));
              switch (units) {
                  case 'week':
                      return days / 7 + milliseconds / 6048e5;
                  case 'day':
                      return days + milliseconds / 864e5;
                  case 'hour':
                      return days * 24 + milliseconds / 36e5;
                  case 'minute':
                      return days * 1440 + milliseconds / 6e4;
                  case 'second':
                      return days * 86400 + milliseconds / 1000;
                  // Math.floor prevents floating point math errors here
                  case 'millisecond':
                      return Math.floor(days * 864e5) + milliseconds;
                  default:
                      throw new Error('Unknown unit ' + units);
              }
          }
      }

      // TODO: Use this.as('ms')?
      function valueOf$1() {
          if (!this.isValid()) {
              return NaN;
          }
          return (
              this._milliseconds +
              this._days * 864e5 +
              (this._months % 12) * 2592e6 +
              toInt(this._months / 12) * 31536e6
          );
      }

      function makeAs(alias) {
          return function () {
              return this.as(alias);
          };
      }

      var asMilliseconds = makeAs('ms'),
          asSeconds = makeAs('s'),
          asMinutes = makeAs('m'),
          asHours = makeAs('h'),
          asDays = makeAs('d'),
          asWeeks = makeAs('w'),
          asMonths = makeAs('M'),
          asQuarters = makeAs('Q'),
          asYears = makeAs('y');

      function clone$1() {
          return createDuration(this);
      }

      function get$2(units) {
          units = normalizeUnits(units);
          return this.isValid() ? this[units + 's']() : NaN;
      }

      function makeGetter(name) {
          return function () {
              return this.isValid() ? this._data[name] : NaN;
          };
      }

      var milliseconds = makeGetter('milliseconds'),
          seconds = makeGetter('seconds'),
          minutes = makeGetter('minutes'),
          hours = makeGetter('hours'),
          days = makeGetter('days'),
          months = makeGetter('months'),
          years = makeGetter('years');

      function weeks() {
          return absFloor(this.days() / 7);
      }

      var round = Math.round,
          thresholds = {
              ss: 44, // a few seconds to seconds
              s: 45, // seconds to minute
              m: 45, // minutes to hour
              h: 22, // hours to day
              d: 26, // days to month/week
              w: null, // weeks to month
              M: 11, // months to year
          };

      // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
      function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
          return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
      }

      function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {
          var duration = createDuration(posNegDuration).abs(),
              seconds = round(duration.as('s')),
              minutes = round(duration.as('m')),
              hours = round(duration.as('h')),
              days = round(duration.as('d')),
              months = round(duration.as('M')),
              weeks = round(duration.as('w')),
              years = round(duration.as('y')),
              a =
                  (seconds <= thresholds.ss && ['s', seconds]) ||
                  (seconds < thresholds.s && ['ss', seconds]) ||
                  (minutes <= 1 && ['m']) ||
                  (minutes < thresholds.m && ['mm', minutes]) ||
                  (hours <= 1 && ['h']) ||
                  (hours < thresholds.h && ['hh', hours]) ||
                  (days <= 1 && ['d']) ||
                  (days < thresholds.d && ['dd', days]);

          if (thresholds.w != null) {
              a =
                  a ||
                  (weeks <= 1 && ['w']) ||
                  (weeks < thresholds.w && ['ww', weeks]);
          }
          a = a ||
              (months <= 1 && ['M']) ||
              (months < thresholds.M && ['MM', months]) ||
              (years <= 1 && ['y']) || ['yy', years];

          a[2] = withoutSuffix;
          a[3] = +posNegDuration > 0;
          a[4] = locale;
          return substituteTimeAgo.apply(null, a);
      }

      // This function allows you to set the rounding function for relative time strings
      function getSetRelativeTimeRounding(roundingFunction) {
          if (roundingFunction === undefined) {
              return round;
          }
          if (typeof roundingFunction === 'function') {
              round = roundingFunction;
              return true;
          }
          return false;
      }

      // This function allows you to set a threshold for relative time strings
      function getSetRelativeTimeThreshold(threshold, limit) {
          if (thresholds[threshold] === undefined) {
              return false;
          }
          if (limit === undefined) {
              return thresholds[threshold];
          }
          thresholds[threshold] = limit;
          if (threshold === 's') {
              thresholds.ss = limit - 1;
          }
          return true;
      }

      function humanize(argWithSuffix, argThresholds) {
          if (!this.isValid()) {
              return this.localeData().invalidDate();
          }

          var withSuffix = false,
              th = thresholds,
              locale,
              output;

          if (typeof argWithSuffix === 'object') {
              argThresholds = argWithSuffix;
              argWithSuffix = false;
          }
          if (typeof argWithSuffix === 'boolean') {
              withSuffix = argWithSuffix;
          }
          if (typeof argThresholds === 'object') {
              th = Object.assign({}, thresholds, argThresholds);
              if (argThresholds.s != null && argThresholds.ss == null) {
                  th.ss = argThresholds.s - 1;
              }
          }

          locale = this.localeData();
          output = relativeTime$1(this, !withSuffix, th, locale);

          if (withSuffix) {
              output = locale.pastFuture(+this, output);
          }

          return locale.postformat(output);
      }

      var abs$1 = Math.abs;

      function sign(x) {
          return (x > 0) - (x < 0) || +x;
      }

      function toISOString$1() {
          // for ISO strings we do not use the normal bubbling rules:
          //  * milliseconds bubble up until they become hours
          //  * days do not bubble at all
          //  * months bubble up until they become years
          // This is because there is no context-free conversion between hours and days
          // (think of clock changes)
          // and also not between days and months (28-31 days per month)
          if (!this.isValid()) {
              return this.localeData().invalidDate();
          }

          var seconds = abs$1(this._milliseconds) / 1000,
              days = abs$1(this._days),
              months = abs$1(this._months),
              minutes,
              hours,
              years,
              s,
              total = this.asSeconds(),
              totalSign,
              ymSign,
              daysSign,
              hmsSign;

          if (!total) {
              // this is the same as C#'s (Noda) and python (isodate)...
              // but not other JS (goog.date)
              return 'P0D';
          }

          // 3600 seconds -> 60 minutes -> 1 hour
          minutes = absFloor(seconds / 60);
          hours = absFloor(minutes / 60);
          seconds %= 60;
          minutes %= 60;

          // 12 months -> 1 year
          years = absFloor(months / 12);
          months %= 12;

          // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
          s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';

          totalSign = total < 0 ? '-' : '';
          ymSign = sign(this._months) !== sign(total) ? '-' : '';
          daysSign = sign(this._days) !== sign(total) ? '-' : '';
          hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

          return (
              totalSign +
              'P' +
              (years ? ymSign + years + 'Y' : '') +
              (months ? ymSign + months + 'M' : '') +
              (days ? daysSign + days + 'D' : '') +
              (hours || minutes || seconds ? 'T' : '') +
              (hours ? hmsSign + hours + 'H' : '') +
              (minutes ? hmsSign + minutes + 'M' : '') +
              (seconds ? hmsSign + s + 'S' : '')
          );
      }

      var proto$2 = Duration.prototype;

      proto$2.isValid = isValid$1;
      proto$2.abs = abs;
      proto$2.add = add$1;
      proto$2.subtract = subtract$1;
      proto$2.as = as;
      proto$2.asMilliseconds = asMilliseconds;
      proto$2.asSeconds = asSeconds;
      proto$2.asMinutes = asMinutes;
      proto$2.asHours = asHours;
      proto$2.asDays = asDays;
      proto$2.asWeeks = asWeeks;
      proto$2.asMonths = asMonths;
      proto$2.asQuarters = asQuarters;
      proto$2.asYears = asYears;
      proto$2.valueOf = valueOf$1;
      proto$2._bubble = bubble;
      proto$2.clone = clone$1;
      proto$2.get = get$2;
      proto$2.milliseconds = milliseconds;
      proto$2.seconds = seconds;
      proto$2.minutes = minutes;
      proto$2.hours = hours;
      proto$2.days = days;
      proto$2.weeks = weeks;
      proto$2.months = months;
      proto$2.years = years;
      proto$2.humanize = humanize;
      proto$2.toISOString = toISOString$1;
      proto$2.toString = toISOString$1;
      proto$2.toJSON = toISOString$1;
      proto$2.locale = locale;
      proto$2.localeData = localeData;

      proto$2.toIsoString = deprecate(
          'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',
          toISOString$1
      );
      proto$2.lang = lang;

      // FORMATTING

      addFormatToken('X', 0, 0, 'unix');
      addFormatToken('x', 0, 0, 'valueOf');

      // PARSING

      addRegexToken('x', matchSigned);
      addRegexToken('X', matchTimestamp);
      addParseToken('X', function (input, array, config) {
          config._d = new Date(parseFloat(input) * 1000);
      });
      addParseToken('x', function (input, array, config) {
          config._d = new Date(toInt(input));
      });

      //! moment.js

      hooks.version = '2.27.0';

      setHookCallback(createLocal);

      hooks.fn = proto;
      hooks.min = min;
      hooks.max = max;
      hooks.now = now;
      hooks.utc = createUTC;
      hooks.unix = createUnix;
      hooks.months = listMonths;
      hooks.isDate = isDate;
      hooks.locale = getSetGlobalLocale;
      hooks.invalid = createInvalid;
      hooks.duration = createDuration;
      hooks.isMoment = isMoment;
      hooks.weekdays = listWeekdays;
      hooks.parseZone = createInZone;
      hooks.localeData = getLocale;
      hooks.isDuration = isDuration;
      hooks.monthsShort = listMonthsShort;
      hooks.weekdaysMin = listWeekdaysMin;
      hooks.defineLocale = defineLocale;
      hooks.updateLocale = updateLocale;
      hooks.locales = listLocales;
      hooks.weekdaysShort = listWeekdaysShort;
      hooks.normalizeUnits = normalizeUnits;
      hooks.relativeTimeRounding = getSetRelativeTimeRounding;
      hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
      hooks.calendarFormat = getCalendarFormat;
      hooks.prototype = proto;

      // currently HTML5 input type only supports 24-hour formats
      hooks.HTML5_FMT = {
          DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type="datetime-local" />
          DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type="datetime-local" step="1" />
          DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type="datetime-local" step="0.001" />
          DATE: 'YYYY-MM-DD', // <input type="date" />
          TIME: 'HH:mm', // <input type="time" />
          TIME_SECONDS: 'HH:mm:ss', // <input type="time" step="1" />
          TIME_MS: 'HH:mm:ss.SSS', // <input type="time" step="0.001" />
          WEEK: 'GGGG-[W]WW', // <input type="week" />
          MONTH: 'YYYY-MM', // <input type="month" />
      };

      return hooks;

  })));
  });

  var script$j = Vue.mgComponent('mgDate', {
    meta: {
      title: 'Date selection',
      icon: 'far fa-calendar',
      category: 'Simple Inputs',
      preferId: true,
      format: function format(v) {
        if (!v) return '';
        return moment(v).format(moment.HTML5_FMT.DATE);
      },
      formatClass: 'text-center'
    },
    data: function data() {
      return {
        formData: undefined
      };
    },
    props: {
      min: {
        type: 'mgDate',
        title: 'Earliest date'
      },
      max: {
        type: 'mgDate',
        title: 'Latest date'
      },
      required: {
        type: 'mgToggle',
        "default": false
      }
    },
    created: function created() {
      var _this = this;

      this.$debugging = false;
      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));

        if (_.isString(_this.data)) {
          var d = moment(_this.data);
          if (!d.isValid()) return reply("".concat(_this.$props.title, " must be a date"));
          if (_this.$props.min && d.isBefore(_this.$props.min)) return reply("".concat($props.title, " is too early (earliest date is ").concat(_this.$props.min, ")"));
          if (_this.$props.max && d.isAfter($props.max)) return reply("".concat($props.title, " is too late (latest date is ").concat(_this.$props.max, ")"));
        }
      });
      this.$watch('data', function () {
        _this.formData = moment(_this.data).format(moment.HTML5_FMT.DATE);
      }, {
        immediate: true
      });
      this.$watch('formData', function () {
        _this.data = moment(_this.formData, moment.HTML5_FMT.DATE).toISOString();
      });
    }
  });

  /* script */
  const __vue_script__$k = script$j;

  /* template */
  var __vue_render__$e = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-date" }, [
      _c("input", {
        directives: [
          {
            name: "model",
            rawName: "v-model",
            value: _vm.formData,
            expression: "formData"
          }
        ],
        staticClass: "form-control",
        attrs: { type: "date", max: _vm.$props.max, min: _vm.$props.min },
        domProps: { value: _vm.formData },
        on: {
          input: function($event) {
            if ($event.target.composing) {
              return
            }
            _vm.formData = $event.target.value;
          }
        }
      }),
      _vm._v(" "),
      this.$debugging
        ? _c("div", { staticClass: "card" }, [
            _c("div", { staticClass: "card-header" }, [
              _vm._v("\n\t\t\tRaw data\n\t\t")
            ]),
            _vm._v(" "),
            _c("div", { staticClass: "card-body" }, [
              _c("pre", [_vm._v(_vm._s(_vm.$data))])
            ])
          ])
        : _vm._e()
    ])
  };
  var __vue_staticRenderFns__$e = [];
  __vue_render__$e._withStripped = true;

    /* style */
    const __vue_inject_styles__$k = undefined;
    /* scoped */
    const __vue_scope_id__$k = undefined;
    /* module identifier */
    const __vue_module_identifier__$k = undefined;
    /* functional template */
    const __vue_is_functional_template__$k = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$k = normalizeComponent(
      { render: __vue_render__$e, staticRenderFns: __vue_staticRenderFns__$e },
      __vue_inject_styles__$k,
      __vue_script__$k,
      __vue_scope_id__$k,
      __vue_is_functional_template__$k,
      __vue_module_identifier__$k,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgDate = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$k
  });

  var script$k = Vue.mgComponent('mgDatetime', {
    meta: {
      title: 'Datetime selection',
      icon: 'far fa-calendar',
      category: 'Simple Inputs',
      preferId: true,
      format: function format(v) {
        if (!v) return '';
        return moment(v).format(moment.HTML5_FMT.DATETIME_LOCAL);
      },
      formatClass: 'text-center'
    },
    data: function data() {
      return {
        formData: undefined
      };
    },
    props: {
      min: {
        type: 'mgDatetime',
        title: 'Earliest date'
      },
      max: {
        type: 'mgDatetime',
        title: 'Latest date'
      },
      required: {
        type: 'mgToggle',
        "default": false
      }
    },
    created: function created() {
      var _this = this;

      this.$debugging = false;
      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));

        if (_.isString(_this.data)) {
          var d = moment(_this.data);
          if (!d.isValid()) return reply("".concat(_this.$props.title, " must be a date"));
          if (_this.$props.min && d.isBefore(_this.$props.min)) return reply("".concat($props.title, " is too early (earliest date is ").concat(_this.$props.min, ")"));
          if (_this.$props.max && d.isAfter($props.max)) return reply("".concat($props.title, " is too late (latest date is ").concat(_this.$props.max, ")"));
        }
      });
      this.$watch('data', function () {
        _this.formData = moment(_this.data).format(moment.HTML5_FMT.DATETIME_LOCAL);
      }, {
        immediate: true
      });
      this.$watch('formData', function () {
        _this.data = moment(_this.formData, moment.HTML5_FMT.DATETIME_LOCAL).toISOString();
      });
    }
  });

  /* script */
  const __vue_script__$l = script$k;

  /* template */
  var __vue_render__$f = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-datetime" }, [
      _c("input", {
        directives: [
          {
            name: "model",
            rawName: "v-model",
            value: _vm.formData,
            expression: "formData"
          }
        ],
        staticClass: "form-control",
        attrs: {
          type: "datetime-local",
          max: _vm.$props.max,
          min: _vm.$props.min
        },
        domProps: { value: _vm.formData },
        on: {
          input: function($event) {
            if ($event.target.composing) {
              return
            }
            _vm.formData = $event.target.value;
          }
        }
      }),
      _vm._v(" "),
      this.$debugging
        ? _c("div", { staticClass: "card" }, [
            _c("div", { staticClass: "card-header" }, [
              _vm._v("\n\t\t\tRaw data\n\t\t")
            ]),
            _vm._v(" "),
            _c("div", { staticClass: "card-body" }, [
              _c("pre", [_vm._v(_vm._s(_vm.$data))])
            ])
          ])
        : _vm._e()
    ])
  };
  var __vue_staticRenderFns__$f = [];
  __vue_render__$f._withStripped = true;

    /* style */
    const __vue_inject_styles__$l = undefined;
    /* scoped */
    const __vue_scope_id__$l = undefined;
    /* module identifier */
    const __vue_module_identifier__$l = undefined;
    /* functional template */
    const __vue_is_functional_template__$l = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$l = normalizeComponent(
      { render: __vue_render__$f, staticRenderFns: __vue_staticRenderFns__$f },
      __vue_inject_styles__$l,
      __vue_script__$l,
      __vue_scope_id__$l,
      __vue_is_functional_template__$l,
      __vue_module_identifier__$l,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgDatetime = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$l
  });

  var script$l = Vue.mgComponent('mgEmail', {
    meta: {
      title: 'Email address',
      icon: 'far fa-at',
      category: 'Simple Inputs',
      preferId: true,
      format: function format(v) {
        if (!v) return '';
        return "<a href=\"mailto:".concat(v, "\">").concat(v, "</a>");
      }
    },
    props: {
      placeholder: {
        type: 'mgText',
        help: 'Ghost text to display when the text box has no value'
      },
      required: {
        type: 'mgToggle',
        "default": false
      },
      disabled: {
        type: 'mgToggle',
        "default": false
      },
      readonly: {
        type: 'mgToggle',
        "default": false
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    }
  });

  /* script */
  const __vue_script__$m = script$l;

  /* template */
  var __vue_render__$g = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-email" }, [
      _c("input", {
        directives: [
          {
            name: "model",
            rawName: "v-model",
            value: _vm.data,
            expression: "data"
          }
        ],
        staticClass: "form-control",
        attrs: {
          type: "email",
          disabled: _vm.$props.disabled,
          placeholder: _vm.$props.placeholder,
          readonly: _vm.$props.readonly
        },
        domProps: { value: _vm.data },
        on: {
          input: function($event) {
            if ($event.target.composing) {
              return
            }
            _vm.data = $event.target.value;
          }
        }
      })
    ])
  };
  var __vue_staticRenderFns__$g = [];
  __vue_render__$g._withStripped = true;

    /* style */
    const __vue_inject_styles__$m = undefined;
    /* scoped */
    const __vue_scope_id__$m = undefined;
    /* module identifier */
    const __vue_module_identifier__$m = undefined;
    /* functional template */
    const __vue_is_functional_template__$m = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$m = normalizeComponent(
      { render: __vue_render__$g, staticRenderFns: __vue_staticRenderFns__$g },
      __vue_inject_styles__$m,
      __vue_script__$m,
      __vue_scope_id__$m,
      __vue_is_functional_template__$m,
      __vue_module_identifier__$m,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgEmail = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$m
  });

  var script$m = Vue.mgComponent('mgError', {
    meta: {
      title: 'Error display',
      icon: 'far fa-exclamation-circle',
      category: 'General Decoration'
    },
    props: {
      text: {
        type: 'mgText'
      }
    }
  });

  /* script */
  const __vue_script__$n = script$m;

  /* template */
  var __vue_render__$h = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "alert alert-danger" }, [
      _vm._v("\n\t" + _vm._s(_vm.data || _vm.$props.text) + "\n")
    ])
  };
  var __vue_staticRenderFns__$h = [];
  __vue_render__$h._withStripped = true;

    /* style */
    const __vue_inject_styles__$n = undefined;
    /* scoped */
    const __vue_scope_id__$n = undefined;
    /* module identifier */
    const __vue_module_identifier__$n = undefined;
    /* functional template */
    const __vue_is_functional_template__$n = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$n = normalizeComponent(
      { render: __vue_render__$h, staticRenderFns: __vue_staticRenderFns__$h },
      __vue_inject_styles__$n,
      __vue_script__$n,
      __vue_scope_id__$n,
      __vue_is_functional_template__$n,
      __vue_module_identifier__$n,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgError = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$n
  });

  var script$n = Vue.component('mgFormEditorControls', {
    inject: ['$mgFormEditor'],
    props: {
      config: {
        type: Object,
        required: true
      }
    }
  });

  /* script */
  const __vue_script__$o = script$n;

  /* template */
  var __vue_render__$i = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-form-editor-controls" }, [
      _c("div", { staticClass: "mg-form-editor-controls-title" }, [
        _vm._v("\n\t\t" + _vm._s(_vm.$props.config.type) + "\n\t\t"),
        _vm.$props.config.id
          ? _c("span", { staticClass: "mg-form-editor-controls-id" }, [
              _vm._v("\n\t\t\t#" + _vm._s(_vm.$props.config.id) + "\n\t\t")
            ])
          : _vm._e()
      ]),
      _vm._v(" "),
      _c("div", { staticClass: "mg-form-editor-controls-buttons" }, [
        _c("a", {
          directives: [
            {
              name: "tooltip",
              rawName: "v-tooltip",
              value: "Insert widget after here",
              expression: "'Insert widget after here'"
            }
          ],
          staticClass: "far fa-plus",
          on: {
            click: function($event) {
              $event.stopPropagation();
              _vm.$mgFormEditor.addTarget = _vm.$props.config.$specPath;
              _vm.$mgFormEditor.addOrientation = "after";
              _vm.$mgFormEditor.setMode("adding", false);
            }
          }
        }),
        _vm._v(" "),
        _c("a", {
          directives: [
            {
              name: "tooltip",
              rawName: "v-tooltip",
              value: "Duplicate widget",
              expression: "'Duplicate widget'"
            }
          ],
          staticClass: "far fa-clone",
          on: {
            click: function($event) {
              return _vm.$mgFormEditor.duplicateWidget(
                _vm.$props.config.$specPath
              )
            }
          }
        }),
        _vm._v(" "),
        _c("a", {
          directives: [
            {
              name: "tooltip",
              rawName: "v-tooltip",
              value: "Move widget up",
              expression: "'Move widget up'"
            }
          ],
          staticClass: "far fa-arrow-up",
          on: {
            click: function($event) {
              return _vm.$mgFormEditor.moveWidget(
                _vm.$props.config.$specPath,
                "up"
              )
            }
          }
        }),
        _vm._v(" "),
        _c("a", {
          directives: [
            {
              name: "tooltip",
              rawName: "v-tooltip",
              value: "Move widget down",
              expression: "'Move widget down'"
            }
          ],
          staticClass: "far fa-arrow-down",
          on: {
            click: function($event) {
              return _vm.$mgFormEditor.moveWidget(
                _vm.$props.config.$specPath,
                "down"
              )
            }
          }
        }),
        _vm._v(" "),
        _c("a", {
          directives: [
            {
              name: "tooltip",
              rawName: "v-tooltip",
              value: "Delete widget",
              expression: "'Delete widget'"
            }
          ],
          staticClass: "far fa-trash danger",
          on: {
            click: function($event) {
              $event.stopPropagation();
              return _vm.$mgFormEditor.removeWidget(_vm.$props.config.$specPath)
            }
          }
        })
      ])
    ])
  };
  var __vue_staticRenderFns__$i = [];
  __vue_render__$i._withStripped = true;

    /* style */
    const __vue_inject_styles__$o = function (inject) {
      if (!inject) return
      inject("data-v-11a6d64e_0", { source: "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Component outlines {{{ */\n/* Neutral / Deselected {{{ */\n.mg-form-editor .mg-component {\n\tborder: 2px solid transparent;\n\tborder-radius: 5px;\n}\n/* }}} */\n/* Hover {{{ */\n.mg-form-editor .mg-component.editHover {\n\tborder: 2px dashed var(--mg-form-editor-hover-bg);\n}\n/* }}} */\n/* Editing {{{ */\n.mg-form-editor .mg-component.editEditing {\n\tborder: 2px solid var(--mg-form-editor-selected-bg);\n}\n/* }}} */\n/* }}} */\n\n/* Edit controls {{{ */\n.mg-form-editor-controls {\n\tposition: absolute;\n\ttransform: translate(2px, -30px);\n\twidth: calc(100% - 20px);\n}\n\n/* Title {{{ */\n.mg-form-editor-controls .mg-form-editor-controls-title,\n.mg-form-editor-controls .mg-form-editor-controls-buttons {\n\tborder-top-left-radius: 5px;\n\tborder-top-right-radius: 5px;\n\tpadding: 2px 8px;\n}\n.mg-form-editor-controls .mg-form-editor-controls-title {\n\tdisplay: inline-block;\n}\n.mg-component.editHover .mg-form-editor-controls-title {\n\tbackground: var(--mg-form-editor-hover-bg);\n\tcolor: var(--mg-form-editor-hover-fg);\n}\n.mg-component.editEditing .mg-form-editor-controls-title {\n\tbackground: var(--mg-form-editor-selected-bg);\n\tcolor: var(--mg-form-editor-selected-fg);\n}\n.mg-component .mg-form-editor-controls-title .mg-form-editor-controls-id {\n\tfont-weight: bold;\n}\n/* }}} */\n\n/* Buttons {{{ */\n.mg-form-editor-controls .mg-form-editor-controls-buttons {\n\tdisplay: none;\n\tfloat: right;\n\tbackground: var(--mg-form-editor-selected-bg);\n\tcolor: var(--mg-form-editor-selected-fg);\n}\n.mg-component.editEditing .mg-form-editor-controls .mg-form-editor-controls-buttons {\n\tdisplay: inline-block;\n}\n.mg-component.editEditing .mg-form-editor-controls .mg-form-editor-controls-buttons > a {\n\tborder-radius: 50%;\n\tpadding: 4px 5px;\n}\n.mg-component.editEditing .mg-form-editor-controls .mg-form-editor-controls-buttons > a:hover {\n\tbackground: var(--mg-form-editor-selected-highlight);\n}\n.mg-component.editEditing .mg-form-editor-controls .mg-form-editor-controls-buttons > a.danger:hover {\n\tbackground: var(--mg-form-editor-selected-danger);\n}\n/* }}} */\n/* }}} */\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgFormEditorControls.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,2BAAA;AACA,6BAAA;AACA;CACA,6BAAA;CACA,kBAAA;AACA;AACA,QAAA;AACA,cAAA;AACA;CACA,iDAAA;AACA;AACA,QAAA;AACA,gBAAA;AACA;CACA,mDAAA;AACA;AACA,QAAA;AACA,QAAA;;AAEA,sBAAA;AACA;CACA,kBAAA;CACA,gCAAA;CACA,wBAAA;AACA;;AAEA,cAAA;AACA;;CAEA,2BAAA;CACA,4BAAA;CACA,gBAAA;AACA;AAEA;CACA,qBAAA;AACA;AAEA;CACA,0CAAA;CACA,qCAAA;AACA;AAEA;CACA,6CAAA;CACA,wCAAA;AACA;AAEA;CACA,iBAAA;AACA;AACA,QAAA;;AAEA,gBAAA;AACA;CACA,aAAA;CACA,YAAA;CACA,6CAAA;CACA,wCAAA;AACA;AAEA;CACA,qBAAA;AACA;AAEA;CACA,kBAAA;CACA,gBAAA;AACA;AAEA;CACA,oDAAA;AACA;AAEA;CACA,iDAAA;AACA;AACA,QAAA;AACA,QAAA","file":"mgFormEditorControls.vue","sourcesContent":["<script>\nexport default Vue.component('mgFormEditorControls', {\n\tinject: ['$mgFormEditor'],\n\tprops: {\n\t\tconfig: {type: Object, required: true},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-form-editor-controls\">\n\t\t<div class=\"mg-form-editor-controls-title\">\n\t\t\t{{$props.config.type}}\n\t\t\t<span v-if=\"$props.config.id\" class=\"mg-form-editor-controls-id\">\n\t\t\t\t#{{$props.config.id}}\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"mg-form-editor-controls-buttons\">\n\t\t\t<!-- NOTE: Add .stop to ignore next mouse click which would select the element under the cursor -->\n\t\t\t<a @click.stop=\"$mgFormEditor.addTarget = $props.config.$specPath; $mgFormEditor.addOrientation = 'after'; $mgFormEditor.setMode('adding', false)\" class=\"far fa-plus\" v-tooltip=\"'Insert widget after here'\"/>\n\t\t\t<a @click=\"$mgFormEditor.duplicateWidget($props.config.$specPath)\" class=\"far fa-clone\" v-tooltip=\"'Duplicate widget'\"/>\n\t\t\t<!-- FIXME: Not yet working <a @click=\"$mgFormEditor.dragWidget($props.config.$specPath)\" class=\"far fa-arrows-alt\" v-tooltip=\"'Move widget'\"/> -->\n\t\t\t<a @click=\"$mgFormEditor.moveWidget($props.config.$specPath, 'up')\" class=\"far fa-arrow-up\" v-tooltip=\"'Move widget up'\"/>\n\t\t\t<a @click=\"$mgFormEditor.moveWidget($props.config.$specPath, 'down')\" class=\"far fa-arrow-down\" v-tooltip=\"'Move widget down'\"/>\n\t\t\t<a @click.stop=\"$mgFormEditor.removeWidget($props.config.$specPath)\" class=\"far fa-trash danger\" v-tooltip=\"'Delete widget'\"/>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n/* Component outlines {{{ */\n/* Neutral / Deselected {{{ */\n.mg-form-editor .mg-component {\n\tborder: 2px solid transparent;\n\tborder-radius: 5px;\n}\n/* }}} */\n/* Hover {{{ */\n.mg-form-editor .mg-component.editHover {\n\tborder: 2px dashed var(--mg-form-editor-hover-bg);\n}\n/* }}} */\n/* Editing {{{ */\n.mg-form-editor .mg-component.editEditing {\n\tborder: 2px solid var(--mg-form-editor-selected-bg);\n}\n/* }}} */\n/* }}} */\n\n/* Edit controls {{{ */\n.mg-form-editor-controls {\n\tposition: absolute;\n\ttransform: translate(2px, -30px);\n\twidth: calc(100% - 20px);\n}\n\n/* Title {{{ */\n.mg-form-editor-controls .mg-form-editor-controls-title,\n.mg-form-editor-controls .mg-form-editor-controls-buttons {\n\tborder-top-left-radius: 5px;\n\tborder-top-right-radius: 5px;\n\tpadding: 2px 8px;\n}\n\n.mg-form-editor-controls .mg-form-editor-controls-title {\n\tdisplay: inline-block;\n}\n\n.mg-component.editHover .mg-form-editor-controls-title {\n\tbackground: var(--mg-form-editor-hover-bg);\n\tcolor: var(--mg-form-editor-hover-fg);\n}\n\n.mg-component.editEditing .mg-form-editor-controls-title {\n\tbackground: var(--mg-form-editor-selected-bg);\n\tcolor: var(--mg-form-editor-selected-fg);\n}\n\n.mg-component .mg-form-editor-controls-title .mg-form-editor-controls-id {\n\tfont-weight: bold;\n}\n/* }}} */\n\n/* Buttons {{{ */\n.mg-form-editor-controls .mg-form-editor-controls-buttons {\n\tdisplay: none;\n\tfloat: right;\n\tbackground: var(--mg-form-editor-selected-bg);\n\tcolor: var(--mg-form-editor-selected-fg);\n}\n\n.mg-component.editEditing .mg-form-editor-controls .mg-form-editor-controls-buttons {\n\tdisplay: inline-block;\n}\n\n.mg-component.editEditing .mg-form-editor-controls .mg-form-editor-controls-buttons > a {\n\tborder-radius: 50%;\n\tpadding: 4px 5px;\n}\n\n.mg-component.editEditing .mg-form-editor-controls .mg-form-editor-controls-buttons > a:hover {\n\tbackground: var(--mg-form-editor-selected-highlight);\n}\n\n.mg-component.editEditing .mg-form-editor-controls .mg-form-editor-controls-buttons > a.danger:hover {\n\tbackground: var(--mg-form-editor-selected-danger);\n}\n/* }}} */\n/* }}} */\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$o = undefined;
    /* module identifier */
    const __vue_module_identifier__$o = undefined;
    /* functional template */
    const __vue_is_functional_template__$o = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$o = normalizeComponent(
      { render: __vue_render__$i, staticRenderFns: __vue_staticRenderFns__$i },
      __vue_inject_styles__$o,
      __vue_script__$o,
      __vue_scope_id__$o,
      __vue_is_functional_template__$o,
      __vue_module_identifier__$o,
      false,
      createInjector,
      undefined,
      undefined
    );

  /**
  * mg-form-editor - Drag-and-drop form designer for MacGyver
  *
  * @param {Object|Array} config mgForm compatible spec to edit
  * @param {Object} [data] Optional data bindings for the form
  * @param {array<Object>} [verbs] Verb edit mgForm to show in the small edit sidebar, defaults to selecting widgets / adding widgets buttons
  * @param {string} [asideClassActive="mgfe-aside aside-right open"] Class to set all editing sidebars to when inactive
  * @param {string} [asideClassInactive="mgfe-aside aside-right"] Class to set all editing sidebar to when inactive
  * @param {string} [asideClassModeCollapsed="aside-sm"] Class to associate with the smaller toolkit display when editing
  * @param {string} [asideClassModeToc="aside-sm"] Class to associate with the Table-Of-Contents sidebar
  * @param {string} [asideClassModeAdding=""] Class to associate with the editing sidebar when adding
  * @param {string} [asideClassModeEditing=""] Class to associate with the editing sidebar when editing
  *
  * @emits change Emitted as `(config)` on any item configuration change. WARNING, subscribing to this involves an entire deep copy of the config structure, subscribe to changeItem if possible
  * @emits changeItem Emitted as `({path, value})` when a single config item changes, inexpensive compared to `change`
  */

  var script$o = Vue.component('mgFormEditor', {
    provide: function provide() {
      return {
        $mgFormEditor: this
      };
    },
    components: {
      mgFormEditorControls: __vue_component__$o
    },
    data: function data() {
      return {
        mode: 'collapsed',
        // ENUM: collapsed, toc, editing, adding
        id: this.$macgyver.nextId(),
        // ID of the editing form item
        editing: undefined,
        // The active item we are editing
        widgetListMode: 'grid',
        // Asides
        editConfig: [],
        editData: {},
        addTarget: undefined,
        // Spec path to add after, if any
        addOrientation: 'after'
      };
    },
    props: {
      // FIXME: Does not like array type specs.
      config: [Object, Array],
      // Can be a single object, array of objects or shorthand style
      data: Object,
      asideClassActive: {
        type: String,
        "default": 'mgfe-aside aside-right open'
      },
      asideClassInactive: {
        type: String,
        "default": 'mgfe-aside aside-right'
      },
      asideClassModeCollapsed: {
        type: String,
        "default": 'aside-sm'
      },
      asideClassModeToc: {
        type: String,
        "default": ''
      },
      asideClassModeAdding: {
        type: String,
        "default": ''
      },
      asideClassModeEditing: {
        type: String,
        "default": ''
      },
      generalVerbs: {
        type: Array,
        "default": function _default() {
          var _this$$prompt;

          return [{
            type: 'mgButton',
            action: "setMode()",
            "class": 'btn btn-primary text-white px-2',
            icon: 'fa fa-mouse-pointer fa-fw',
            showTitle: false,
            // FIXME: Why were tooltips failing as Object type?
            tooltip: 'Select widgets to edit' //tooltip: "{content: 'Select widgets to edit', placement: 'left'}",

          }, {
            type: 'mgButton',
            action: "setMode('toc')",
            "class": 'btn btn-outline-light border-0 px-2',
            icon: 'fa fa-stream fa-fw',
            showTitle: false,
            tooltip: 'Select widgets to edit' //tooltip: {content: 'Select widgets to edit', placement: 'left'},

          }].concat(_toConsumableArray(((_this$$prompt = this.$prompt) === null || _this$$prompt === void 0 ? void 0 : _this$$prompt.macgyver) ? [{
            // Include JSON editing if $prompt.macgyver() is available
            type: 'mgButton',
            action: "rawEdit()",
            "class": 'btn btn-outline-light border-0 px-2',
            icon: 'fa fa-code fa-fw',
            showTitle: false,
            tooltip: 'Edit the form contents as JSON' //tooltip: {content: 'Edit the form contents as JSON', placement: 'left'},

          }] : []), [{
            type: 'mgButton',
            action: "setMode('adding')",
            "class": 'btn btn-outline-light border-0 px-2',
            icon: 'far fa-plus fa-fw',
            showTitle: false,
            tooltip: 'Add a new widget' //tooltip: {content: 'Add a new widget', placement: 'left'},

          }]);
        }
      }
    },
    created: function created() {
      this.$debugging = true;
    },
    mounted: function mounted() {
      var _this = this;

      /*
      // Potential for highlighting components within nested mgContainer
      this.$refs.form.$on('mgComponent.click', (component, e) => {
      	e.stopPropagation();
      	e.preventDefault();
      	this.editWidget(component.config.$specPath);
      });
      	this.$refs.form.$on('mgComponent.mouseEnter', (component, e) => {
      	if (component.config.type === 'mgContainer') return;
      	e.stopPropagation();
      	//e.preventDefault();
      	var target = this.$refs.form.getComponentBySpecPath(component.config.$specPath);
      	//if (target.$type === 'mgContainer') return;
      	// FIXME: Always 2 parents up? Traverse up to next highest mgContainer?
      	var container = target.$parent.$parent;
      	if (!container) return;
      	var targetIndex = container.findChildIndex(target);
      	container.$set(container.highlights, targetIndex, (container.highlights[targetIndex] || []).concat(['editHover']));
      });
      	this.$refs.form.$on('mgComponent.mouseLeave', (component, e) => {
      	if (component.config.type === 'mgContainer') return;
      	e.stopPropagation();
      	//e.preventDefault();
      	var target = this.$refs.form.getComponentBySpecPath(component.config.$specPath);
      	//if (target.$type === 'mgContainer') return;
      	// FIXME: Always 2 parents up? Traverse up to next highest mgContainer?
      	var container = target.$parent.$parent;
      	if (!container) return;
      	var targetIndex = container.findChildIndex(target);
      	container.$set(container.highlights, targetIndex, (container.highlights[targetIndex] || []).filter(c => c != 'editHover'));
      });
      */
      // FIXME: (e.target).closest... mg-container CSS class...
      this.$refs.form.$on('mgContainer.click', function (container, specPath, componentIndex, e) {
        e.stopPropagation();
        e.preventDefault();

        _this.editWidget(specPath);
      });
      this.$refs.form.$on('mgContainer.mouseEnter', function (container, specPath, componentIndex, e) {
        var component = _this.$refs.form.getComponentBySpecPath(specPath);

        var componentIndex = container.findChildIndex(component);
        container.$set(container.highlights, componentIndex, (container.highlights[componentIndex] || []).concat(['editHover']));
      });
      this.$refs.form.$on('mgContainer.mouseLeave', function (container, specPath, componentIndex, e) {
        var component = _this.$refs.form.getComponentBySpecPath(specPath);

        var componentIndex = container.findChildIndex(component);
        container.$set(container.highlights, componentIndex, (container.highlights[componentIndex] || []).filter(function (c) {
          return c != 'editHover';
        }));
      });
    },
    methods: {
      /**
      * Stop editing / adding and return to regular mode
      * @param {string} [mode="collapsed"] Mode to switch to
      * @param {boolean} [clearHighlight=true] Also attempt to clear out any highlight and reset the aside panes
      */
      setMode: function setMode() {
        var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'collapsed';
        var clearHighlight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        // Deselect the existing item (if we have one)
        if (this.editing && clearHighlight) {
          this.setComponentHighlight(this.editing, []);
          this.editing = undefined;
        }

        this.$set(this, 'mode', mode || 'collapsed');
        return true; // Signal to mgForm that we have handled this action
      },

      /**
      * Delete the active widget
      */
      deleteWidget: function deleteWidget() {
        if (!this.editing) {
          this.$macgyver.notify.warn('No widget selected to delete'); // Not editing anyway
        } else {
          this.removeWidget(this.editing.$props.$specPath);
        }

        return true; // Signal to mgForm that we have handled this action
      },

      /**
      * Set the component.highlight[index] to the given list of CSS classes
      * @param {VueController} component The VueController to set the highlight of within its mgContainer
      * @param {array<string>} classes Array of string classes to set
      */
      setComponentHighlight: function setComponentHighlight(component, classes) {
        if (!_.isArray(classes)) throw new Error('setComponentHighlight must be passed an array');
        var container = false;
        component.$emit.up('mgIdentify', function (component) {
          if (!container && component.$props.$type == 'mgContainer') container = component;
        });
        if (!container) return console.warn('[mgFormEditor] setComponentHighlight component failed to find enclosing container', {
          component: component
        });
        var childOffset = container.findChildIndex(component);
        if (childOffset === false) return console.warn('[mgFormEditor]', 'Cannot locate component within container', {
          container: container,
          component: component
        });
        console.log('Set highlight', childOffset, classes);
        container.$set(container.highlights, childOffset, classes);
      },

      /**
      * Edit a widget by its specPath or component
      * @param {VueComponent|string} component Either the VueComponent to edit or the specPath of the widget to edit
      */
      editWidget: function editWidget(component) {
        var component; // The Vue component from the widget path

        if (!_.isObject(component) && !_.isString(component)) throw new Error('editWidget requires either a specPath or VueComponent');
        if (_.isObject(component) && !component._uid) throw new Error('editWidget() requires a valid VueComponent object (or specPath string)');
        if (_.isString(component) || _.isArray(component)) component = this.$refs.form.getComponentBySpecPath(component); // Resolve specPath into actual component if eneded

        this.setMode();
        this.$set(this, 'editing', component);
        this.$set(this, 'mode', 'editing');
        this.setComponentHighlight(component, ['editEditing']);
        var widget = this.$macgyver.widgets[component.$props.$type];

        if (widget) {
          this.$set(this, 'editConfig', [{
            // Header area
            type: 'mgContainer',
            layout: 'columns',
            border: false,
            rowClass: 'aside-header',
            showTitle: false,
            items: [{
              id: 'metaIcon',
              type: 'mgIcon'
            }, {
              id: 'id',
              type: 'mgText',
              placeholder: 'No ID'
            }, {
              type: 'mgContainer',
              layout: 'columns',
              border: false,
              showTitle: false,
              rowClass: 'aside-actions',
              items: [{
                type: 'mgButton',
                action: 'deleteWidget',
                "class": 'btn btn-link btn-link-danger btn-xs',
                icon: 'far fa-trash',
                tooltip: 'Delete this widget'
              }, {
                type: 'mgButton',
                action: 'setMode',
                text: '',
                "class": 'btn btn-link btn-xs',
                icon: 'far fa-times'
              }]
            }]
          }, {
            // Body area
            type: 'mgContainer',
            layout: 'form',
            formClass: 'titles-above',
            rowClass: 'aside-body',
            showTitle: false,
            items: _.map(widget.props, function (v, k) {
              return _.set(v, 'id', k);
            })
          }]);
          this.$debug('Set editConfig', this.editConfig);
          this.$set(this, 'editData', _(widget.props).mapValues(function (v, k) {
            return _.get(component.$props, k, _.get(widget.props, k)["default"]);
          }).set('id', component.$props.$dataPath).set('metaIcon', widget.meta.icon).value());
          this.$debug('Set editData', this.editData);
        } else {
          var _component$$props;

          this.$macgyver.notify.warn("Cannot edit unknown widget \"".concat(((_component$$props = component.$props) === null || _component$$props === void 0 ? void 0 : _component$$props.$type) || 'Unknown type', "\""));
          this.setMode();
        }
      },

      /**
      * Change the value of a nested config path
      * @param {string} path The dotted / array notation path to mutate
      * @param {*} value The value to set, if undefined the key is removed
      * @emits change Emitted with the entire deep copied config object
      * @emits changeItem Emitted as `{path, value}` for a single item mutation
      */
      mutatePath: function mutatePath(path, value) {
        console.log('mutatePath', path, value); // Only bother cloning the entire object if something is listening to 'change'

        if (this.$emit.hasListeners('change')) {
          var configCopy = _.cloneDeep(this.config);

          this.$setPath(configCopy, path, value);
          this.$emit('change', configCopy);
        }

        this.$emit('changeItem', {
          path: path,
          value: value
        });
      },

      /**
      * Splice items into a deep copy of the config object, emitting change events
      * @param {string} path The dotted / array notation path to mutate
      * @param {number} index The index to work from
      * @param {number} [remove] The number of items to remove
      * @param {*} [value...] The value(s) to set, if undefined the key is removed
      * @emits change Emitted with the entire deep copied config object
      * @emits changeItem Emitted as `{path, value}` for a single item mutation
      */
      mutateSplice: function mutateSplice(path, index, remove) {
        console.log('mutateSplice', path, index, remove);

        var configCopy = _.cloneDeep(this.config); // Copy entire object


        var spliceContents = _.get(configCopy, path); // Extract path from nested object


        if (!_.isArray(spliceContents)) throw new Error('Refusing to splice a non-array');

        for (var _len = arguments.length, value = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
          value[_key - 3] = arguments[_key];
        }

        spliceContents.splice.apply(spliceContents, [index, remove].concat(value)); // Perform splice

        this.$setPath(configCopy, path, spliceContents); // Place back in mutated object

        this.$emit('change', configCopy);
        this.$emit('changeItem', {
          path: path,
          value: spliceContents
        });
      },

      /**
      * Insert a widget at a given path
      * @param {Object} widget The widget to insert, this must contain at least a `type` key
      * @param {Object} [options] Additional options
      * @param {string|array} [options.specPath] The lodash notation specPath to target instead of the last element on the form
      * @param {string} [options.orientation='after'] Where to insert. ENUM: 'before', 'after', 'last'
      * @param {boolean} [options.useContainer=true] If no spec path, try and fit the new widget within the last container if one exists
      * @param {boolean} [options.allocateTitle=true] Try to allocate a title if not supplied
      * @param {boolean} [options.allocateId=true] Try to allocate an ID if not supplied and the widget has `preferId`
      * @param {boolean} [options.edit=true] Show the edit dialog after inserting the component
      * @returns {Object} The inserted widget object (complete with ID if allocateId is specified)
      */
      insertWidget: function insertWidget(widget, options) {
        var _$last;

        console.log('insertWidget', widget, options);

        var settings = _objectSpread2({
          specPath: undefined,
          orientation: 'after',
          useContainer: true,
          allocateTitle: true,
          allocateId: true,
          edit: true
        }, options);

        if (!widget.type) throw new Error('Widget.type must be specified as a minimum for insertWidget()'); // Ensure containers have items

        if (widget.type === 'mgContainer' && !widget.items) widget.items = []; // options.allocateTitle / settings.alloacteId {{{

        if ( // A field we want is missing
        settings.allocateTitle && !widget.title || settings.allocateId && !widget.id) {
          // Compute how many of this widget are on the form
          var widgetOffset = this.$macgyver.flatten(this.$props.config, {
            want: 'array',
            type: 'spec'
          }).reduce(function (i, w) {
            return w.type == widget.type ? i + 1 : i;
          }, 0);
          if (settings.allocateTitle && !widget.title) widget.title = this.$macgyver.widgets[widget.type].meta.title + String(widgetOffset == 0 ? '' : widgetOffset); // Guess at an ID

          if (settings.allocateId && !widget.id && this.$macgyver.widgets[widget.type].meta.preferId) widget.id = _.chain(widget.type).replace(/^mg/, '') // Remove first `mg` bit
          .camelCase().replace(/$/, widgetOffset == 0 ? '' : widgetOffset) // Append numeric offset (if there is more than one of this type)
          .value();
        } // }}}
        // FIXME: Support for array specs without a root mgContainer.


        switch (settings.orientation) {
          case 'last':
            if ( // Container -> Container:Last -> New widget
            settings.useContainer // Insert within container?
            && this.config.type == 'mgContainer' // First item is a container
            && ((_$last = _.last(this.config.items)) === null || _$last === void 0 ? void 0 : _$last.type) == 'mgContainer' // Last child is also a container - use this
            ) {
                var _$last2;

                this.mutateSplice("items.".concat(this.config.items.length - 1, ".items"), ((_$last2 = _.last(this.config.items)) === null || _$last2 === void 0 ? void 0 : _$last2.items.length) || 0, 0, widget);
              } else if ( // Container:Last -> New widget
            settings.useContainer // Insert within container?
            && this.config.type == 'mgContainer' // First item is a container
            ) {
                this.mutateSplice('items', this.config.items.length, 0, widget);
              } else if (_.isArray(this.config)) {
              // Append to end of config array
              this.mutateSplice('', this.config.items.length, 0, widget);
            } else {
              throw new Error('Dont know how to append widget to form config');
            }

            break;

          case 'before':
          case 'after':
            if (!settings.specPath) throw new Error('Inserting with orientations before / after requires a specPath');
            var parentItems = _.isArray(settings.specPath) ? settings.specPath : settings.specPath.split('.');
            var targetWidget = parentItems.pop();
            this.mutateSplice(parentItems, settings.orientation == 'after' ? +targetWidget + 1 : targetWidget, 0, widget);
            break;

          default:
            throw new Error("Dont know how to handle insert of component at with orientation \"".concat(settings.orientation, "\""));
        }

        if (settings.edit) {
          console.warn('FIXME: Unsupported post edit when editing components'); // this.editWidget(widget.id);
        }

        return widget;
      },

      /**
      * Remove a widget by its specPath
      * @param {string|array} specPath The lodash notation specPath to remove
      */
      removeWidget: function removeWidget(specPath) {
        this.setMode(); // Reset mode to close edit panel
        // FIXME: Splitting non-array, condition backwards?

        var parentItems = _.isArray(specPath) ? specPath : specPath.split('.');
        var targetIndex = parentItems.pop();
        this.mutateSplice(parentItems, targetIndex, 1);
      },

      /**
      * Duplicate a widget by its specPath
      * @param {string|array} specPath The lodash notation specPath to remove
      */
      duplicateWidget: function duplicateWidget(specPath) {
        var _this2 = this;

        var parentItems = _.isArray(specPath) ? specPath : specPath.split('.');
        var targetIndex = parentItems.pop();
        this.setMode(); // Reset mode to close edit panel

        this.mutatePath(parentItems, _(_.get(this.config, parentItems)).map(function (v, i) {
          return i == targetIndex // Duplicate this item when we find its index
          ? [v, // Original object
          _.chain(v).cloneDeep().pickBy(function (v, k) {
            return !k.startsWith('$');
          }).set('id', _this2.$macgyver.utils.incrementId(v.id)) // Also increment its ID
          .value()] : v;
        }).flatten().value());
      },

      /**
      * Move a widget in a given direction
      * @param {string|array} specPath The lodash notation SpecPath to move
      * @param {string} direction The direction to move. ENUM: 'up', 'down'
      */
      moveWidget: function moveWidget(specPath, direction) {
        if (!['up', 'down'].includes(direction)) throw new Error('Unsupported direction');
        var parentItems = _.isArray(specPath) ? specPath : specPath.split('.');
        var targetIndex = parentItems.pop();
        this.setMode(); // Reset mode to close edit panel

        this.mutatePath(parentItems, _.chain(_.get(this.config, parentItems)).clone().thru(function (v) {
          targetIndex = +targetIndex; // Splat into number

          if (direction == 'up' && targetIndex > 0) {
            var _ref = [v[targetIndex - 1], v[targetIndex]];
            v[targetIndex] = _ref[0];
            v[targetIndex - 1] = _ref[1];
          } else if (direction == 'down' && targetIndex < v.length) {
            console.log('SWAP', targetIndex, targetIndex + 1);
            var _ref2 = [v[targetIndex + 1], v[targetIndex]];
            v[targetIndex] = _ref2[0];
            v[targetIndex + 1] = _ref2[1];
          }

          return v;
        }).value());
      },

      /**
      * Begin drag sequence for a widget
      * @param {string|array} specPath The lodash notation SpecPath to drag
      */
      dragWidget: function dragWidget(specPath) {
        console.warn('FIXME: dragWidget() not yet supported');
      },
      rawEdit: function rawEdit() {
        var _this3 = this;

        this.$prompt.macgyver({
          title: 'Template JSON',
          macgyver: {
            id: 'code',
            type: 'mgCode',
            syntax: 'json',
            convert: true,
            "default": this.$props.config
          }
        }).then(function (form) {
          return _this3.$set(_this3, 'config', form.code);
        });
      },
      // Form layouts {{{

      /**
      * Generate the config layout for the Table-Of-Contents sidebar
      */
      generateConfigToc: function generateConfigToc() {
        var _this4 = this;

        var genTreeBranch = function genTreeBranch(root) {
          return root.map(function (widget) {
            return {
              title: "".concat(widget.type, " #").concat(widget.id),
              icon: _this4.$macgyver.widgets[widget.type].icon,
              "enum": widget.items ? genTreeBranch(widget.items) : undefined
            };
          });
        };

        return [{
          // Header area
          type: 'mgContainer',
          layout: 'columns',
          border: false,
          rowClass: 'aside-header',
          showTitle: false,
          items: [{
            type: 'mgHeading',
            text: 'Form layout'
          }, {
            type: 'mgContainer',
            layout: 'columns',
            border: false,
            showTitle: false,
            rowClass: 'aside-actions',
            items: [{
              type: 'mgButton',
              action: 'setMode',
              text: '',
              "class": 'btn btn-link btn-xs',
              icon: 'far fa-times'
            }]
          }]
        }, {
          // Body area
          type: 'mgContainer',
          layout: 'form',
          rowClass: 'aside-body',
          showTitles: false,
          items: [{
            type: 'mgChoiceTree',
            title: 'Layout tree',
            change: function change(item) {
              console.log('TREE CLICK', item);
            },
            "enum": genTreeBranch([this.$macgyver.compileSpec(this.$props.config, {
              clone: false
            }).spec])
          }]
        }];
      },

      /**
      * Generate the config layout for the "add widget" sidebar
      */
      generateConfigAdding: function generateConfigAdding() {
        var _this5 = this;

        return [{
          // Header area
          type: 'mgContainer',
          layout: 'columns',
          border: false,
          rowClass: 'aside-header',
          showTitle: false,
          items: [{
            type: 'mgHeading',
            text: 'Add widget'
          }, {
            type: 'mgContainer',
            layout: 'columns',
            border: false,
            showTitle: false,
            rowClass: 'aside-actions',
            items: [{
              type: 'mgButton',
              action: 'setMode',
              text: '',
              "class": 'btn btn-link btn-xs',
              icon: 'far fa-times'
            }]
          }]
        }, {
          // Body area
          type: 'mgContainer',
          layout: 'form',
          rowClass: 'aside-body',
          showTitles: false,
          items: [{
            id: 'addType',
            type: 'mgChoiceList',
            title: 'Widget type to add',
            "enum": _(this.$macgyver.widgets).map(function (w, k) {
              return {
                id: k,
                title: w.meta.title,
                icon: "".concat(w.meta.icon, " fa-fw")
              };
            }).sortBy('title').value(),
            change: function change(type) {
              var inserted = _this5.insertWidget({
                type: type
              }, {
                orientation: 'last',
                useContainer: true,
                edit: true
              });
            }
          }]
        }];
      } // }}}

    }
  });

  /* script */
  const __vue_script__$p = script$o;

  /* template */
  var __vue_render__$j = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "mg-form-editor" },
      [
        _c(
          "aside",
          {
            class: [
              _vm.mode == "collapsed"
                ? _vm.$props.asideClassActive
                : _vm.$props.asideClassInactive,
              _vm.$props.asideClassModeCollapsed
            ]
          },
          [
            _vm.mode == "collapsed"
              ? _c("mg-form", {
                  attrs: {
                    form: _vm.id + "-collapsed",
                    config: _vm.$props.generalVerbs,
                    actions: { setMode: _vm.setMode, rawEdit: _vm.rawEdit }
                  }
                })
              : _vm._e()
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "aside",
          {
            class: [
              _vm.mode == "toc"
                ? _vm.$props.asideClassActive
                : _vm.$props.asideClassInactive,
              _vm.$props.asideClassModeToc
            ]
          },
          [
            _vm.mode == "toc"
              ? _c("mg-form", {
                  attrs: {
                    form: _vm.id + "-toc",
                    config: _vm.generateConfigToc(),
                    actions: { setMode: _vm.setMode }
                  }
                })
              : _vm._e()
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "aside",
          {
            class: [
              _vm.mode == "adding"
                ? _vm.$props.asideClassActive
                : _vm.$props.asideClassInactive,
              _vm.$props.asideClassModeAdding
            ]
          },
          [
            _vm.mode == "adding"
              ? _c("mg-form", {
                  ref: "formAdd",
                  attrs: {
                    config: _vm.generateConfigAdding(),
                    actions: { setMode: _vm.setMode }
                  }
                })
              : _vm._e()
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "aside",
          {
            class: [
              _vm.mode == "editing"
                ? _vm.$props.asideClassActive
                : _vm.$props.asideClassInactive,
              _vm.$props.asideClassModeEditing
            ]
          },
          [
            _vm.mode == "editing"
              ? _c("mg-form", {
                  attrs: {
                    form: _vm.id + "-edit",
                    config: _vm.editConfig,
                    data: _vm.editData,
                    actions: {
                      setMode: _vm.setMode,
                      deleteWidget: _vm.deleteWidget
                    }
                  },
                  on: {
                    changeItem: function($event) {
                      return _vm.mutatePath(
                        _vm.editing.$specPath + "." + $event.path,
                        $event.value
                      )
                    }
                  }
                })
              : _vm._e()
          ],
          1
        ),
        _vm._v(" "),
        _c("mg-form", {
          ref: "form",
          attrs: { config: _vm.$props.config, data: _vm.$props.data }
        })
      ],
      1
    )
  };
  var __vue_staticRenderFns__$j = [];
  __vue_render__$j._withStripped = true;

    /* style */
    const __vue_inject_styles__$p = function (inject) {
      if (!inject) return
      inject("data-v-f87d1b62_0", { source: "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Variables {{{ */\n:root {\n\t--mg-form-editor-selected-bg: #007bff;\n\t--mg-form-editor-selected-fg: #fff;;\n\t--mg-form-editor-selected-highlight: #5dabff;\n\t--mg-form-editor-selected-danger: #dc3545;\n\t--mg-form-editor-hover-bg: #77b9ff;\n\t--mg-form-editor-hover-fg: #fff;\n}\n/* }}} */\n\n/* Aside styles - .mgfe-aside {{{ */\n.mgfe-aside {\n\ttransition: transform 0.2s ease-out;\n}\n.mgfe-aside .mg-form {\n\tmargin: 0;\n}\n.mgfe-aside.aside-right.open.open { /* Silly hack to force the transform when open (overrides .asign-sm in priority) */\n\ttransform: translateX(0px);\n}\n.mgfe-aside.aside-right {\n\tposition: fixed;\n\ttop: 0px;\n\tright: 0px;\n\tbottom: 0px;\n\tbackground: #FFF;\n\tz-index: 100;\n\tbox-shadow: 0 1px 5px rgba(0,0,0,.3);\n\twidth: 350px;\n\ttransform: translateX(380px);\n}\n\n/* .mgfe-aside-sm {{{ */\n.mgfe-aside.aside-right.aside-sm {\n\twidth: 40px;\n\ttransform: translateX(50px);\n\ttop: calc(50% - 30px); /* Approx middle of the screen */\n\tbottom: inherit;\n\tborder-radius: 5px;\n}\n.mgfe-aside.aside-right.aside-sm .form-group {\n\tmargin: 0;\n}\n\n/* Remove BS padding from sub-elements */\n.mgfe-aside.aside-right.aside-sm .form-group [class*=\"col-\"] {\n\tpadding: 0;\n}\n/* }}} */\n\n/* Headers {{{ */\n.mgfe-aside .aside-header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tborder-bottom: 1px solid #e9ecef;\n\tmargin: 0;\n}\n.mgfe-aside .aside-header h4 {\n\tflex-grow: 1;\n}\n.mgfe-aside .aside-header legend.form-control-static {\n\tborder-bottom: none;\n\tfont-size: 17pt;\n}\n.mgfe-aside .aside-header .close {\n\tcolor: #5e5e5e;\n}\n.mgfe-aside .aside-header .close:hover {\n\tcolor: #000;\n}\n.mgfe-aside .aside-header .close::after {\n\tdisplay: inline-block;\n\tfont-family: 'Font Awesome 5 Pro';\n\tfont-weight: 900;\n\tcontent: \"\\f00d\";\n}\n/* }}} */\n\n/* Actions {{{ */\n.mgfe-aside .aside-actions {\n\tjustify-self: flex-end;\n\tmargin-right: 10px;\n}\n.mgfe-aside .aside-actions .btn-group {\n\tborder: none;\n\tbox-shadow: none;\n}\n.mgfe-aside .aside-actions a {\n\tpadding: 8px;\n\tfont-size: 125%;\n}\n/* }}} */\n\n/* Body {{{ */\n.mgfe-aside .aside-body {\n\tmargin-left: 0;\n\tmargin: 10px 0 0;\n\n\t/* Body scrolling */\n\toverflow: auto;\n\theight: calc(100vh - 80px);\n}\n/* }}} */\n/* }}} */\n\n/* Component highlighting {{{\n\n/* Highlight applied to active elements inside an mgContainer */\n.mg-form-editor-target {\n\tborder: 2px solid var(--blue);\n\tborder-radius: 5px;\n\tposition: relative;\n\ttop: -4px;\n\tleft: -4px;\n\tpadding: 2px;\n}\n.mg-form-editor-drop-target {\n}\n.mg-form-editor-drop-target-before {\n\tborder-top: 4px dashed var(--blue);\n}\n.mg-form-editor-drop-target-after {\n\tborder-bottom: 4px dashed var(--blue);\n}\n/* }}} */\n\n/* Drag + Drop {{{ */\nbody.mg-form-editor-dragging * {\n\tcursor: grabbing;\n}\n#mg-form-editor-drag {\n\tdisplay: block;\n\tz-index: 1000;\n\tposition: absolute;\n\ttop: -10000px;\n\tleft: -10000px;\n\tmin-width: 160px;\n\theight: 40px;\n\tborder-radius: 5px;\n\tbackground: #2196F3;\n\tbox-shadow: 1px 1px 4px rgba(0,0,0,.3);\n\tpadding: 10px;\n\tcolor: #FFF;\n}\n#mg-form-editor-drag > i {\n\tmargin-right: 5px;\n}\n/* }}} */\n\n/* Misc fixes {{{ */\n/* Buttons that are also fixed with look weird */\n.mg-form-editor .btn.fa-fw {\n\twidth: 2.30em;\n\tpadding: 4px 2px !important;\n}\n/* }}} */\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgFormEditor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkrBA,kBAAA;AACA;CACA,qCAAA;CACA,kCAAA;CACA,4CAAA;CACA,yCAAA;CACA,kCAAA;CACA,+BAAA;AACA;AACA,QAAA;;AAEA,mCAAA;AACA;CACA,mCAAA;AACA;AAEA;CACA,SAAA;AACA;AAEA,oCAAA,kFAAA;CACA,0BAAA;AACA;AAEA;CACA,eAAA;CACA,QAAA;CACA,UAAA;CACA,WAAA;CACA,gBAAA;CACA,YAAA;CACA,oCAAA;CACA,YAAA;CACA,4BAAA;AACA;;AAEA,uBAAA;AACA;CACA,WAAA;CACA,2BAAA;CACA,qBAAA,EAAA,gCAAA;CACA,eAAA;CACA,kBAAA;AACA;AAEA;CACA,SAAA;AACA;;AAEA,wCAAA;AACA;CACA,UAAA;AACA;AACA,QAAA;;AAEA,gBAAA;AACA;CACA,aAAA;CACA,mBAAA;CACA,yBAAA;CACA,gCAAA;CACA,SAAA;AACA;AAEA;CACA,YAAA;AACA;AAEA;CACA,mBAAA;CACA,eAAA;AACA;AAEA;CACA,cAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,qBAAA;CACA,iCAAA;CACA,gBAAA;CACA,gBAAA;AACA;AACA,QAAA;;AAEA,gBAAA;AACA;CACA,sBAAA;CACA,kBAAA;AACA;AAEA;CACA,YAAA;CACA,gBAAA;AACA;AAEA;CACA,YAAA;CACA,eAAA;AACA;AACA,QAAA;;AAEA,aAAA;AACA;CACA,cAAA;CACA,gBAAA;;CAEA,mBAAA;CACA,cAAA;CACA,0BAAA;AACA;AACA,QAAA;AACA,QAAA;;AAEA;;+DAEA;AACA;CACA,6BAAA;CACA,kBAAA;CACA,kBAAA;CACA,SAAA;CACA,UAAA;CACA,YAAA;AACA;AAEA;AACA;AAEA;CACA,kCAAA;AACA;AAEA;CACA,qCAAA;AACA;AACA,QAAA;;AAEA,oBAAA;AACA;CACA,gBAAA;AACA;AAEA;CACA,cAAA;CACA,aAAA;CACA,kBAAA;CACA,aAAA;CACA,cAAA;CACA,gBAAA;CACA,YAAA;CACA,kBAAA;CACA,mBAAA;CACA,sCAAA;CACA,aAAA;CACA,WAAA;AACA;AAEA;CACA,iBAAA;AACA;AACA,QAAA;;AAEA,mBAAA;AACA,gDAAA;AACA;CACA,aAAA;CACA,2BAAA;AACA;AACA,QAAA","file":"mgFormEditor.vue","sourcesContent":["<script>\nimport mgFormEditorControls from './mgFormEditorControls';\n\n/**\n* mg-form-editor - Drag-and-drop form designer for MacGyver\n*\n* @param {Object|Array} config mgForm compatible spec to edit\n* @param {Object} [data] Optional data bindings for the form\n* @param {array<Object>} [verbs] Verb edit mgForm to show in the small edit sidebar, defaults to selecting widgets / adding widgets buttons\n* @param {string} [asideClassActive=\"mgfe-aside aside-right open\"] Class to set all editing sidebars to when inactive\n* @param {string} [asideClassInactive=\"mgfe-aside aside-right\"] Class to set all editing sidebar to when inactive\n* @param {string} [asideClassModeCollapsed=\"aside-sm\"] Class to associate with the smaller toolkit display when editing\n* @param {string} [asideClassModeToc=\"aside-sm\"] Class to associate with the Table-Of-Contents sidebar\n* @param {string} [asideClassModeAdding=\"\"] Class to associate with the editing sidebar when adding\n* @param {string} [asideClassModeEditing=\"\"] Class to associate with the editing sidebar when editing\n*\n* @emits change Emitted as `(config)` on any item configuration change. WARNING, subscribing to this involves an entire deep copy of the config structure, subscribe to changeItem if possible\n* @emits changeItem Emitted as `({path, value})` when a single config item changes, inexpensive compared to `change`\n*/\nexport default Vue.component('mgFormEditor', {\n\tprovide() { return {\n\t\t$mgFormEditor: this,\n\t}},\n\tcomponents: {\n\t\tmgFormEditorControls,\n\t},\n\tdata() { return {\n\t\tmode: 'collapsed', // ENUM: collapsed, toc, editing, adding\n\t\tid: this.$macgyver.nextId(), // ID of the editing form item\n\t\tediting: undefined, // The active item we are editing\n\t\twidgetListMode: 'grid',\n\n\t\t// Asides\n\t\teditConfig: [],\n\t\teditData: {},\n\n\t\taddTarget: undefined, // Spec path to add after, if any\n\t\taddOrientation: 'after',\n\t}},\n\tprops: {\n\t\t// FIXME: Does not like array type specs.\n\t\tconfig: [Object, Array], // Can be a single object, array of objects or shorthand style\n\t\tdata: Object,\n\t\tasideClassActive: {type: String, default: 'mgfe-aside aside-right open'},\n\t\tasideClassInactive: {type: String, default: 'mgfe-aside aside-right'},\n\t\tasideClassModeCollapsed: {type: String, default: 'aside-sm'},\n\t\tasideClassModeToc: {type: String, default: ''},\n\t\tasideClassModeAdding: {type: String, default: ''},\n\t\tasideClassModeEditing: {type: String, default: ''},\n\t\tgeneralVerbs: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'mgButton',\n\t\t\t\t\t\taction: \"setMode()\",\n\t\t\t\t\t\tclass: 'btn btn-primary text-white px-2',\n\t\t\t\t\t\ticon: 'fa fa-mouse-pointer fa-fw',\n\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\t// FIXME: Why were tooltips failing as Object type?\n\t\t\t\t\t\ttooltip: 'Select widgets to edit',\n\t\t\t\t\t\t//tooltip: \"{content: 'Select widgets to edit', placement: 'left'}\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'mgButton',\n\t\t\t\t\t\taction: \"setMode('toc')\",\n\t\t\t\t\t\tclass: 'btn btn-outline-light border-0 px-2',\n\t\t\t\t\t\ticon: 'fa fa-stream fa-fw',\n\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\ttooltip: 'Select widgets to edit',\n\t\t\t\t\t\t//tooltip: {content: 'Select widgets to edit', placement: 'left'},\n\t\t\t\t\t},\n\t\t\t\t\t...(this.$prompt?.macgyver ? [{ // Include JSON editing if $prompt.macgyver() is available\n\t\t\t\t\t\ttype: 'mgButton',\n\t\t\t\t\t\taction: \"rawEdit()\",\n\t\t\t\t\t\tclass: 'btn btn-outline-light border-0 px-2',\n\t\t\t\t\t\ticon: 'fa fa-code fa-fw',\n\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\ttooltip: 'Edit the form contents as JSON',\n\t\t\t\t\t\t//tooltip: {content: 'Edit the form contents as JSON', placement: 'left'},\n\t\t\t\t\t}] : []),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'mgButton',\n\t\t\t\t\t\taction: \"setMode('adding')\",\n\t\t\t\t\t\tclass: 'btn btn-outline-light border-0 px-2',\n\t\t\t\t\t\ticon: 'far fa-plus fa-fw',\n\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\ttooltip: 'Add a new widget',\n\t\t\t\t\t\t//tooltip: {content: 'Add a new widget', placement: 'left'},\n\t\t\t\t\t},\n\t\t\t\t];\n\t\t\t},\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.$debugging = true;\n\t},\n\tmounted() {\n\t\t/*\n\t\t// Potential for highlighting components within nested mgContainer\n\t\tthis.$refs.form.$on('mgComponent.click', (component, e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tthis.editWidget(component.config.$specPath);\n\t\t});\n\n\t\tthis.$refs.form.$on('mgComponent.mouseEnter', (component, e) => {\n\t\t\tif (component.config.type === 'mgContainer') return;\n\t\t\te.stopPropagation();\n\t\t\t//e.preventDefault();\n\t\t\tvar target = this.$refs.form.getComponentBySpecPath(component.config.$specPath);\n\t\t\t//if (target.$type === 'mgContainer') return;\n\t\t\t// FIXME: Always 2 parents up? Traverse up to next highest mgContainer?\n\t\t\tvar container = target.$parent.$parent;\n\t\t\tif (!container) return;\n\t\t\tvar targetIndex = container.findChildIndex(target);\n\t\t\tcontainer.$set(container.highlights, targetIndex, (container.highlights[targetIndex] || []).concat(['editHover']));\n\t\t});\n\n\t\tthis.$refs.form.$on('mgComponent.mouseLeave', (component, e) => {\n\t\t\tif (component.config.type === 'mgContainer') return;\n\t\t\te.stopPropagation();\n\t\t\t//e.preventDefault();\n\t\t\tvar target = this.$refs.form.getComponentBySpecPath(component.config.$specPath);\n\t\t\t//if (target.$type === 'mgContainer') return;\n\t\t\t// FIXME: Always 2 parents up? Traverse up to next highest mgContainer?\n\t\t\tvar container = target.$parent.$parent;\n\t\t\tif (!container) return;\n\t\t\tvar targetIndex = container.findChildIndex(target);\n\t\t\tcontainer.$set(container.highlights, targetIndex, (container.highlights[targetIndex] || []).filter(c => c != 'editHover'));\n\t\t});\n\t\t*/\n\n\t\t// FIXME: (e.target).closest... mg-container CSS class...\n\t\tthis.$refs.form.$on('mgContainer.click', (container, specPath, componentIndex, e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tthis.editWidget(specPath);\n\t\t});\n\n\t\tthis.$refs.form.$on('mgContainer.mouseEnter', (container, specPath, componentIndex, e) => {\n\t\t\tvar component = this.$refs.form.getComponentBySpecPath(specPath);\n\t\t\tvar componentIndex = container.findChildIndex(component);\n\t\t\tcontainer.$set(container.highlights, componentIndex, (container.highlights[componentIndex] || []).concat(['editHover']));\n\t\t});\n\n\t\tthis.$refs.form.$on('mgContainer.mouseLeave', (container, specPath, componentIndex, e) => {\n\t\t\tvar component = this.$refs.form.getComponentBySpecPath(specPath);\n\t\t\tvar componentIndex = container.findChildIndex(component);\n\t\t\tcontainer.$set(container.highlights, componentIndex, (container.highlights[componentIndex] || []).filter(c => c != 'editHover'));\n\t\t});\n\t},\n\tmethods: {\n\t\t/**\n\t\t* Stop editing / adding and return to regular mode\n\t\t* @param {string} [mode=\"collapsed\"] Mode to switch to\n\t\t* @param {boolean} [clearHighlight=true] Also attempt to clear out any highlight and reset the aside panes\n\t\t*/\n\t\tsetMode(mode = 'collapsed', clearHighlight = true) {\n\t\t\t// Deselect the existing item (if we have one)\n\t\t\tif (this.editing && clearHighlight) {\n\t\t\t\tthis.setComponentHighlight(this.editing, []);\n\t\t\t\tthis.editing = undefined;\n\t\t\t}\n\n\t\t\tthis.$set(this, 'mode', mode || 'collapsed');\n\t\t\treturn true; // Signal to mgForm that we have handled this action\n\t\t},\n\n\n\t\t/**\n\t\t* Delete the active widget\n\t\t*/\n\t\tdeleteWidget() {\n\t\t\tif (!this.editing) {\n\t\t\t\tthis.$macgyver.notify.warn('No widget selected to delete'); // Not editing anyway\n\t\t\t} else {\n\t\t\t\tthis.removeWidget(this.editing.$props.$specPath);\n\t\t\t}\n\n\t\t\treturn true; // Signal to mgForm that we have handled this action\n\t\t},\n\n\n\t\t/**\n\t\t* Set the component.highlight[index] to the given list of CSS classes\n\t\t* @param {VueController} component The VueController to set the highlight of within its mgContainer\n\t\t* @param {array<string>} classes Array of string classes to set\n\t\t*/\n\t\tsetComponentHighlight(component, classes) {\n\t\t\tif (!_.isArray(classes)) throw new Error('setComponentHighlight must be passed an array');\n\n\t\t\tvar container = false;\n\t\t\tcomponent.$emit.up('mgIdentify', component => {\n\t\t\t\tif (!container && component.$props.$type == 'mgContainer') container = component;\n\t\t\t});\n\t\t\tif (!container) return console.warn('[mgFormEditor] setComponentHighlight component failed to find enclosing container', {component});\n\n\t\t\tvar childOffset = container.findChildIndex(component);\n\t\t\tif (childOffset === false) return console.warn('[mgFormEditor]', 'Cannot locate component within container', {container, component});\n\n\t\t\tconsole.log('Set highlight', childOffset, classes);\n\t\t\tcontainer.$set(container.highlights, childOffset, classes);\n\t\t},\n\n\n\t\t/**\n\t\t* Edit a widget by its specPath or component\n\t\t* @param {VueComponent|string} component Either the VueComponent to edit or the specPath of the widget to edit\n\t\t*/\n\t\teditWidget(component) {\n\t\t\tvar component; // The Vue component from the widget path\n\t\t\tif (!_.isObject(component) && !_.isString(component)) throw new Error('editWidget requires either a specPath or VueComponent');\n\t\t\tif (_.isObject(component) && !component._uid) throw new Error('editWidget() requires a valid VueComponent object (or specPath string)');\n\n\t\t\tif (_.isString(component) || _.isArray(component)) component = this.$refs.form.getComponentBySpecPath(component); // Resolve specPath into actual component if eneded\n\n\t\t\tthis.setMode();\n\n\t\t\tthis.$set(this, 'editing', component);\n\t\t\tthis.$set(this, 'mode', 'editing');\n\n\t\t\tthis.setComponentHighlight(component, ['editEditing']);\n\n\t\t\tvar widget = this.$macgyver.widgets[component.$props.$type];\n\t\t\tif (widget) {\n\t\t\t\tthis.$set(this, 'editConfig', [\n\t\t\t\t\t{ // Header area\n\t\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\t\tlayout: 'columns',\n\t\t\t\t\t\tborder: false,\n\t\t\t\t\t\trowClass: 'aside-header',\n\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{id: 'metaIcon', type: 'mgIcon'},\n\t\t\t\t\t\t\t{id: 'id', type: 'mgText', placeholder: 'No ID'},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\t\t\t\tlayout: 'columns',\n\t\t\t\t\t\t\t\tborder: false,\n\t\t\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\t\t\trowClass: 'aside-actions',\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{type: 'mgButton', action: 'deleteWidget', class: 'btn btn-link btn-link-danger btn-xs', icon: 'far fa-trash', tooltip: 'Delete this widget'},\n\t\t\t\t\t\t\t\t\t{type: 'mgButton', action: 'setMode', text: '', class: 'btn btn-link btn-xs', icon: 'far fa-times'},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{ // Body area\n\t\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\t\tlayout: 'form',\n\t\t\t\t\t\tformClass: 'titles-above',\n\t\t\t\t\t\trowClass: 'aside-body',\n\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\titems: _.map(widget.props, (v, k) => _.set(v, 'id', k)),\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t\tthis.$debug('Set editConfig', this.editConfig);\n\n\t\t\t\tthis.$set(this, 'editData',\n\t\t\t\t\t_(widget.props)\n\t\t\t\t\t\t.mapValues((v, k) => _.get(component.$props, k, _.get(widget.props, k).default))\n\t\t\t\t\t\t.set('id', component.$props.$dataPath)\n\t\t\t\t\t\t.set('metaIcon', widget.meta.icon)\n\t\t\t\t\t\t.value()\n\t\t\t\t);\n\t\t\t\tthis.$debug('Set editData', this.editData);\n\t\t\t} else {\n\t\t\t\tthis.$macgyver.notify.warn(`Cannot edit unknown widget \"${component.$props?.$type || 'Unknown type'}\"`);\n\t\t\t\tthis.setMode();\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t* Change the value of a nested config path\n\t\t* @param {string} path The dotted / array notation path to mutate\n\t\t* @param {*} value The value to set, if undefined the key is removed\n\t\t* @emits change Emitted with the entire deep copied config object\n\t\t* @emits changeItem Emitted as `{path, value}` for a single item mutation\n\t\t*/\n\t\tmutatePath(path, value) {\n\t\t\tconsole.log('mutatePath', path, value);\n\t\t\t// Only bother cloning the entire object if something is listening to 'change'\n\t\t\tif (this.$emit.hasListeners('change')) {\n\t\t\t\tvar configCopy = _.cloneDeep(this.config);\n\t\t\t\tthis.$setPath(configCopy, path, value);\n\t\t\t\tthis.$emit('change', configCopy);\n\t\t\t}\n\n\t\t\tthis.$emit('changeItem', {path: path, value: value});\n\t\t},\n\n\n\t\t/**\n\t\t* Splice items into a deep copy of the config object, emitting change events\n\t\t* @param {string} path The dotted / array notation path to mutate\n\t\t* @param {number} index The index to work from\n\t\t* @param {number} [remove] The number of items to remove\n\t\t* @param {*} [value...] The value(s) to set, if undefined the key is removed\n\t\t* @emits change Emitted with the entire deep copied config object\n\t\t* @emits changeItem Emitted as `{path, value}` for a single item mutation\n\t\t*/\n\t\tmutateSplice(path, index, remove, ...value) {\n\t\t\tconsole.log('mutateSplice', path, index, remove);\n\t\t\tvar configCopy = _.cloneDeep(this.config); // Copy entire object\n\t\t\tvar spliceContents = _.get(configCopy, path); // Extract path from nested object\n\t\t\tif (!_.isArray(spliceContents)) throw new Error('Refusing to splice a non-array');\n\t\t\tspliceContents.splice(index, remove, ...value); // Perform splice\n\n\t\t\tthis.$setPath(configCopy, path, spliceContents); // Place back in mutated object\n\n\t\t\tthis.$emit('change', configCopy);\n\t\t\tthis.$emit('changeItem', {path: path, value: spliceContents});\n\t\t},\n\n\n\t\t/**\n\t\t* Insert a widget at a given path\n\t\t* @param {Object} widget The widget to insert, this must contain at least a `type` key\n\t\t* @param {Object} [options] Additional options\n\t\t* @param {string|array} [options.specPath] The lodash notation specPath to target instead of the last element on the form\n\t\t* @param {string} [options.orientation='after'] Where to insert. ENUM: 'before', 'after', 'last'\n\t\t* @param {boolean} [options.useContainer=true] If no spec path, try and fit the new widget within the last container if one exists\n\t\t* @param {boolean} [options.allocateTitle=true] Try to allocate a title if not supplied\n\t\t* @param {boolean} [options.allocateId=true] Try to allocate an ID if not supplied and the widget has `preferId`\n\t\t* @param {boolean} [options.edit=true] Show the edit dialog after inserting the component\n\t\t* @returns {Object} The inserted widget object (complete with ID if allocateId is specified)\n\t\t*/\n\t\tinsertWidget(widget, options) {\n\t\t\tconsole.log('insertWidget', widget, options);\n\t\t\tvar settings = {\n\t\t\t\tspecPath: undefined,\n\t\t\t\torientation: 'after',\n\t\t\t\tuseContainer: true,\n\t\t\t\tallocateTitle: true,\n\t\t\t\tallocateId: true,\n\t\t\t\tedit: true,\n\t\t\t\t...options,\n\t\t\t};\n\n\t\t\tif (!widget.type) throw new Error('Widget.type must be specified as a minimum for insertWidget()');\n\n\t\t\t// Ensure containers have items\n\t\t\tif (widget.type === 'mgContainer' && !widget.items) widget.items = [];\n\n\t\t\t// options.allocateTitle / settings.alloacteId {{{\n\t\t\tif ( // A field we want is missing\n\t\t\t\t(settings.allocateTitle && !widget.title)\n\t\t\t\t|| (settings.allocateId && !widget.id)\n\t\t\t) {\n\t\t\t\t// Compute how many of this widget are on the form\n\t\t\t\tvar widgetOffset = this.$macgyver\n\t\t\t\t\t.flatten(this.$props.config, {want: 'array', type: 'spec'})\n\t\t\t\t\t.reduce((i, w) => w.type == widget.type ? i + 1 : i, 0);\n\n\t\t\t\tif (settings.allocateTitle && !widget.title)\n\t\t\t\t\twidget.title = this.$macgyver.widgets[widget.type].meta.title\n\t\t\t\t\t\t+ String(widgetOffset == 0 ? '' : widgetOffset);\n\n\t\t\t\t// Guess at an ID\n\t\t\t\tif (settings.allocateId && !widget.id && this.$macgyver.widgets[widget.type].meta.preferId)\n\t\t\t\t\twidget.id = _.chain(widget.type)\n\t\t\t\t\t\t.replace(/^mg/, '') // Remove first `mg` bit\n\t\t\t\t\t\t.camelCase()\n\t\t\t\t\t\t.replace(/$/, widgetOffset == 0 ? '' : widgetOffset) // Append numeric offset (if there is more than one of this type)\n\t\t\t\t\t\t.value();\n\t\t\t}\n\t\t\t// }}}\n\n\t\t\t// FIXME: Support for array specs without a root mgContainer.\n\t\t\tswitch (settings.orientation) {\n\t\t\t\tcase 'last':\n\t\t\t\t\tif ( // Container -> Container:Last -> New widget\n\t\t\t\t\t\tsettings.useContainer // Insert within container?\n\t\t\t\t\t\t&& this.config.type == 'mgContainer' // First item is a container\n\t\t\t\t\t\t&& _.last(this.config.items)?.type == 'mgContainer' // Last child is also a container - use this\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.mutateSplice(`items.${this.config.items.length - 1}.items`, _.last(this.config.items)?.items.length || 0, 0, widget);\n\t\t\t\t\t} else if ( // Container:Last -> New widget\n\t\t\t\t\t\tsettings.useContainer // Insert within container?\n\t\t\t\t\t\t&& this.config.type == 'mgContainer' // First item is a container\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.mutateSplice('items', this.config.items.length, 0, widget);\n\t\t\t\t\t} else if (_.isArray(this.config)) { // Append to end of config array\n\t\t\t\t\t\tthis.mutateSplice('', this.config.items.length, 0, widget);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('Dont know how to append widget to form config');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'before':\n\t\t\t\tcase 'after':\n\t\t\t\t\tif (!settings.specPath) throw new Error('Inserting with orientations before / after requires a specPath');\n\t\t\t\t\tvar parentItems = _.isArray(settings.specPath) ? settings.specPath : settings.specPath.split('.');\n\t\t\t\t\tvar targetWidget = parentItems.pop();\n\n\t\t\t\t\tthis.mutateSplice(\n\t\t\t\t\t\tparentItems,\n\t\t\t\t\t\tsettings.orientation == 'after' ? +targetWidget + 1 : targetWidget,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\twidget\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Dont know how to handle insert of component at with orientation \"${settings.orientation}\"`);\n\t\t\t}\n\n\t\t\tif (settings.edit) {\n\t\t\t\tconsole.warn('FIXME: Unsupported post edit when editing components');\n\t\t\t\t// this.editWidget(widget.id);\n\t\t\t}\n\n\t\t\treturn widget;\n\t\t},\n\n\n\t\t/**\n\t\t* Remove a widget by its specPath\n\t\t* @param {string|array} specPath The lodash notation specPath to remove\n\t\t*/\n\t\tremoveWidget(specPath) {\n\t\t\tthis.setMode(); // Reset mode to close edit panel\n\n\t\t\t// FIXME: Splitting non-array, condition backwards?\n\t\t\tvar parentItems = _.isArray(specPath) ? specPath : specPath.split('.');\n\t\t\tvar targetIndex = parentItems.pop();\n\n\t\t\tthis.mutateSplice(parentItems, targetIndex, 1);\n\t\t},\n\n\n\t\t/**\n\t\t* Duplicate a widget by its specPath\n\t\t* @param {string|array} specPath The lodash notation specPath to remove\n\t\t*/\n\t\tduplicateWidget(specPath) {\n\t\t\tvar parentItems = _.isArray(specPath) ? specPath : specPath.split('.');\n\t\t\tvar targetIndex = parentItems.pop();\n\n\t\t\tthis.setMode(); // Reset mode to close edit panel\n\t\t\tthis.mutatePath(\n\t\t\t\tparentItems,\n\t\t\t\t_(_.get(this.config, parentItems))\n\t\t\t\t\t.map((v, i) => i == targetIndex // Duplicate this item when we find its index\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\tv, // Original object\n\t\t\t\t\t\t\t_.chain(v)\n\t\t\t\t\t\t\t\t.cloneDeep()\n\t\t\t\t\t\t\t\t.pickBy((v, k) => !k.startsWith('$'))\n\t\t\t\t\t\t\t\t.set('id', this.$macgyver.utils.incrementId(v.id)) // Also increment its ID\n\t\t\t\t\t\t\t\t.value(),\n\t\t\t\t\t\t]\n\t\t\t\t\t\t: v\n\t\t\t\t\t)\n\t\t\t\t\t.flatten()\n\t\t\t\t\t.value()\n\t\t\t);\n\t\t},\n\n\n\t\t/**\n\t\t* Move a widget in a given direction\n\t\t* @param {string|array} specPath The lodash notation SpecPath to move\n\t\t* @param {string} direction The direction to move. ENUM: 'up', 'down'\n\t\t*/\n\t\tmoveWidget(specPath, direction) {\n\t\t\tif (!['up', 'down'].includes(direction)) throw new Error('Unsupported direction');\n\n\t\t\tvar parentItems = _.isArray(specPath) ? specPath : specPath.split('.');\n\t\t\tvar targetIndex = parentItems.pop();\n\n\t\t\tthis.setMode(); // Reset mode to close edit panel\n\t\t\tthis.mutatePath(\n\t\t\t\tparentItems,\n\t\t\t\t_.chain(_.get(this.config, parentItems))\n\t\t\t\t\t.clone()\n\t\t\t\t\t.thru(v => {\n\t\t\t\t\t\ttargetIndex = +targetIndex; // Splat into number\n\t\t\t\t\t\tif (direction == 'up' && targetIndex > 0) {\n\t\t\t\t\t\t\t[v[targetIndex], v[targetIndex-1]]\n\t\t\t\t\t\t\t=\n\t\t\t\t\t\t\t[v[targetIndex-1], v[targetIndex]]\n\t\t\t\t\t\t} else if (direction == 'down' && targetIndex < v.length) {\n\t\t\t\t\t\t\tconsole.log('SWAP', targetIndex, targetIndex + 1);\n\t\t\t\t\t\t\t[v[targetIndex], v[targetIndex+1]]\n\t\t\t\t\t\t\t=\n\t\t\t\t\t\t\t[v[targetIndex+1], v[targetIndex]]\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn v;\n\t\t\t\t\t})\n\t\t\t\t\t.value()\n\t\t\t);\n\t\t},\n\n\n\t\t/**\n\t\t* Begin drag sequence for a widget\n\t\t* @param {string|array} specPath The lodash notation SpecPath to drag\n\t\t*/\n\t\tdragWidget(specPath) {\n\t\t\tconsole.warn('FIXME: dragWidget() not yet supported');\n\t\t},\n\n\n\t\trawEdit() {\n\t\t\tthis.$prompt.macgyver({\n\t\t\t\ttitle: 'Template JSON',\n\t\t\t\tmacgyver: {\n\t\t\t\t\tid: 'code',\n\t\t\t\t\ttype: 'mgCode',\n\t\t\t\t\tsyntax: 'json',\n\t\t\t\t\tconvert: true,\n\t\t\t\t\tdefault: this.$props.config,\n\t\t\t\t},\n\t\t\t}).then(form => this.$set(this, 'config', form.code))\n\t\t},\n\n\n\t\t// Form layouts {{{\n\t\t/**\n\t\t* Generate the config layout for the Table-Of-Contents sidebar\n\t\t*/\n\t\tgenerateConfigToc() {\n\t\t\tvar genTreeBranch = root =>\n\t\t\t\troot.map(widget => ({\n\t\t\t\t\ttitle: `${widget.type} #${widget.id}`,\n\t\t\t\t\ticon: this.$macgyver.widgets[widget.type].icon,\n\t\t\t\t\tenum: widget.items ? genTreeBranch(widget.items) : undefined,\n\t\t\t\t}));\n\n\t\t\treturn [\n\t\t\t\t{ // Header area\n\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\tlayout: 'columns',\n\t\t\t\t\tborder: false,\n\t\t\t\t\trowClass: 'aside-header',\n\t\t\t\t\tshowTitle: false,\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{type: 'mgHeading', text: 'Form layout'},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\t\t\tlayout: 'columns',\n\t\t\t\t\t\t\tborder: false,\n\t\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\t\trowClass: 'aside-actions',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{type: 'mgButton', action: 'setMode', text: '', class: 'btn btn-link btn-xs', icon: 'far fa-times'},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{ // Body area\n\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\tlayout: 'form',\n\t\t\t\t\trowClass: 'aside-body',\n\t\t\t\t\tshowTitles: false,\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'mgChoiceTree',\n\t\t\t\t\t\t\ttitle: 'Layout tree',\n\t\t\t\t\t\t\tchange: item => {\n\t\t\t\t\t\t\t\tconsole.log('TREE CLICK', item);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tenum: genTreeBranch(\n\t\t\t\t\t\t\t\t[ this.$macgyver.compileSpec(this.$props.config, {clone: false}).spec ]\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\n\n\t\t/**\n\t\t* Generate the config layout for the \"add widget\" sidebar\n\t\t*/\n\t\tgenerateConfigAdding() {\n\t\t\treturn [\n\t\t\t\t{ // Header area\n\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\tlayout: 'columns',\n\t\t\t\t\tborder: false,\n\t\t\t\t\trowClass: 'aside-header',\n\t\t\t\t\tshowTitle: false,\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{type: 'mgHeading', text: 'Add widget'},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\t\t\tlayout: 'columns',\n\t\t\t\t\t\t\tborder: false,\n\t\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\t\trowClass: 'aside-actions',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{type: 'mgButton', action: 'setMode', text: '', class: 'btn btn-link btn-xs', icon: 'far fa-times'},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{ // Body area\n\t\t\t\t\ttype: 'mgContainer',\n\t\t\t\t\tlayout: 'form',\n\t\t\t\t\trowClass: 'aside-body',\n\t\t\t\t\tshowTitles: false,\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'addType',\n\t\t\t\t\t\t\ttype: 'mgChoiceList',\n\t\t\t\t\t\t\ttitle: 'Widget type to add',\n\t\t\t\t\t\t\tenum: _(this.$macgyver.widgets)\n\t\t\t\t\t\t\t\t.map((w, k) => ({\n\t\t\t\t\t\t\t\t\tid: k,\n\t\t\t\t\t\t\t\t\ttitle: w.meta.title,\n\t\t\t\t\t\t\t\t\ticon: `${w.meta.icon} fa-fw`,\n\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t.sortBy('title')\n\t\t\t\t\t\t\t\t.value(),\n\t\t\t\t\t\t\tchange: type => {\n\t\t\t\t\t\t\t\tvar inserted = this.insertWidget({type}, {\n\t\t\t\t\t\t\t\t\torientation: 'last',\n\t\t\t\t\t\t\t\t\tuseContainer: true,\n\t\t\t\t\t\t\t\t\tedit: true,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t\t// }}}\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-form-editor\">\n\t\t<!-- Aside collapsed mode {{{ -->\n\t\t<aside :class=\"[mode == 'collapsed' ? $props.asideClassActive : $props.asideClassInactive, $props.asideClassModeCollapsed]\">\n\t\t\t<mg-form\n\t\t\t\tv-if=\"mode == 'collapsed'\"\n\t\t\t\t:form=\"`${id}-collapsed`\"\n\t\t\t\t:config=\"$props.generalVerbs\"\n\t\t\t\t:actions=\"{setMode, rawEdit}\"\n\t\t\t/>\n\t\t</aside>\n\t\t<!-- }}} -->\n\t\t<!-- Aside toc (table-of-contents) mode {{{ -->\n\t\t<aside :class=\"[mode == 'toc' ? $props.asideClassActive : $props.asideClassInactive, $props.asideClassModeToc]\">\n\t\t\t<mg-form\n\t\t\t\tv-if=\"mode == 'toc'\"\n\t\t\t\t:form=\"`${id}-toc`\"\n\t\t\t\t:config=\"generateConfigToc()\"\n\t\t\t\t:actions=\"{setMode}\"\n\t\t\t/>\n\t\t</aside>\n\t\t<!-- }}} -->\n\t\t<!-- Aside widget library (add widget) {{{ -->\n\t\t<aside :class=\"[mode == 'adding' ? $props.asideClassActive : $props.asideClassInactive, $props.asideClassModeAdding]\">\n\t\t\t<mg-form\n\t\t\t\tv-if=\"mode == 'adding'\"\n\t\t\t\tref=\"formAdd\"\n\t\t\t\t:config=\"generateConfigAdding()\"\n\t\t\t\t:actions=\"{setMode}\"\n\t\t\t/>\n\t\t</aside>\n\t\t<!-- }}} -->\n\t\t<!-- Aside item editor (edit widget) {{{ -->\n\t\t<aside :class=\"[mode == 'editing' ? $props.asideClassActive : $props.asideClassInactive, $props.asideClassModeEditing]\">\n\t\t\t<mg-form\n\t\t\t\tv-if=\"mode == 'editing'\"\n\t\t\t\t:form=\"`${id}-edit`\"\n\t\t\t\t:config=\"editConfig\"\n\t\t\t\t:data=\"editData\"\n\t\t\t\t:actions=\"{setMode, deleteWidget}\"\n\t\t\t\t@changeItem=\"mutatePath(`${editing.$specPath}.${$event.path}`, $event.value)\"\n\t\t\t/>\n\t\t</aside>\n\t\t<!-- }}} -->\n\n\t\t<!-- Display form {{{ -->\n\t\t<mg-form\n\t\t\tref=\"form\"\n\t\t\t:config=\"$props.config\"\n\t\t\t:data=\"$props.data\"\n\t\t/>\n\t\t<!-- }}} -->\n\t</div>\n</template>\n\n<style>\n/* Variables {{{ */\n:root {\n\t--mg-form-editor-selected-bg: #007bff;\n\t--mg-form-editor-selected-fg: #fff;;\n\t--mg-form-editor-selected-highlight: #5dabff;\n\t--mg-form-editor-selected-danger: #dc3545;\n\t--mg-form-editor-hover-bg: #77b9ff;\n\t--mg-form-editor-hover-fg: #fff;\n}\n/* }}} */\n\n/* Aside styles - .mgfe-aside {{{ */\n.mgfe-aside {\n\ttransition: transform 0.2s ease-out;\n}\n\n.mgfe-aside .mg-form {\n\tmargin: 0;\n}\n\n.mgfe-aside.aside-right.open.open { /* Silly hack to force the transform when open (overrides .asign-sm in priority) */\n\ttransform: translateX(0px);\n}\n\n.mgfe-aside.aside-right {\n\tposition: fixed;\n\ttop: 0px;\n\tright: 0px;\n\tbottom: 0px;\n\tbackground: #FFF;\n\tz-index: 100;\n\tbox-shadow: 0 1px 5px rgba(0,0,0,.3);\n\twidth: 350px;\n\ttransform: translateX(380px);\n}\n\n/* .mgfe-aside-sm {{{ */\n.mgfe-aside.aside-right.aside-sm {\n\twidth: 40px;\n\ttransform: translateX(50px);\n\ttop: calc(50% - 30px); /* Approx middle of the screen */\n\tbottom: inherit;\n\tborder-radius: 5px;\n}\n\n.mgfe-aside.aside-right.aside-sm .form-group {\n\tmargin: 0;\n}\n\n/* Remove BS padding from sub-elements */\n.mgfe-aside.aside-right.aside-sm .form-group [class*=\"col-\"] {\n\tpadding: 0;\n}\n/* }}} */\n\n/* Headers {{{ */\n.mgfe-aside .aside-header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tborder-bottom: 1px solid #e9ecef;\n\tmargin: 0;\n}\n\n.mgfe-aside .aside-header h4 {\n\tflex-grow: 1;\n}\n\n.mgfe-aside .aside-header legend.form-control-static {\n\tborder-bottom: none;\n\tfont-size: 17pt;\n}\n\n.mgfe-aside .aside-header .close {\n\tcolor: #5e5e5e;\n}\n\n.mgfe-aside .aside-header .close:hover {\n\tcolor: #000;\n}\n\n.mgfe-aside .aside-header .close::after {\n\tdisplay: inline-block;\n\tfont-family: 'Font Awesome 5 Pro';\n\tfont-weight: 900;\n\tcontent: \"\\f00d\";\n}\n/* }}} */\n\n/* Actions {{{ */\n.mgfe-aside .aside-actions {\n\tjustify-self: flex-end;\n\tmargin-right: 10px;\n}\n\n.mgfe-aside .aside-actions .btn-group {\n\tborder: none;\n\tbox-shadow: none;\n}\n\n.mgfe-aside .aside-actions a {\n\tpadding: 8px;\n\tfont-size: 125%;\n}\n/* }}} */\n\n/* Body {{{ */\n.mgfe-aside .aside-body {\n\tmargin-left: 0;\n\tmargin: 10px 0 0;\n\n\t/* Body scrolling */\n\toverflow: auto;\n\theight: calc(100vh - 80px);\n}\n/* }}} */\n/* }}} */\n\n/* Component highlighting {{{\n\n/* Highlight applied to active elements inside an mgContainer */\n.mg-form-editor-target {\n\tborder: 2px solid var(--blue);\n\tborder-radius: 5px;\n\tposition: relative;\n\ttop: -4px;\n\tleft: -4px;\n\tpadding: 2px;\n}\n\n.mg-form-editor-drop-target {\n}\n\n.mg-form-editor-drop-target-before {\n\tborder-top: 4px dashed var(--blue);\n}\n\n.mg-form-editor-drop-target-after {\n\tborder-bottom: 4px dashed var(--blue);\n}\n/* }}} */\n\n/* Drag + Drop {{{ */\nbody.mg-form-editor-dragging * {\n\tcursor: grabbing;\n}\n\n#mg-form-editor-drag {\n\tdisplay: block;\n\tz-index: 1000;\n\tposition: absolute;\n\ttop: -10000px;\n\tleft: -10000px;\n\tmin-width: 160px;\n\theight: 40px;\n\tborder-radius: 5px;\n\tbackground: #2196F3;\n\tbox-shadow: 1px 1px 4px rgba(0,0,0,.3);\n\tpadding: 10px;\n\tcolor: #FFF;\n}\n\n#mg-form-editor-drag > i {\n\tmargin-right: 5px;\n}\n/* }}} */\n\n/* Misc fixes {{{ */\n/* Buttons that are also fixed with look weird */\n.mg-form-editor .btn.fa-fw {\n\twidth: 2.30em;\n\tpadding: 4px 2px !important;\n}\n/* }}} */\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$p = undefined;
    /* module identifier */
    const __vue_module_identifier__$p = undefined;
    /* functional template */
    const __vue_is_functional_template__$p = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$p = normalizeComponent(
      { render: __vue_render__$j, staticRenderFns: __vue_staticRenderFns__$j },
      __vue_inject_styles__$p,
      __vue_script__$p,
      __vue_scope_id__$p,
      __vue_is_functional_template__$p,
      __vue_module_identifier__$p,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgFormEditor = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$p
  });

  /**
  * The top level MacGyver form
  * @param {string} [form] Unique form name
  * @param {Object|Array} config The MacGyver form object either in long form nested array structure or short form object (which is converted)
  * @param {boolean} [populateDefaults=true] Apply initial defaults to the data when the config is ready, if false you can call vm.assignDefaults() manually if needed
  * @param {boolean} [actionsFallback=true] Use vm.$eval as a runner when no action listener is found
  * @param {Object|function} [actions] Actions subscribers as an object as a lookup list of action definition string keys and their firable function. Subscriber functions are called with the context as `(...params)`. If the value is a function it is called as the raw contents of the action.
  * @param {Object} [data] The data binding
  *
  * @emits change Emitted as `(data)` whenever any data changes
  * @emits changeItem Emitted as `({path, value})` when any single item changes
  * @emits onAction Emitted as `({action, params})` when any action is fired
  * @emits mgComponent.click Emitted as `(component, event)` on native clicks of a component
  * @emits mgComponent.mouseDown Emitted as `(component, event)` on the native mouseDown event of a component
  * @emits mgComponent.mouseUp Emitted as `(component, event)` on the native mouseUp event of a component
  * @emits mgComponent.mouseMove Emitted as `(component, event)` on the native mouseMove event of a component
  * @emits mgComponent.mouseEnter Emitted as `(component, event)` on the native mouseEnter event of a component
  * @emits mgComponent.mouseLeave Emitted as `(component, event)` on the native mouseLeave event of a component
  * @emits mgComponent.mouseOver Emitted as `(component, event)` on the native mouseOver event of a component
  * @emits mgComponent.mouseOut Emitted as `(component, event)` on the native mouseOut event of a component
  * @emits mgContainer.click Emitted as `(container, specPath, event)` on the native click event of a component within a container
  * @emits mgContainer.mouseEnter Emitted as `(container, specPath, event)` on the native mouseEnter event of a component within a container
  * @emits mgContainer.mouseLeave Emitted as `(container, specPath, event)` on the native mouseLeave event of a component within a container
  */
  var script$p = Vue.component('mgForm', {
    provide: function provide() {
      return {
        $mgForm: this
      };
    },
    data: function data() {
      return {
        id: undefined,
        // Set on create
        editing: false,
        // Set by mgFormEditor when its this components parent
        errors: [],
        // array <Object> {error}
        spec: undefined,
        // Calculated version of config after its been though $macgyver.compileSpec()
        formData: {},
        // Calculated version of $props.data after default population
        inRefresh: false // Whether we are doing a refresh from the top-down, prevents recursive refreshing

      };
    },
    props: {
      form: String,
      // Optional overriding form ID
      config: [Object, Array],
      // Can be a single object, array of objects or shorthand style
      data: Object,
      populateDefaults: {
        type: Boolean,
        "default": true
      },
      onAction: Function,
      actionsFallback: {
        type: Boolean,
        "default": true
      },
      actions: {
        // Object of functions e.g. `{customFunc: ()=> {}}`
        type: [Function, Object],
        validator: function validator(v) {
          return _.isFunction(v) || _.every(function (v) {
            return _.isFunction(v);
          });
        }
      }
    },
    created: function created() {
      this.id = this.id || this.$props.form || this.$macgyver.nextId();
    },
    mounted: function mounted() {
      var _this = this;

      this.$watch('$props.config', function () {
        // console.log('mgForm config clobber', this.id, JSON.parse(JSON.stringify(this.$props.config)));
        _this.rebuild();
      }, {
        immediate: true,
        deep: true
      });
      this.$watch('$props.data', function () {
        // console.log('mgForm data clobber', this.id, JSON.parse(JSON.stringify(this.$props.config)));
        _this.rebuildData();
      }, {
        immediate: true,
        deep: true
      });
      this.$on('mgChange', function (data) {
        if (_this.inRefresh) return;

        _this.$macgyver.utils.setPath(_this.formData, data.path, data.value);

        _this.$emit('changeItem', data);

        _this.$emit('change', _objectSpread2({}, _this.formData)); // Has to be a shallow clone so we break the reference and Vue updates


        _this.refreshShowIfs();
      });
      this.$on('mgErrors', function (errors) {
        return _this.errors = errors;
      }); // this.$on('mgForm.rebuild', ()=> this.rebuild()); // FIXME: Needed after new mgForm config clobber detection?
    },
    methods: {
      /**
      * Force the form to rebuild its config
      */
      rebuild: function rebuild() {
        this.id = this.id || this.$props.form || this.$macgyver.nextId(); // console.log(`Rebuild form config for form "${this.id}"`);

        this.spec = this.$macgyver.compileSpec(this.$props.config);
        if (!this.spec || !this.spec.spec) throw new Error('Invalid Macgyver form spec');
      },

      /**
      * Force the form to rebuild its data set
      */
      rebuildData: function rebuildData() {
        var _this2 = this;

        if (this.inRefresh) return;
        this.inRefresh = true;
        this.formData = this.$props.data ? _.cloneDeep(this.$props.data) : {};
        if (this.$props.populateDefaults) this.assignDefaults();
        this.refreshShowIfs();
        this.$emit.down('mgRefreshForm');
        this.$nextTick(function () {
          return (// Wait one tick for all attempts to recall this function recursively to exhaust
            _this2.inRefresh = false
          );
        });
      },

      /**
      * Force recomputation of show via showIf values
      */
      refreshShowIfs: function refreshShowIfs() {
        var _this3 = this;

        if (!this.spec) return;
        this.spec.showIfs.forEach(function (widget) {
          return widget.show = _this3.$macgyver.utils.evalMatch(widget.showIf, _this3.formData);
        });
      },

      /**
      * Assign initial defaults if a value is not in the data object
      */
      assignDefaults: function assignDefaults() {
        if (!this.spec) return;

        _.defaultsDeep(this.formData, this.getPrototype());

        this.$emit('change', this.formData);
      },

      /**
      * Compute the data prototype of the form
      * This is an empty object with all the defaults populated
      * @returns {Object} A prototype data object with all defaults populated
      * @see $macgyver.forms.getPrototype()
      */
      getPrototype: function getPrototype() {
        if (!this.id) return {}; // Form not yet ready

        return this.$macgyver.forms.getPrototype(this.spec.spec);
      },

      /**
      * Execute a function within a form
      * The default behaviour of this function is documented within the function
      * @param {string|function} action The action(s) to execute
      * @param {*} [context] The context of the action, defaults to the form component
      * @param {*} [params...] Additional parameters to execute
      * @emits mgRun Event fired at the form level only with a single object of the form `{action, params}`. Use the form property handleActions to specify if the form should handle or trap the event to override
      */
      run: function run(action, context) {
        var _this$$props$onAction, _this$$macgyver$$eval;

        // 0. See if what we've been passed is already a function {{{
        if (typeof action == 'function') {
          return action.call(context !== null && context !== void 0 ? context : this);
        } // }}}
        // 1. Emit mgRun to parents and see if they want to handle it {{{


        var handled = false;

        for (var _len = arguments.length, params = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
          params[_key - 2] = arguments[_key];
        }

        this.$emit.up.call(context !== null && context !== void 0 ? context : this, 'mgRun', {
          action: action,
          params: params
        }, function (isHandled) {
          if (isHandled) handled = true;
        });
        if (handled) return; // }}}
        // 2. Use FORM.$props.onAction(action) and see if returns truthy {{{

        if (this.$props.onAction && (_this$$props$onAction = this.$props.onAction).call.apply(_this$$props$onAction, [context !== null && context !== void 0 ? context : this, action].concat(params))) return; // }}}
        // 3a. Does FORM.$props.actions exist and is a function which will handle everything? {{{

        if (this.$props.actions && _.isFunction(this.$props.actions)) {
          this.$props.actions.call(context !== null && context !== void 0 ? context : this, action);
          return;
        } // }}}
        // 3b. Does FORM.$props.actions[action] exist and if so whether it returns truthy {{{


        var _ref = /^([a-z0-9\_]*?)(\(.*\))?$/i.exec(action) || [],
            _ref2 = _slicedToArray(_ref, 3),
            junk = _ref2[0],
            actionReadable = _ref2[1],
            actionArgs = _ref2[2];

        if (actionReadable && this.$props.actions && this.$props.actions[actionReadable]) {
          // Collapse strings to functions
          var func = _.isString(this.$props.actions[actionReadable]) ? this[actionReadable] : this.$props.actions[actionReadable]; // Tidy up actionArgs

          actionArgs = (actionArgs || '').replace(/^\(/, '') // Remove preceeding '('
          .replace(/\)$/, '') // Remove succeeding ')'
          .split(',').map(function (i) {
            return i && JSON.parse(i.replace(/'/g, '"'));
          });
          if (func.call.apply(func, [context !== null && context !== void 0 ? context : this].concat(_toConsumableArray(actionArgs), params))) return;
        } // }}}
        // 4. If all else failed and FORM.$props.actionsFallback is true - handle it via vm.$eval {{{


        (_this$$macgyver$$eval = this.$macgyver.$eval).call.apply(_this$$macgyver$$eval, [context !== null && context !== void 0 ? context : this, action].concat(params)); // }}}

      },

      /**
      * Find a VueComponent instance from a specPath
      * @param {string|array} specPath The specPath to search for
      * @param {boolean} [throws=true] Throw an error if the path cannot be found (avoid downstream checking if the specPath is valid)
      * @returns {VueComponent} Either the found VueComponent or `false` if not found
      */
      getComponentBySpecPath: function getComponentBySpecPath(specPath) {
        var _throws = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var found = false;
        this.$emit.down('mgIdentify', function (widget) {
          if (!found && widget.$props.$specPath == specPath) found = widget;
        });
        if (!found && _throws) throw new Error("Cannot edit component by non-existant specPath \"".concat(specPath, "\""));
        return found;
      }
    }
  });

  /* script */
  const __vue_script__$q = script$p;

  /* template */
  var __vue_render__$k = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "mg-form" },
      [
        _vm.errors.length
          ? _c("div", { staticClass: "alert alert-warning" }, [
              _c(
                "ul",
                _vm._l(_vm.errors, function(err) {
                  return _c("li", [_vm._v(_vm._s(err.error))])
                }),
                0
              )
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.spec
          ? _c("mg-component", { attrs: { config: _vm.spec.spec } })
          : _vm._e()
      ],
      1
    )
  };
  var __vue_staticRenderFns__$k = [];
  __vue_render__$k._withStripped = true;

    /* style */
    const __vue_inject_styles__$q = function (inject) {
      if (!inject) return
      inject("data-v-8b1356c4_0", { source: "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Add missing Bootstrap color variables */\n.mg-form {\n\t--btn-default-bg: #e9ecef;\n\t--btn-default-fg: #495057;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA,0CAAA;AACA;CACA,yBAAA;CACA,yBAAA;AACA","file":"mgForm.vue","sourcesContent":["<script>\n/**\n* The top level MacGyver form\n* @param {string} [form] Unique form name\n* @param {Object|Array} config The MacGyver form object either in long form nested array structure or short form object (which is converted)\n* @param {boolean} [populateDefaults=true] Apply initial defaults to the data when the config is ready, if false you can call vm.assignDefaults() manually if needed\n* @param {boolean} [actionsFallback=true] Use vm.$eval as a runner when no action listener is found\n* @param {Object|function} [actions] Actions subscribers as an object as a lookup list of action definition string keys and their firable function. Subscriber functions are called with the context as `(...params)`. If the value is a function it is called as the raw contents of the action.\n* @param {Object} [data] The data binding\n*\n* @emits change Emitted as `(data)` whenever any data changes\n* @emits changeItem Emitted as `({path, value})` when any single item changes\n* @emits onAction Emitted as `({action, params})` when any action is fired\n* @emits mgComponent.click Emitted as `(component, event)` on native clicks of a component\n* @emits mgComponent.mouseDown Emitted as `(component, event)` on the native mouseDown event of a component\n* @emits mgComponent.mouseUp Emitted as `(component, event)` on the native mouseUp event of a component\n* @emits mgComponent.mouseMove Emitted as `(component, event)` on the native mouseMove event of a component\n* @emits mgComponent.mouseEnter Emitted as `(component, event)` on the native mouseEnter event of a component\n* @emits mgComponent.mouseLeave Emitted as `(component, event)` on the native mouseLeave event of a component\n* @emits mgComponent.mouseOver Emitted as `(component, event)` on the native mouseOver event of a component\n* @emits mgComponent.mouseOut Emitted as `(component, event)` on the native mouseOut event of a component\n* @emits mgContainer.click Emitted as `(container, specPath, event)` on the native click event of a component within a container\n* @emits mgContainer.mouseEnter Emitted as `(container, specPath, event)` on the native mouseEnter event of a component within a container\n* @emits mgContainer.mouseLeave Emitted as `(container, specPath, event)` on the native mouseLeave event of a component within a container\n*/\nexport default Vue.component('mgForm', {\n\tprovide() { return {\n\t\t$mgForm: this,\n\t}},\n\tdata() { return {\n\t\tid: undefined, // Set on create\n\t\tediting: false, // Set by mgFormEditor when its this components parent\n\t\terrors: [], // array <Object> {error}\n\t\tspec: undefined, // Calculated version of config after its been though $macgyver.compileSpec()\n\t\tformData: {}, // Calculated version of $props.data after default population\n\t\tinRefresh: false, // Whether we are doing a refresh from the top-down, prevents recursive refreshing\n\t}},\n\tprops: {\n\t\tform: String, // Optional overriding form ID\n\t\tconfig: [Object, Array], // Can be a single object, array of objects or shorthand style\n\t\tdata: Object,\n\n\t\tpopulateDefaults: {type: Boolean, default: true},\n\t\tonAction: Function,\n\t\tactionsFallback: {type: Boolean, default: true},\n\t\tactions: { // Object of functions e.g. `{customFunc: ()=> {}}`\n\t\t\ttype: [Function, Object],\n\t\t\tvalidator: v => _.isFunction(v) || _.every(v => _.isFunction(v)),\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.id = this.id || this.$props.form || this.$macgyver.nextId();\n\t},\n\tmounted() {\n\t\tthis.$watch('$props.config', ()=> {\n\t\t\t// console.log('mgForm config clobber', this.id, JSON.parse(JSON.stringify(this.$props.config)));\n\t\t\tthis.rebuild();\n\t\t}, {immediate: true, deep: true});\n\n\t\tthis.$watch('$props.data', ()=> {\n\t\t\t// console.log('mgForm data clobber', this.id, JSON.parse(JSON.stringify(this.$props.config)));\n\t\t\tthis.rebuildData();\n\t\t}, {immediate: true, deep: true});\n\n\t\tthis.$on('mgChange', data => {\n\t\t\tif (this.inRefresh) return;\n\t\t\tthis.$macgyver.utils.setPath(this.formData, data.path, data.value);\n\t\t\tthis.$emit('changeItem', data);\n\n\t\t\tthis.$emit('change', {...this.formData}); // Has to be a shallow clone so we break the reference and Vue updates\n\t\t\tthis.refreshShowIfs();\n\t\t});\n\n\t\tthis.$on('mgErrors', errors => this.errors = errors);\n\t\t// this.$on('mgForm.rebuild', ()=> this.rebuild()); // FIXME: Needed after new mgForm config clobber detection?\n\t},\n\tmethods: {\n\t\t/**\n\t\t* Force the form to rebuild its config\n\t\t*/\n\t\trebuild() {\n\t\t\tthis.id = this.id || this.$props.form || this.$macgyver.nextId();\n\t\t\t// console.log(`Rebuild form config for form \"${this.id}\"`);\n\n\t\t\tthis.spec = this.$macgyver.compileSpec(this.$props.config);\n\t\t\tif (!this.spec || !this.spec.spec) throw new Error('Invalid Macgyver form spec');\n\t\t},\n\n\n\t\t/**\n\t\t* Force the form to rebuild its data set\n\t\t*/\n\t\trebuildData() {\n\t\t\tif (this.inRefresh) return;\n\t\t\tthis.inRefresh = true;\n\n\t\t\tthis.formData = this.$props.data ? _.cloneDeep(this.$props.data) : {};\n\n\t\t\tif (this.$props.populateDefaults) this.assignDefaults();\n\t\t\tthis.refreshShowIfs();\n\t\t\tthis.$emit.down('mgRefreshForm');\n\t\t\tthis.$nextTick(()=> // Wait one tick for all attempts to recall this function recursively to exhaust\n\t\t\t\tthis.inRefresh = false\n\t\t\t);\n\t\t},\n\n\n\t\t/**\n\t\t* Force recomputation of show via showIf values\n\t\t*/\n\t\trefreshShowIfs() {\n\t\t\tif (!this.spec) return;\n\t\t\tthis.spec.showIfs.forEach(widget =>\n\t\t\t\twidget.show = this.$macgyver.utils.evalMatch(widget.showIf, this.formData)\n\t\t\t);\n\t\t},\n\n\n\t\t/**\n\t\t* Assign initial defaults if a value is not in the data object\n\t\t*/\n\t\tassignDefaults() {\n\t\t\tif (!this.spec) return;\n\t\t\t_.defaultsDeep(this.formData, this.getPrototype());\n\t\t\tthis.$emit('change', this.formData);\n\t\t},\n\n\n\t\t/**\n\t\t* Compute the data prototype of the form\n\t\t* This is an empty object with all the defaults populated\n\t\t* @returns {Object} A prototype data object with all defaults populated\n\t\t* @see $macgyver.forms.getPrototype()\n\t\t*/\n\t\tgetPrototype() {\n\t\t\tif (!this.id) return {}; // Form not yet ready\n\t\t\treturn this.$macgyver.forms.getPrototype(this.spec.spec);\n\t\t},\n\n\n\t\t/**\n\t\t* Execute a function within a form\n\t\t* The default behaviour of this function is documented within the function\n\t\t* @param {string|function} action The action(s) to execute\n\t\t* @param {*} [context] The context of the action, defaults to the form component\n\t\t* @param {*} [params...] Additional parameters to execute\n\t\t* @emits mgRun Event fired at the form level only with a single object of the form `{action, params}`. Use the form property handleActions to specify if the form should handle or trap the event to override\n\t\t*/\n\t\trun(action, context, ...params) {\n\t\t\t// 0. See if what we've been passed is already a function {{{\n\t\t\tif (typeof action == 'function') {\n\t\t\t\treturn action.call(context ?? this);\n\t\t\t}\n\t\t\t// }}}\n\n\t\t\t// 1. Emit mgRun to parents and see if they want to handle it {{{\n\t\t\tvar handled = false;\n\t\t\tthis.$emit.up.call(context ?? this, 'mgRun', {action, params}, isHandled => {\n\t\t\t\tif (isHandled) handled = true;\n\t\t\t});\n\t\t\tif (handled) return;\n\t\t\t// }}}\n\n\t\t\t// 2. Use FORM.$props.onAction(action) and see if returns truthy {{{\n\t\t\tif (this.$props.onAction && this.$props.onAction.call(context ?? this, action, ...params)) return;\n\t\t\t// }}}\n\n\t\t\t// 3a. Does FORM.$props.actions exist and is a function which will handle everything? {{{\n\t\t\tif (this.$props.actions && _.isFunction(this.$props.actions)) {\n\t\t\t\tthis.$props.actions.call(context ?? this, action);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// }}}\n\n\t\t\t// 3b. Does FORM.$props.actions[action] exist and if so whether it returns truthy {{{\n\t\t\tvar [junk, actionReadable, actionArgs] = /^([a-z0-9\\_]*?)(\\(.*\\))?$/i.exec(action) || [];\n\t\t\tif (actionReadable && this.$props.actions && this.$props.actions[actionReadable]) {\n\t\t\t\t// Collapse strings to functions\n\t\t\t\tvar func = _.isString(this.$props.actions[actionReadable]) ? this[actionReadable]\n\t\t\t\t\t: this.$props.actions[actionReadable];\n\n\t\t\t\t// Tidy up actionArgs\n\t\t\t\tactionArgs = (actionArgs || '')\n\t\t\t\t\t.replace(/^\\(/, '') // Remove preceeding '('\n\t\t\t\t\t.replace(/\\)$/, '') // Remove succeeding ')'\n\t\t\t\t\t.split(',')\n\t\t\t\t\t.map(i => i && JSON.parse(i.replace(/'/g, '\"')));\n\n\t\t\t\tif (func.call(context ?? this, ...actionArgs, ...params)) return;\n\t\t\t}\n\t\t\t// }}}\n\n\t\t\t// 4. If all else failed and FORM.$props.actionsFallback is true - handle it via vm.$eval {{{\n\t\t\tthis.$macgyver.$eval.call(context ?? this, action, ...params);\n\t\t\t// }}}\n\t\t},\n\n\n\t\t/**\n\t\t* Find a VueComponent instance from a specPath\n\t\t* @param {string|array} specPath The specPath to search for\n\t\t* @param {boolean} [throws=true] Throw an error if the path cannot be found (avoid downstream checking if the specPath is valid)\n\t\t* @returns {VueComponent} Either the found VueComponent or `false` if not found\n\t\t*/\n\t\tgetComponentBySpecPath(specPath, throws = true) {\n\t\t\tvar found = false;\n\t\t\tthis.$emit.down('mgIdentify', widget => {\n\t\t\t\tif (!found && widget.$props.$specPath == specPath)\n\t\t\t\t\tfound = widget;\n\t\t\t});\n\t\t\tif (!found && throws) throw new Error(`Cannot edit component by non-existant specPath \"${specPath}\"`);\n\t\t\treturn found;\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-form\">\n\t\t<div v-if=\"errors.length\" class=\"alert alert-warning\">\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"err in errors\">{{err.error}}</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<mg-component\n\t\t\tv-if=\"spec\"\n\t\t\t:config=\"spec.spec\"\n\t\t/>\n\t</div>\n</template>\n\n<style>\n/* Add missing Bootstrap color variables */\n.mg-form {\n\t--btn-default-bg: #e9ecef;\n\t--btn-default-fg: #495057;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$q = undefined;
    /* module identifier */
    const __vue_module_identifier__$q = undefined;
    /* functional template */
    const __vue_is_functional_template__$q = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$q = normalizeComponent(
      { render: __vue_render__$k, staticRenderFns: __vue_staticRenderFns__$k },
      __vue_inject_styles__$q,
      __vue_script__$q,
      __vue_scope_id__$q,
      __vue_is_functional_template__$q,
      __vue_module_identifier__$q,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgForm = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$q
  });

  var script$q = Vue.mgComponent('mgGrid', {
    meta: {
      title: 'Grid layout',
      icon: 'far fa-grip-horizontal',
      category: 'Layout'
    },
    props: {
      items: {
        type: 'mgUnknown',
        "default": []
      }
    }
  });

  /* script */
  const __vue_script__$r = script$q;

  /* template */
  var __vue_render__$l = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "table",
      { staticClass: "table table-striped table-bordered" },
      _vm._l(_vm.$props.items, function(row) {
        return _c(
          "tr",
          _vm._l(row.items, function(cell) {
            return _c(
              "td",
              [
                _c("mg-component", {
                  attrs: { form: _vm.$props.form, config: cell }
                })
              ],
              1
            )
          }),
          0
        )
      }),
      0
    )
  };
  var __vue_staticRenderFns__$l = [];
  __vue_render__$l._withStripped = true;

    /* style */
    const __vue_inject_styles__$r = undefined;
    /* scoped */
    const __vue_scope_id__$r = undefined;
    /* module identifier */
    const __vue_module_identifier__$r = undefined;
    /* functional template */
    const __vue_is_functional_template__$r = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$r = normalizeComponent(
      { render: __vue_render__$l, staticRenderFns: __vue_staticRenderFns__$l },
      __vue_inject_styles__$r,
      __vue_script__$r,
      __vue_scope_id__$r,
      __vue_is_functional_template__$r,
      __vue_module_identifier__$r,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgGrid = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$r
  });

  var script$r = Vue.mgComponent('mgHeading', {
    meta: {
      title: 'Heading',
      icon: 'far fa-heading',
      category: 'General Decoration'
    },
    props: {
      text: {
        type: 'mgText'
      }
    }
  });

  /* script */
  const __vue_script__$s = script$r;

  /* template */
  var __vue_render__$m = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("legend", { staticClass: "form-control-static" }, [
      _vm._v("\n\t" + _vm._s(_vm.data || _vm.$props.text) + "\n")
    ])
  };
  var __vue_staticRenderFns__$m = [];
  __vue_render__$m._withStripped = true;

    /* style */
    const __vue_inject_styles__$s = undefined;
    /* scoped */
    const __vue_scope_id__$s = undefined;
    /* module identifier */
    const __vue_module_identifier__$s = undefined;
    /* functional template */
    const __vue_is_functional_template__$s = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$s = normalizeComponent(
      { render: __vue_render__$m, staticRenderFns: __vue_staticRenderFns__$m },
      __vue_inject_styles__$s,
      __vue_script__$s,
      __vue_scope_id__$s,
      __vue_is_functional_template__$s,
      __vue_module_identifier__$s,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgHeading = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$s
  });

  var script$s = Vue.mgComponent('mgHtml', {
    meta: {
      title: 'Static HTML',
      icon: 'fab fa-html5',
      category: 'General Decoration'
    },
    inject: {
      $mgForm: {
        from: '$mgForm'
      },
      $mgFormEditor: {
        from: '$mgFormEditor',
        "default": false
      }
    },
    props: {
      text: {
        type: 'mgCode',
        syntax: 'html'
      }
    }
  });

  /* script */
  const __vue_script__$t = script$s;

  /* template */
  var __vue_render__$n = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      [
        !_vm.$mgFormEditor
          ? _c("div", {
              staticClass: "form-control-static",
              domProps: { innerHTML: _vm._s(_vm.data || _vm.$props.text) }
            })
          : _c("mg-wysiwyg", {
              attrs: {
                value: _vm.data === undefined ? _vm.$props.text : _vm.data
              },
              on: {
                change: function($event) {
                  _vm.data = $event;
                }
              }
            })
      ],
      1
    )
  };
  var __vue_staticRenderFns__$n = [];
  __vue_render__$n._withStripped = true;

    /* style */
    const __vue_inject_styles__$t = undefined;
    /* scoped */
    const __vue_scope_id__$t = undefined;
    /* module identifier */
    const __vue_module_identifier__$t = undefined;
    /* functional template */
    const __vue_is_functional_template__$t = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$t = normalizeComponent(
      { render: __vue_render__$n, staticRenderFns: __vue_staticRenderFns__$n },
      __vue_inject_styles__$t,
      __vue_script__$t,
      __vue_scope_id__$t,
      __vue_is_functional_template__$t,
      __vue_module_identifier__$t,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgHtml = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$t
  });

  var script$t = Vue.mgComponent('mgIcon', {
    meta: {
      title: 'Icon',
      icon: 'far fa-flag',
      category: 'Simple Inputs',
      preferId: true
    },
    props: {
      iconFallback: {
        type: 'mgIcon',
        "default": 'far fa-info',
        help: 'The icon to use if non is selected'
      },
      required: {
        type: 'mgToggle',
        "default": false
      },
      "interface": {
        type: 'mgChoiceButtons',
        "default": 'modal',
        "enum": ['modal', 'dropdown']
      },
      iconFeed: {
        type: 'mgText',
        "default": '/api/webfonts/fa.json',
        advanced: true,
        help: 'The data source to import icon information',
        relative: true
      },
      className: {
        type: 'mgText',
        "default": 'btn btn-light btn-circle',
        advanced: true
      },
      classActive: {
        type: 'mgText',
        advanced: true
      },
      classInactive: {
        type: 'mgText',
        advanced: true
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    },
    methods: {
      selectIcon: function selectIcon() {
        var _this2 = this;

        Promise.resolve().then(function () {
          return _this2.$macgyver.notify.loading(_this2._uid, true);
        }).then(function () {
          return _this2.$http.get(_this2.$props.iconFeed);
        }).then(function (res) {
          _this2.$macgyver.notify.loading(_this2._uid, false);

          return res;
        }).then(function (res) {
          return _this2.$macgyver.$prompt.macgyver({
            title: 'Select icon',
            buttons: [],
            // We're capturing the first click so we don't need confirm buttons
            macgyver: [{
              id: 'className',
              type: 'mgChoiceButtons',
              showTitle: false,
              classWrapper: '',
              "enum": res.data.map(function (icon) {
                return {
                  id: icon["class"],
                  "class": "btn btn-icon-fixed ".concat(icon["class"], " fa-fw"),
                  classActive: "btn btn-primary btn-icon-fixed ".concat(icon["class"], " fa-fw")
                };
              })
            }],
            onShow: function onShow() {
              // Bind to the mg-form element, detect the first change and close the dialog
              _this2.$macgyver.$prompt.settings.macgyverForm.$on('mgChange', function () {
                return setTimeout(function () {
                  // Timeout not really needed but it lets the button highlight before we close
                  _this2.$macgyver.$prompt.close(true, _this2.$macgyver.$prompt.settings.value);
                }, 100);
              });
            }
          });
        }).then(function (form) {
          return _this2.data = form.className;
        });
      }
    }
  });

  /* script */
  const __vue_script__$u = script$t;

  /* template */
  var __vue_render__$o = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "mg-icon" },
      [
        _vm.$props.interface == "modal"
          ? _c("a", {
              staticClass: "btn btn-light btn-icon-fixed",
              class: _vm.data
                ? [_vm.data, _vm.$props.classActive || _vm.$props.className]
                : [
                    _vm.$props.iconFallback,
                    _vm.$props.classInactive || _vm.$props.className
                  ],
              on: {
                click: function($event) {
                  return _vm.selectIcon()
                }
              }
            })
          : _vm.$props.interface == "dropdown"
          ? _c("mg-choice-dropdown", {
              attrs: {
                "enum-source": "url",
                "enum-url": {
                  url: _vm.$props.iconFeed,
                  type: "array",
                  mappings: {
                    id: { required: true, from: "class" },
                    title: { required: true, from: "id" },
                    icon: { required: true, from: "class" }
                  }
                },
                default: _vm.$props.default,
                required: _vm.$props.required,
                value: _vm.data
              },
              on: {
                change: function($event) {
                  _vm.data = $event;
                }
              }
            })
          : _c("mg-error", {
              attrs: { "error-text": "Unknown mgIcon interface" }
            })
      ],
      1
    )
  };
  var __vue_staticRenderFns__$o = [];
  __vue_render__$o._withStripped = true;

    /* style */
    const __vue_inject_styles__$u = function (inject) {
      if (!inject) return
      inject("data-v-3817fda0_0", { source: "\n.btn.btn-icon-fixed {\n\tbox-shadow: none;\n\twidth: 32px;\n\theight: 32px;\n\tpadding: 7px 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgIcon.vue"],"names":[],"mappings":";AA0FA;CACA,gBAAA;CACA,WAAA;CACA,YAAA;CACA,cAAA;CACA,aAAA;CACA,uBAAA;CACA,mBAAA;AACA","file":"mgIcon.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgIcon', {\n\tmeta: {\n\t\ttitle: 'Icon',\n\t\ticon: 'far fa-flag',\n\t\tcategory: 'Simple Inputs',\n\t\tpreferId: true,\n\t},\n\tprops: {\n\t\ticonFallback: {type: 'mgIcon', default: 'far fa-info', help: 'The icon to use if non is selected'},\n\t\trequired: {type: 'mgToggle', default: false},\n\t\tinterface: {type: 'mgChoiceButtons', default: 'modal', enum: ['modal', 'dropdown']},\n\t\ticonFeed: {type: 'mgText', default: '/api/webfonts/fa.json', advanced: true, help: 'The data source to import icon information', relative: true},\n\t\tclassName: {type: 'mgText', default: 'btn btn-light btn-circle', advanced: true},\n\t\tclassActive: {type: 'mgText', advanced: true},\n\t\tclassInactive: {type: 'mgText', advanced: true},\n\t},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && !this.data) return reply(`${this.$props.title} is required`);\n\t\t});\n\t},\n\tmethods: {\n\t\tselectIcon() {\n\t\t\tPromise.resolve()\n\t\t\t\t.then(()=> this.$macgyver.notify.loading(this._uid, true))\n\t\t\t\t.then(()=> this.$http.get(this.$props.iconFeed))\n\t\t\t\t.then(res => { this.$macgyver.notify.loading(this._uid, false); return res })\n\t\t\t\t.then(res => this.$macgyver.$prompt.macgyver({\n\t\t\t\t\ttitle: 'Select icon',\n\t\t\t\t\tbuttons: [], // We're capturing the first click so we don't need confirm buttons\n\t\t\t\t\tmacgyver: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'className',\n\t\t\t\t\t\t\ttype: 'mgChoiceButtons',\n\t\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\t\tclassWrapper: '',\n\t\t\t\t\t\t\tenum: res.data.map(icon => ({\n\t\t\t\t\t\t\t\tid: icon.class,\n\t\t\t\t\t\t\t\tclass: `btn btn-icon-fixed ${icon.class} fa-fw`,\n\t\t\t\t\t\t\t\tclassActive: `btn btn-primary btn-icon-fixed ${icon.class} fa-fw`,\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tonShow: ()=> {\n\t\t\t\t\t\t// Bind to the mg-form element, detect the first change and close the dialog\n\t\t\t\t\t\tthis.$macgyver.$prompt.settings.macgyverForm.$on('mgChange', ()=> setTimeout(()=> { // Timeout not really needed but it lets the button highlight before we close\n\t\t\t\t\t\t\tthis.$macgyver.$prompt.close(true, this.$macgyver.$prompt.settings.value);\n\t\t\t\t\t\t}, 100));\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t\t.then(form => this.data = form.className)\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-icon\">\n\t\t<a\n\t\t\tv-if=\"$props.interface == 'modal'\"\n\t\t\t@click=\"selectIcon()\"\n\t\t\tclass=\"btn btn-light btn-icon-fixed\"\n\t\t\t:class=\"data ? [data, $props.classActive || $props.className] : [$props.iconFallback, $props.classInactive || $props.className]\"\n\t\t/>\n\t\t<mg-choice-dropdown\n\t\t\tv-else-if=\"$props.interface == 'dropdown'\"\n\t\t\tenum-source=\"url\"\n\t\t\t:enum-url=\"{\n\t\t\t\turl: $props.iconFeed,\n\t\t\t\ttype: 'array',\n\t\t\t\tmappings: {\n\t\t\t\t\tid: {required: true, from: 'class'},\n\t\t\t\t\ttitle: {required: true, from: 'id'},\n\t\t\t\t\ticon: {required: true, from: 'class'},\n\t\t\t\t},\n\t\t\t}\"\n\t\t\t:default=\"$props.default\"\n\t\t\t:required=\"$props.required\"\n\t\t\t:value=\"data\"\n\t\t\t@change=\"data = $event\"\n\t\t/>\n\t\t<mg-error\n\t\t\tv-else\n\t\t\terror-text=\"Unknown mgIcon interface\"\n\t\t/>\n\t</div>\n</template>\n\n<style>\n.btn.btn-icon-fixed {\n\tbox-shadow: none;\n\twidth: 32px;\n\theight: 32px;\n\tpadding: 7px 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$u = undefined;
    /* module identifier */
    const __vue_module_identifier__$u = undefined;
    /* functional template */
    const __vue_is_functional_template__$u = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$u = normalizeComponent(
      { render: __vue_render__$o, staticRenderFns: __vue_staticRenderFns__$o },
      __vue_inject_styles__$u,
      __vue_script__$u,
      __vue_scope_id__$u,
      __vue_is_functional_template__$u,
      __vue_module_identifier__$u,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgIcon = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$u
  });

  var script$u = Vue.mgComponent('mgInfoBlock', {
    meta: {
      title: 'Info Block',
      icon: 'far fa-info-square',
      category: 'Data display',
      format: false
    },
    data: function data() {
      return {
        isLoading: false
      };
    },
    props: {
      text: {
        type: 'mgText',
        help: 'Text to display, if a URL is also specified this is overridden when the result loads',
        "default": ''
      },
      url: {
        type: 'mgUrl',
        relative: true,
        "default": '/api/datafeeds/random/number?$extract=number'
      },
      coloring: {
        type: 'mgChoiceDropdown',
        "default": 'bg-primary',
        "enum": [{
          id: 'bg-primary text-white',
          text: 'Primary'
        }, {
          id: 'bg-secondary',
          text: 'Secondary'
        }, {
          id: 'bg-success text-white',
          text: 'Success'
        }, {
          id: 'bg-danger text-white',
          text: 'Danger'
        }, {
          id: 'bg-warning text-white',
          text: 'Warning'
        }, {
          id: 'bg-info text-white',
          text: 'Info'
        }, {
          id: 'bg-light',
          text: 'Light'
        }, {
          id: 'bg-dark text-white',
          text: 'Dark'
        }, {
          id: 'bg-muted',
          text: 'Muted'
        }]
      },
      icon: {
        type: 'mgIcon',
        "default": 'far fa-info-circle'
      },
      iconLoading: {
        type: 'mgIcon',
        "default": 'far fa-spinner fa-spin',
        advanced: true
      },
      iconSize: {
        type: 'mgChoiceButtons',
        "default": 'fa-4x',
        advanced: true,
        "enum": [{
          id: '',
          text: 'Normal'
        }, {
          id: 'fa-2x',
          text: '2x'
        }, {
          id: 'fa-3x',
          text: '3x'
        }, {
          id: 'fa-4x',
          text: '4x'
        }, {
          id: 'fa-5x',
          text: '5x'
        }, {
          id: 'fa-6x',
          text: '6x'
        }, {
          id: 'fa-7x',
          text: '7x'
        }, {
          id: 'fa-8x',
          text: '8x'
        }]
      }
    },
    created: function created() {
      var _this = this;

      this.$watch('$props.url', function () {
        if (!_this.$props.url) return;
        Promise.resolve().then(function () {
          return _this.isLoading = true;
        }).then(function () {
          return _this.$macgyver.utils.fetch(_this.$props.url, {
            type: 'object',
            mappings: {
              extract: {
                required: true
              }
            },
            format: function format(d) {
              return d.extract;
            }
          });
        }).then(function (data) {
          return _this.$set(_this, 'data', data);
        }).then(function () {
          return _this.isLoading = false;
        });
      }, {
        immediate: true
      });
    }
  });

  /* script */
  const __vue_script__$v = script$u;

  /* template */
  var __vue_render__$p = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "card mg-info-block", class: _vm.$props.coloring },
      [
        _c("div", { staticClass: "card-body media" }, [
          _c("div", { staticClass: "mr-3" }, [
            _c("i", {
              class: [
                _vm.isLoading ? _vm.$props.iconLoading : _vm.$props.icon,
                _vm.$props.iconSize
              ]
            })
          ]),
          _vm._v(" "),
          _c("div", { staticClass: "media-body" }, [
            _c("div", { staticClass: "mg-info-block-text" }, [
              _vm._v(_vm._s(_vm.data || _vm.$props.text))
            ]),
            _vm._v(" "),
            _c("div", { staticClass: "mg-info-block-title" }, [
              _vm._v(_vm._s(_vm.$props.title))
            ])
          ])
        ])
      ]
    )
  };
  var __vue_staticRenderFns__$p = [];
  __vue_render__$p._withStripped = true;

    /* style */
    const __vue_inject_styles__$v = function (inject) {
      if (!inject) return
      inject("data-v-31c83535_0", { source: "\n.mg-info-block {\n\tbackground: transparent;\n\tborder-radius: 5px;\n}\n.mg-info-block .mg-info-block-text {\n\tfont-size: 200%;\n\tfont-weight: bold;\n}\n.mg-info-block .mg-info-block-title {\n\tfont-size: 90%;\n\topacity: 0.8;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgInfoBlock.vue"],"names":[],"mappings":";AA+EA;CACA,uBAAA;CACA,kBAAA;AACA;AAEA;CACA,eAAA;CACA,iBAAA;AACA;AAEA;CACA,cAAA;CACA,YAAA;AACA","file":"mgInfoBlock.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgInfoBlock', {\n\tmeta: {\n\t\ttitle: 'Info Block',\n\t\ticon: 'far fa-info-square',\n\t\tcategory: 'Data display',\n\t\tformat: false,\n\t},\n\tdata() { return {\n\t\tisLoading: false,\n\t}},\n\tprops: {\n\t\ttext: {type: 'mgText', help: 'Text to display, if a URL is also specified this is overridden when the result loads', default: ''},\n\t\turl: {type: 'mgUrl', relative: true, default: '/api/datafeeds/random/number?$extract=number'},\n\t\tcoloring: {\n\t\t\ttype: 'mgChoiceDropdown',\n\t\t\tdefault: 'bg-primary',\n\t\t\tenum: [\n\t\t\t\t{id: 'bg-primary text-white', text: 'Primary'},\n\t\t\t\t{id: 'bg-secondary', text: 'Secondary'},\n\t\t\t\t{id: 'bg-success text-white', text: 'Success'},\n\t\t\t\t{id: 'bg-danger text-white', text: 'Danger'},\n\t\t\t\t{id: 'bg-warning text-white', text: 'Warning'},\n\t\t\t\t{id: 'bg-info text-white', text: 'Info'},\n\t\t\t\t{id: 'bg-light', text: 'Light'},\n\t\t\t\t{id: 'bg-dark text-white', text: 'Dark'},\n\t\t\t\t{id: 'bg-muted', text: 'Muted'},\n\t\t\t],\n\t\t},\n\t\ticon: {type: 'mgIcon', default: 'far fa-info-circle'},\n\t\ticonLoading: {type: 'mgIcon', default: 'far fa-spinner fa-spin', advanced: true},\n\t\ticonSize: {\n\t\t\ttype: 'mgChoiceButtons',\n\t\t\tdefault: 'fa-4x',\n\t\t\tadvanced: true,\n\t\t\tenum: [\n\t\t\t\t{id: '', text: 'Normal'},\n\t\t\t\t{id: 'fa-2x', text: '2x'},\n\t\t\t\t{id: 'fa-3x', text: '3x'},\n\t\t\t\t{id: 'fa-4x', text: '4x'},\n\t\t\t\t{id: 'fa-5x', text: '5x'},\n\t\t\t\t{id: 'fa-6x', text: '6x'},\n\t\t\t\t{id: 'fa-7x', text: '7x'},\n\t\t\t\t{id: 'fa-8x', text: '8x'},\n\t\t\t],\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.$watch('$props.url', ()=> {\n\t\t\tif (!this.$props.url) return;\n\t\t\tPromise.resolve()\n\t\t\t\t.then(()=> this.isLoading = true)\n\t\t\t\t.then(()=> this.$macgyver.utils.fetch(this.$props.url, {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tmappings: {extract: {required: true}},\n\t\t\t\t\tformat: d => d.extract,\n\t\t\t\t}))\n\t\t\t\t.then(data => this.$set(this, 'data', data))\n\t\t\t\t.then(()=> this.isLoading = false)\n\t\t}, {immediate: true});\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"card mg-info-block\" :class=\"$props.coloring\">\n\t\t<div class=\"card-body media\">\n\t\t\t<div class=\"mr-3\">\n\t\t\t\t<i :class=\"[isLoading ? $props.iconLoading : $props.icon, $props.iconSize]\"/>\n\t\t\t</div>\n\t\t\t<div class=\"media-body\">\n\t\t\t\t<div class=\"mg-info-block-text\">{{data || $props.text}}</div>\n\t\t\t\t<div class=\"mg-info-block-title\">{{$props.title}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n.mg-info-block {\n\tbackground: transparent;\n\tborder-radius: 5px;\n}\n\n.mg-info-block .mg-info-block-text {\n\tfont-size: 200%;\n\tfont-weight: bold;\n}\n\n.mg-info-block .mg-info-block-title {\n\tfont-size: 90%;\n\topacity: 0.8;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$v = undefined;
    /* module identifier */
    const __vue_module_identifier__$v = undefined;
    /* functional template */
    const __vue_is_functional_template__$v = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$v = normalizeComponent(
      { render: __vue_render__$p, staticRenderFns: __vue_staticRenderFns__$p },
      __vue_inject_styles__$v,
      __vue_script__$v,
      __vue_scope_id__$v,
      __vue_is_functional_template__$v,
      __vue_module_identifier__$v,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgInfoBlock = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$v
  });

  var script$v = Vue.mgComponent('mgLabel', {
    meta: {
      title: 'Read-only label',
      icon: 'far fa-font',
      category: 'General Decoration'
    },
    props: {
      text: {
        type: 'mgText'
      },
      className: {
        type: 'mgText',
        "default": 'form-control-static',
        advanced: true
      }
    }
  });

  /* script */
  const __vue_script__$w = script$v;

  /* template */
  var __vue_render__$q = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { class: _vm.$props.className }, [
      _vm._v("\n\t" + _vm._s(_vm.data || _vm.$props.text) + "\n")
    ])
  };
  var __vue_staticRenderFns__$q = [];
  __vue_render__$q._withStripped = true;

    /* style */
    const __vue_inject_styles__$w = undefined;
    /* scoped */
    const __vue_scope_id__$w = undefined;
    /* module identifier */
    const __vue_module_identifier__$w = undefined;
    /* functional template */
    const __vue_is_functional_template__$w = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$w = normalizeComponent(
      { render: __vue_render__$q, staticRenderFns: __vue_staticRenderFns__$q },
      __vue_inject_styles__$w,
      __vue_script__$w,
      __vue_scope_id__$w,
      __vue_is_functional_template__$w,
      __vue_module_identifier__$w,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgLabel = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$w
  });

  var script$w = Vue.mgComponent('mgList', {
    meta: {
      title: 'List',
      icon: 'far fa-list-ul',
      category: 'Simple Inputs',
      preferId: true,
      format: function format(v) {
        return (v || []).join(', ');
      }
    },
    data: function data() {
      return {
        newItem: ''
      };
    },
    props: {
      allowDelete: {
        type: 'mgToggle',
        "default": true
      },
      min: {
        type: 'mgNumber',
        title: 'Minimum number of items'
      },
      max: {
        type: 'mgNumber',
        title: 'Maximum number of items'
      },
      required: {
        type: 'mgToggle',
        "default": false
      },
      numbered: {
        type: 'mgToggle',
        "default": true
      },
      addButtonActiveClass: {
        type: 'mgText',
        "default": 'btn btn-block btn-success fa fa-plus',
        advanced: true
      },
      addButtonInactiveClass: {
        type: 'mgText',
        "default": 'btn btn-block btn-disabled fa fa-plus',
        advanced: true
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && (!_this.data || !_this.data.length)) return reply("".concat(_this.$props.title, " is required"));
        if (_this.$props.min && _.isString(_this.data) && _this.data.length < _this.$props.min) return reply("".concat(_this.$props.title, " must have at least ").concat(_this.$props.min, " items"));
        if (_this.$props.max && _.isString(_this.data) && _this.data.length > _this.$props.max) return reply("".concat(_this.$props.title, " must have at most ").concat(_this.$props.max, " items"));
      });
    },
    methods: {
      addItem: function addItem() {
        if (!_.isArray(this.data)) this.data = [];
        this.data.push(this.newItem);
        this.newItem = '';
      },
      changeItem: function changeItem(index, value) {
        this.$set(this.data, index, value);
      },
      removeItem: function removeItem(index) {
        this.data = this.data.filter(function (x, i) {
          return i != index;
        });
      }
    }
  });

  /* script */
  const __vue_script__$x = script$w;

  /* template */
  var __vue_render__$r = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("table", { staticClass: "table table-bordered mg-list" }, [
      _c(
        "tbody",
        _vm._l(_vm.data, function(row, rowIndex) {
          return _c("tr", [
            _vm.$props.numbered
              ? _c("td", { staticClass: "row-number-cell" }, [
                  _vm._v(_vm._s(_vm._f("number")(rowIndex + 1)))
                ])
              : _vm._e(),
            _vm._v(" "),
            _c("td", [
              _c("input", {
                staticClass: "form-control",
                attrs: { type: "text" },
                domProps: { value: row },
                on: {
                  change: function($event) {
                    return _vm.changeItem(rowIndex, $event.srcElement.value)
                  }
                }
              })
            ]),
            _vm._v(" "),
            _vm.$props.allowDelete
              ? _c("td", { staticClass: "verb-cell" }, [
                  _c(
                    "a",
                    {
                      staticClass:
                        "btn btn-link btn-link-danger btn-xs text-muted",
                      on: {
                        click: function($event) {
                          return _vm.removeItem(rowIndex)
                        }
                      }
                    },
                    [_c("i", { staticClass: "fa fa-trash" })]
                  )
                ])
              : _vm._e()
          ])
        }),
        0
      ),
      _vm._v(" "),
      _c("tfoot", { staticClass: "hidden-print" }, [
        _c("tr", [
          _vm.$props.numbered
            ? _c("td", { staticClass: "row-number-cell" }, [
                !_vm.$props.allowDelete
                  ? _c("a", {
                      class: _vm.newItem
                        ? _vm.$props.addButtonActiveClass
                        : _vm.$props.addButtonInactiveClass,
                      on: {
                        click: function($event) {
                          return _vm.addItem()
                        }
                      }
                    })
                  : _c("i", { staticClass: "far fa-asterisk" })
              ])
            : _vm._e(),
          _vm._v(" "),
          _c("td", { attrs: { colspan: _vm.$props.allowDelete ? 1 : 2 } }, [
            _c("input", {
              directives: [
                {
                  name: "model",
                  rawName: "v-model",
                  value: _vm.newItem,
                  expression: "newItem"
                }
              ],
              staticClass: "form-control",
              attrs: { type: "text" },
              domProps: { value: _vm.newItem },
              on: {
                keyup: function($event) {
                  if (
                    !$event.type.indexOf("key") &&
                    _vm._k($event.keyCode, "enter", 13, $event.key, "Enter")
                  ) {
                    return null
                  }
                  return _vm.addItem()
                },
                input: function($event) {
                  if ($event.target.composing) {
                    return
                  }
                  _vm.newItem = $event.target.value;
                }
              }
            })
          ]),
          _vm._v(" "),
          _vm.$props.allowDelete
            ? _c("td", { staticClass: "verb-cell" }, [
                _c("a", {
                  class: _vm.newItem
                    ? _vm.$props.addButtonActiveClass
                    : _vm.$props.addButtonInactiveClass,
                  on: {
                    click: function($event) {
                      return _vm.addItem()
                    }
                  }
                })
              ])
            : _vm._e()
        ])
      ])
    ])
  };
  var __vue_staticRenderFns__$r = [];
  __vue_render__$r._withStripped = true;

    /* style */
    const __vue_inject_styles__$x = function (inject) {
      if (!inject) return
      inject("data-v-4db17ef8_0", { source: "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Cell padding */\n.mg-list td {\n\tpadding: 0px !important;\n}\n.mg-list td input[type=\"text\"] {\n\tborder: none;\n}\n\n/* Row number cell */\n.mg-list td.row-number-cell {\n\ttext-align: center;\n\twidth: 30px;\n\tvertical-align: middle;\n}\n\n/* Verb cell */\n.mg-list .verb-cell {\n\twidth: 30px;\n\ttext-align: center;\n\tvertical-align: middle;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA,iBAAA;AACA;CACA,uBAAA;AACA;AAEA;CACA,YAAA;AACA;;AAEA,oBAAA;AACA;CACA,kBAAA;CACA,WAAA;CACA,sBAAA;AACA;;AAEA,cAAA;AACA;CACA,WAAA;CACA,kBAAA;CACA,sBAAA;AACA","file":"mgList.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgList', {\n\tmeta: {\n\t\ttitle: 'List',\n\t\ticon: 'far fa-list-ul',\n\t\tcategory: 'Simple Inputs',\n\t\tpreferId: true,\n\t\tformat: v => (v || []).join(', '),\n\t},\n\tdata() { return {\n\t\tnewItem: '',\n\t}},\n\tprops: {\n\t\tallowDelete: {type: 'mgToggle', default: true},\n\t\tmin: {type: 'mgNumber', title: 'Minimum number of items'},\n\t\tmax: {type: 'mgNumber', title: 'Maximum number of items'},\n\t\trequired: {type: 'mgToggle', default: false},\n\t\tnumbered: {type: 'mgToggle', default: true},\n\t\taddButtonActiveClass: {type: 'mgText', default: 'btn btn-block btn-success fa fa-plus', advanced: true},\n\t\taddButtonInactiveClass: {type: 'mgText', default: 'btn btn-block btn-disabled fa fa-plus', advanced: true},\n\t},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && (!this.data || !this.data.length)) return reply(`${this.$props.title} is required`);\n\t\t\tif (this.$props.min && _.isString(this.data) && this.data.length < this.$props.min) return reply(`${this.$props.title} must have at least ${this.$props.min} items`);\n\t\t\tif (this.$props.max && _.isString(this.data) && this.data.length > this.$props.max) return reply(`${this.$props.title} must have at most ${this.$props.max} items`);\n\t\t});\n\t},\n\tmethods: {\n\t\taddItem() {\n\t\t\tif (!_.isArray(this.data)) this.data = [];\n\t\t\tthis.data.push(this.newItem);\n\t\t\tthis.newItem = '';\n\t\t},\n\t\tchangeItem(index, value) {\n\t\t\tthis.$set(this.data, index, value);\n\t\t},\n\t\tremoveItem(index) {\n\t\t\tthis.data = this.data.filter((x, i) => i != index);\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<table class=\"table table-bordered mg-list\">\n\t\t<tbody>\n\t\t\t<tr v-for=\"(row, rowIndex) in data\">\n\t\t\t\t<td v-if=\"$props.numbered\" class=\"row-number-cell\">{{rowIndex + 1 | number}}</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input :value=\"row\" @change=\"changeItem(rowIndex, $event.srcElement.value)\" type=\"text\" class=\"form-control\"/>\n\t\t\t\t</td>\n\t\t\t\t<td v-if=\"$props.allowDelete\" class=\"verb-cell\">\n\t\t\t\t\t<a @click=\"removeItem(rowIndex)\" class=\"btn btn-link btn-link-danger btn-xs text-muted\"><i class=\"fa fa-trash\"></i></a>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t\t<tfoot class=\"hidden-print\">\n\t\t\t<tr>\n\t\t\t\t<td v-if=\"$props.numbered\" class=\"row-number-cell\">\n\t\t\t\t\t<a v-if=\"!$props.allowDelete\" @click=\"addItem()\" :class=\"newItem ? $props.addButtonActiveClass : $props.addButtonInactiveClass\"/>\n\t\t\t\t\t<i v-else class=\"far fa-asterisk\"></i>\n\t\t\t\t</td>\n\t\t\t\t<td :colspan=\"$props.allowDelete ? 1 : 2\">\n\t\t\t\t\t<input @keyup.enter=\"addItem()\" v-model=\"newItem\" type=\"text\" class=\"form-control\"/>\n\t\t\t\t</td>\n\t\t\t\t<td v-if=\"$props.allowDelete\" class=\"verb-cell\">\n\t\t\t\t\t<a @click=\"addItem()\" :class=\"newItem ? $props.addButtonActiveClass : $props.addButtonInactiveClass\"/>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tfoot>\n\t</table>\n</template>\n\n<style>\n/* Cell padding */\n.mg-list td {\n\tpadding: 0px !important;\n}\n\n.mg-list td input[type=\"text\"] {\n\tborder: none;\n}\n\n/* Row number cell */\n.mg-list td.row-number-cell {\n\ttext-align: center;\n\twidth: 30px;\n\tvertical-align: middle;\n}\n\n/* Verb cell */\n.mg-list .verb-cell {\n\twidth: 30px;\n\ttext-align: center;\n\tvertical-align: middle;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$x = undefined;
    /* module identifier */
    const __vue_module_identifier__$x = undefined;
    /* functional template */
    const __vue_is_functional_template__$x = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$x = normalizeComponent(
      { render: __vue_render__$r, staticRenderFns: __vue_staticRenderFns__$r },
      __vue_inject_styles__$x,
      __vue_script__$x,
      __vue_scope_id__$x,
      __vue_is_functional_template__$x,
      __vue_module_identifier__$x,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgList = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$x
  });

  var script$x = Vue.mgComponent('mgNumber', {
    meta: {
      title: 'Number',
      icon: 'far fa-sort-numeric-down',
      category: 'Simple Inputs',
      preferId: true,
      shorthand: ['integer', 'int', 'float', 'num'],
      format: function format(v) {
        if (!v) return '';
        return (_.isNumber(v) ? v : parseInt(v)).toLocaleString();
      },
      formatClass: 'text-right'
    },
    props: {
      min: {
        type: 'mgNumber',
        title: 'Minimum value'
      },
      max: {
        type: 'mgNumber',
        title: 'Maximum value'
      },
      step: {
        type: 'mgNumber',
        title: 'Value to increment / decrement by'
      },
      placeholder: {
        type: 'mgNumber',
        help: 'Ghost text to display when there is no value'
      },
      required: {
        type: 'mgToggle',
        "default": false
      },
      "interface": {
        type: 'mgChoiceDropdown',
        title: 'Interface',
        help: 'How to allow number input',
        "default": 'bumpers',
        "enum": [{
          id: 'bumpers',
          title: 'Number input with buttons'
        }, {
          id: 'slider',
          title: 'Slider bar'
        }, {
          id: 'input',
          title: 'Number input box only'
        }]
      },
      bumperDownClass: {
        type: 'mgText',
        "default": 'btn btn-light fa fa-arrow-down input-group-prepend',
        advanced: true,
        showIf: 'interface == "bumpers"'
      },
      bumperUpClass: {
        type: 'mgText',
        "default": 'btn btn-light fa fa-arrow-up input-group-append',
        advanced: true,
        showIf: 'interface == "bumpers"'
      },
      prefix: {
        type: 'mgText',
        title: 'Prefix',
        help: 'Prefix to show before the input',
        showIf: 'interface == "input"'
      },
      prefixClass: {
        type: 'mgText',
        "default": 'input-group-prepend input-group-text',
        advanced: true,
        showIf: 'interface == "input"'
      },
      suffix: {
        type: 'mgText',
        title: 'Suffix',
        help: 'Suffix to show after the input',
        showIf: 'interface == "input"'
      },
      suffixClass: {
        type: 'mgText',
        "default": 'input-group-append input-group-text',
        advanced: true,
        showIf: 'interface == "input"'
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
        if (_this.$props.min && _this.data < _this.$props.min) return reply("".concat(_this.$props.title, " is too small (minimum value is ").concat(_this.$props.min, ")"));
        if (_this.$props.max && _this.data > _this.$props.max) return reply("".concat(_this.$props.title, " is too large (maximum value is ").concat(_this.$props.max, ")"));
      });
    },
    methods: {
      add: function add(steps) {
        if (!_.isNumber(this.data)) return this.data = this.$props.min || 0; // Not already a number default to the min or zero

        this.data += steps * (this.$props.step || 1);
        if (this.$props.max && this.data > this.$props.max) this.data = this.$props.max;
        if (this.$props.min && this.data < this.$props.min) this.data = this.$props.min;
      }
    }
  });

  /* script */
  const __vue_script__$y = script$x;

  /* template */
  var __vue_render__$s = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      { staticClass: "mg-number", class: "mg-number-" + _vm.$props.interface },
      [
        _vm.$props.interface == "slider"
          ? _c("div", [
              _c("input", {
                directives: [
                  {
                    name: "model",
                    rawName: "v-model",
                    value: _vm.data,
                    expression: "data"
                  }
                ],
                staticClass: "form-control",
                attrs: {
                  type: "range",
                  placeholder: _vm.$props.placeholder,
                  min: _vm.$props.min,
                  max: _vm.$props.max,
                  step: _vm.$props.step
                },
                domProps: { value: _vm.data },
                on: {
                  __r: function($event) {
                    _vm.data = $event.target.value;
                  }
                }
              }),
              _vm._v(" "),
              _c("label", { staticClass: "mg-number-slider-value" }, [
                _vm._v(_vm._s(_vm._f("number")(_vm.data || "?")))
              ])
            ])
          : _vm.$props.interface == "bumpers"
          ? _c("div", { staticClass: "input-group" }, [
              _c("a", {
                staticClass: "hidden-print",
                class: _vm.$props.bumperDownClass,
                on: {
                  click: function($event) {
                    return _vm.add(-1)
                  }
                }
              }),
              _vm._v(" "),
              _c("input", {
                directives: [
                  {
                    name: "model",
                    rawName: "v-model",
                    value: _vm.data,
                    expression: "data"
                  }
                ],
                staticClass: "form-control",
                attrs: {
                  type: "number",
                  placeholder: _vm.$props.placeholder,
                  min: _vm.$props.min,
                  max: _vm.$props.max,
                  step: _vm.$props.step
                },
                domProps: { value: _vm.data },
                on: {
                  input: function($event) {
                    if ($event.target.composing) {
                      return
                    }
                    _vm.data = $event.target.value;
                  }
                }
              }),
              _vm._v(" "),
              _c("a", {
                staticClass: "hidden-print",
                class: _vm.$props.bumperUpClass,
                on: {
                  click: function($event) {
                    return _vm.add(1)
                  }
                }
              })
            ])
          : _vm.$props.interface == "input"
          ? _c("div", { staticClass: "input-group" }, [
              _vm.$props.prefix
                ? _c("div", { class: _vm.$props.prefixClass }, [
                    _vm._v(_vm._s(_vm.$props.prefix))
                  ])
                : _vm._e(),
              _vm._v(" "),
              _c("input", {
                directives: [
                  {
                    name: "model",
                    rawName: "v-model",
                    value: _vm.data,
                    expression: "data"
                  }
                ],
                staticClass: "form-control",
                attrs: {
                  type: "number",
                  placeholder: _vm.$props.placeholder,
                  min: _vm.$props.min,
                  max: _vm.$props.max,
                  step: _vm.$props.step
                },
                domProps: { value: _vm.data },
                on: {
                  input: function($event) {
                    if ($event.target.composing) {
                      return
                    }
                    _vm.data = $event.target.value;
                  }
                }
              }),
              _vm._v(" "),
              _vm.$props.suffix
                ? _c("div", { class: _vm.$props.suffixClass }, [
                    _vm._v(_vm._s(_vm.$props.suffix))
                  ])
                : _vm._e()
            ])
          : _c("div", { staticClass: "alert alert-warning" }, [
              _vm._v(
                "\n\t\tUnknown mgNumber interface '" +
                  _vm._s(_vm.$props.interface) +
                  "'\n\t"
              )
            ])
      ]
    )
  };
  var __vue_staticRenderFns__$s = [];
  __vue_render__$s._withStripped = true;

    /* style */
    const __vue_inject_styles__$y = function (inject) {
      if (!inject) return
      inject("data-v-9bb59ec0_0", { source: "\n.mg-number input[type=number] {\n\tpadding: 0 10px;\n}\n.mg-number .btn {\n\tbox-shadow: none;\n\tborder: 1px solid #f0f0f0;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n/* Hide the spin button in mgNumber controls */\n.mg-number input[type=number]::-webkit-outer-spin-button,\n.mg-number input[type=number]::-webkit-inner-spin-button {\n\t/* display: none; <- Crashes Chrome on hover */\n\t-webkit-appearance: none;\n\tmargin: 0; /* <-- Apparently some margin is still there even though it's hidden */\n}\n\n\n\n/* Slider {{{ */\n.mg-number.mg-number-slider input[type=\"range\"] {\n\tdisplay: inline-block;\n\t-webkit-appearance: none;\n\twidth: calc(100% - (73px));\n\theight: 10px;\n\tborder-radius: 5px;\n\tbackground: var(--btn-default-bg);\n\toutline: none;\n\tpadding: 0;\n\tmargin: 0;\n}\n.mg-number.mg-number-slider input[type=\"range\"]::-webkit-slider-thumb {\n\t-webkit-appearance: none;\n\tappearance: none;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 50%;\n\tbackground: var(--primary);\n\tcursor: pointer;\n\t-webkit-transition: background .15s ease-in-out;\n\ttransition: background .15s ease-in-out;\n}\n.mg-number.mg-number-slider input[type=\"range\"]::-webkit-slider-thumb:hover,\n.mg-number.mg-number-slider input[type=\"range\"]:active::-webkit-slider-thumb,\n.mg-number.mg-number-slider input[type=\"range\"]::-moz-range-thumb:hover,\n.mg-number.mg-number-slider input[type=\"range\"]:active::-moz-range-thumb {\n\tbackground: var(--primary);\n}\n.mg-number.mg-number-slider input[type=\"range\"]::-moz-range-thumb {\n\twidth: 20px;\n\theight: 20px;\n\tborder: 0;\n\tborder-radius: 50%;\n\tcolor: var(--btn-default-fg);\n\tbackground: var(--btn-default-bg);\n\tcursor: pointer;\n\t-moz-transition: background .15s ease-in-out;\n\ttransition: background .15s ease-in-out;\n}\n.mg-number.mg-number-slider input[type=\"range\"]:focus::-webkit-slider-thumb {\n\tbox-shadow: 0 0 0 3px #fff, 0 0 0 6px var(--primary);\n}\n.mg-number.mg-number-slider .mg-number-slider-value {\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: 60px;\n\tline-height: 20px;\n\ttext-align: center;\n\tborder-radius: 3px;\n\tcolor: var(--btn-default-fg);\n\tbackground: var(--btn-default-bg);\n\tpadding: 5px 10px;\n\tmargin-left: 8px;\n}\n.mg-number.mg-number-slider .mg-number-slider-value:after {\n\tposition: absolute;\n\ttop: 8px;\n\tleft: -7px;\n\twidth: 0;\n\theight: 0;\n\tborder-top: 7px solid transparent;\n\tborder-right: 7px solid var(--btn-default-bg);\n\tborder-bottom: 7px solid transparent;\n\tcontent: '';\n}\n::-moz-range-track {\n\tbackground: var(--btn-default-bg);\n\tborder: 0;\n}\ninput::-moz-focus-inner,\ninput::-moz-focus-outer {\n\tborder: 0;\n}\n/* }}} */\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgNumber.vue"],"names":[],"mappings":";AA0EA;CACA,eAAA;AACA;AAEA;CACA,gBAAA;CACA,yBAAA;CACA,aAAA;CACA,mBAAA;AACA;;AAEA,8CAAA;AACA;;CAEA,8CAAA;CACA,wBAAA;CACA,SAAA,EAAA,sEAAA;AACA;;;;AAIA,eAAA;AACA;CACA,qBAAA;CACA,wBAAA;CACA,0BAAA;CACA,YAAA;CACA,kBAAA;CACA,iCAAA;CACA,aAAA;CACA,UAAA;CACA,SAAA;AACA;AAEA;CACA,wBAAA;CACA,gBAAA;CACA,WAAA;CACA,YAAA;CACA,kBAAA;CACA,0BAAA;CACA,eAAA;CACA,+CAAA;CACA,uCAAA;AACA;AAEA;;;;CAIA,0BAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,SAAA;CACA,kBAAA;CACA,4BAAA;CACA,iCAAA;CACA,eAAA;CACA,4CAAA;CACA,uCAAA;AACA;AAEA;CACA,oDAAA;AACA;AAEA;CACA,qBAAA;CACA,kBAAA;CACA,WAAA;CACA,iBAAA;CACA,kBAAA;CACA,kBAAA;CACA,4BAAA;CACA,iCAAA;CACA,iBAAA;CACA,gBAAA;AACA;AACA;CACA,kBAAA;CACA,QAAA;CACA,UAAA;CACA,QAAA;CACA,SAAA;CACA,iCAAA;CACA,6CAAA;CACA,oCAAA;CACA,WAAA;AACA;AAEA;CACA,iCAAA;CACA,SAAA;AACA;AAEA;;CAEA,SAAA;AACA;AACA,QAAA","file":"mgNumber.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgNumber', {\n\tmeta: {\n\t\ttitle: 'Number',\n\t\ticon: 'far fa-sort-numeric-down',\n\t\tcategory: 'Simple Inputs',\n\t\tpreferId: true,\n\t\tshorthand: ['integer', 'int', 'float', 'num'],\n\t\tformat: v => {\n\t\t\tif (!v) return '';\n\t\t\treturn (_.isNumber(v) ? v : parseInt(v)).toLocaleString();\n\t\t},\n\t\tformatClass: 'text-right',\n\t},\n\tprops: {\n\t\tmin: {type: 'mgNumber', title: 'Minimum value'},\n\t\tmax: {type: 'mgNumber', title: 'Maximum value'},\n\t\tstep: {type: 'mgNumber', title: 'Value to increment / decrement by'},\n\t\tplaceholder: {type: 'mgNumber', help: 'Ghost text to display when there is no value'},\n\t\trequired: {type: 'mgToggle', default: false},\n\t\tinterface: {type: 'mgChoiceDropdown', title: 'Interface', help: 'How to allow number input', default: 'bumpers', enum: [\n\t\t\t{id: 'bumpers', title: 'Number input with buttons'},\n\t\t\t{id: 'slider', title: 'Slider bar'},\n\t\t\t{id: 'input', title: 'Number input box only'},\n\t\t]},\n\t\tbumperDownClass: {type: 'mgText', default: 'btn btn-light fa fa-arrow-down input-group-prepend', advanced: true, showIf: 'interface == \"bumpers\"'},\n\t\tbumperUpClass: {type: 'mgText', default: 'btn btn-light fa fa-arrow-up input-group-append', advanced: true, showIf: 'interface == \"bumpers\"'},\n\t\tprefix: {type: 'mgText', title: 'Prefix', help: 'Prefix to show before the input', showIf: 'interface == \"input\"'},\n\t\tprefixClass: {type: 'mgText', default: 'input-group-prepend input-group-text', advanced: true, showIf: 'interface == \"input\"'},\n\t\tsuffix: {type: 'mgText', title: 'Suffix', help: 'Suffix to show after the input', showIf: 'interface == \"input\"'},\n\t\tsuffixClass: {type: 'mgText', default: 'input-group-append input-group-text', advanced: true, showIf: 'interface == \"input\"'},\n\t},\n\tcreated() {\n\t\tthis.$on('mgValidate', reply => {\n\t\t\tif (this.$props.required && !this.data) return reply(`${this.$props.title} is required`);\n\t\t\tif (this.$props.min && this.data < this.$props.min) return reply(`${this.$props.title} is too small (minimum value is ${this.$props.min})`);\n\t\t\tif (this.$props.max && this.data > this.$props.max) return reply(`${this.$props.title} is too large (maximum value is ${this.$props.max})`);\n\t\t});\n\t},\n\tmethods: {\n\t\tadd(steps) {\n\t\t\tif (!_.isNumber(this.data)) return this.data = this.$props.min || 0; // Not already a number default to the min or zero\n\n\t\t\tthis.data += steps * (this.$props.step || 1);\n\t\t\tif (this.$props.max && this.data > this.$props.max) this.data = this.$props.max;\n\t\t\tif (this.$props.min && this.data < this.$props.min) this.data = this.$props.min;\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-number\" :class=\"`mg-number-${$props.interface}`\">\n\t\t<div v-if=\"$props.interface == 'slider'\">\n\t\t\t<input v-model=\"data\" type=\"range\" class=\"form-control\" :placeholder=\"$props.placeholder\" :min=\"$props.min\" :max=\"$props.max\" :step=\"$props.step\"/>\n\t\t\t<label class=\"mg-number-slider-value\">{{(data || '?') | number}}</label>\n\t\t</div>\n\t\t<div v-else-if=\"$props.interface == 'bumpers'\" class=\"input-group\">\n\t\t\t<a @click=\"add(-1)\" class=\"hidden-print\" :class=\"$props.bumperDownClass\"></a>\n\t\t\t<input v-model=\"data\" type=\"number\" class=\"form-control\" :placeholder=\"$props.placeholder\" :min=\"$props.min\" :max=\"$props.max\" :step=\"$props.step\"/>\n\t\t\t<a @click=\"add(1)\" class=\"hidden-print\" :class=\"$props.bumperUpClass\"></a>\n\t\t</div>\n\t\t<div v-else-if=\"$props.interface == 'input'\" class=\"input-group\">\n\t\t\t<div v-if=\"$props.prefix\" :class=\"$props.prefixClass\">{{$props.prefix}}</div>\n\t\t\t<input v-model=\"data\" type=\"number\" class=\"form-control\" :placeholder=\"$props.placeholder\" :min=\"$props.min\" :max=\"$props.max\" :step=\"$props.step\"/>\n\t\t\t<div v-if=\"$props.suffix\" :class=\"$props.suffixClass\">{{$props.suffix}}</div>\n\t\t</div>\n\t\t<div v-else class=\"alert alert-warning\">\n\t\t\tUnknown mgNumber interface '{{$props.interface}}'\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n.mg-number input[type=number] {\n\tpadding: 0 10px;\n}\n\n.mg-number .btn {\n\tbox-shadow: none;\n\tborder: 1px solid #f0f0f0;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n/* Hide the spin button in mgNumber controls */\n.mg-number input[type=number]::-webkit-outer-spin-button,\n.mg-number input[type=number]::-webkit-inner-spin-button {\n\t/* display: none; <- Crashes Chrome on hover */\n\t-webkit-appearance: none;\n\tmargin: 0; /* <-- Apparently some margin is still there even though it's hidden */\n}\n\n\n\n/* Slider {{{ */\n.mg-number.mg-number-slider input[type=\"range\"] {\n\tdisplay: inline-block;\n\t-webkit-appearance: none;\n\twidth: calc(100% - (73px));\n\theight: 10px;\n\tborder-radius: 5px;\n\tbackground: var(--btn-default-bg);\n\toutline: none;\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.mg-number.mg-number-slider input[type=\"range\"]::-webkit-slider-thumb {\n\t-webkit-appearance: none;\n\tappearance: none;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 50%;\n\tbackground: var(--primary);\n\tcursor: pointer;\n\t-webkit-transition: background .15s ease-in-out;\n\ttransition: background .15s ease-in-out;\n}\n\n.mg-number.mg-number-slider input[type=\"range\"]::-webkit-slider-thumb:hover,\n.mg-number.mg-number-slider input[type=\"range\"]:active::-webkit-slider-thumb,\n.mg-number.mg-number-slider input[type=\"range\"]::-moz-range-thumb:hover,\n.mg-number.mg-number-slider input[type=\"range\"]:active::-moz-range-thumb {\n\tbackground: var(--primary);\n}\n\n.mg-number.mg-number-slider input[type=\"range\"]::-moz-range-thumb {\n\twidth: 20px;\n\theight: 20px;\n\tborder: 0;\n\tborder-radius: 50%;\n\tcolor: var(--btn-default-fg);\n\tbackground: var(--btn-default-bg);\n\tcursor: pointer;\n\t-moz-transition: background .15s ease-in-out;\n\ttransition: background .15s ease-in-out;\n}\n\n.mg-number.mg-number-slider input[type=\"range\"]:focus::-webkit-slider-thumb {\n\tbox-shadow: 0 0 0 3px #fff, 0 0 0 6px var(--primary);\n}\n\n.mg-number.mg-number-slider .mg-number-slider-value {\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: 60px;\n\tline-height: 20px;\n\ttext-align: center;\n\tborder-radius: 3px;\n\tcolor: var(--btn-default-fg);\n\tbackground: var(--btn-default-bg);\n\tpadding: 5px 10px;\n\tmargin-left: 8px;\n}\n.mg-number.mg-number-slider .mg-number-slider-value:after {\n\tposition: absolute;\n\ttop: 8px;\n\tleft: -7px;\n\twidth: 0;\n\theight: 0;\n\tborder-top: 7px solid transparent;\n\tborder-right: 7px solid var(--btn-default-bg);\n\tborder-bottom: 7px solid transparent;\n\tcontent: '';\n}\n\n::-moz-range-track {\n\tbackground: var(--btn-default-bg);\n\tborder: 0;\n}\n\ninput::-moz-focus-inner,\ninput::-moz-focus-outer {\n\tborder: 0;\n}\n/* }}} */\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$y = undefined;
    /* module identifier */
    const __vue_module_identifier__$y = undefined;
    /* functional template */
    const __vue_is_functional_template__$y = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$y = normalizeComponent(
      { render: __vue_render__$s, staticRenderFns: __vue_staticRenderFns__$s },
      __vue_inject_styles__$y,
      __vue_script__$y,
      __vue_scope_id__$y,
      __vue_is_functional_template__$y,
      __vue_module_identifier__$y,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgNumber = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$y
  });

  var vueInputFacade_umd_min = createCommonjsModule(function (module, exports) {
  (function(e,t){module.exports=t();})("undefined"!==typeof self?self:commonjsGlobal,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r});},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}));},"25f0":function(e,t,n){var r=n("6eeb"),o=n("825a"),i=n("d039"),a=n("ad6d"),u="toString",c=RegExp.prototype,s=c[u],f=i((function(){return "/a/b"!=s.call({source:"a",flags:"b"})})),l=s.name!=u;(f||l)&&r(RegExp.prototype,u,(function(){var e=o(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n);return "/"+t+"/"+r}),{unsafe:!0});},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)};},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.2",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"});},"5c6c":function(e,t){e.exports=function(e,t){return {enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}};},"69f3":function(e,t,n){var r,o,i,a=n("7f9a"),u=n("da84"),c=n("861d"),s=n("9112"),f=n("5135"),l=n("f772"),d=n("d012"),p=u.WeakMap,m=function(e){return i(e)?o(e):r(e,{})},v=function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var h=new p,g=h.get,b=h.has,y=h.set;r=function(e,t){return y.call(h,e,t),t},o=function(e){return g.call(h,e)||{}},i=function(e){return b.call(h,e)};}else{var k=l("state");d[k]=!0,r=function(e,t){return s(e,k,t),t},o=function(e){return f(e,k)?e[k]:{}},i=function(e){return f(e,k)};}e.exports={set:r,get:o,has:i,enforce:m,getterFor:v};},"6eeb":function(e,t,n){var r=n("da84"),o=n("5692"),i=n("9112"),a=n("5135"),u=n("ce4e"),c=n("9e81"),s=n("69f3"),f=s.get,l=s.enforce,d=String(c).split("toString");o("inspectSource",(function(e){return c.call(e)})),(e.exports=function(e,t,n,o){var c=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,f=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),l(n).source=d.join("string"==typeof t?t:"")),e!==r?(c?!f&&e[t]&&(s=!0):delete e[t],s?e[t]=n:i(e,t,n)):s?e[t]=n:u(t,n);})(Function.prototype,"toString",(function(){return "function"==typeof this&&f(this).source||c.call(this)}));},"7f9a":function(e,t,n){var r=n("da84"),o=n("9e81"),i=r.WeakMap;e.exports="function"===typeof i&&/native code/.test(o.call(i));},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e};},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}));},"861d":function(e,t){e.exports=function(e){return "object"===typeof e?null!==e:"function"===typeof e};},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return "Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)};},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e};},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),a=n("c04e"),u=Object.defineProperty;t.f=r?u:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return "value"in n&&(e[t]=n.value),e};},"9e81":function(e,t,n){var r=n("5692");e.exports=r("native-function-to-string",Function.toString);},ad6d:function(e,t,n){var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")};},c430:function(e,t){e.exports=!1;},c6cd:function(e,t,n){var r=n("da84"),o=n("ce4e"),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a;},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")();}catch(r){"object"===typeof window&&(n=window);}e.exports=n;},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}};},ce4e:function(e,t,n){var r=n("da84"),o=n("9112");e.exports=function(e,t){try{o(r,e,t);}catch(n){r[e]=t;}return t};},d012:function(e,t){e.exports={};},d039:function(e,t){e.exports=function(e){try{return !!e()}catch(t){return !0}};},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")();}).call(this,n("c8ba"));},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))};},fb15:function(e,t,n){var r;(n.r(t),"undefined"!==typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o={"#":{pattern:/\d/},X:{pattern:/[0-9a-z]/i},S:{pattern:/[a-z]/i},A:{pattern:/[a-z]/i,transform:e=>e.toLocaleUpperCase()},a:{pattern:/[a-z]/i,transform:e=>e.toLocaleLowerCase()},"\\":{escape:!0}};n("25f0");const i="__input-facade__";function a(e=""){this.masked=this.raw=e;}function u(){return new CustomEvent("input",{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function c(e={}){return (Array.isArray(e)||"string"===typeof e)&&(e={mask:e}),e}function s(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("facade directive requires an input element");return t}function f(e){const{target:t,detail:n}=e;if(n&&n.facade)return !1;e.stopPropagation();const r=t.value,o=t.selectionEnd;d(t,{emit:!1}),l(e,r,o),t.dispatchEvent(u());}function l(e,t,n){const{target:r}=e,o=["text","tel","search",null].includes(r.getAttribute("type")),a=r[i]&&r[i].config;if(r!==document.activeElement||!o||!a.mask)return;const u="insertFromPaste"===e.inputType,c=(e.data||u)&&n==t.length;let s=t[n-1];const f=r.value.toLocaleLowerCase();let l=n;if(c)l=f.length;else if(s){s=s.toLocaleLowerCase();let e=l;while(e<=f.length&&f.charAt(e-1)!==s)e++;l=e<=f.length?e:l-1;}r.setSelectionRange(l,l),setTimeout((function(){r.setSelectionRange(l,l);}),0);}function d(e,{emit:t=!0,force:n=!1}={}){const{config:r,oldValue:o}=e[i];if(n||o!==e.value){const n=g(e.value,r);e[i].oldValue=n.masked,e.value!==n.masked&&(e.value=n.masked),e.unmaskedValue=n.raw,t&&e.dispatchEvent(u());}}let p=o;function m(e){p=e;}function v(e,t={}){const n=t.masks.slice().sort((e,t)=>e.length-t.length),r=e=>Object.assign({},t,e),o=(t,n)=>{const o=h(e,r({mask:n,short:!0}));return o.masked.length>t.length};for(let i=0;i<n.length;i++){const t=n[i],a=n[i+1];if(!a||!o(t,a))return h(e,r({mask:t}))}return new a}function h(e="",t={}){let{mask:n="",tokens:r,short:o=!1}=t;r=r?Object.assign({},p,r):p,e=e.toString();let i=new a,u=!1,c=0,s=0,f="";while(s<n.length){const t=n[s],a=r[t];let l=e[c];if(!l&&(o||a))break;if(a&&!u){if(a.escape){u=!0,s++;continue}a.pattern.test(l)&&(l=a.transform?a.transform(l):l,i.raw+=l,i.masked+=f+l,f="",s++),c++;}else f+=t,l===t&&c++,u=!1,s++;}return i.raw&&!o&&(i.masked+=f),i}function g(e,t){return t=c(t),t.mask?Array.isArray(t.mask)?v(e,Object.assign({},t,{masks:t.mask})):h(e,t):new a(e)}const b=i;var y={bind:function(e,t){e=s(e),e.addEventListener("input",f,!0),e[b]={config:c(t.value)},d(e);},update:(e,{value:t,oldValue:n})=>{e=s(e),t!==n?(e[b].config=c(t),d(e,{force:!0})):d(e);},unbind:e=>e.removeEventListener("input",f,!0)},k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{directives:[{name:"facade",rawName:"v-facade",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.maskedValue},on:{input:e.input,blur:function(t){return e.$emit("blur")},focus:function(t){return e.$emit("focus")}}})},w=[],x={name:"InputFacade",props:{mask:[String,Array],masked:{type:Boolean,default:!1},tokens:Object,value:[String,Number]},directives:{facade:y},data(){return {emittedValue:this.value,maskedValue:this.value,unmaskedValue:null}},watch:{value(e){e!==this.emittedValue&&(this.maskedValue=e);},mask(e){e||(this.maskedValue=this.unmaskedValue);},masked(){this.refresh();}},computed:{config(){return {mask:this.mask,tokens:this.tokens}}},methods:{input({target:e}){this.maskedValue=e.value,this.unmaskedValue=e.unmaskedValue,this.refresh();},refresh(){let e=this.mask&&this.masked?this.maskedValue:this.unmaskedValue;this.emittedValue!==e&&(this.emittedValue=e,this.$emit("input",e));}}},_=x;function S(e,t,n,r,o,i,a,u){var c,s="function"===typeof e?e.options:e;if(t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a);},s._ssrRegister=c):o&&(c=u?function(){o.call(this,this.$root.$options.shadowRoot);}:o),c)if(s.functional){s._injectStyles=c;var f=s.render;s.render=function(e,t){return c.call(t),f(e,t)};}else{var l=s.beforeCreate;s.beforeCreate=l?[].concat(l,c):[c];}return {exports:e,options:s}}var j=S(_,k,w,!1,null,null,null),E=j.exports;function V(e,t={}){t.tokens&&m(t.tokens),e.component(E.name,E),e.directive(t.name||"facade",y),e.filter(t.name||"facade",O);}function O(e,t){return g(e,t).masked}var T=V;"undefined"!==typeof window&&window.Vue&&window.Vue.use(V),n.d(t,"InputFacade",(function(){return E})),n.d(t,"facade",(function(){return y})),n.d(t,"tokens",(function(){return o})),n.d(t,"masker",(function(){return g})),n.d(t,"filter",(function(){return O}));t["default"]=T;}})}));
  });

  var InputFacade = unwrapExports(vueInputFacade_umd_min);

  Vue.use(InputFacade);
  var script$y = Vue.mgComponent('mgPassword', {
    meta: {
      title: 'Password',
      icon: 'far fa-edit',
      category: 'Simple Inputs',
      preferId: true,
      format: true,
      shorthand: ['string', 'str']
    },
    props: {
      lengthMin: {
        type: 'mgNumber',
        title: 'Minimum Length',
        min: 0
      },
      lengthMax: {
        type: 'mgNumber',
        title: 'Maximum Length'
      },
      placeholder: {
        type: 'mgText',
        help: 'Ghost text to display when there is no value'
      },
      required: {
        type: 'mgToggle',
        "default": false
      },
      mask: {
        type: 'mgText',
        help: 'Text input mask to restrict to, #=Number, S=Letter, X=Alpha-numeric, A=Alpha Uppercase, a=Alpha lowercase, \=Escape'
      },
      focus: {
        type: 'mgToggle',
        "default": false,
        help: 'Auto-focus the element when it appears on screen'
      },
      autoComplete: {
        type: 'mgChoiceDropdown',
        help: 'Allow auto-complete value propagation',
        "default": 'off',
        advanced: true,
        "enum": [{
          id: 'off',
          title: 'Disabled'
        }, {
          id: 'on',
          title: 'Automatic'
        }, {
          id: 'new-password',
          title: 'New password'
        }, {
          id: 'current-password',
          title: 'Current password'
        }]
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
        if (_this.$props.lengthMin && _.isString(_this.data) && _this.data.length < _this.$props.lengthMin) return reply("".concat(_this.$props.title, " is too small (minimum length is ").concat(_this.$props.lengthMin, ")"));
        if (_this.$props.lengthMax && _.isString(_this.data) && _this.data.length > _this.$props.lengthMax) return reply("".concat(_this.$props.title, " is too long (maximum length is ").concat(_this.$props.lengthMax, ")"));
      });
    },
    mounted: function mounted() {
      if (this.$props.focus) {
        var $el = $(this.$el);

        var focusVisible = function focusVisible() {
          if ($el.is(':visible')) {
            $el.focus();
          } else {
            setTimeout(focusVisible, 100);
          }
        };

        focusVisible();
      }
    }
  });

  /* script */
  const __vue_script__$z = script$y;

  /* template */
  var __vue_render__$t = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-password" }, [
      _c("input", {
        directives: [
          {
            name: "model",
            rawName: "v-model",
            value: _vm.data,
            expression: "data"
          },
          {
            name: "facade",
            rawName: "v-facade",
            value: _vm.$props.mask,
            expression: "$props.mask"
          }
        ],
        staticClass: "form-control",
        attrs: {
          type: "password",
          autocomplete: _vm.$props.autoComplete,
          placeholder: _vm.$props.placeholder
        },
        domProps: { value: _vm.data },
        on: {
          input: function($event) {
            if ($event.target.composing) {
              return
            }
            _vm.data = $event.target.value;
          }
        }
      })
    ])
  };
  var __vue_staticRenderFns__$t = [];
  __vue_render__$t._withStripped = true;

    /* style */
    const __vue_inject_styles__$z = undefined;
    /* scoped */
    const __vue_scope_id__$z = undefined;
    /* module identifier */
    const __vue_module_identifier__$z = undefined;
    /* functional template */
    const __vue_is_functional_template__$z = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$z = normalizeComponent(
      { render: __vue_render__$t, staticRenderFns: __vue_staticRenderFns__$t },
      __vue_inject_styles__$z,
      __vue_script__$z,
      __vue_scope_id__$z,
      __vue_is_functional_template__$z,
      __vue_module_identifier__$z,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgPassword = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$z
  });

  var script$z = Vue.mgComponent('mgPermissions', {
    meta: {
      title: 'Permissions',
      icon: 'far fa-key',
      category: 'System Administration',
      preferId: true
    },
    props: {
      textEmpty: {
        type: 'mgText',
        help: 'Text to display when no permissions are set',
        "default": 'No permissions selected'
      },
      permissionsFeed: _defineProperty({
        type: 'mgUrl',
        relative: true,
        "default": '/api/users/meta',
        advanced: true,
        help: 'The data source to import user permissions'
      }, "relative", true)
    },
    created: function created() {
      var _this = this;

      this.$watch('data', function () {
        // TODO: Handle like SIFT is handled.
        if (_.isString(_this.data)) _this.$set(_this, 'data', /\|\|/.test(_this.data) ? _this.data.split(/\s*\|\|\s*/) // `foo || bar` -> ['foo', 'bar']
        : [_this.data]);
      }, {
        immediate: true
      });
    },
    methods: {
      edit: function edit() {
        var _this2 = this;

        Promise.resolve().then(function () {
          return _this2.$macgyver.notify.loading(_this2._uid, true);
        }).then(function () {
          return _this2.$http.get(_this2.$props.permissionsFeed)["catch"](_this2.$toast["catch"]);
        }).tap(function () {
          return _this2.$macgyver.notify.loading(_this2._uid, false);
        }).then(function (res) {
          var _ref, _res$data;

          return _this2.$prompt.macgyver({
            title: 'Select permissions',
            form: [{
              id: 'class',
              type: 'mgChoiceCheckbox',
              showTitle: false,
              classWrapper: '',
              sort: 'sortId',
              "enum": (_ref = (_res$data = res.data, _.pickBy(_res$data, function (v, k) {
                return k.startsWith('permissions.');
              })), _.map(_ref, function (v, k) {
                return {
                  id: k.replace(/^permissions\./, ''),
                  title: Vue.filter('permissionCase')(k.replace(/^permissions\./, ''))
                };
              }))
            }],
            data: {
              "class": _.clone(_this2.data)
            }
          });
        }).then(function (form) {
          return _this2.data = form["class"];
        })["catch"](function (e) {}); // Ignore rejection - was probably the user cancelling the permission set
      }
    }
  });

  /* script */
  const __vue_script__$A = script$z;

  /* template */
  var __vue_render__$u = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "a",
      {
        staticClass: "form-control-static",
        on: {
          click: function($event) {
            return _vm.edit()
          }
        }
      },
      [
        _vm._l(_vm.data, function(permission) {
          return _c(
            "span",
            { key: permission, staticClass: "badge badge-info" },
            [
              _vm._v(
                "\n\t\t" + _vm._s(_vm._f("permissionCase")(permission)) + "\n\t"
              )
            ]
          )
        }),
        _vm._v(" "),
        !_vm.data || !_vm.data.length
          ? _c("span", { staticClass: "font-italic text-muted" }, [
              _vm._v("\n\t\t" + _vm._s(_vm.$props.textEmpty) + "\n\t")
            ])
          : _vm._e()
      ],
      2
    )
  };
  var __vue_staticRenderFns__$u = [];
  __vue_render__$u._withStripped = true;

    /* style */
    const __vue_inject_styles__$A = undefined;
    /* scoped */
    const __vue_scope_id__$A = undefined;
    /* module identifier */
    const __vue_module_identifier__$A = undefined;
    /* functional template */
    const __vue_is_functional_template__$A = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$A = normalizeComponent(
      { render: __vue_render__$u, staticRenderFns: __vue_staticRenderFns__$u },
      __vue_inject_styles__$A,
      __vue_script__$A,
      __vue_scope_id__$A,
      __vue_is_functional_template__$A,
      __vue_module_identifier__$A,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgPermissions = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$A
  });

  var script$A = Vue.mgComponent('mgPlaceholder', {
    meta: {
      title: 'Placeholder',
      icon: 'far fa-construction',
      category: 'General Decoration'
    },
    props: {
      text: {
        type: 'mgText'
      },
      height: {
        type: 'mgNumber',
        "default": '100%'
      },
      style: {
        type: 'mgChoiceButtons',
        "default": 'mg-placeholder-box',
        iconSelected: 'far fa-fw fa-check',
        iconDefault: 'far fa-fw',
        "enum": [{
          id: 'mg-placeholder-box',
          title: 'Lined box'
        }, {
          id: 'mg-placeholder-construction',
          title: 'Construction area'
        }]
      }
    }
  });

  /* script */
  const __vue_script__$B = script$A;

  /* template */
  var __vue_render__$v = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      {
        staticClass: "mg-placeholder",
        class: _vm.$props.style,
        style: "height: " + (_vm.$props.height || "auto")
      },
      [
        _vm.$props.text
          ? _c("div", { staticClass: "mg-placeholder-text" }, [
              _vm._v("\n\t\t" + _vm._s(_vm.$props.text) + "\n\t")
            ])
          : _vm._e()
      ]
    )
  };
  var __vue_staticRenderFns__$v = [];
  __vue_render__$v._withStripped = true;

    /* style */
    const __vue_inject_styles__$B = function (inject) {
      if (!inject) return
      inject("data-v-046c7424_0", { source: "\n.mg-placeholder {\n\tmin-height: 100px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 5px;\n}\n\n/* Style: placeholder-box {{{ */\n.mg-placeholder.mg-placeholder-box {\n\tborder: 1px solid #000;\n\tbackground:\n\t\tlinear-gradient(to top left,\n\t\t\trgba(0,0,0,0) 0%,\n\t\t\trgba(0,0,0,0) calc(50% - 0.8px),\n\t\t\trgba(0,0,0,1) 50%,\n\t\t\trgba(0,0,0,0) calc(50% + 0.8px),\n\t\t\trgba(0,0,0,0) 100%),\n\t\tlinear-gradient(to top right,\n\t\t\trgba(0,0,0,0) 0%,\n\t\t\trgba(0,0,0,0) calc(50% - 0.8px),\n\t\t\trgba(0,0,0,1) 50%,\n\t\t\trgba(0,0,0,0) calc(50% + 0.8px),\n\t\t\trgba(0,0,0,0) 100%);\n}\n.mg-placeholder.mg-placeholder-box > .mg-placeholder-text {\n\tbackground: #FFF;\n\tborder-radius: 10px;\n\tpadding: 10px 15px;\n}\n/* }}} */\n\n/* Style: placeholder-construction {{{ */\n.mg-placeholder.mg-placeholder-construction {\n\tbackground: repeating-linear-gradient(45deg, #dfc458, #dfc458 10px, #666 10px, #666 20px);\n}\n.mg-placeholder.mg-placeholder-construction > .mg-placeholder-text {\n\tfont-size: 20pt;\n\tcolor: #FFF;\n\ttext-shadow: -2px -2px 1px #000, 2px -2px 1px #000, -2px 2px 1px #000, 2px 2px 1px #000;\n}\n/* }}} */\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgPlaceholder.vue"],"names":[],"mappings":";AAiCA;CACA,iBAAA;CACA,aAAA;CACA,uBAAA;CACA,mBAAA;CACA,kBAAA;AACA;;AAEA,+BAAA;AACA;CACA,sBAAA;CACA;;;;;;;;;;;;sBAYA;AACA;AAEA;CACA,gBAAA;CACA,mBAAA;CACA,kBAAA;AACA;AACA,QAAA;;AAEA,wCAAA;AACA;CACA,yFAAA;AACA;AAEA;CACA,eAAA;CACA,WAAA;CACA,uFAAA;AACA;AACA,QAAA","file":"mgPlaceholder.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgPlaceholder', {\n\tmeta: {\n\t\ttitle: 'Placeholder',\n\t\ticon: 'far fa-construction',\n\t\tcategory: 'General Decoration',\n\t},\n\tprops: {\n\t\ttext: {type: 'mgText'},\n\t\theight: {type: 'mgNumber', default: '100%'},\n\t\tstyle: {\n\t\t\ttype: 'mgChoiceButtons',\n\t\t\tdefault: 'mg-placeholder-box',\n\t\t\ticonSelected: 'far fa-fw fa-check',\n\t\t\ticonDefault: 'far fa-fw',\n\t\t\tenum: [\n\t\t\t\t{id: 'mg-placeholder-box', title: 'Lined box'},\n\t\t\t\t{id: 'mg-placeholder-construction', title: 'Construction area'},\n\t\t\t],\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-placeholder\" :class=\"$props.style\" :style=\"`height: ${$props.height || 'auto'}`\">\n\t\t<div v-if=\"$props.text\" class=\"mg-placeholder-text\">\n\t\t\t{{$props.text}}\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n.mg-placeholder {\n\tmin-height: 100px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 5px;\n}\n\n/* Style: placeholder-box {{{ */\n.mg-placeholder.mg-placeholder-box {\n\tborder: 1px solid #000;\n\tbackground:\n\t\tlinear-gradient(to top left,\n\t\t\trgba(0,0,0,0) 0%,\n\t\t\trgba(0,0,0,0) calc(50% - 0.8px),\n\t\t\trgba(0,0,0,1) 50%,\n\t\t\trgba(0,0,0,0) calc(50% + 0.8px),\n\t\t\trgba(0,0,0,0) 100%),\n\t\tlinear-gradient(to top right,\n\t\t\trgba(0,0,0,0) 0%,\n\t\t\trgba(0,0,0,0) calc(50% - 0.8px),\n\t\t\trgba(0,0,0,1) 50%,\n\t\t\trgba(0,0,0,0) calc(50% + 0.8px),\n\t\t\trgba(0,0,0,0) 100%);\n}\n\n.mg-placeholder.mg-placeholder-box > .mg-placeholder-text {\n\tbackground: #FFF;\n\tborder-radius: 10px;\n\tpadding: 10px 15px;\n}\n/* }}} */\n\n/* Style: placeholder-construction {{{ */\n.mg-placeholder.mg-placeholder-construction {\n\tbackground: repeating-linear-gradient(45deg, #dfc458, #dfc458 10px, #666 10px, #666 20px);\n}\n\n.mg-placeholder.mg-placeholder-construction > .mg-placeholder-text {\n\tfont-size: 20pt;\n\tcolor: #FFF;\n\ttext-shadow: -2px -2px 1px #000, 2px -2px 1px #000, -2px 2px 1px #000, 2px 2px 1px #000;\n}\n/* }}} */\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$B = undefined;
    /* module identifier */
    const __vue_module_identifier__$B = undefined;
    /* functional template */
    const __vue_is_functional_template__$B = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$B = normalizeComponent(
      { render: __vue_render__$v, staticRenderFns: __vue_staticRenderFns__$v },
      __vue_inject_styles__$B,
      __vue_script__$B,
      __vue_scope_id__$B,
      __vue_is_functional_template__$B,
      __vue_module_identifier__$B,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgPlaceholder = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$B
  });

  var script$B = Vue.mgComponent('mgQuery', {
    meta: {
      title: 'Query',
      icon: 'far fa-filter',
      category: 'Data display'
    },
    data: function data() {
      return {
        //data: {'$or': [{name: 'foo'}]},
        queryComponent: {
          type: "mgContainer",
          layout: "query",
          items: []
        }
      };
    },
    props: {
      //config: Object,

      /**
      * The spec is composed of an object lookup with the dotted notation path as the key and an object set of properties
      * @property {string} [type='string'] The type of the field, used to determine the component to use as the value input
      * @property {boolean} [showOperand=true] Whether to allow the user to select the operand ("Equals", "Is in" etc.) if false this only allows straight equality
      * @property {array <string>|array <object>|string} [enum] If the type is a string this restricts operand values to a list of selectable values. The value can also be one of the following meta values: '$FIELDS' - list all spec fields
      */
      //spec: {type: 'mgCode', syntax: 'json'},
      spec: {
        // FIXME: Test case
        type: Object,
        "default": function _default() {
          return {
            //_id: {type: 'objectId'},
            name: {
              type: 'string'
            },

            /*
            username: {type: 'string'},
            email: {type: 'string'},
            'address.street': {type: 'string'},
            'address.city': {type: 'string'},
            'address.zip': {type: 'string'},
            'address.state': {type: 'string'},
            'address.country': {type: 'string'},
            phone: {type: 'string'},
            website: {type: 'string'},
            'company.name': {type: 'string'},
            role: {type: 'string', enum: ['user', 'admin', 'root']},
            status: {type: 'string', enum: ['pending', 'active', 'deleted']},
            lastLogin: {type: 'date'},
            */
            sort: {
              type: 'string',
              showOperand: false,
              "enum": '$FIELDS'
            },
            limit: {
              type: 'number',
              showOperand: false
            },
            skip: {
              type: 'number',
              showOperand: false
            }
          };
        }
      }
    },
    created: function created() {
      this.$debugging = true;
      this.$watchAll(['$props.url', '$props.spec'], this.refresh, {
        immediate: true
      }); // FIXME: deep?
    },
    methods: {
      refresh: function refresh() {
        var _this = this;

        //this.data = {'$or': [{name: 'foo'}]};
        this.data = {
          name: {
            '$eq': 'foo'
          }
        };
        this.$debug('refresh', _.cloneDeep(this.data), _.cloneDeep(this.$props.spec));
        if (!_.isPlainObject(this.data)) this.data = {}; //if (!_.isPlainObject(this.$props.spec)) return;
        // Calculate which fields we can use in enums

        var fieldsEnum = Object.keys(this.$props.spec).map(function (key) {
          return {
            id: key,
            title: _.startCase(key)
          };
        });
        this.$debug('fieldsEnum', fieldsEnum);
        /**
        * Populate enum values from a spec branch
        * Really this just deals with meta cases like '$FIELDS' (see spec definition for 'enum')
        * @param {Object} pathSpec The path branch specification
        * @returns {array} An mgChoice* compatible ENUM composed of {id, title}
        */

        var populateEnum = function populateEnum(pathSpec) {
          return pathSpec["enum"] === '$FIELDS' ? fieldsEnum : pathSpec["enum"];
        };

        this.queryComponent.items = Object.keys(this.data).map(function (path, pathIndex) {
          return (// Examine each path key
            Object.keys(_typeof(_this.data[path]) == 'object' ? _this.data[path] : {
              $eq: _this.data[path]
            }) // Examine each operand key
            .map(function (operand, operandIndex) {
              var value = _this.data[path];
              var pathSpec = _this.spec[path] || {
                unknown: true,
                type: 'string'
              };
              var row = {
                // FIXME: Incremental, unique
                id: 'id' + _.random(10000, 99999),
                type: 'mgContainer',
                layout: 'query-row',
                items: [{
                  type: 'mgChoiceDropdown',
                  "enum": fieldsEnum,
                  "default": path,
                  onChange: function onChange(value) {
                    if (_.isPlainObject(_this.data[path])) {
                      // Multiple value setter
                      console.log('Change field with other operands', path, 'to', value, {
                        leaf: _this.data[path]
                      });
                      delete _this.data[path][operand];
                      _this.data[value][operand] = '';
                    } else {
                      // Single value setter
                      console.log('Change simple field', path, 'to', value, {
                        leaf: _this.data[path]
                      });
                      delete _this.data[path];
                      _this.data[value] = '';
                    }

                    _this.refresh();
                  }
                }, {
                  type: 'mgChoiceDropdown',
                  "enum": [].concat(_toConsumableArray(['string', 'number'].includes(pathSpec.type) ? [{
                    id: '$eq',
                    title: 'Equals'
                  }, {
                    id: '$ne',
                    title: 'Does not equal'
                  }] : []), _toConsumableArray(pathSpec.type == 'date' ? [{
                    id: '$eq',
                    title: 'Is on'
                  }, {
                    id: '$ne',
                    title: 'Is not on'
                  }] : []), [{
                    id: '$exists',
                    title: 'Is present'
                  }], _toConsumableArray(pathSpec.type != 'date' ? [{
                    id: '$in',
                    title: 'Is one of'
                  }, {
                    id: '$nin',
                    title: 'Is not one of'
                  }] : []), _toConsumableArray(pathSpec.type == 'number' ? [{
                    id: '$gt',
                    title: 'Is greater than'
                  }, {
                    id: '$gte',
                    title: 'Is equal or greater than'
                  }, {
                    id: '$lt',
                    title: 'Is less than'
                  }, {
                    id: '$lte',
                    title: 'Is equal or less than'
                  }] : []), _toConsumableArray(pathSpec.type == 'date' ? [{
                    id: '$gt',
                    title: 'Is after'
                  }, {
                    id: '$gte',
                    title: 'Is on or after'
                  }, {
                    id: '$lt',
                    title: 'Is before'
                  }, {
                    id: '$lte',
                    title: 'Is on or before'
                  }] : [])),
                  "default": operand,
                  onChange: function onChange(value) {
                    debugger;

                    if (_.isPlainObject(_this.data[path])) {
                      // Multiple operand setter
                      console.log('Change nested operand for path', path, 'to', value);
                      delete _this.$data[path][operand];
                      _this.$data[path].$eq = value;
                    } else if (value == '$eq') {
                      // Single operand setter
                      console.log('Change simple operand for path', path, 'to', value);
                      _this.data[path] = value;
                    } else {
                      _this.data[path] = _objectSpread2(_objectSpread2({}, _.isPlainObject(_this.data[path]) ? _this.data : null), {}, _defineProperty({}, value, ''));
                    }

                    _this.refresh();
                  }
                }]
              };

              if (value === undefined) ; else if (['$eq', '$ne'].includes(operand) && pathSpec["enum"]) {
                row.items.push({
                  type: 'mgChoiceDropdown',
                  "enum": populateEnum(pathSpec),
                  "default": value
                });
              } else if (['$eq', '$ne'].includes(operand) && pathSpec.type == 'string') {
                row.items.push({
                  type: 'mgText',
                  "default": value
                });
              } else if (['$eq', '$ne'].includes(operand) && pathSpec.type == 'number') {
                row.items.push({
                  type: 'mgNumber',
                  "default": value
                });
              } else if (['$eq', '$ne'].includes(operand) && pathSpec.type == 'date') {
                row.items.push({
                  type: 'mgDate',
                  "default": value
                });
              } else if (operand == '$exists') {
                row.items.push({
                  type: 'mgToggle',
                  onText: 'yes',
                  offText: 'no',
                  "default": value
                });
              } else if (operand == '$in' || operand == '$nin') {
                row.items.push({
                  type: 'mgChoiceTags',
                  "default": value,
                  "enum": populateEnum(pathSpec)
                });
              } else {
                row.items.push({
                  type: 'mgError',
                  text: "Unsupported operand \"".concat(operand, "\"")
                });
              }

              return row;
            })
          );
        }).reduce(function (t, v) {
          return t.concat(v);
        }, []); // Flatten
      } //changeField(path, value) {
      //	console.log('Change', path, '=', value);
      //},

    }
  });

  /* script */
  const __vue_script__$C = script$B;

  /* template */
  var __vue_render__$w = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      [
        _c("mg-form", {
          attrs: { form: _vm.$props.id + "-subform", config: _vm.queryComponent }
        }),
        _vm._v(" "),
        this.$debugging
          ? _c("div", { staticClass: "card" }, [
              _c("div", { staticClass: "card-header" }, [
                _vm._v("\n\t\t\tRaw data\n\t\t")
              ]),
              _vm._v(" "),
              _c("div", { staticClass: "card-body" }, [
                _c("pre", [_vm._v(_vm._s(_vm.data))])
              ])
            ])
          : _vm._e(),
        _vm._v(" "),
        this.$debugging
          ? _c("div", { staticClass: "card" }, [
              _c("div", { staticClass: "card-header" }, [
                _vm._v("\n\t\t\tRaw spec\n\t\t")
              ]),
              _vm._v(" "),
              _c("div", { staticClass: "card-body" }, [
                _c("pre", [_vm._v(_vm._s(_vm.queryComponent))])
              ])
            ])
          : _vm._e()
      ],
      1
    )
  };
  var __vue_staticRenderFns__$w = [];
  __vue_render__$w._withStripped = true;

    /* style */
    const __vue_inject_styles__$C = undefined;
    /* scoped */
    const __vue_scope_id__$C = undefined;
    /* module identifier */
    const __vue_module_identifier__$C = undefined;
    /* functional template */
    const __vue_is_functional_template__$C = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$C = normalizeComponent(
      { render: __vue_render__$w, staticRenderFns: __vue_staticRenderFns__$w },
      __vue_inject_styles__$C,
      __vue_script__$C,
      __vue_scope_id__$C,
      __vue_is_functional_template__$C,
      __vue_module_identifier__$C,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgQuery = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$C
  });

  var script$C = Vue.mgComponent('mgRestQuery', {
    meta: {
      title: 'ReST Query',
      icon: 'far fa-database',
      category: 'Data display'
    },
    props: {
      className: {
        type: 'mgText',
        advanced: true
      },
      classActive: {
        type: 'mgText',
        "default": 'btn btn-primary',
        advanced: true
      },
      classInactive: {
        type: 'mgText',
        "default": 'btn btn-light',
        advanced: true
      },
      iconActive: {
        type: 'mgIcon',
        "default": 'fa fa-database',
        advanced: true
      },
      iconInactive: {
        type: 'mgIcon',
        "default": 'far fa-plus',
        advanced: true
      },
      textActive: {
        type: 'mgText',
        "default": 'Edit query',
        advanced: true
      },
      textInactive: {
        type: 'mgText',
        "default": 'Add query',
        advanced: true
      }
    },
    computed: {
      codeDisplay: function codeDisplay() {
        if (!this.data) return '';
        return '<pre class="pre-sm">' + JSON.stringify(this.data, null, '\t').replace(/\n/g, '<br/>') + '</pre>';
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    },
    methods: {
      editQuery: function editQuery() {
        var _this2 = this;

        Promise.resolve().then(function (res) {
          return _this2.$prompt.macgyver({
            title: 'Edit query',
            // buttons: [], // We assume closing the dialog resolves so no need for buttons
            form: [{
              id: 'query',
              type: 'mgCode',
              showTitle: false
            }],
            data: {
              query: _this2.data
            }
          });
        }).then(function (form) {
          return _this2.data = JSON.parse(form.query);
        });
      }
    }
  });

  /* script */
  const __vue_script__$D = script$C;

  /* template */
  var __vue_render__$x = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "a",
      {
        directives: [
          {
            name: "tooltip",
            rawName: "v-tooltip",
            value: { content: _vm.codeDisplay, classes: "text-left" },
            expression: "{content: codeDisplay, classes: 'text-left'}"
          }
        ],
        staticClass: "btn btn-light",
        class: _vm.data
          ? [_vm.data, _vm.$props.classActive || _vm.$props.className]
          : [_vm.$props.classInactive || _vm.$props.className],
        on: {
          click: function($event) {
            return _vm.editQuery()
          }
        }
      },
      [
        _c("i", {
          class: _vm.data ? _vm.$props.iconActive : _vm.$props.iconInactive
        }),
        _vm._v(
          "\n\t" +
            _vm._s(_vm.data ? _vm.$props.textActive : _vm.$props.textInactive) +
            "\n"
        )
      ]
    )
  };
  var __vue_staticRenderFns__$x = [];
  __vue_render__$x._withStripped = true;

    /* style */
    const __vue_inject_styles__$D = undefined;
    /* scoped */
    const __vue_scope_id__$D = undefined;
    /* module identifier */
    const __vue_module_identifier__$D = undefined;
    /* functional template */
    const __vue_is_functional_template__$D = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$D = normalizeComponent(
      { render: __vue_render__$x, staticRenderFns: __vue_staticRenderFns__$x },
      __vue_inject_styles__$D,
      __vue_script__$D,
      __vue_scope_id__$D,
      __vue_is_functional_template__$D,
      __vue_module_identifier__$D,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgRestQuery = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$D
  });

  var script$D = Vue.mgComponent('mgSeperator', {
    meta: {
      title: 'Seperator',
      icon: 'far fa-minus',
      category: 'General Decoration'
    }
  });

  /* script */
  const __vue_script__$E = script$D;

  /* template */
  var __vue_render__$y = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("hr", { staticClass: "mg-seperator" })
  };
  var __vue_staticRenderFns__$y = [];
  __vue_render__$y._withStripped = true;

    /* style */
    const __vue_inject_styles__$E = function (inject) {
      if (!inject) return
      inject("data-v-294de21a_0", { source: "\n.mg-seperator {\n\tmargin-top: 0px;\n\tmargin-bottom: 10px;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgSeperator.vue"],"names":[],"mappings":";AAeA;CACA,eAAA;CACA,mBAAA;AACA","file":"mgSeperator.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgSeperator', {\n\tmeta: {\n\t\ttitle: 'Seperator',\n\t\ticon: 'far fa-minus',\n\t\tcategory: 'General Decoration',\n\t},\n});\n</script>\n\n<template>\n\t<hr class=\"mg-seperator\"/>\n</template>\n\n<style>\n.mg-seperator {\n\tmargin-top: 0px;\n\tmargin-bottom: 10px;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$E = undefined;
    /* module identifier */
    const __vue_module_identifier__$E = undefined;
    /* functional template */
    const __vue_is_functional_template__$E = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$E = normalizeComponent(
      { render: __vue_render__$y, staticRenderFns: __vue_staticRenderFns__$y },
      __vue_inject_styles__$E,
      __vue_script__$E,
      __vue_scope_id__$E,
      __vue_is_functional_template__$E,
      __vue_module_identifier__$E,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgSeperator = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$E
  });

  var script$E = Vue.mgComponent('mgTable', {
    meta: {
      title: 'Table layout',
      icon: 'far fa-table',
      category: 'Layout'
    },
    data: function data() {
      return {
        newRow: {},
        // TODO: Is this really needed? Perhaps when `url` is specified?
        isAdding: false,
        data: []
      };
    },
    props: {
      url: {
        type: 'mgUrl',
        relative: true,
        help: 'Data feed to populate the table'
      },
      allowAdd: {
        type: 'mgToggle',
        title: 'Allow Row Addition',
        "default": true
      },
      allowDelete: {
        type: 'mgToggle',
        title: 'Allow Row Deletion',
        "default": true
      },
      textEmpty: {
        type: 'mgText',
        title: 'No data message',
        "default": 'No data'
      },
      items: {
        type: 'mgAlert',
        vueType: 'array',
        text: 'Use the editor to define child widgets',
        "default": function _default() {
          return [// FIXME: Defaults are not initialised
          {
            id: 'col1',
            title: 'Col 1',
            type: 'mgText',
            "default": '1'
          }, {
            id: 'col2',
            title: 'Col 2',
            type: 'mgText',
            "default": '2'
          }];
        }
      },
      addButtonActiveClass: {
        type: 'mgText',
        "default": 'btn btn-block btn-success fa fa-plus',
        advanced: true
      },
      addButtonInactiveClass: {
        type: 'mgText',
        "default": 'btn btn-block btn-disabled fa fa-plus',
        advanced: true
      },
      rowNumbers: {
        type: 'mgToggle',
        help: 'Show the row number at the beginning of each row',
        "default": true
      }
    },
    childProps: {
      showTitle: {
        type: 'mgToggle',
        "default": false,
        title: 'Show Title'
      }
    },
    created: function created() {
      this.$debugging = true;
    },
    mounted: function mounted() {
      var _this = this;

      this.$watch('$props.url', function () {
        if (!_this.$props.url) return;

        _this.$macgyver.utils.fetch(_this.$props.url, {
          type: 'array'
        }).then(function (data) {
          return _this.$set(_this.$props, 'data', data);
        });
      }, {
        immediate: true
      });
    },
    watch: {
      data: {
        immediate: true,
        handler: function handler() {
          // Ensure that data is always an array
          if (!_.isArray(this.data)) this.data = [];
        }
      }
    },
    // To ensure reactivity to array of objects https://stackoverflow.com/a/56793403/2438830
    computed: {
      outerKey: function outerKey() {
        return this.data && this.data.length;
      }
    },
    methods: {
      createRow: function createRow(offset) {
        // Offset is the row to create after - i.e. array position splice
        this.$debug('createRow', offset, this.$data.newRow);
        this.isAdding = true;

        if (typeof offset === 'undefined') {
          this.data.push(this.$data.newRow);
        } else {
          this.data.splice(offset, 0, this.$data.newRow);
        }

        this.$data.newRow = {};
        this.isAdding = false;
      },
      deleteRow: function deleteRow(offset) {
        this.$debug('deleteRow', offset);
        this.data.splice(offset, 1);
      }
    }
  });

  /* script */
  const __vue_script__$F = script$E;

  /* template */
  var __vue_render__$z = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-table" }, [
      _c(
        "table",
        { staticClass: "table table-bordered table-striped table-hover" },
        [
          _c("thead", [
            _c(
              "tr",
              [
                _vm.$props.rowNumbers
                  ? _c("th", { staticClass: "row-number" }, [_vm._v("#")])
                  : _vm._e(),
                _vm._v(" "),
                _vm._l(_vm.$props.items, function(col) {
                  return _c(
                    "th",
                    {
                      key: col.id,
                      style:
                        (col.width ? "width: " + col.width + "; " : "") +
                        col.class
                    },
                    [_vm._v("\n\t\t\t\t\t" + _vm._s(col.title) + "\n\t\t\t\t")]
                  )
                }),
                _vm._v(" "),
                _vm.$props.allowAdd || _vm.$props.allowDelete
                  ? _c("th", { staticClass: "btn-context" }, [_vm._v(" ")])
                  : _vm._e()
              ],
              2
            )
          ]),
          _vm._v(" "),
          _c(
            "tbody",
            { key: _vm.outerKey },
            [
              !_vm.data || !_vm.data.length
                ? _c("tr", [
                    _c(
                      "td",
                      {
                        attrs: {
                          colspan:
                            _vm.$props.items.length +
                            (_vm.$props.rowNumbers ? 1 : 0) +
                            (_vm.$props.allowAdd || _vm.$props.allowDelete
                              ? 1
                              : 0) +
                            1
                        }
                      },
                      [
                        _c("div", { staticClass: "alert alert-warning m-10" }, [
                          _vm._v(_vm._s(_vm.$props.textEmpty || "No data"))
                        ])
                      ]
                    )
                  ])
                : _vm._e(),
              _vm._v(" "),
              _vm._l(_vm.data, function(row, rowNumber) {
                return _c(
                  "tr",
                  { key: rowNumber },
                  [
                    _vm.$props.rowNumbers
                      ? _c("td", { staticClass: "row-number" }, [
                          _vm._v(
                            "\n\t\t\t\t\t" +
                              _vm._s(_vm._f("number")(rowNumber + 1)) +
                              "\n\t\t\t\t"
                          )
                        ])
                      : _vm._e(),
                    _vm._v(" "),
                    _vm._l(_vm.$props.items, function(col) {
                      return _c(
                        "td",
                        { key: col.id, class: col.class },
                        [
                          _c("mg-form", {
                            attrs: { config: col, data: row },
                            on: {
                              changeItem: function($event) {
                                return _vm.$setPath(
                                  row,
                                  $event.path,
                                  $event.value
                                )
                              }
                            }
                          })
                        ],
                        1
                      )
                    }),
                    _vm._v(" "),
                    _vm.$props.allowAdd || _vm.$props.allowDelete
                      ? _c("td", { staticClass: "btn-context" }, [
                          _c("div", { staticClass: "btn-group" }, [
                            _vm._m(0, true),
                            _vm._v(" "),
                            _c(
                              "ul",
                              { staticClass: "dropdown-menu pull-right" },
                              [
                                _vm.$props.allowAdd
                                  ? _c("li", [
                                      _c(
                                        "a",
                                        {
                                          on: {
                                            click: function($event) {
                                              return _vm.createRow(rowNumber)
                                            }
                                          }
                                        },
                                        [
                                          _c("i", {
                                            staticClass: "far fa-arrow-circle-up"
                                          }),
                                          _vm._v(" Add row above")
                                        ]
                                      )
                                    ])
                                  : _vm._e(),
                                _vm._v(" "),
                                _vm.$props.allowAdd
                                  ? _c("li", [
                                      _c(
                                        "a",
                                        {
                                          on: {
                                            click: function($event) {
                                              return _vm.createRow(rowNumber)
                                            }
                                          }
                                        },
                                        [
                                          _c("i", {
                                            staticClass:
                                              "far fa-arrow-circle-down"
                                          }),
                                          _vm._v(" Add row below")
                                        ]
                                      )
                                    ])
                                  : _vm._e(),
                                _vm._v(" "),
                                _vm.$props.allowDelete
                                  ? _c("li", { staticClass: "dropdown-divider" })
                                  : _vm._e(),
                                _vm._v(" "),
                                _vm.$props.allowDelete
                                  ? _c(
                                      "li",
                                      { staticClass: "dropdown-item-danger" },
                                      [
                                        _c(
                                          "a",
                                          {
                                            on: {
                                              click: function($event) {
                                                return _vm.deleteRow(rowNumber)
                                              }
                                            }
                                          },
                                          [
                                            _c("i", {
                                              staticClass: "far fa-trash"
                                            }),
                                            _vm._v(" Delete")
                                          ]
                                        )
                                      ]
                                    )
                                  : _vm._e()
                              ]
                            )
                          ])
                        ])
                      : _vm._e()
                  ],
                  2
                )
              }),
              _vm._v(" "),
              _vm.$props.allowAdd
                ? _c(
                    "tr",
                    { staticClass: "mgTable-append" },
                    [
                      _vm.$props.rowNumbers
                        ? _c("td", { staticClass: "row-number" }, [
                            _c("i", { staticClass: "far fa-asterisk" })
                          ])
                        : _vm._e(),
                      _vm._v(" "),
                      _vm._l(_vm.$props.items, function(col, colNumber) {
                        return _c(
                          "td",
                          { key: col.id },
                          [
                            _c("mg-form", {
                              attrs: { config: col, data: _vm.newRow },
                              on: {
                                changeItem: function($event) {
                                  return _vm.$setPath(
                                    _vm.newRow,
                                    $event.path,
                                    $event.value
                                  )
                                }
                              }
                            })
                          ],
                          1
                        )
                      }),
                      _vm._v(" "),
                      _c("td", [
                        _c("a", {
                          class: _vm.isAdding
                            ? _vm.$props.addButtonActiveClass
                            : _vm.$props.addButtonInactiveClass,
                          on: {
                            click: function($event) {
                              return _vm.createRow()
                            }
                          }
                        })
                      ])
                    ],
                    2
                  )
                : _vm._e()
            ],
            2
          )
        ]
      ),
      _vm._v(" "),
      _vm.$debugging
        ? _c("div", { staticClass: "card" }, [
            _c("div", { staticClass: "card-header" }, [
              _vm._v("\n\t\t\tRaw data\n\t\t\t"),
              _c("i", {
                directives: [
                  {
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: "Only visible to users with the Debug permission",
                    expression:
                      "'Only visible to users with the Debug permission'"
                  }
                ],
                staticClass: "float-right fas fa-debug fa-lg"
              })
            ]),
            _vm._v(" "),
            _c("div", { staticClass: "card-body" }, [
              _c("pre", [_vm._v(_vm._s(_vm.$data))])
            ])
          ])
        : _vm._e()
    ])
  };
  var __vue_staticRenderFns__$z = [
    function() {
      var _vm = this;
      var _h = _vm.$createElement;
      var _c = _vm._self._c || _h;
      return _c(
        "a",
        { staticClass: "btn btn-context", attrs: { "data-toggle": "dropdown" } },
        [_c("i", { staticClass: "far fa-ellipsis-v" })]
      )
    }
  ];
  __vue_render__$z._withStripped = true;

    /* style */
    const __vue_inject_styles__$F = function (inject) {
      if (!inject) return
      inject("data-v-0e5ad3a9_0", { source: "\n.mg-table .row-number {\n\tfont-size: 16px;\n\ttext-align: middle;\n}\n.mg-table td.row-number {\n\tmargin-top: 14px;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgTable.vue"],"names":[],"mappings":";AA0LA;CACA,eAAA;CACA,kBAAA;AACA;AAEA;CACA,gBAAA;AACA","file":"mgTable.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgTable', {\n\tmeta: {\n\t\ttitle: 'Table layout',\n\t\ticon: 'far fa-table',\n\t\tcategory: 'Layout',\n\t},\n\tdata() { return {\n\t\tnewRow: {},\n\t\t// TODO: Is this really needed? Perhaps when `url` is specified?\n\t\tisAdding: false,\n\t\tdata: [],\n\t}},\n\tprops: {\n\t\turl: {type: 'mgUrl', relative: true, help: 'Data feed to populate the table'},\n\t\tallowAdd: {type: 'mgToggle', title: 'Allow Row Addition', default: true},\n\t\tallowDelete: {type: 'mgToggle', title: 'Allow Row Deletion', default: true},\n\t\ttextEmpty: {type: 'mgText', title: 'No data message', default: 'No data'},\n\t\titems: {\n\t\t\ttype: 'mgAlert',\n\t\t\tvueType: 'array',\n\t\t\ttext: 'Use the editor to define child widgets',\n\t\t\tdefault: () => [\n\t\t\t\t// FIXME: Defaults are not initialised\n\t\t\t\t{id: 'col1', title: 'Col 1', type: 'mgText', default: '1'},\n\t\t\t\t{id: 'col2', title: 'Col 2', type: 'mgText', default: '2'},\n\t\t\t],\n\t\t},\n\t\taddButtonActiveClass: {type: 'mgText', default: 'btn btn-block btn-success fa fa-plus', advanced: true},\n\t\taddButtonInactiveClass: {type: 'mgText', default: 'btn btn-block btn-disabled fa fa-plus', advanced: true},\n\t\trowNumbers: {type: 'mgToggle', help: 'Show the row number at the beginning of each row', default: true},\n\t},\n\tchildProps: {\n\t\tshowTitle: {type: 'mgToggle', default: false, title: 'Show Title'},\n\t},\n\tcreated() {\n\t\tthis.$debugging = true;\n\t},\n\tmounted() {\n\t\tthis.$watch('$props.url', ()=> {\n\t\t\tif (!this.$props.url) return;\n\t\t\tthis.$macgyver.utils.fetch(this.$props.url, {type: 'array'})\n\t\t\t\t.then(data => this.$set(this.$props, 'data', data))\n\t\t}, {immediate: true});\n\t},\n\twatch: {\n\t\tdata: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\t// Ensure that data is always an array\n\t\t\t\tif (!_.isArray(this.data)) this.data = [];\n\t\t\t},\n\t\t},\n\t},\n\t// To ensure reactivity to array of objects https://stackoverflow.com/a/56793403/2438830\n\tcomputed: {\n\t\touterKey() {\n\t\t\treturn this.data && this.data.length;\n\t\t}\n\t},\n\tmethods: {\n\t\tcreateRow(offset) { // Offset is the row to create after - i.e. array position splice\n\t\t\tthis.$debug('createRow', offset, this.$data.newRow);\n\t\t\tthis.isAdding = true;\n\t\t\tif (typeof offset === 'undefined') {\n\t\t\t\tthis.data.push(this.$data.newRow);\n\t\t\t} else {\n\t\t\t\tthis.data.splice(offset, 0, this.$data.newRow);\n\t\t\t}\n\t\t\tthis.$data.newRow = {};\n\t\t\tthis.isAdding = false;\n\t\t},\n\t\tdeleteRow(offset) {\n\t\t\tthis.$debug('deleteRow', offset);\n\t\t\tthis.data.splice(offset, 1);\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-table\">\n\t\t<table class=\"table table-bordered table-striped table-hover\">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th v-if=\"$props.rowNumbers\" class=\"row-number\">&#35;</th>\n\t\t\t\t\t<th v-for=\"col in $props.items\" :key=\"col.id\" :style=\"(col.width ? 'width: ' + col.width + '; ' : '') + col.class\">\n\t\t\t\t\t\t{{col.title}}\n\t\t\t\t\t</th>\n\t\t\t\t\t<th v-if=\"$props.allowAdd || $props.allowDelete\" class=\"btn-context\">&nbsp;</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody :key=\"outerKey\">\n\t\t\t\t<tr v-if=\"!data || !data.length\">\n\t\t\t\t\t<td :colspan=\"$props.items.length + ($props.rowNumbers ? 1 : 0) + (($props.allowAdd || $props.allowDelete) ? 1 : 0) + 1\">\n\t\t\t\t\t\t<div class=\"alert alert-warning m-10\">{{$props.textEmpty || 'No data'}}</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr v-for=\"(row, rowNumber) in data\" :key=\"rowNumber\">\n\t\t\t\t\t<td v-if=\"$props.rowNumbers\" class=\"row-number\">\n\t\t\t\t\t\t{{rowNumber + 1 | number}}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-for=\"col in $props.items\" :key=\"col.id\" :class=\"col.class\">\n\t\t\t\t\t\t<!-- Works -->\n\t\t\t\t\t\t<!--mg-text\n\t\t\t\t\t\t\t:value=\"row[col.$dataPath]\"\n\t\t\t\t\t\t\t@change=\"$setPath(row, col.$dataPath, $event)\"\n\t\t\t\t\t\t/-->\n\n\t\t\t\t\t\t<!-- Works -->\n\t\t\t\t\t\t<mg-form\n\t\t\t\t\t\t\t:config=\"col\"\n\t\t\t\t\t\t\t:data=\"row\"\n\t\t\t\t\t\t\t@changeItem=\"$setPath(row, $event.path, $event.value)\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<!-- // FIXME: Should pass through value and change events properties? -->\n\t\t\t\t\t\t<!--mg-component\n\t\t\t\t\t\t\t:config=\"{\n\t\t\t\t\t\t\t\tid: col.id,\n\t\t\t\t\t\t\t\ttype: col.type,\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:value=\"row[col.$dataPath]\"\n\t\t\t\t\t\t\t@change=\"$setPath(row, col.$dataPath, $event)\"\n\t\t\t\t\t\t/-->\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"$props.allowAdd || $props.allowDelete\" class=\"btn-context\">\n\t\t\t\t\t\t<div class=\"btn-group\">\n\t\t\t\t\t\t\t<a class=\"btn btn-context\" data-toggle=\"dropdown\"><i class=\"far fa-ellipsis-v\"></i></a>\n\t\t\t\t\t\t\t<ul class=\"dropdown-menu pull-right\">\n\t\t\t\t\t\t\t\t<li v-if=\"$props.allowAdd\"><a @click=\"createRow(rowNumber)\"><i class=\"far fa-arrow-circle-up\"></i> Add row above</a></li>\n\t\t\t\t\t\t\t\t<li v-if=\"$props.allowAdd\"><a @click=\"createRow(rowNumber)\"><i class=\"far fa-arrow-circle-down\"></i> Add row below</a></li>\n\t\t\t\t\t\t\t\t<li v-if=\"$props.allowDelete\" class=\"dropdown-divider\"></li>\n\t\t\t\t\t\t\t\t<li v-if=\"$props.allowDelete\" class=\"dropdown-item-danger\"><a @click=\"deleteRow(rowNumber)\"><i class=\"far fa-trash\"></i> Delete</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr class=\"mgTable-append\" v-if=\"$props.allowAdd\">\n\t\t\t\t\t<td v-if=\"$props.rowNumbers\" class=\"row-number\">\n\t\t\t\t\t\t<i class=\"far fa-asterisk\"></i>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-for=\"(col, colNumber) in $props.items\" :key=\"col.id\">\n\t\t\t\t\t\t<!-- Works -->\n\t\t\t\t\t\t<!--mg-text\n\t\t\t\t\t\t\t:value=\"newRow[col.$dataPath]\"\n\t\t\t\t\t\t\t@change=\"$setPath(newRow, col.$dataPath, $event)\"\n\t\t\t\t\t\t/-->\n\n\t\t\t\t\t\t<!-- Works -->\n\t\t\t\t\t\t<mg-form\n\t\t\t\t\t\t\t:config=\"col\"\n\t\t\t\t\t\t\t:data=\"newRow\"\n\t\t\t\t\t\t\t@changeItem=\"$setPath(newRow, $event.path, $event.value)\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<a @click=\"createRow()\" :class=\"isAdding ? $props.addButtonActiveClass : $props.addButtonInactiveClass\"></a>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\n\t\t<div v-if=\"$debugging\" class=\"card\">\n\t\t\t<div class=\"card-header\">\n\t\t\t\tRaw data\n\t\t\t\t<i class=\"float-right fas fa-debug fa-lg\" v-tooltip=\"'Only visible to users with the Debug permission'\"/>\n\t\t\t</div>\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<pre>{{$data}}</pre>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!--div v-if=\"$debugging\" class=\"card\">\n\t\t\t<div class=\"card-header\">\n\t\t\t\tRaw properties\n\t\t\t\t<i class=\"float-right fas fa-debug fa-lg\" v-tooltip=\"'Only visible to users with the Debug permission'\"/>\n\t\t\t</div>\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<pre>{{$props}}</pre>\n\t\t\t</div>\n\t\t</div-->\n\t</div>\n</template>\n\n<style>\n.mg-table .row-number {\n\tfont-size: 16px;\n\ttext-align: middle;\n}\n\n.mg-table td.row-number {\n\tmargin-top: 14px;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$F = undefined;
    /* module identifier */
    const __vue_module_identifier__$F = undefined;
    /* functional template */
    const __vue_is_functional_template__$F = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$F = normalizeComponent(
      { render: __vue_render__$z, staticRenderFns: __vue_staticRenderFns__$z },
      __vue_inject_styles__$F,
      __vue_script__$F,
      __vue_scope_id__$F,
      __vue_is_functional_template__$F,
      __vue_module_identifier__$F,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgTable = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$F
  });

  var script$F = Vue.mgComponent('mgTextArea', {
    meta: {
      title: 'Multi-line text',
      icon: 'fa fa-align-justify',
      category: 'Simple Inputs',
      preferId: true
    },
    props: {
      rows: {
        type: 'mgNumber',
        title: 'Line height',
        "default": 3
      },
      lengthMin: {
        type: 'mgNumber',
        title: 'Minimum Length',
        min: 0
      },
      lengthMax: {
        type: 'mgNumber',
        title: 'Maximum Length'
      },
      placeholder: {
        type: 'mgTextArea',
        help: 'Ghost text to display when there is no value'
      },
      required: {
        type: 'mgToggle',
        "default": false
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
        if (_this.$props.lengthMin && _.isString(_this.data) && _this.data.length < _this.$props.lengthMin) return reply("".concat(_this.$props.title, " is too small (minimum length is ").concat(_this.$props.lengthMin, ")"));
        if (_this.$props.lengthMax && _.isString(_this.data) && _this.data.length > _this.$props.lengthMax) return reply("".concat(_this.$props.title, " is too long (maximum length is ").concat(_this.$props.lengthMax, ")"));
      });
    }
  });

  /* script */
  const __vue_script__$G = script$F;

  /* template */
  var __vue_render__$A = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("textarea", {
      directives: [
        { name: "model", rawName: "v-model", value: _vm.data, expression: "data" }
      ],
      staticClass: "form-control",
      attrs: {
        placeholder: _vm.$props.placeholder,
        minlength: _vm.$props.lengthMin,
        maxlength: _vm.$props.lengthMin,
        rows: _vm.$props.rows,
        autocomplete: "off"
      },
      domProps: { value: _vm.data },
      on: {
        input: function($event) {
          if ($event.target.composing) {
            return
          }
          _vm.data = $event.target.value;
        }
      }
    })
  };
  var __vue_staticRenderFns__$A = [];
  __vue_render__$A._withStripped = true;

    /* style */
    const __vue_inject_styles__$G = undefined;
    /* scoped */
    const __vue_scope_id__$G = undefined;
    /* module identifier */
    const __vue_module_identifier__$G = undefined;
    /* functional template */
    const __vue_is_functional_template__$G = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$G = normalizeComponent(
      { render: __vue_render__$A, staticRenderFns: __vue_staticRenderFns__$A },
      __vue_inject_styles__$G,
      __vue_script__$G,
      __vue_scope_id__$G,
      __vue_is_functional_template__$G,
      __vue_module_identifier__$G,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgTextArea = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$G
  });

  Vue.use(InputFacade);
  var script$G = Vue.mgComponent('mgText', {
    meta: {
      title: 'Text',
      icon: 'far fa-edit',
      category: 'Simple Inputs',
      preferId: true,
      format: true,
      shorthand: ['string', 'str']
    },
    props: {
      lengthMin: {
        type: 'mgNumber',
        title: 'Minimum Length',
        min: 0
      },
      lengthMax: {
        type: 'mgNumber',
        title: 'Maximum Length'
      },
      placeholder: {
        type: 'mgText',
        help: 'Ghost text to display when there is no value'
      },
      required: {
        type: 'mgToggle',
        "default": false
      },
      disabled: {
        type: 'mgToggle',
        "default": false
      },
      readonly: {
        type: 'mgToggle',
        "default": false
      },
      mask: {
        type: 'mgText',
        help: 'Text input mask to restrict to, #=Number, S=Letter, X=Alpha-numeric, A=Alpha Uppercase, a=Alpha lowercase, \=Escape'
      },
      focus: {
        type: 'mgToggle',
        "default": false,
        help: 'Auto-focus the element when it appears on screen'
      },
      autoComplete: {
        type: 'mgChoiceDropdown',
        help: 'Allow auto-complete value propagation',
        "default": 'off',
        advanced: true,
        "enum": [{
          id: 'off',
          title: 'Disabled'
        }, {
          id: 'on',
          title: 'Automatic'
        }, {
          id: 'name',
          title: 'Name'
        }, {
          id: 'email',
          title: 'Email'
        }, {
          id: 'username',
          title: 'Username'
        }, {
          id: 'street-address',
          title: 'Street address'
        }, {
          id: 'address-line1',
          title: 'Address line 1'
        }, {
          id: 'address-line2',
          title: 'Address line 2'
        }, {
          id: 'address-line3',
          title: 'Address line 3'
        }, {
          id: 'address-level1',
          title: 'Address level 1'
        }, {
          id: 'address-level2',
          title: 'Address level 2'
        }, {
          id: 'address-level3',
          title: 'Address level 3'
        }, {
          id: 'address-level4',
          title: 'Address level 4'
        }, {
          id: 'country',
          title: 'Country code'
        }, {
          id: 'country-name',
          title: 'Country name'
        }, {
          id: 'postal-code',
          title: 'Postcode'
        }]
      },
      "enum": {
        type: 'mgTable',
        title: 'Suggested items',
        items: [{
          id: 'title',
          type: 'mgText',
          required: true
        }]
      }
    },
    computed: {
      datalist: function datalist() {
        // Map $props.enum into a collection of the form {id, title}
        if (!this.$props["enum"] || !this.$props["enum"].length) return;
        return this.$props["enum"].map(function (i) {
          if (_.isString(i)) return {
            id: i,
            title: i
          };
          return i;
        });
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
        if (_this.$props.lengthMin && _.isString(_this.data) && _this.data.length < _this.$props.lengthMin) return reply("".concat(_this.$props.title, " is too small (minimum length is ").concat(_this.$props.lengthMin, ")"));
        if (_this.$props.lengthMax && _.isString(_this.data) && _this.data.length > _this.$props.lengthMax) return reply("".concat(_this.$props.title, " is too long (maximum length is ").concat(_this.$props.lengthMax, ")"));
      });
    },
    mounted: function mounted() {
      if (this.$props.focus) {
        var $el = $(this.$el);

        var focusVisible = function focusVisible() {
          if ($el.is(':visible')) {
            $el.focus();
          } else {
            setTimeout(focusVisible, 100);
          }
        };

        focusVisible();
      }
    }
  });

  /* script */
  const __vue_script__$H = script$G;

  /* template */
  var __vue_render__$B = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-text" }, [
      _c("input", {
        directives: [
          {
            name: "model",
            rawName: "v-model",
            value: _vm.data,
            expression: "data"
          },
          {
            name: "facade",
            rawName: "v-facade",
            value: _vm.$props.mask,
            expression: "$props.mask"
          }
        ],
        staticClass: "form-control",
        attrs: {
          type: "text",
          autocomplete: _vm.$props.autoComplete,
          disabled: _vm.$props.disabled,
          placeholder: _vm.$props.placeholder,
          readonly: _vm.$props.readonly,
          list: _vm.datalist ? "mg-text-datalist-" + _vm._uid : undefined
        },
        domProps: { value: _vm.data },
        on: {
          input: function($event) {
            if ($event.target.composing) {
              return
            }
            _vm.data = $event.target.value;
          }
        }
      }),
      _vm._v(" "),
      _vm.datalist
        ? _c(
            "datalist",
            { attrs: { id: "mg-text-datalist-" + _vm._uid } },
            _vm._l(_vm.datalist, function(item) {
              return _c("option", { domProps: { value: item.title } }, [
                _vm._v("\n\t\t\t" + _vm._s(item.title) + "\n\t\t")
              ])
            }),
            0
          )
        : _vm._e()
    ])
  };
  var __vue_staticRenderFns__$B = [];
  __vue_render__$B._withStripped = true;

    /* style */
    const __vue_inject_styles__$H = undefined;
    /* scoped */
    const __vue_scope_id__$H = undefined;
    /* module identifier */
    const __vue_module_identifier__$H = undefined;
    /* functional template */
    const __vue_is_functional_template__$H = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$H = normalizeComponent(
      { render: __vue_render__$B, staticRenderFns: __vue_staticRenderFns__$B },
      __vue_inject_styles__$H,
      __vue_script__$H,
      __vue_scope_id__$H,
      __vue_is_functional_template__$H,
      __vue_module_identifier__$H,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgText = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$H
  });

  var script$H = Vue.mgComponent('mgTime', {
    meta: {
      title: 'Time selection',
      icon: 'far fa-calendar',
      category: 'Simple Inputs',
      preferId: true,
      format: function format(v) {
        if (!v) return '';
        return v; //return moment.duration(v).humanize();
      },
      formatClass: 'text-center'
    },
    data: function data() {
      return {
        formData: undefined
      };
    },
    props: {
      min: {
        type: 'mgTime',
        title: 'Earliest time'
      },
      max: {
        type: 'mgTime',
        title: 'Latest time'
      },
      required: {
        type: 'mgToggle',
        "default": false
      }
    },
    created: function created() {
      var _this = this;

      this.$debugging = false;
      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));

        if (_.isString(_this.data)) {
          var d = moment.duration(_this.data);
          if (!moment.isDuration(d)) return reply("".concat(_this.$props.title, " must be a time"));
          if (_this.$props.min && d.asMilliseconds() < moment.duration(_this.$props.min).asMilliseconds()) return reply("".concat($props.title, " is too early (earliest time is ").concat(_this.$props.min, ")"));
          if (_this.$props.max && d.asMilliseconds() > moment.duration(_this.$props.max).asMilliseconds()) return reply("".concat($props.title, " is too late (latest time is ").concat(_this.$props.max, ")"));
        }
      });
      this.$watch('data', function () {
        _this.formData = data;
      }, {
        immediate: true
      });
      this.$watch('formData', function () {
        _this.data = moment.duration(_this.formData).toISOString();
      });
    }
  });

  /* script */
  const __vue_script__$I = script$H;

  /* template */
  var __vue_render__$C = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("div", { staticClass: "mg-time" }, [
      _c("input", {
        directives: [
          {
            name: "model",
            rawName: "v-model",
            value: _vm.formData,
            expression: "formData"
          }
        ],
        staticClass: "form-control",
        attrs: { type: "time", max: _vm.$props.max, min: _vm.$props.min },
        domProps: { value: _vm.formData },
        on: {
          input: function($event) {
            if ($event.target.composing) {
              return
            }
            _vm.formData = $event.target.value;
          }
        }
      }),
      _vm._v(" "),
      this.$debugging
        ? _c("div", { staticClass: "card" }, [
            _c("div", { staticClass: "card-header" }, [
              _vm._v("\n\t\t\tRaw data\n\t\t")
            ]),
            _vm._v(" "),
            _c("div", { staticClass: "card-body" }, [
              _c("pre", [_vm._v(_vm._s(_vm.$data))])
            ])
          ])
        : _vm._e()
    ])
  };
  var __vue_staticRenderFns__$C = [];
  __vue_render__$C._withStripped = true;

    /* style */
    const __vue_inject_styles__$I = undefined;
    /* scoped */
    const __vue_scope_id__$I = undefined;
    /* module identifier */
    const __vue_module_identifier__$I = undefined;
    /* functional template */
    const __vue_is_functional_template__$I = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$I = normalizeComponent(
      { render: __vue_render__$C, staticRenderFns: __vue_staticRenderFns__$C },
      __vue_inject_styles__$I,
      __vue_script__$I,
      __vue_scope_id__$I,
      __vue_is_functional_template__$I,
      __vue_module_identifier__$I,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgTime = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$I
  });

  var dist = createCommonjsModule(function (module, exports) {
  (function webpackUniversalModuleDefinition(root, factory) {
  	module.exports = factory();
  })(commonjsGlobal, function() {
  return /******/ (function(modules) { // webpackBootstrap
  /******/ 	// The module cache
  /******/ 	var installedModules = {};
  /******/
  /******/ 	// The require function
  /******/ 	function __webpack_require__(moduleId) {
  /******/
  /******/ 		// Check if module is in cache
  /******/ 		if(installedModules[moduleId]) {
  /******/ 			return installedModules[moduleId].exports;
  /******/ 		}
  /******/ 		// Create a new module (and put it into the cache)
  /******/ 		var module = installedModules[moduleId] = {
  /******/ 			i: moduleId,
  /******/ 			l: false,
  /******/ 			exports: {}
  /******/ 		};
  /******/
  /******/ 		// Execute the module function
  /******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
  /******/
  /******/ 		// Flag the module as loaded
  /******/ 		module.l = true;
  /******/
  /******/ 		// Return the exports of the module
  /******/ 		return module.exports;
  /******/ 	}
  /******/
  /******/
  /******/ 	// expose the modules object (__webpack_modules__)
  /******/ 	__webpack_require__.m = modules;
  /******/
  /******/ 	// expose the module cache
  /******/ 	__webpack_require__.c = installedModules;
  /******/
  /******/ 	// identity function for calling harmony imports with the correct context
  /******/ 	__webpack_require__.i = function(value) { return value; };
  /******/
  /******/ 	// define getter function for harmony exports
  /******/ 	__webpack_require__.d = function(exports, name, getter) {
  /******/ 		if(!__webpack_require__.o(exports, name)) {
  /******/ 			Object.defineProperty(exports, name, {
  /******/ 				configurable: false,
  /******/ 				enumerable: true,
  /******/ 				get: getter
  /******/ 			});
  /******/ 		}
  /******/ 	};
  /******/
  /******/ 	// getDefaultExport function for compatibility with non-harmony modules
  /******/ 	__webpack_require__.n = function(module) {
  /******/ 		var getter = module && module.__esModule ?
  /******/ 			function getDefault() { return module['default']; } :
  /******/ 			function getModuleExports() { return module; };
  /******/ 		__webpack_require__.d(getter, 'a', getter);
  /******/ 		return getter;
  /******/ 	};
  /******/
  /******/ 	// Object.prototype.hasOwnProperty.call
  /******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
  /******/
  /******/ 	// __webpack_public_path__
  /******/ 	__webpack_require__.p = "/dist/";
  /******/
  /******/ 	// Load entry module and return exports
  /******/ 	return __webpack_require__(__webpack_require__.s = 2);
  /******/ })
  /************************************************************************/
  /******/ ([
  /* 0 */
  /***/ (function(module, exports, __webpack_require__) {


  /* styles */
  __webpack_require__(8);

  var Component = __webpack_require__(6)(
    /* script */
    __webpack_require__(1),
    /* template */
    __webpack_require__(7),
    /* scopeId */
    "data-v-25adc6c0",
    /* cssModules */
    null
  );

  module.exports = Component.exports;


  /***/ }),
  /* 1 */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {
  Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
  /* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(3);
  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //
  //



  var DEFAULT_COLOR_CHECKED = '#75c791';
  var DEFAULT_COLOR_UNCHECKED = '#bfcbd9';
  var DEFAULT_LABEL_CHECKED = 'on';
  var DEFAULT_LABEL_UNCHECKED = 'off';
  var DEFAULT_SWITCH_COLOR = '#fff';

  /* harmony default export */ __webpack_exports__["default"] = ({
    name: 'ToggleButton',
    props: {
      value: {
        type: Boolean,
        default: false
      },
      name: {
        type: String
      },
      disabled: {
        type: Boolean,
        default: false
      },
      tag: {
        type: String
      },
      sync: {
        type: Boolean,
        default: false
      },
      speed: {
        type: Number,
        default: 300
      },
      color: {
        type: [String, Object],
        validator: function validator(value) {
          return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["a" /* isString */])(value) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["b" /* has */])(value, 'checked') || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["b" /* has */])(value, 'unchecked') || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["b" /* has */])(value, 'disabled');
        }
      },
      switchColor: {
        type: [String, Object],
        validator: function validator(value) {
          return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["a" /* isString */])(value) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["b" /* has */])(value, 'checked') || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["b" /* has */])(value, 'unchecked');
        }
      },
      cssColors: {
        type: Boolean,
        default: false
      },
      labels: {
        type: [Boolean, Object],
        default: false,
        validator: function validator(value) {
          return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' ? value.checked || value.unchecked : typeof value === 'boolean';
        }
      },
      height: {
        type: Number,
        default: 22
      },
      width: {
        type: Number,
        default: 50
      },
      margin: {
        type: Number,
        default: 3
      },
      fontSize: {
        type: Number
      }
    },
    computed: {
      className: function className() {
        var toggled = this.toggled,
            disabled = this.disabled;


        return ['vue-js-switch', {
          toggled: toggled,
          disabled: disabled
        }];
      },
      coreStyle: function coreStyle() {
        return {
          width: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(this.width),
          height: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(this.height),
          backgroundColor: this.cssColors ? null : this.disabled ? this.colorDisabled : this.colorCurrent,
          borderRadius: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(Math.round(this.height / 2))
        };
      },
      buttonRadius: function buttonRadius() {
        return this.height - this.margin * 2;
      },
      distance: function distance() {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(this.width - this.height + this.margin);
      },
      buttonStyle: function buttonStyle() {
        var transition = 'transform ' + this.speed + 'ms';
        var margin = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(this.margin);

        var transform = this.toggled ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["d" /* translate3d */])(this.distance, margin) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["d" /* translate3d */])(margin, margin);

        var background = this.switchColor ? this.switchColorCurrent : null;

        return {
          width: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(this.buttonRadius),
          height: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(this.buttonRadius),
          transition: transition,
          transform: transform,
          background: background
        };
      },
      labelStyle: function labelStyle() {
        return {
          lineHeight: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(this.height),
          fontSize: this.fontSize ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["c" /* px */])(this.fontSize) : null
        };
      },
      colorChecked: function colorChecked() {
        var color = this.color;


        if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["e" /* isObject */])(color)) {
          return color || DEFAULT_COLOR_CHECKED;
        }

        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["f" /* get */])(color, 'checked', DEFAULT_COLOR_CHECKED);
      },
      colorUnchecked: function colorUnchecked() {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["f" /* get */])(this.color, 'unchecked', DEFAULT_COLOR_UNCHECKED);
      },
      colorDisabled: function colorDisabled() {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["f" /* get */])(this.color, 'disabled', this.colorCurrent);
      },
      colorCurrent: function colorCurrent() {
        return this.toggled ? this.colorChecked : this.colorUnchecked;
      },
      labelChecked: function labelChecked() {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["f" /* get */])(this.labels, 'checked', DEFAULT_LABEL_CHECKED);
      },
      labelUnchecked: function labelUnchecked() {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["f" /* get */])(this.labels, 'unchecked', DEFAULT_LABEL_UNCHECKED);
      },
      switchColorChecked: function switchColorChecked() {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["f" /* get */])(this.switchColor, 'checked', DEFAULT_SWITCH_COLOR);
      },
      switchColorUnchecked: function switchColorUnchecked() {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["f" /* get */])(this.switchColor, 'unchecked', DEFAULT_SWITCH_COLOR);
      },
      switchColorCurrent: function switchColorCurrent() {
        var switchColor = this.switchColor;


        if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__["e" /* isObject */])(this.switchColor)) {
          return this.switchColor || DEFAULT_SWITCH_COLOR;
        }

        return this.toggled ? this.switchColorChecked : this.switchColorUnchecked;
      }
    },
    watch: {
      value: function value(_value) {
        if (this.sync) {
          this.toggled = !!_value;
        }
      }
    },
    data: function data() {
      return {
        toggled: !!this.value
      };
    },

    methods: {
      toggle: function toggle(event) {
        var toggled = !this.toggled;

        if (!this.sync) {
          this.toggled = toggled;
        }

        this.$emit('input', toggled);
        this.$emit('change', {
          value: toggled,
          tag: this.tag,
          srcEvent: event
        });
      }
    }
  });

  /***/ }),
  /* 2 */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {
  Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
  /* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Button_vue__ = __webpack_require__(0);
  /* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Button_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__Button_vue__);
  /* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, "ToggleButton", function() { return __WEBPACK_IMPORTED_MODULE_0__Button_vue___default.a; });


  var installed = false;

  /* harmony default export */ __webpack_exports__["default"] = ({
    install: function install(Vue) {
      if (installed) {
        return;
      }

      Vue.component('ToggleButton', __WEBPACK_IMPORTED_MODULE_0__Button_vue___default.a);
      installed = true;
    }
  });



  /***/ }),
  /* 3 */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return isString; });
  /* unused harmony export isBoolean */
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return isObject; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return has; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return get; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return px; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return translate3d; });
  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

  var isString = function isString(value) {
    return typeof value === 'string';
  };

  var isObject = function isObject(value) {
    return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';
  };

  var has = function has(object, key) {
    return isObject(object) && object.hasOwnProperty(key);
  };

  var get = function get(object, key, defaultValue) {
    return has(object, key) ? object[key] : defaultValue;
  };

  var px = function px(value) {
    return value + 'px';
  };

  var translate3d = function translate3d(x, y) {
    var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0px';

    return 'translate3d(' + x + ', ' + y + ', ' + z + ')';
  };

  /***/ }),
  /* 4 */
  /***/ (function(module, exports, __webpack_require__) {

  exports = module.exports = __webpack_require__(5)();
  // imports


  // module
  exports.push([module.i, ".vue-js-switch[data-v-25adc6c0]{display:inline-block;position:relative;vertical-align:middle;user-select:none;font-size:10px;cursor:pointer}.vue-js-switch .v-switch-input[data-v-25adc6c0]{opacity:0;position:absolute;width:1px;height:1px}.vue-js-switch .v-switch-label[data-v-25adc6c0]{position:absolute;top:0;font-weight:600;color:#fff;z-index:1}.vue-js-switch .v-switch-label.v-left[data-v-25adc6c0]{left:10px}.vue-js-switch .v-switch-label.v-right[data-v-25adc6c0]{right:10px}.vue-js-switch .v-switch-core[data-v-25adc6c0]{display:block;position:relative;box-sizing:border-box;outline:0;margin:0;transition:border-color .3s,background-color .3s;user-select:none}.vue-js-switch .v-switch-core .v-switch-button[data-v-25adc6c0]{display:block;position:absolute;overflow:hidden;top:0;left:0;border-radius:100%;background-color:#fff;z-index:2}.vue-js-switch.disabled[data-v-25adc6c0]{pointer-events:none;opacity:.6}", ""]);

  // exports


  /***/ }),
  /* 5 */
  /***/ (function(module, exports) {

  /*
  	MIT License http://www.opensource.org/licenses/mit-license.php
  	Author Tobias Koppers @sokra
  */
  // css base code, injected by the css-loader
  module.exports = function() {
  	var list = [];

  	// return the list of modules as css string
  	list.toString = function toString() {
  		var result = [];
  		for(var i = 0; i < this.length; i++) {
  			var item = this[i];
  			if(item[2]) {
  				result.push("@media " + item[2] + "{" + item[1] + "}");
  			} else {
  				result.push(item[1]);
  			}
  		}
  		return result.join("");
  	};

  	// import a list of modules into the list
  	list.i = function(modules, mediaQuery) {
  		if(typeof modules === "string")
  			modules = [[null, modules, ""]];
  		var alreadyImportedModules = {};
  		for(var i = 0; i < this.length; i++) {
  			var id = this[i][0];
  			if(typeof id === "number")
  				alreadyImportedModules[id] = true;
  		}
  		for(i = 0; i < modules.length; i++) {
  			var item = modules[i];
  			// skip already imported module
  			// this implementation is not 100% perfect for weird media query combinations
  			//  when a module is imported multiple times with different media queries.
  			//  I hope this will never occur (Hey this way we have smaller bundles)
  			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
  				if(mediaQuery && !item[2]) {
  					item[2] = mediaQuery;
  				} else if(mediaQuery) {
  					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
  				}
  				list.push(item);
  			}
  		}
  	};
  	return list;
  };


  /***/ }),
  /* 6 */
  /***/ (function(module, exports) {

  // this module is a runtime utility for cleaner component module output and will
  // be included in the final webpack user bundle

  module.exports = function normalizeComponent (
    rawScriptExports,
    compiledTemplate,
    scopeId,
    cssModules
  ) {
    var esModule;
    var scriptExports = rawScriptExports = rawScriptExports || {};

    // ES6 modules interop
    var type = typeof rawScriptExports.default;
    if (type === 'object' || type === 'function') {
      esModule = rawScriptExports;
      scriptExports = rawScriptExports.default;
    }

    // Vue.extend constructor export interop
    var options = typeof scriptExports === 'function'
      ? scriptExports.options
      : scriptExports;

    // render functions
    if (compiledTemplate) {
      options.render = compiledTemplate.render;
      options.staticRenderFns = compiledTemplate.staticRenderFns;
    }

    // scopedId
    if (scopeId) {
      options._scopeId = scopeId;
    }

    // inject cssModules
    if (cssModules) {
      var computed = Object.create(options.computed || null);
      Object.keys(cssModules).forEach(function (key) {
        var module = cssModules[key];
        computed[key] = function () { return module };
      });
      options.computed = computed;
    }

    return {
      esModule: esModule,
      exports: scriptExports,
      options: options
    }
  };


  /***/ }),
  /* 7 */
  /***/ (function(module, exports) {

  module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
    return _c('label', {
      class: _vm.className
    }, [_c('input', {
      staticClass: "v-switch-input",
      attrs: {
        "type": "checkbox",
        "name": _vm.name,
        "disabled": _vm.disabled
      },
      domProps: {
        "checked": _vm.value
      },
      on: {
        "change": function($event) {
          $event.stopPropagation();
          return _vm.toggle($event)
        }
      }
    }), _vm._v(" "), _c('div', {
      staticClass: "v-switch-core",
      style: (_vm.coreStyle)
    }, [_c('div', {
      staticClass: "v-switch-button",
      style: (_vm.buttonStyle)
    })]), _vm._v(" "), (_vm.labels) ? [(_vm.toggled) ? _c('span', {
      staticClass: "v-switch-label v-left",
      style: (_vm.labelStyle)
    }, [_vm._t("checked", [
      [_vm._v(_vm._s(_vm.labelChecked))]
    ])], 2) : _c('span', {
      staticClass: "v-switch-label v-right",
      style: (_vm.labelStyle)
    }, [_vm._t("unchecked", [
      [_vm._v(_vm._s(_vm.labelUnchecked))]
    ])], 2)] : _vm._e()], 2)
  },staticRenderFns: []};

  /***/ }),
  /* 8 */
  /***/ (function(module, exports, __webpack_require__) {

  // style-loader: Adds some css to the DOM by adding a <style> tag

  // load the styles
  var content = __webpack_require__(4);
  if(typeof content === 'string') content = [[module.i, content, '']];
  if(content.locals) module.exports = content.locals;
  // add the styles to the DOM
  var update = __webpack_require__(9)("2283861f", content, true);

  /***/ }),
  /* 9 */
  /***/ (function(module, exports, __webpack_require__) {

  /*
    MIT License http://www.opensource.org/licenses/mit-license.php
    Author Tobias Koppers @sokra
    Modified by Evan You @yyx990803
  */

  var hasDocument = typeof document !== 'undefined';

  if (typeof DEBUG !== 'undefined' && DEBUG) {
    if (!hasDocument) {
      throw new Error(
      'vue-style-loader cannot be used in a non-browser environment. ' +
      "Use { target: 'node' } in your Webpack config to indicate a server-rendering environment."
    ) }
  }

  var listToStyles = __webpack_require__(10);

  /*
  type StyleObject = {
    id: number;
    parts: Array<StyleObjectPart>
  }

  type StyleObjectPart = {
    css: string;
    media: string;
    sourceMap: ?string
  }
  */

  var stylesInDom = {/*
    [id: number]: {
      id: number,
      refs: number,
      parts: Array<(obj?: StyleObjectPart) => void>
    }
  */};

  var head = hasDocument && (document.head || document.getElementsByTagName('head')[0]);
  var singletonElement = null;
  var singletonCounter = 0;
  var isProduction = false;
  var noop = function () {};

  // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page
  var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\b/.test(navigator.userAgent.toLowerCase());

  module.exports = function (parentId, list, _isProduction) {
    isProduction = _isProduction;

    var styles = listToStyles(parentId, list);
    addStylesToDom(styles);

    return function update (newList) {
      var mayRemove = [];
      for (var i = 0; i < styles.length; i++) {
        var item = styles[i];
        var domStyle = stylesInDom[item.id];
        domStyle.refs--;
        mayRemove.push(domStyle);
      }
      if (newList) {
        styles = listToStyles(parentId, newList);
        addStylesToDom(styles);
      } else {
        styles = [];
      }
      for (var i = 0; i < mayRemove.length; i++) {
        var domStyle = mayRemove[i];
        if (domStyle.refs === 0) {
          for (var j = 0; j < domStyle.parts.length; j++) {
            domStyle.parts[j]();
          }
          delete stylesInDom[domStyle.id];
        }
      }
    }
  };

  function addStylesToDom (styles /* Array<StyleObject> */) {
    for (var i = 0; i < styles.length; i++) {
      var item = styles[i];
      var domStyle = stylesInDom[item.id];
      if (domStyle) {
        domStyle.refs++;
        for (var j = 0; j < domStyle.parts.length; j++) {
          domStyle.parts[j](item.parts[j]);
        }
        for (; j < item.parts.length; j++) {
          domStyle.parts.push(addStyle(item.parts[j]));
        }
        if (domStyle.parts.length > item.parts.length) {
          domStyle.parts.length = item.parts.length;
        }
      } else {
        var parts = [];
        for (var j = 0; j < item.parts.length; j++) {
          parts.push(addStyle(item.parts[j]));
        }
        stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts };
      }
    }
  }

  function createStyleElement () {
    var styleElement = document.createElement('style');
    styleElement.type = 'text/css';
    head.appendChild(styleElement);
    return styleElement
  }

  function addStyle (obj /* StyleObjectPart */) {
    var update, remove;
    var styleElement = document.querySelector('style[data-vue-ssr-id~="' + obj.id + '"]');

    if (styleElement) {
      if (isProduction) {
        // has SSR styles and in production mode.
        // simply do nothing.
        return noop
      } else {
        // has SSR styles but in dev mode.
        // for some reason Chrome can't handle source map in server-rendered
        // style tags - source maps in <style> only works if the style tag is
        // created and inserted dynamically. So we remove the server rendered
        // styles and inject new ones.
        styleElement.parentNode.removeChild(styleElement);
      }
    }

    if (isOldIE) {
      // use singleton mode for IE9.
      var styleIndex = singletonCounter++;
      styleElement = singletonElement || (singletonElement = createStyleElement());
      update = applyToSingletonTag.bind(null, styleElement, styleIndex, false);
      remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);
    } else {
      // use multi-style-tag mode in all other cases
      styleElement = createStyleElement();
      update = applyToTag.bind(null, styleElement);
      remove = function () {
        styleElement.parentNode.removeChild(styleElement);
      };
    }

    update(obj);

    return function updateStyle (newObj /* StyleObjectPart */) {
      if (newObj) {
        if (newObj.css === obj.css &&
            newObj.media === obj.media &&
            newObj.sourceMap === obj.sourceMap) {
          return
        }
        update(obj = newObj);
      } else {
        remove();
      }
    }
  }

  var replaceText = (function () {
    var textStore = [];

    return function (index, replacement) {
      textStore[index] = replacement;
      return textStore.filter(Boolean).join('\n')
    }
  })();

  function applyToSingletonTag (styleElement, index, remove, obj) {
    var css = remove ? '' : obj.css;

    if (styleElement.styleSheet) {
      styleElement.styleSheet.cssText = replaceText(index, css);
    } else {
      var cssNode = document.createTextNode(css);
      var childNodes = styleElement.childNodes;
      if (childNodes[index]) styleElement.removeChild(childNodes[index]);
      if (childNodes.length) {
        styleElement.insertBefore(cssNode, childNodes[index]);
      } else {
        styleElement.appendChild(cssNode);
      }
    }
  }

  function applyToTag (styleElement, obj) {
    var css = obj.css;
    var media = obj.media;
    var sourceMap = obj.sourceMap;

    if (media) {
      styleElement.setAttribute('media', media);
    }

    if (sourceMap) {
      // https://developer.chrome.com/devtools/docs/javascript-debugging
      // this makes source maps inside style tags work properly in Chrome
      css += '\n/*# sourceURL=' + sourceMap.sources[0] + ' */';
      // http://stackoverflow.com/a/26603875
      css += '\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */';
    }

    if (styleElement.styleSheet) {
      styleElement.styleSheet.cssText = css;
    } else {
      while (styleElement.firstChild) {
        styleElement.removeChild(styleElement.firstChild);
      }
      styleElement.appendChild(document.createTextNode(css));
    }
  }


  /***/ }),
  /* 10 */
  /***/ (function(module, exports) {

  /**
   * Translates the list format produced by css-loader into something
   * easier to manipulate.
   */
  module.exports = function listToStyles (parentId, list) {
    var styles = [];
    var newStyles = {};
    for (var i = 0; i < list.length; i++) {
      var item = list[i];
      var id = item[0];
      var css = item[1];
      var media = item[2];
      var sourceMap = item[3];
      var part = {
        id: parentId + ':' + i,
        css: css,
        media: media,
        sourceMap: sourceMap
      };
      if (!newStyles[id]) {
        styles.push(newStyles[id] = { id: id, parts: [part] });
      } else {
        newStyles[id].parts.push(part);
      }
    }
    return styles
  };


  /***/ })
  /******/ ]);
  });

  });

  var ToggleButton = unwrapExports(dist);

  Vue.use(ToggleButton);
  var script$I = Vue.mgComponent('mgToggle', {
    meta: {
      title: 'Toggle Switch',
      icon: 'far fa-toggle-on',
      category: 'Simple Inputs',
      preferId: true,
      format: function format(v, config) {
        return v ? config.onText : config.offText;
      },
      formatClass: 'text-center',
      shorthand: ['boolean', 'switch', 'toggle']
    },
    props: {
      onText: {
        type: 'mgText',
        "default": 'on'
      },
      onColor: {
        type: 'mgColor',
        "default": '#75c791',
        advanced: true
      },
      offText: {
        type: 'mgText',
        "default": 'off'
      },
      offColor: {
        type: 'mgColor',
        "default": '#bfcbd9',
        advanced: true
      },
      switchColor: {
        type: 'mgColor',
        "default": '#fff',
        advanced: true
      },
      disabledColor: {
        type: 'mgColor',
        "default": '#cccccc',
        advanced: true
      }
    },
    methods: {
      changeHandler: function changeHandler(e) {
        this.$mgForm.$emit('mgChange', {
          path: this.$props.$dataPath,
          value: e.value
        });
      }
    }
  });

  /* script */
  const __vue_script__$J = script$I;

  /* template */
  var __vue_render__$D = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("toggle-button", {
      staticClass: "mg-toggle",
      attrs: {
        value: _vm.data,
        color: {
          checked: _vm.$props.onColor,
          unchecked: _vm.$props.offColor,
          disabled: _vm.$props.disabledColor
        },
        labels: { checked: _vm.$props.onText, unchecked: _vm.$props.offText },
        switchColor: _vm.$props.switchColor
      },
      on: { change: _vm.changeHandler }
    })
  };
  var __vue_staticRenderFns__$D = [];
  __vue_render__$D._withStripped = true;

    /* style */
    const __vue_inject_styles__$J = function (inject) {
      if (!inject) return
      inject("data-v-1f7796b2_0", { source: "\n.mg-toggle {\n\tmargin-top: 7px;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgToggle.vue"],"names":[],"mappings":";AA0CA;CACA,eAAA;AACA","file":"mgToggle.vue","sourcesContent":["<script>\nimport ToggleButton from 'vue-js-toggle-button';\nVue.use(ToggleButton);\n\nexport default Vue.mgComponent('mgToggle', {\n\tmeta: {\n\t\ttitle: 'Toggle Switch',\n\t\ticon: 'far fa-toggle-on',\n\t\tcategory: 'Simple Inputs',\n\t\tpreferId: true,\n\t\tformat: (v, config) => v ? config.onText : config.offText,\n\t\tformatClass: 'text-center',\n\t\tshorthand: ['boolean', 'switch', 'toggle'],\n\t},\n\tprops: {\n\t\tonText: {type: 'mgText', default: 'on'},\n\t\tonColor: {type: 'mgColor', default: '#75c791', advanced: true},\n\t\toffText: {type: 'mgText', default: 'off'},\n\t\toffColor: {type: 'mgColor', default: '#bfcbd9', advanced: true},\n\t\tswitchColor: {type: 'mgColor', default: '#fff', advanced: true},\n\t\tdisabledColor: {type: 'mgColor', default: '#cccccc', advanced: true},\n\t},\n\tmethods: {\n\t\tchangeHandler(e) {\n\t\t\tthis.$mgForm.$emit('mgChange', {path: this.$props.$dataPath, value: e.value});\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<toggle-button\n\t\tclass=\"mg-toggle\"\n\t\t:value=\"data\"\n\t\t:color=\"{checked: $props.onColor, unchecked: $props.offColor, disabled: $props.disabledColor}\"\n\t\t:labels=\"{checked: $props.onText, unchecked: $props.offText}\"\n\t\t:switchColor=\"$props.switchColor\"\n\t\t@change=\"changeHandler\"\n\t/>\n</template>\n\n<style>\n.mg-toggle {\n\tmargin-top: 7px;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$J = undefined;
    /* module identifier */
    const __vue_module_identifier__$J = undefined;
    /* functional template */
    const __vue_is_functional_template__$J = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$J = normalizeComponent(
      { render: __vue_render__$D, staticRenderFns: __vue_staticRenderFns__$D },
      __vue_inject_styles__$J,
      __vue_script__$J,
      __vue_scope_id__$J,
      __vue_is_functional_template__$J,
      __vue_module_identifier__$J,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgToggle = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$J
  });

  var script$J = Vue.mgComponent('mgUrl', {
    meta: {
      title: 'URL',
      icon: 'far fa-globe',
      category: 'Simple Inputs',
      preferId: true,
      format: function format(v) {
        if (!v) return '';
        return "<a href=\"".concat(v, "\" target=\"_blank\">").concat(v, "</a>");
      },
      shorthand: ['uri']
    },
    props: {
      placeholder: {
        type: 'mgUrl',
        help: 'Ghost text to display when there is no value'
      },
      required: {
        type: 'mgToggle',
        "default": false
      },
      relative: {
        type: 'mgToggle',
        help: 'Allow relative URL paths to the host'
      } // FIXME: Not yet implemented

    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    }
  });

  /* script */
  const __vue_script__$K = script$J;

  /* template */
  var __vue_render__$E = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("input", {
      directives: [
        { name: "model", rawName: "v-model", value: _vm.data, expression: "data" }
      ],
      staticClass: "form-control",
      attrs: { type: "url", placeholder: _vm.$props.placeholder },
      domProps: { value: _vm.data },
      on: {
        input: function($event) {
          if ($event.target.composing) {
            return
          }
          _vm.data = $event.target.value;
        }
      }
    })
  };
  var __vue_staticRenderFns__$E = [];
  __vue_render__$E._withStripped = true;

    /* style */
    const __vue_inject_styles__$K = undefined;
    /* scoped */
    const __vue_scope_id__$K = undefined;
    /* module identifier */
    const __vue_module_identifier__$K = undefined;
    /* functional template */
    const __vue_is_functional_template__$K = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$K = normalizeComponent(
      { render: __vue_render__$E, staticRenderFns: __vue_staticRenderFns__$E },
      __vue_inject_styles__$K,
      __vue_script__$K,
      __vue_scope_id__$K,
      __vue_is_functional_template__$K,
      __vue_module_identifier__$K,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgUrl = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$K
  });

  var script$K = Vue.mgComponent('mgVideo', {
    meta: {
      title: 'Video',
      icon: 'far fa-film',
      category: 'Media',
      preferId: true
    },
    props: {
      url: {
        type: 'mgUrl'
      },
      width: {
        type: 'mgText',
        "default": '100%'
      },
      height: {
        type: 'mgText',
        "default": '315px'
      },
      autoPlay: {
        type: 'mgToggle',
        "default": false
      },
      showControls: {
        type: 'mgToggle',
        "default": true
      },
      loop: {
        type: 'mgToggle',
        "default": false
      }
    },
    computed: {
      videoResource: function videoResource() {
        if (!this.$props.url) {
          return {
            type: 'none'
          };
        } else if (/^https?:\/\/(www\.)?youtube\.com/.test(this.$props.url)) {
          return {
            type: 'youTube',
            url: this.$props.url + "?autoplay=".concat(this.$props.autoPlay ? '1' : '0') + "&controls=".concat(this.$props.showControls ? '1' : '0') + "&loop=".concat(this.$props.loop ? '1' : '0')
          };
        } else {
          return {
            type: 'unknown'
          };
        }
      }
    }
  });

  /* script */
  const __vue_script__$L = script$K;

  /* template */
  var __vue_render__$F = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c(
      "div",
      {
        staticClass: "mg-video",
        style: { width: _vm.$props.width, height: _vm.$props.height }
      },
      [
        !_vm.videoResource || _vm.videoResource.type == "none"
          ? _c("div", { staticClass: "alert alert-warning" }, [
              _vm._v("\n\t\tNo video URL provided\n\t")
            ])
          : _vm.videoResource.type == "youTube"
          ? _c("iframe", {
              attrs: {
                width: "100%",
                height: "100%",
                src: _vm.videoResource.url,
                frameborder: "0",
                allow:
                  "accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",
                allowfullscreen: ""
              }
            })
          : _c("div", { staticClass: "alert alert-warning" }, [
              _vm._v("\n\t\tUnsupported video URL\n\t")
            ])
      ]
    )
  };
  var __vue_staticRenderFns__$F = [];
  __vue_render__$F._withStripped = true;

    /* style */
    const __vue_inject_styles__$L = function (inject) {
      if (!inject) return
      inject("data-v-046a7f3d_0", { source: "\n.mg-video .alert {\n\tdisplay: flex;\n\theight: 100%;\n\twidth: 100%;\n\tjustify-content: center;\n\talign-items: center;\n}\n", map: {"version":3,"sources":["/home/user/src/mfdc/MacGyver2/src/components/mgVideo.vue"],"names":[],"mappings":";AA+DA;CACA,aAAA;CACA,YAAA;CACA,WAAA;CACA,uBAAA;CACA,mBAAA;AACA","file":"mgVideo.vue","sourcesContent":["<script>\nexport default Vue.mgComponent('mgVideo', {\n\tmeta: {\n\t\ttitle: 'Video',\n\t\ticon: 'far fa-film',\n\t\tcategory: 'Media',\n\t\tpreferId: true,\n\t},\n\tprops: {\n\t\turl: {type: 'mgUrl'},\n\t\twidth: {type: 'mgText', default: '100%'},\n\t\theight: {type: 'mgText', default: '315px'},\n\t\tautoPlay: {type: 'mgToggle', default: false},\n\t\tshowControls: {type: 'mgToggle', default: true},\n\t\tloop: {type: 'mgToggle', default: false},\n\t},\n\tcomputed: {\n\t\tvideoResource() {\n\t\t\tif (!this.$props.url) {\n\t\t\t\treturn {type: 'none'};\n\t\t\t} else if (/^https?:\\/\\/(www\\.)?youtube\\.com/.test(this.$props.url)) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'youTube',\n\t\t\t\t\turl: this.$props.url\n\t\t\t\t\t\t+ `?autoplay=${this.$props.autoPlay ? '1' : '0'}`\n\t\t\t\t\t\t+ `&controls=${this.$props.showControls ? '1' : '0'}`\n\t\t\t\t\t\t+ `&loop=${this.$props.loop ? '1' : '0'}`\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn {type: 'unknown'};\n\t\t\t}\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div class=\"mg-video\" :style=\"{width: $props.width, height: $props.height}\">\n\t\t<div\n\t\t\tv-if=\"!videoResource || videoResource.type == 'none'\"\n\t\t\tclass=\"alert alert-warning\"\n\t\t>\n\t\t\tNo video URL provided\n\t\t</div>\n\t\t<iframe\n\t\t\tv-else-if=\"videoResource.type == 'youTube'\"\n\t\t\twidth=\"100%\"\n\t\t\theight=\"100%\"\n\t\t\t:src=\"videoResource.url\"\n\t\t\tframeborder=\"0\"\n\t\t\tallow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n\t\t\tallowfullscreen\n\t\t/>\n\t\t<div\n\t\t\tv-else\n\t\t\tclass=\"alert alert-warning\" \n\t\t>\n\t\t\tUnsupported video URL\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n.mg-video .alert {\n\tdisplay: flex;\n\theight: 100%;\n\twidth: 100%;\n\tjustify-content: center;\n\talign-items: center;\n}\n</style>\n"]}, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$L = undefined;
    /* module identifier */
    const __vue_module_identifier__$L = undefined;
    /* functional template */
    const __vue_is_functional_template__$L = false;
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$L = normalizeComponent(
      { render: __vue_render__$F, staticRenderFns: __vue_staticRenderFns__$F },
      __vue_inject_styles__$L,
      __vue_script__$L,
      __vue_scope_id__$L,
      __vue_is_functional_template__$L,
      __vue_module_identifier__$L,
      false,
      createInjector,
      undefined,
      undefined
    );

  var mgVideo = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$L
  });

  var quill = createCommonjsModule(function (module, exports) {
  /*!
   * Quill Editor v1.3.7
   * https://quilljs.com/
   * Copyright (c) 2014, Jason Chen
   * Copyright (c) 2013, salesforce.com
   */
  (function webpackUniversalModuleDefinition(root, factory) {
  	module.exports = factory();
  })(typeof self !== 'undefined' ? self : commonjsGlobal, function() {
  return /******/ (function(modules) { // webpackBootstrap
  /******/ 	// The module cache
  /******/ 	var installedModules = {};
  /******/
  /******/ 	// The require function
  /******/ 	function __webpack_require__(moduleId) {
  /******/
  /******/ 		// Check if module is in cache
  /******/ 		if(installedModules[moduleId]) {
  /******/ 			return installedModules[moduleId].exports;
  /******/ 		}
  /******/ 		// Create a new module (and put it into the cache)
  /******/ 		var module = installedModules[moduleId] = {
  /******/ 			i: moduleId,
  /******/ 			l: false,
  /******/ 			exports: {}
  /******/ 		};
  /******/
  /******/ 		// Execute the module function
  /******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
  /******/
  /******/ 		// Flag the module as loaded
  /******/ 		module.l = true;
  /******/
  /******/ 		// Return the exports of the module
  /******/ 		return module.exports;
  /******/ 	}
  /******/
  /******/
  /******/ 	// expose the modules object (__webpack_modules__)
  /******/ 	__webpack_require__.m = modules;
  /******/
  /******/ 	// expose the module cache
  /******/ 	__webpack_require__.c = installedModules;
  /******/
  /******/ 	// define getter function for harmony exports
  /******/ 	__webpack_require__.d = function(exports, name, getter) {
  /******/ 		if(!__webpack_require__.o(exports, name)) {
  /******/ 			Object.defineProperty(exports, name, {
  /******/ 				configurable: false,
  /******/ 				enumerable: true,
  /******/ 				get: getter
  /******/ 			});
  /******/ 		}
  /******/ 	};
  /******/
  /******/ 	// getDefaultExport function for compatibility with non-harmony modules
  /******/ 	__webpack_require__.n = function(module) {
  /******/ 		var getter = module && module.__esModule ?
  /******/ 			function getDefault() { return module['default']; } :
  /******/ 			function getModuleExports() { return module; };
  /******/ 		__webpack_require__.d(getter, 'a', getter);
  /******/ 		return getter;
  /******/ 	};
  /******/
  /******/ 	// Object.prototype.hasOwnProperty.call
  /******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
  /******/
  /******/ 	// __webpack_public_path__
  /******/ 	__webpack_require__.p = "";
  /******/
  /******/ 	// Load entry module and return exports
  /******/ 	return __webpack_require__(__webpack_require__.s = 109);
  /******/ })
  /************************************************************************/
  /******/ ([
  /* 0 */
  /***/ (function(module, exports, __webpack_require__) {

  Object.defineProperty(exports, "__esModule", { value: true });
  var container_1 = __webpack_require__(17);
  var format_1 = __webpack_require__(18);
  var leaf_1 = __webpack_require__(19);
  var scroll_1 = __webpack_require__(45);
  var inline_1 = __webpack_require__(46);
  var block_1 = __webpack_require__(47);
  var embed_1 = __webpack_require__(48);
  var text_1 = __webpack_require__(49);
  var attributor_1 = __webpack_require__(12);
  var class_1 = __webpack_require__(32);
  var style_1 = __webpack_require__(33);
  var store_1 = __webpack_require__(31);
  var Registry = __webpack_require__(1);
  var Parchment = {
      Scope: Registry.Scope,
      create: Registry.create,
      find: Registry.find,
      query: Registry.query,
      register: Registry.register,
      Container: container_1.default,
      Format: format_1.default,
      Leaf: leaf_1.default,
      Embed: embed_1.default,
      Scroll: scroll_1.default,
      Block: block_1.default,
      Inline: inline_1.default,
      Text: text_1.default,
      Attributor: {
          Attribute: attributor_1.default,
          Class: class_1.default,
          Style: style_1.default,
          Store: store_1.default,
      },
  };
  exports.default = Parchment;


  /***/ }),
  /* 1 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var ParchmentError = /** @class */ (function (_super) {
      __extends(ParchmentError, _super);
      function ParchmentError(message) {
          var _this = this;
          message = '[Parchment] ' + message;
          _this = _super.call(this, message) || this;
          _this.message = message;
          _this.name = _this.constructor.name;
          return _this;
      }
      return ParchmentError;
  }(Error));
  exports.ParchmentError = ParchmentError;
  var attributes = {};
  var classes = {};
  var tags = {};
  var types = {};
  exports.DATA_KEY = '__blot';
  var Scope;
  (function (Scope) {
      Scope[Scope["TYPE"] = 3] = "TYPE";
      Scope[Scope["LEVEL"] = 12] = "LEVEL";
      Scope[Scope["ATTRIBUTE"] = 13] = "ATTRIBUTE";
      Scope[Scope["BLOT"] = 14] = "BLOT";
      Scope[Scope["INLINE"] = 7] = "INLINE";
      Scope[Scope["BLOCK"] = 11] = "BLOCK";
      Scope[Scope["BLOCK_BLOT"] = 10] = "BLOCK_BLOT";
      Scope[Scope["INLINE_BLOT"] = 6] = "INLINE_BLOT";
      Scope[Scope["BLOCK_ATTRIBUTE"] = 9] = "BLOCK_ATTRIBUTE";
      Scope[Scope["INLINE_ATTRIBUTE"] = 5] = "INLINE_ATTRIBUTE";
      Scope[Scope["ANY"] = 15] = "ANY";
  })(Scope = exports.Scope || (exports.Scope = {}));
  function create(input, value) {
      var match = query(input);
      if (match == null) {
          throw new ParchmentError("Unable to create " + input + " blot");
      }
      var BlotClass = match;
      var node = 
      // @ts-ignore
      input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);
      return new BlotClass(node, value);
  }
  exports.create = create;
  function find(node, bubble) {
      if (bubble === void 0) { bubble = false; }
      if (node == null)
          return null;
      // @ts-ignore
      if (node[exports.DATA_KEY] != null)
          return node[exports.DATA_KEY].blot;
      if (bubble)
          return find(node.parentNode, bubble);
      return null;
  }
  exports.find = find;
  function query(query, scope) {
      if (scope === void 0) { scope = Scope.ANY; }
      var match;
      if (typeof query === 'string') {
          match = types[query] || attributes[query];
          // @ts-ignore
      }
      else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {
          match = types['text'];
      }
      else if (typeof query === 'number') {
          if (query & Scope.LEVEL & Scope.BLOCK) {
              match = types['block'];
          }
          else if (query & Scope.LEVEL & Scope.INLINE) {
              match = types['inline'];
          }
      }
      else if (query instanceof HTMLElement) {
          var names = (query.getAttribute('class') || '').split(/\s+/);
          for (var i in names) {
              match = classes[names[i]];
              if (match)
                  break;
          }
          match = match || tags[query.tagName];
      }
      if (match == null)
          return null;
      // @ts-ignore
      if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)
          return match;
      return null;
  }
  exports.query = query;
  function register() {
      var Definitions = [];
      for (var _i = 0; _i < arguments.length; _i++) {
          Definitions[_i] = arguments[_i];
      }
      if (Definitions.length > 1) {
          return Definitions.map(function (d) {
              return register(d);
          });
      }
      var Definition = Definitions[0];
      if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {
          throw new ParchmentError('Invalid definition');
      }
      else if (Definition.blotName === 'abstract') {
          throw new ParchmentError('Cannot register abstract class');
      }
      types[Definition.blotName || Definition.attrName] = Definition;
      if (typeof Definition.keyName === 'string') {
          attributes[Definition.keyName] = Definition;
      }
      else {
          if (Definition.className != null) {
              classes[Definition.className] = Definition;
          }
          if (Definition.tagName != null) {
              if (Array.isArray(Definition.tagName)) {
                  Definition.tagName = Definition.tagName.map(function (tagName) {
                      return tagName.toUpperCase();
                  });
              }
              else {
                  Definition.tagName = Definition.tagName.toUpperCase();
              }
              var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];
              tagNames.forEach(function (tag) {
                  if (tags[tag] == null || Definition.className == null) {
                      tags[tag] = Definition;
                  }
              });
          }
      }
      return Definition;
  }
  exports.register = register;


  /***/ }),
  /* 2 */
  /***/ (function(module, exports, __webpack_require__) {

  var diff = __webpack_require__(51);
  var equal = __webpack_require__(11);
  var extend = __webpack_require__(3);
  var op = __webpack_require__(20);


  var NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()


  var Delta = function (ops) {
    // Assume we are given a well formed ops
    if (Array.isArray(ops)) {
      this.ops = ops;
    } else if (ops != null && Array.isArray(ops.ops)) {
      this.ops = ops.ops;
    } else {
      this.ops = [];
    }
  };


  Delta.prototype.insert = function (text, attributes) {
    var newOp = {};
    if (text.length === 0) return this;
    newOp.insert = text;
    if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {
      newOp.attributes = attributes;
    }
    return this.push(newOp);
  };

  Delta.prototype['delete'] = function (length) {
    if (length <= 0) return this;
    return this.push({ 'delete': length });
  };

  Delta.prototype.retain = function (length, attributes) {
    if (length <= 0) return this;
    var newOp = { retain: length };
    if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {
      newOp.attributes = attributes;
    }
    return this.push(newOp);
  };

  Delta.prototype.push = function (newOp) {
    var index = this.ops.length;
    var lastOp = this.ops[index - 1];
    newOp = extend(true, {}, newOp);
    if (typeof lastOp === 'object') {
      if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {
        this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };
        return this;
      }
      // Since it does not matter if we insert before or after deleting at the same index,
      // always prefer to insert first
      if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {
        index -= 1;
        lastOp = this.ops[index - 1];
        if (typeof lastOp !== 'object') {
          this.ops.unshift(newOp);
          return this;
        }
      }
      if (equal(newOp.attributes, lastOp.attributes)) {
        if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {
          this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };
          if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes;
          return this;
        } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {
          this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };
          if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes;
          return this;
        }
      }
    }
    if (index === this.ops.length) {
      this.ops.push(newOp);
    } else {
      this.ops.splice(index, 0, newOp);
    }
    return this;
  };

  Delta.prototype.chop = function () {
    var lastOp = this.ops[this.ops.length - 1];
    if (lastOp && lastOp.retain && !lastOp.attributes) {
      this.ops.pop();
    }
    return this;
  };

  Delta.prototype.filter = function (predicate) {
    return this.ops.filter(predicate);
  };

  Delta.prototype.forEach = function (predicate) {
    this.ops.forEach(predicate);
  };

  Delta.prototype.map = function (predicate) {
    return this.ops.map(predicate);
  };

  Delta.prototype.partition = function (predicate) {
    var passed = [], failed = [];
    this.forEach(function(op) {
      var target = predicate(op) ? passed : failed;
      target.push(op);
    });
    return [passed, failed];
  };

  Delta.prototype.reduce = function (predicate, initial) {
    return this.ops.reduce(predicate, initial);
  };

  Delta.prototype.changeLength = function () {
    return this.reduce(function (length, elem) {
      if (elem.insert) {
        return length + op.length(elem);
      } else if (elem.delete) {
        return length - elem.delete;
      }
      return length;
    }, 0);
  };

  Delta.prototype.length = function () {
    return this.reduce(function (length, elem) {
      return length + op.length(elem);
    }, 0);
  };

  Delta.prototype.slice = function (start, end) {
    start = start || 0;
    if (typeof end !== 'number') end = Infinity;
    var ops = [];
    var iter = op.iterator(this.ops);
    var index = 0;
    while (index < end && iter.hasNext()) {
      var nextOp;
      if (index < start) {
        nextOp = iter.next(start - index);
      } else {
        nextOp = iter.next(end - index);
        ops.push(nextOp);
      }
      index += op.length(nextOp);
    }
    return new Delta(ops);
  };


  Delta.prototype.compose = function (other) {
    var thisIter = op.iterator(this.ops);
    var otherIter = op.iterator(other.ops);
    var ops = [];
    var firstOther = otherIter.peek();
    if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {
      var firstLeft = firstOther.retain;
      while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {
        firstLeft -= thisIter.peekLength();
        ops.push(thisIter.next());
      }
      if (firstOther.retain - firstLeft > 0) {
        otherIter.next(firstOther.retain - firstLeft);
      }
    }
    var delta = new Delta(ops);
    while (thisIter.hasNext() || otherIter.hasNext()) {
      if (otherIter.peekType() === 'insert') {
        delta.push(otherIter.next());
      } else if (thisIter.peekType() === 'delete') {
        delta.push(thisIter.next());
      } else {
        var length = Math.min(thisIter.peekLength(), otherIter.peekLength());
        var thisOp = thisIter.next(length);
        var otherOp = otherIter.next(length);
        if (typeof otherOp.retain === 'number') {
          var newOp = {};
          if (typeof thisOp.retain === 'number') {
            newOp.retain = length;
          } else {
            newOp.insert = thisOp.insert;
          }
          // Preserve null when composing with a retain, otherwise remove it for inserts
          var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');
          if (attributes) newOp.attributes = attributes;
          delta.push(newOp);

          // Optimization if rest of other is just retain
          if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {
            var rest = new Delta(thisIter.rest());
            return delta.concat(rest).chop();
          }

        // Other op should be delete, we could be an insert or retain
        // Insert + delete cancels out
        } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {
          delta.push(otherOp);
        }
      }
    }
    return delta.chop();
  };

  Delta.prototype.concat = function (other) {
    var delta = new Delta(this.ops.slice());
    if (other.ops.length > 0) {
      delta.push(other.ops[0]);
      delta.ops = delta.ops.concat(other.ops.slice(1));
    }
    return delta;
  };

  Delta.prototype.diff = function (other, index) {
    if (this.ops === other.ops) {
      return new Delta();
    }
    var strings = [this, other].map(function (delta) {
      return delta.map(function (op) {
        if (op.insert != null) {
          return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;
        }
        var prep = (delta === other) ? 'on' : 'with';
        throw new Error('diff() called ' + prep + ' non-document');
      }).join('');
    });
    var delta = new Delta();
    var diffResult = diff(strings[0], strings[1], index);
    var thisIter = op.iterator(this.ops);
    var otherIter = op.iterator(other.ops);
    diffResult.forEach(function (component) {
      var length = component[1].length;
      while (length > 0) {
        var opLength = 0;
        switch (component[0]) {
          case diff.INSERT:
            opLength = Math.min(otherIter.peekLength(), length);
            delta.push(otherIter.next(opLength));
            break;
          case diff.DELETE:
            opLength = Math.min(length, thisIter.peekLength());
            thisIter.next(opLength);
            delta['delete'](opLength);
            break;
          case diff.EQUAL:
            opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);
            var thisOp = thisIter.next(opLength);
            var otherOp = otherIter.next(opLength);
            if (equal(thisOp.insert, otherOp.insert)) {
              delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));
            } else {
              delta.push(otherOp)['delete'](opLength);
            }
            break;
        }
        length -= opLength;
      }
    });
    return delta.chop();
  };

  Delta.prototype.eachLine = function (predicate, newline) {
    newline = newline || '\n';
    var iter = op.iterator(this.ops);
    var line = new Delta();
    var i = 0;
    while (iter.hasNext()) {
      if (iter.peekType() !== 'insert') return;
      var thisOp = iter.peek();
      var start = op.length(thisOp) - iter.peekLength();
      var index = typeof thisOp.insert === 'string' ?
        thisOp.insert.indexOf(newline, start) - start : -1;
      if (index < 0) {
        line.push(iter.next());
      } else if (index > 0) {
        line.push(iter.next(index));
      } else {
        if (predicate(line, iter.next(1).attributes || {}, i) === false) {
          return;
        }
        i += 1;
        line = new Delta();
      }
    }
    if (line.length() > 0) {
      predicate(line, {}, i);
    }
  };

  Delta.prototype.transform = function (other, priority) {
    priority = !!priority;
    if (typeof other === 'number') {
      return this.transformPosition(other, priority);
    }
    var thisIter = op.iterator(this.ops);
    var otherIter = op.iterator(other.ops);
    var delta = new Delta();
    while (thisIter.hasNext() || otherIter.hasNext()) {
      if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {
        delta.retain(op.length(thisIter.next()));
      } else if (otherIter.peekType() === 'insert') {
        delta.push(otherIter.next());
      } else {
        var length = Math.min(thisIter.peekLength(), otherIter.peekLength());
        var thisOp = thisIter.next(length);
        var otherOp = otherIter.next(length);
        if (thisOp['delete']) {
          // Our delete either makes their delete redundant or removes their retain
          continue;
        } else if (otherOp['delete']) {
          delta.push(otherOp);
        } else {
          // We retain either their retain or insert
          delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));
        }
      }
    }
    return delta.chop();
  };

  Delta.prototype.transformPosition = function (index, priority) {
    priority = !!priority;
    var thisIter = op.iterator(this.ops);
    var offset = 0;
    while (thisIter.hasNext() && offset <= index) {
      var length = thisIter.peekLength();
      var nextType = thisIter.peekType();
      thisIter.next();
      if (nextType === 'delete') {
        index -= Math.min(length, index - offset);
        continue;
      } else if (nextType === 'insert' && (offset < index || !priority)) {
        index += length;
      }
      offset += length;
    }
    return index;
  };


  module.exports = Delta;


  /***/ }),
  /* 3 */
  /***/ (function(module, exports) {

  var hasOwn = Object.prototype.hasOwnProperty;
  var toStr = Object.prototype.toString;
  var defineProperty = Object.defineProperty;
  var gOPD = Object.getOwnPropertyDescriptor;

  var isArray = function isArray(arr) {
  	if (typeof Array.isArray === 'function') {
  		return Array.isArray(arr);
  	}

  	return toStr.call(arr) === '[object Array]';
  };

  var isPlainObject = function isPlainObject(obj) {
  	if (!obj || toStr.call(obj) !== '[object Object]') {
  		return false;
  	}

  	var hasOwnConstructor = hasOwn.call(obj, 'constructor');
  	var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');
  	// Not own constructor property must be Object
  	if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {
  		return false;
  	}

  	// Own properties are enumerated firstly, so to speed up,
  	// if last one is own, then all properties are own.
  	var key;
  	for (key in obj) { /**/ }

  	return typeof key === 'undefined' || hasOwn.call(obj, key);
  };

  // If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target
  var setProperty = function setProperty(target, options) {
  	if (defineProperty && options.name === '__proto__') {
  		defineProperty(target, options.name, {
  			enumerable: true,
  			configurable: true,
  			value: options.newValue,
  			writable: true
  		});
  	} else {
  		target[options.name] = options.newValue;
  	}
  };

  // Return undefined instead of __proto__ if '__proto__' is not an own property
  var getProperty = function getProperty(obj, name) {
  	if (name === '__proto__') {
  		if (!hasOwn.call(obj, name)) {
  			return void 0;
  		} else if (gOPD) {
  			// In early versions of node, obj['__proto__'] is buggy when obj has
  			// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.
  			return gOPD(obj, name).value;
  		}
  	}

  	return obj[name];
  };

  module.exports = function extend() {
  	var options, name, src, copy, copyIsArray, clone;
  	var target = arguments[0];
  	var i = 1;
  	var length = arguments.length;
  	var deep = false;

  	// Handle a deep copy situation
  	if (typeof target === 'boolean') {
  		deep = target;
  		target = arguments[1] || {};
  		// skip the boolean and the target
  		i = 2;
  	}
  	if (target == null || (typeof target !== 'object' && typeof target !== 'function')) {
  		target = {};
  	}

  	for (; i < length; ++i) {
  		options = arguments[i];
  		// Only deal with non-null/undefined values
  		if (options != null) {
  			// Extend the base object
  			for (name in options) {
  				src = getProperty(target, name);
  				copy = getProperty(options, name);

  				// Prevent never-ending loop
  				if (target !== copy) {
  					// Recurse if we're merging plain objects or arrays
  					if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {
  						if (copyIsArray) {
  							copyIsArray = false;
  							clone = src && isArray(src) ? src : [];
  						} else {
  							clone = src && isPlainObject(src) ? src : {};
  						}

  						// Never move original objects, clone them
  						setProperty(target, { name: name, newValue: extend(deep, clone, copy) });

  					// Don't bring in undefined values
  					} else if (typeof copy !== 'undefined') {
  						setProperty(target, { name: name, newValue: copy });
  					}
  				}
  			}
  		}
  	}

  	// Return the modified object
  	return target;
  };


  /***/ }),
  /* 4 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _extend = __webpack_require__(3);

  var _extend2 = _interopRequireDefault(_extend);

  var _quillDelta = __webpack_require__(2);

  var _quillDelta2 = _interopRequireDefault(_quillDelta);

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _break = __webpack_require__(16);

  var _break2 = _interopRequireDefault(_break);

  var _inline = __webpack_require__(6);

  var _inline2 = _interopRequireDefault(_inline);

  var _text = __webpack_require__(7);

  var _text2 = _interopRequireDefault(_text);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var NEWLINE_LENGTH = 1;

  var BlockEmbed = function (_Parchment$Embed) {
    _inherits(BlockEmbed, _Parchment$Embed);

    function BlockEmbed() {
      _classCallCheck(this, BlockEmbed);

      return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));
    }

    _createClass(BlockEmbed, [{
      key: 'attach',
      value: function attach() {
        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);
        this.attributes = new _parchment2.default.Attributor.Store(this.domNode);
      }
    }, {
      key: 'delta',
      value: function delta() {
        return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));
      }
    }, {
      key: 'format',
      value: function format(name, value) {
        var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);
        if (attribute != null) {
          this.attributes.attribute(attribute, value);
        }
      }
    }, {
      key: 'formatAt',
      value: function formatAt(index, length, name, value) {
        this.format(name, value);
      }
    }, {
      key: 'insertAt',
      value: function insertAt(index, value, def) {
        if (typeof value === 'string' && value.endsWith('\n')) {
          var block = _parchment2.default.create(Block.blotName);
          this.parent.insertBefore(block, index === 0 ? this : this.next);
          block.insertAt(0, value.slice(0, -1));
        } else {
          _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);
        }
      }
    }]);

    return BlockEmbed;
  }(_parchment2.default.Embed);

  BlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;
  // It is important for cursor behavior BlockEmbeds use tags that are block level elements


  var Block = function (_Parchment$Block) {
    _inherits(Block, _Parchment$Block);

    function Block(domNode) {
      _classCallCheck(this, Block);

      var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));

      _this2.cache = {};
      return _this2;
    }

    _createClass(Block, [{
      key: 'delta',
      value: function delta() {
        if (this.cache.delta == null) {
          this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {
            if (leaf.length() === 0) {
              return delta;
            } else {
              return delta.insert(leaf.value(), bubbleFormats(leaf));
            }
          }, new _quillDelta2.default()).insert('\n', bubbleFormats(this));
        }
        return this.cache.delta;
      }
    }, {
      key: 'deleteAt',
      value: function deleteAt(index, length) {
        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);
        this.cache = {};
      }
    }, {
      key: 'formatAt',
      value: function formatAt(index, length, name, value) {
        if (length <= 0) return;
        if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {
          if (index + length === this.length()) {
            this.format(name, value);
          }
        } else {
          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);
        }
        this.cache = {};
      }
    }, {
      key: 'insertAt',
      value: function insertAt(index, value, def) {
        if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);
        if (value.length === 0) return;
        var lines = value.split('\n');
        var text = lines.shift();
        if (text.length > 0) {
          if (index < this.length() - 1 || this.children.tail == null) {
            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);
          } else {
            this.children.tail.insertAt(this.children.tail.length(), text);
          }
          this.cache = {};
        }
        var block = this;
        lines.reduce(function (index, line) {
          block = block.split(index, true);
          block.insertAt(0, line);
          return line.length;
        }, index + text.length);
      }
    }, {
      key: 'insertBefore',
      value: function insertBefore(blot, ref) {
        var head = this.children.head;
        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);
        if (head instanceof _break2.default) {
          head.remove();
        }
        this.cache = {};
      }
    }, {
      key: 'length',
      value: function length() {
        if (this.cache.length == null) {
          this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;
        }
        return this.cache.length;
      }
    }, {
      key: 'moveChildren',
      value: function moveChildren(target, ref) {
        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);
        this.cache = {};
      }
    }, {
      key: 'optimize',
      value: function optimize(context) {
        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);
        this.cache = {};
      }
    }, {
      key: 'path',
      value: function path(index) {
        return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);
      }
    }, {
      key: 'removeChild',
      value: function removeChild(child) {
        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);
        this.cache = {};
      }
    }, {
      key: 'split',
      value: function split(index) {
        var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

        if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {
          var clone = this.clone();
          if (index === 0) {
            this.parent.insertBefore(clone, this);
            return this;
          } else {
            this.parent.insertBefore(clone, this.next);
            return clone;
          }
        } else {
          var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);
          this.cache = {};
          return next;
        }
      }
    }]);

    return Block;
  }(_parchment2.default.Block);

  Block.blotName = 'block';
  Block.tagName = 'P';
  Block.defaultChild = 'break';
  Block.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];

  function bubbleFormats(blot) {
    var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    if (blot == null) return formats;
    if (typeof blot.formats === 'function') {
      formats = (0, _extend2.default)(formats, blot.formats());
    }
    if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {
      return formats;
    }
    return bubbleFormats(blot.parent, formats);
  }

  exports.bubbleFormats = bubbleFormats;
  exports.BlockEmbed = BlockEmbed;
  exports.default = Block;

  /***/ }),
  /* 5 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.overload = exports.expandConfig = undefined;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  __webpack_require__(50);

  var _quillDelta = __webpack_require__(2);

  var _quillDelta2 = _interopRequireDefault(_quillDelta);

  var _editor = __webpack_require__(14);

  var _editor2 = _interopRequireDefault(_editor);

  var _emitter3 = __webpack_require__(8);

  var _emitter4 = _interopRequireDefault(_emitter3);

  var _module = __webpack_require__(9);

  var _module2 = _interopRequireDefault(_module);

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _selection = __webpack_require__(15);

  var _selection2 = _interopRequireDefault(_selection);

  var _extend = __webpack_require__(3);

  var _extend2 = _interopRequireDefault(_extend);

  var _logger = __webpack_require__(10);

  var _logger2 = _interopRequireDefault(_logger);

  var _theme = __webpack_require__(34);

  var _theme2 = _interopRequireDefault(_theme);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  var debug = (0, _logger2.default)('quill');

  var Quill = function () {
    _createClass(Quill, null, [{
      key: 'debug',
      value: function debug(limit) {
        if (limit === true) {
          limit = 'log';
        }
        _logger2.default.level(limit);
      }
    }, {
      key: 'find',
      value: function find(node) {
        return node.__quill || _parchment2.default.find(node);
      }
    }, {
      key: 'import',
      value: function _import(name) {
        if (this.imports[name] == null) {
          debug.error('Cannot import ' + name + '. Are you sure it was registered?');
        }
        return this.imports[name];
      }
    }, {
      key: 'register',
      value: function register(path, target) {
        var _this = this;

        var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

        if (typeof path !== 'string') {
          var name = path.attrName || path.blotName;
          if (typeof name === 'string') {
            // register(Blot | Attributor, overwrite)
            this.register('formats/' + name, path, target);
          } else {
            Object.keys(path).forEach(function (key) {
              _this.register(key, path[key], target);
            });
          }
        } else {
          if (this.imports[path] != null && !overwrite) {
            debug.warn('Overwriting ' + path + ' with', target);
          }
          this.imports[path] = target;
          if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {
            _parchment2.default.register(target);
          } else if (path.startsWith('modules') && typeof target.register === 'function') {
            target.register();
          }
        }
      }
    }]);

    function Quill(container) {
      var _this2 = this;

      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      _classCallCheck(this, Quill);

      this.options = expandConfig(container, options);
      this.container = this.options.container;
      if (this.container == null) {
        return debug.error('Invalid Quill container', container);
      }
      if (this.options.debug) {
        Quill.debug(this.options.debug);
      }
      var html = this.container.innerHTML.trim();
      this.container.classList.add('ql-container');
      this.container.innerHTML = '';
      this.container.__quill = this;
      this.root = this.addContainer('ql-editor');
      this.root.classList.add('ql-blank');
      this.root.setAttribute('data-gramm', false);
      this.scrollingContainer = this.options.scrollingContainer || this.root;
      this.emitter = new _emitter4.default();
      this.scroll = _parchment2.default.create(this.root, {
        emitter: this.emitter,
        whitelist: this.options.formats
      });
      this.editor = new _editor2.default(this.scroll);
      this.selection = new _selection2.default(this.scroll, this.emitter);
      this.theme = new this.options.theme(this, this.options);
      this.keyboard = this.theme.addModule('keyboard');
      this.clipboard = this.theme.addModule('clipboard');
      this.history = this.theme.addModule('history');
      this.theme.init();
      this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {
        if (type === _emitter4.default.events.TEXT_CHANGE) {
          _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());
        }
      });
      this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {
        var range = _this2.selection.lastRange;
        var index = range && range.length === 0 ? range.index : undefined;
        modify.call(_this2, function () {
          return _this2.editor.update(null, mutations, index);
        }, source);
      });
      var contents = this.clipboard.convert('<div class=\'ql-editor\' style="white-space: normal;">' + html + '<p><br></p></div>');
      this.setContents(contents);
      this.history.clear();
      if (this.options.placeholder) {
        this.root.setAttribute('data-placeholder', this.options.placeholder);
      }
      if (this.options.readOnly) {
        this.disable();
      }
    }

    _createClass(Quill, [{
      key: 'addContainer',
      value: function addContainer(container) {
        var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

        if (typeof container === 'string') {
          var className = container;
          container = document.createElement('div');
          container.classList.add(className);
        }
        this.container.insertBefore(container, refNode);
        return container;
      }
    }, {
      key: 'blur',
      value: function blur() {
        this.selection.setRange(null);
      }
    }, {
      key: 'deleteText',
      value: function deleteText(index, length, source) {
        var _this3 = this;

        var _overload = overload(index, length, source);

        var _overload2 = _slicedToArray(_overload, 4);

        index = _overload2[0];
        length = _overload2[1];
        source = _overload2[3];

        return modify.call(this, function () {
          return _this3.editor.deleteText(index, length);
        }, source, index, -1 * length);
      }
    }, {
      key: 'disable',
      value: function disable() {
        this.enable(false);
      }
    }, {
      key: 'enable',
      value: function enable() {
        var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

        this.scroll.enable(enabled);
        this.container.classList.toggle('ql-disabled', !enabled);
      }
    }, {
      key: 'focus',
      value: function focus() {
        var scrollTop = this.scrollingContainer.scrollTop;
        this.selection.focus();
        this.scrollingContainer.scrollTop = scrollTop;
        this.scrollIntoView();
      }
    }, {
      key: 'format',
      value: function format(name, value) {
        var _this4 = this;

        var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;

        return modify.call(this, function () {
          var range = _this4.getSelection(true);
          var change = new _quillDelta2.default();
          if (range == null) {
            return change;
          } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {
            change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));
          } else if (range.length === 0) {
            _this4.selection.format(name, value);
            return change;
          } else {
            change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));
          }
          _this4.setSelection(range, _emitter4.default.sources.SILENT);
          return change;
        }, source);
      }
    }, {
      key: 'formatLine',
      value: function formatLine(index, length, name, value, source) {
        var _this5 = this;

        var formats = void 0;

        var _overload3 = overload(index, length, name, value, source);

        var _overload4 = _slicedToArray(_overload3, 4);

        index = _overload4[0];
        length = _overload4[1];
        formats = _overload4[2];
        source = _overload4[3];

        return modify.call(this, function () {
          return _this5.editor.formatLine(index, length, formats);
        }, source, index, 0);
      }
    }, {
      key: 'formatText',
      value: function formatText(index, length, name, value, source) {
        var _this6 = this;

        var formats = void 0;

        var _overload5 = overload(index, length, name, value, source);

        var _overload6 = _slicedToArray(_overload5, 4);

        index = _overload6[0];
        length = _overload6[1];
        formats = _overload6[2];
        source = _overload6[3];

        return modify.call(this, function () {
          return _this6.editor.formatText(index, length, formats);
        }, source, index, 0);
      }
    }, {
      key: 'getBounds',
      value: function getBounds(index) {
        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

        var bounds = void 0;
        if (typeof index === 'number') {
          bounds = this.selection.getBounds(index, length);
        } else {
          bounds = this.selection.getBounds(index.index, index.length);
        }
        var containerBounds = this.container.getBoundingClientRect();
        return {
          bottom: bounds.bottom - containerBounds.top,
          height: bounds.height,
          left: bounds.left - containerBounds.left,
          right: bounds.right - containerBounds.left,
          top: bounds.top - containerBounds.top,
          width: bounds.width
        };
      }
    }, {
      key: 'getContents',
      value: function getContents() {
        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;

        var _overload7 = overload(index, length);

        var _overload8 = _slicedToArray(_overload7, 2);

        index = _overload8[0];
        length = _overload8[1];

        return this.editor.getContents(index, length);
      }
    }, {
      key: 'getFormat',
      value: function getFormat() {
        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);
        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

        if (typeof index === 'number') {
          return this.editor.getFormat(index, length);
        } else {
          return this.editor.getFormat(index.index, index.length);
        }
      }
    }, {
      key: 'getIndex',
      value: function getIndex(blot) {
        return blot.offset(this.scroll);
      }
    }, {
      key: 'getLength',
      value: function getLength() {
        return this.scroll.length();
      }
    }, {
      key: 'getLeaf',
      value: function getLeaf(index) {
        return this.scroll.leaf(index);
      }
    }, {
      key: 'getLine',
      value: function getLine(index) {
        return this.scroll.line(index);
      }
    }, {
      key: 'getLines',
      value: function getLines() {
        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;

        if (typeof index !== 'number') {
          return this.scroll.lines(index.index, index.length);
        } else {
          return this.scroll.lines(index, length);
        }
      }
    }, {
      key: 'getModule',
      value: function getModule(name) {
        return this.theme.modules[name];
      }
    }, {
      key: 'getSelection',
      value: function getSelection() {
        var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

        if (focus) this.focus();
        this.update(); // Make sure we access getRange with editor in consistent state
        return this.selection.getRange()[0];
      }
    }, {
      key: 'getText',
      value: function getText() {
        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;

        var _overload9 = overload(index, length);

        var _overload10 = _slicedToArray(_overload9, 2);

        index = _overload10[0];
        length = _overload10[1];

        return this.editor.getText(index, length);
      }
    }, {
      key: 'hasFocus',
      value: function hasFocus() {
        return this.selection.hasFocus();
      }
    }, {
      key: 'insertEmbed',
      value: function insertEmbed(index, embed, value) {
        var _this7 = this;

        var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;

        return modify.call(this, function () {
          return _this7.editor.insertEmbed(index, embed, value);
        }, source, index);
      }
    }, {
      key: 'insertText',
      value: function insertText(index, text, name, value, source) {
        var _this8 = this;

        var formats = void 0;

        var _overload11 = overload(index, 0, name, value, source);

        var _overload12 = _slicedToArray(_overload11, 4);

        index = _overload12[0];
        formats = _overload12[2];
        source = _overload12[3];

        return modify.call(this, function () {
          return _this8.editor.insertText(index, text, formats);
        }, source, index, text.length);
      }
    }, {
      key: 'isEnabled',
      value: function isEnabled() {
        return !this.container.classList.contains('ql-disabled');
      }
    }, {
      key: 'off',
      value: function off() {
        return this.emitter.off.apply(this.emitter, arguments);
      }
    }, {
      key: 'on',
      value: function on() {
        return this.emitter.on.apply(this.emitter, arguments);
      }
    }, {
      key: 'once',
      value: function once() {
        return this.emitter.once.apply(this.emitter, arguments);
      }
    }, {
      key: 'pasteHTML',
      value: function pasteHTML(index, html, source) {
        this.clipboard.dangerouslyPasteHTML(index, html, source);
      }
    }, {
      key: 'removeFormat',
      value: function removeFormat(index, length, source) {
        var _this9 = this;

        var _overload13 = overload(index, length, source);

        var _overload14 = _slicedToArray(_overload13, 4);

        index = _overload14[0];
        length = _overload14[1];
        source = _overload14[3];

        return modify.call(this, function () {
          return _this9.editor.removeFormat(index, length);
        }, source, index);
      }
    }, {
      key: 'scrollIntoView',
      value: function scrollIntoView() {
        this.selection.scrollIntoView(this.scrollingContainer);
      }
    }, {
      key: 'setContents',
      value: function setContents(delta) {
        var _this10 = this;

        var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;

        return modify.call(this, function () {
          delta = new _quillDelta2.default(delta);
          var length = _this10.getLength();
          var deleted = _this10.editor.deleteText(0, length);
          var applied = _this10.editor.applyDelta(delta);
          var lastOp = applied.ops[applied.ops.length - 1];
          if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\n') {
            _this10.editor.deleteText(_this10.getLength() - 1, 1);
            applied.delete(1);
          }
          var ret = deleted.compose(applied);
          return ret;
        }, source);
      }
    }, {
      key: 'setSelection',
      value: function setSelection(index, length, source) {
        if (index == null) {
          this.selection.setRange(null, length || Quill.sources.API);
        } else {
          var _overload15 = overload(index, length, source);

          var _overload16 = _slicedToArray(_overload15, 4);

          index = _overload16[0];
          length = _overload16[1];
          source = _overload16[3];

          this.selection.setRange(new _selection.Range(index, length), source);
          if (source !== _emitter4.default.sources.SILENT) {
            this.selection.scrollIntoView(this.scrollingContainer);
          }
        }
      }
    }, {
      key: 'setText',
      value: function setText(text) {
        var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;

        var delta = new _quillDelta2.default().insert(text);
        return this.setContents(delta, source);
      }
    }, {
      key: 'update',
      value: function update() {
        var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;

        var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes
        this.selection.update(source);
        return change;
      }
    }, {
      key: 'updateContents',
      value: function updateContents(delta) {
        var _this11 = this;

        var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;

        return modify.call(this, function () {
          delta = new _quillDelta2.default(delta);
          return _this11.editor.applyDelta(delta, source);
        }, source, true);
      }
    }]);

    return Quill;
  }();

  Quill.DEFAULTS = {
    bounds: null,
    formats: null,
    modules: {},
    placeholder: '',
    readOnly: false,
    scrollingContainer: null,
    strict: true,
    theme: 'default'
  };
  Quill.events = _emitter4.default.events;
  Quill.sources = _emitter4.default.sources;
  // eslint-disable-next-line no-undef
  Quill.version =   "1.3.7";

  Quill.imports = {
    'delta': _quillDelta2.default,
    'parchment': _parchment2.default,
    'core/module': _module2.default,
    'core/theme': _theme2.default
  };

  function expandConfig(container, userConfig) {
    userConfig = (0, _extend2.default)(true, {
      container: container,
      modules: {
        clipboard: true,
        keyboard: true,
        history: true
      }
    }, userConfig);
    if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {
      userConfig.theme = _theme2.default;
    } else {
      userConfig.theme = Quill.import('themes/' + userConfig.theme);
      if (userConfig.theme == null) {
        throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');
      }
    }
    var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);
    [themeConfig, userConfig].forEach(function (config) {
      config.modules = config.modules || {};
      Object.keys(config.modules).forEach(function (module) {
        if (config.modules[module] === true) {
          config.modules[module] = {};
        }
      });
    });
    var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));
    var moduleConfig = moduleNames.reduce(function (config, name) {
      var moduleClass = Quill.import('modules/' + name);
      if (moduleClass == null) {
        debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');
      } else {
        config[name] = moduleClass.DEFAULTS || {};
      }
      return config;
    }, {});
    // Special case toolbar shorthand
    if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {
      userConfig.modules.toolbar = {
        container: userConfig.modules.toolbar
      };
    }
    userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);
    ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {
      if (typeof userConfig[key] === 'string') {
        userConfig[key] = document.querySelector(userConfig[key]);
      }
    });
    userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {
      if (userConfig.modules[name]) {
        config[name] = userConfig.modules[name];
      }
      return config;
    }, {});
    return userConfig;
  }

  // Handle selection preservation and TEXT_CHANGE emission
  // common to modification APIs
  function modify(modifier, source, index, shift) {
    if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {
      return new _quillDelta2.default();
    }
    var range = index == null ? null : this.getSelection();
    var oldDelta = this.editor.delta;
    var change = modifier();
    if (range != null) {
      if (index === true) index = range.index;
      if (shift == null) {
        range = shiftRange(range, change, source);
      } else if (shift !== 0) {
        range = shiftRange(range, index, shift, source);
      }
      this.setSelection(range, _emitter4.default.sources.SILENT);
    }
    if (change.length() > 0) {
      var _emitter;

      var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];
      (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));
      if (source !== _emitter4.default.sources.SILENT) {
        var _emitter2;

        (_emitter2 = this.emitter).emit.apply(_emitter2, args);
      }
    }
    return change;
  }

  function overload(index, length, name, value, source) {
    var formats = {};
    if (typeof index.index === 'number' && typeof index.length === 'number') {
      // Allow for throwaway end (used by insertText/insertEmbed)
      if (typeof length !== 'number') {
        source = value, value = name, name = length, length = index.length, index = index.index;
      } else {
        length = index.length, index = index.index;
      }
    } else if (typeof length !== 'number') {
      source = value, value = name, name = length, length = 0;
    }
    // Handle format being object, two format name/value strings or excluded
    if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {
      formats = name;
      source = value;
    } else if (typeof name === 'string') {
      if (value != null) {
        formats[name] = value;
      } else {
        source = name;
      }
    }
    // Handle optional source
    source = source || _emitter4.default.sources.API;
    return [index, length, formats, source];
  }

  function shiftRange(range, index, length, source) {
    if (range == null) return null;
    var start = void 0,
        end = void 0;
    if (index instanceof _quillDelta2.default) {
      var _map = [range.index, range.index + range.length].map(function (pos) {
        return index.transformPosition(pos, source !== _emitter4.default.sources.USER);
      });

      var _map2 = _slicedToArray(_map, 2);

      start = _map2[0];
      end = _map2[1];
    } else {
      var _map3 = [range.index, range.index + range.length].map(function (pos) {
        if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;
        if (length >= 0) {
          return pos + length;
        } else {
          return Math.max(index, pos + length);
        }
      });

      var _map4 = _slicedToArray(_map3, 2);

      start = _map4[0];
      end = _map4[1];
    }
    return new _selection.Range(start, end - start);
  }

  exports.expandConfig = expandConfig;
  exports.overload = overload;
  exports.default = Quill;

  /***/ }),
  /* 6 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _text = __webpack_require__(7);

  var _text2 = _interopRequireDefault(_text);

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Inline = function (_Parchment$Inline) {
    _inherits(Inline, _Parchment$Inline);

    function Inline() {
      _classCallCheck(this, Inline);

      return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));
    }

    _createClass(Inline, [{
      key: 'formatAt',
      value: function formatAt(index, length, name, value) {
        if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {
          var blot = this.isolate(index, length);
          if (value) {
            blot.wrap(name, value);
          }
        } else {
          _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);
        }
      }
    }, {
      key: 'optimize',
      value: function optimize(context) {
        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);
        if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {
          var parent = this.parent.isolate(this.offset(), this.length());
          this.moveChildren(parent);
          parent.wrap(this);
        }
      }
    }], [{
      key: 'compare',
      value: function compare(self, other) {
        var selfIndex = Inline.order.indexOf(self);
        var otherIndex = Inline.order.indexOf(other);
        if (selfIndex >= 0 || otherIndex >= 0) {
          return selfIndex - otherIndex;
        } else if (self === other) {
          return 0;
        } else if (self < other) {
          return -1;
        } else {
          return 1;
        }
      }
    }]);

    return Inline;
  }(_parchment2.default.Inline);

  Inline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];
  // Lower index means deeper in the DOM tree, since not found (-1) is for embeds
  Inline.order = ['cursor', 'inline', // Must be lower
  'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher
  ];

  exports.default = Inline;

  /***/ }),
  /* 7 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var TextBlot = function (_Parchment$Text) {
    _inherits(TextBlot, _Parchment$Text);

    function TextBlot() {
      _classCallCheck(this, TextBlot);

      return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));
    }

    return TextBlot;
  }(_parchment2.default.Text);

  exports.default = TextBlot;

  /***/ }),
  /* 8 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _eventemitter = __webpack_require__(54);

  var _eventemitter2 = _interopRequireDefault(_eventemitter);

  var _logger = __webpack_require__(10);

  var _logger2 = _interopRequireDefault(_logger);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var debug = (0, _logger2.default)('quill:events');

  var EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];

  EVENTS.forEach(function (eventName) {
    document.addEventListener(eventName, function () {
      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {
        // TODO use WeakMap
        if (node.__quill && node.__quill.emitter) {
          var _node$__quill$emitter;

          (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);
        }
      });
    });
  });

  var Emitter = function (_EventEmitter) {
    _inherits(Emitter, _EventEmitter);

    function Emitter() {
      _classCallCheck(this, Emitter);

      var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));

      _this.listeners = {};
      _this.on('error', debug.error);
      return _this;
    }

    _createClass(Emitter, [{
      key: 'emit',
      value: function emit() {
        debug.log.apply(debug, arguments);
        _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);
      }
    }, {
      key: 'handleDOM',
      value: function handleDOM(event) {
        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }

        (this.listeners[event.type] || []).forEach(function (_ref) {
          var node = _ref.node,
              handler = _ref.handler;

          if (event.target === node || node.contains(event.target)) {
            handler.apply(undefined, [event].concat(args));
          }
        });
      }
    }, {
      key: 'listenDOM',
      value: function listenDOM(eventName, node, handler) {
        if (!this.listeners[eventName]) {
          this.listeners[eventName] = [];
        }
        this.listeners[eventName].push({ node: node, handler: handler });
      }
    }]);

    return Emitter;
  }(_eventemitter2.default);

  Emitter.events = {
    EDITOR_CHANGE: 'editor-change',
    SCROLL_BEFORE_UPDATE: 'scroll-before-update',
    SCROLL_OPTIMIZE: 'scroll-optimize',
    SCROLL_UPDATE: 'scroll-update',
    SELECTION_CHANGE: 'selection-change',
    TEXT_CHANGE: 'text-change'
  };
  Emitter.sources = {
    API: 'api',
    SILENT: 'silent',
    USER: 'user'
  };

  exports.default = Emitter;

  /***/ }),
  /* 9 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  var Module = function Module(quill) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, Module);

    this.quill = quill;
    this.options = options;
  };

  Module.DEFAULTS = {};

  exports.default = Module;

  /***/ }),
  /* 10 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var levels = ['error', 'warn', 'log', 'info'];
  var level = 'warn';

  function debug(method) {
    if (levels.indexOf(method) <= levels.indexOf(level)) {
      var _console;

      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      (_console = console)[method].apply(_console, args); // eslint-disable-line no-console
    }
  }

  function namespace(ns) {
    return levels.reduce(function (logger, method) {
      logger[method] = debug.bind(console, method, ns);
      return logger;
    }, {});
  }

  debug.level = namespace.level = function (newLevel) {
    level = newLevel;
  };

  exports.default = namespace;

  /***/ }),
  /* 11 */
  /***/ (function(module, exports, __webpack_require__) {

  var pSlice = Array.prototype.slice;
  var objectKeys = __webpack_require__(52);
  var isArguments = __webpack_require__(53);

  var deepEqual = module.exports = function (actual, expected, opts) {
    if (!opts) opts = {};
    // 7.1. All identical values are equivalent, as determined by ===.
    if (actual === expected) {
      return true;

    } else if (actual instanceof Date && expected instanceof Date) {
      return actual.getTime() === expected.getTime();

    // 7.3. Other pairs that do not both pass typeof value == 'object',
    // equivalence is determined by ==.
    } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {
      return opts.strict ? actual === expected : actual == expected;

    // 7.4. For all other Object pairs, including Array objects, equivalence is
    // determined by having the same number of owned properties (as verified
    // with Object.prototype.hasOwnProperty.call), the same set of keys
    // (although not necessarily the same order), equivalent values for every
    // corresponding key, and an identical 'prototype' property. Note: this
    // accounts for both named and indexed properties on Arrays.
    } else {
      return objEquiv(actual, expected, opts);
    }
  };

  function isUndefinedOrNull(value) {
    return value === null || value === undefined;
  }

  function isBuffer (x) {
    if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;
    if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {
      return false;
    }
    if (x.length > 0 && typeof x[0] !== 'number') return false;
    return true;
  }

  function objEquiv(a, b, opts) {
    var i, key;
    if (isUndefinedOrNull(a) || isUndefinedOrNull(b))
      return false;
    // an identical 'prototype' property.
    if (a.prototype !== b.prototype) return false;
    //~~~I've managed to break Object.keys through screwy arguments passing.
    //   Converting to array solves the problem.
    if (isArguments(a)) {
      if (!isArguments(b)) {
        return false;
      }
      a = pSlice.call(a);
      b = pSlice.call(b);
      return deepEqual(a, b, opts);
    }
    if (isBuffer(a)) {
      if (!isBuffer(b)) {
        return false;
      }
      if (a.length !== b.length) return false;
      for (i = 0; i < a.length; i++) {
        if (a[i] !== b[i]) return false;
      }
      return true;
    }
    try {
      var ka = objectKeys(a),
          kb = objectKeys(b);
    } catch (e) {//happens when one is a string literal and the other isn't
      return false;
    }
    // having the same number of owned properties (keys incorporates
    // hasOwnProperty)
    if (ka.length != kb.length)
      return false;
    //the same set of keys (although not necessarily the same order),
    ka.sort();
    kb.sort();
    //~~~cheap key test
    for (i = ka.length - 1; i >= 0; i--) {
      if (ka[i] != kb[i])
        return false;
    }
    //equivalent values for every corresponding key, and
    //~~~possibly expensive deep test
    for (i = ka.length - 1; i >= 0; i--) {
      key = ka[i];
      if (!deepEqual(a[key], b[key], opts)) return false;
    }
    return typeof a === typeof b;
  }


  /***/ }),
  /* 12 */
  /***/ (function(module, exports, __webpack_require__) {

  Object.defineProperty(exports, "__esModule", { value: true });
  var Registry = __webpack_require__(1);
  var Attributor = /** @class */ (function () {
      function Attributor(attrName, keyName, options) {
          if (options === void 0) { options = {}; }
          this.attrName = attrName;
          this.keyName = keyName;
          var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;
          if (options.scope != null) {
              // Ignore type bits, force attribute bit
              this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;
          }
          else {
              this.scope = Registry.Scope.ATTRIBUTE;
          }
          if (options.whitelist != null)
              this.whitelist = options.whitelist;
      }
      Attributor.keys = function (node) {
          return [].map.call(node.attributes, function (item) {
              return item.name;
          });
      };
      Attributor.prototype.add = function (node, value) {
          if (!this.canAdd(node, value))
              return false;
          node.setAttribute(this.keyName, value);
          return true;
      };
      Attributor.prototype.canAdd = function (node, value) {
          var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));
          if (match == null)
              return false;
          if (this.whitelist == null)
              return true;
          if (typeof value === 'string') {
              return this.whitelist.indexOf(value.replace(/["']/g, '')) > -1;
          }
          else {
              return this.whitelist.indexOf(value) > -1;
          }
      };
      Attributor.prototype.remove = function (node) {
          node.removeAttribute(this.keyName);
      };
      Attributor.prototype.value = function (node) {
          var value = node.getAttribute(this.keyName);
          if (this.canAdd(node, value) && value) {
              return value;
          }
          return '';
      };
      return Attributor;
  }());
  exports.default = Attributor;


  /***/ }),
  /* 13 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.Code = undefined;

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _quillDelta = __webpack_require__(2);

  var _quillDelta2 = _interopRequireDefault(_quillDelta);

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _block = __webpack_require__(4);

  var _block2 = _interopRequireDefault(_block);

  var _inline = __webpack_require__(6);

  var _inline2 = _interopRequireDefault(_inline);

  var _text = __webpack_require__(7);

  var _text2 = _interopRequireDefault(_text);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Code = function (_Inline) {
    _inherits(Code, _Inline);

    function Code() {
      _classCallCheck(this, Code);

      return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));
    }

    return Code;
  }(_inline2.default);

  Code.blotName = 'code';
  Code.tagName = 'CODE';

  var CodeBlock = function (_Block) {
    _inherits(CodeBlock, _Block);

    function CodeBlock() {
      _classCallCheck(this, CodeBlock);

      return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));
    }

    _createClass(CodeBlock, [{
      key: 'delta',
      value: function delta() {
        var _this3 = this;

        var text = this.domNode.textContent;
        if (text.endsWith('\n')) {
          // Should always be true
          text = text.slice(0, -1);
        }
        return text.split('\n').reduce(function (delta, frag) {
          return delta.insert(frag).insert('\n', _this3.formats());
        }, new _quillDelta2.default());
      }
    }, {
      key: 'format',
      value: function format(name, value) {
        if (name === this.statics.blotName && value) return;

        var _descendant = this.descendant(_text2.default, this.length() - 1),
            _descendant2 = _slicedToArray(_descendant, 1),
            text = _descendant2[0];

        if (text != null) {
          text.deleteAt(text.length() - 1, 1);
        }
        _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);
      }
    }, {
      key: 'formatAt',
      value: function formatAt(index, length, name, value) {
        if (length === 0) return;
        if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {
          return;
        }
        var nextNewline = this.newlineIndex(index);
        if (nextNewline < 0 || nextNewline >= index + length) return;
        var prevNewline = this.newlineIndex(index, true) + 1;
        var isolateLength = nextNewline - prevNewline + 1;
        var blot = this.isolate(prevNewline, isolateLength);
        var next = blot.next;
        blot.format(name, value);
        if (next instanceof CodeBlock) {
          next.formatAt(0, index - prevNewline + length - isolateLength, name, value);
        }
      }
    }, {
      key: 'insertAt',
      value: function insertAt(index, value, def) {
        if (def != null) return;

        var _descendant3 = this.descendant(_text2.default, index),
            _descendant4 = _slicedToArray(_descendant3, 2),
            text = _descendant4[0],
            offset = _descendant4[1];

        text.insertAt(offset, value);
      }
    }, {
      key: 'length',
      value: function length() {
        var length = this.domNode.textContent.length;
        if (!this.domNode.textContent.endsWith('\n')) {
          return length + 1;
        }
        return length;
      }
    }, {
      key: 'newlineIndex',
      value: function newlineIndex(searchIndex) {
        var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

        if (!reverse) {
          var offset = this.domNode.textContent.slice(searchIndex).indexOf('\n');
          return offset > -1 ? searchIndex + offset : -1;
        } else {
          return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\n');
        }
      }
    }, {
      key: 'optimize',
      value: function optimize(context) {
        if (!this.domNode.textContent.endsWith('\n')) {
          this.appendChild(_parchment2.default.create('text', '\n'));
        }
        _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);
        var next = this.next;
        if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {
          next.optimize(context);
          next.moveChildren(this);
          next.remove();
        }
      }
    }, {
      key: 'replace',
      value: function replace(target) {
        _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);
        [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {
          var blot = _parchment2.default.find(node);
          if (blot == null) {
            node.parentNode.removeChild(node);
          } else if (blot instanceof _parchment2.default.Embed) {
            blot.remove();
          } else {
            blot.unwrap();
          }
        });
      }
    }], [{
      key: 'create',
      value: function create(value) {
        var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);
        domNode.setAttribute('spellcheck', false);
        return domNode;
      }
    }, {
      key: 'formats',
      value: function formats() {
        return true;
      }
    }]);

    return CodeBlock;
  }(_block2.default);

  CodeBlock.blotName = 'code-block';
  CodeBlock.tagName = 'PRE';
  CodeBlock.TAB = '  ';

  exports.Code = Code;
  exports.default = CodeBlock;

  /***/ }),
  /* 14 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _quillDelta = __webpack_require__(2);

  var _quillDelta2 = _interopRequireDefault(_quillDelta);

  var _op = __webpack_require__(20);

  var _op2 = _interopRequireDefault(_op);

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _code = __webpack_require__(13);

  var _code2 = _interopRequireDefault(_code);

  var _cursor = __webpack_require__(24);

  var _cursor2 = _interopRequireDefault(_cursor);

  var _block = __webpack_require__(4);

  var _block2 = _interopRequireDefault(_block);

  var _break = __webpack_require__(16);

  var _break2 = _interopRequireDefault(_break);

  var _clone = __webpack_require__(21);

  var _clone2 = _interopRequireDefault(_clone);

  var _deepEqual = __webpack_require__(11);

  var _deepEqual2 = _interopRequireDefault(_deepEqual);

  var _extend = __webpack_require__(3);

  var _extend2 = _interopRequireDefault(_extend);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  var ASCII = /^[ -~]*$/;

  var Editor = function () {
    function Editor(scroll) {
      _classCallCheck(this, Editor);

      this.scroll = scroll;
      this.delta = this.getDelta();
    }

    _createClass(Editor, [{
      key: 'applyDelta',
      value: function applyDelta(delta) {
        var _this = this;

        var consumeNextNewline = false;
        this.scroll.update();
        var scrollLength = this.scroll.length();
        this.scroll.batchStart();
        delta = normalizeDelta(delta);
        delta.reduce(function (index, op) {
          var length = op.retain || op.delete || op.insert.length || 1;
          var attributes = op.attributes || {};
          if (op.insert != null) {
            if (typeof op.insert === 'string') {
              var text = op.insert;
              if (text.endsWith('\n') && consumeNextNewline) {
                consumeNextNewline = false;
                text = text.slice(0, -1);
              }
              if (index >= scrollLength && !text.endsWith('\n')) {
                consumeNextNewline = true;
              }
              _this.scroll.insertAt(index, text);

              var _scroll$line = _this.scroll.line(index),
                  _scroll$line2 = _slicedToArray(_scroll$line, 2),
                  line = _scroll$line2[0],
                  offset = _scroll$line2[1];

              var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));
              if (line instanceof _block2.default) {
                var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),
                    _line$descendant2 = _slicedToArray(_line$descendant, 1),
                    leaf = _line$descendant2[0];

                formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));
              }
              attributes = _op2.default.attributes.diff(formats, attributes) || {};
            } else if (_typeof(op.insert) === 'object') {
              var key = Object.keys(op.insert)[0]; // There should only be one key
              if (key == null) return index;
              _this.scroll.insertAt(index, key, op.insert[key]);
            }
            scrollLength += length;
          }
          Object.keys(attributes).forEach(function (name) {
            _this.scroll.formatAt(index, length, name, attributes[name]);
          });
          return index + length;
        }, 0);
        delta.reduce(function (index, op) {
          if (typeof op.delete === 'number') {
            _this.scroll.deleteAt(index, op.delete);
            return index;
          }
          return index + (op.retain || op.insert.length || 1);
        }, 0);
        this.scroll.batchEnd();
        return this.update(delta);
      }
    }, {
      key: 'deleteText',
      value: function deleteText(index, length) {
        this.scroll.deleteAt(index, length);
        return this.update(new _quillDelta2.default().retain(index).delete(length));
      }
    }, {
      key: 'formatLine',
      value: function formatLine(index, length) {
        var _this2 = this;

        var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        this.scroll.update();
        Object.keys(formats).forEach(function (format) {
          if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;
          var lines = _this2.scroll.lines(index, Math.max(length, 1));
          var lengthRemaining = length;
          lines.forEach(function (line) {
            var lineLength = line.length();
            if (!(line instanceof _code2.default)) {
              line.format(format, formats[format]);
            } else {
              var codeIndex = index - line.offset(_this2.scroll);
              var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;
              line.formatAt(codeIndex, codeLength, format, formats[format]);
            }
            lengthRemaining -= lineLength;
          });
        });
        this.scroll.optimize();
        return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));
      }
    }, {
      key: 'formatText',
      value: function formatText(index, length) {
        var _this3 = this;

        var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        Object.keys(formats).forEach(function (format) {
          _this3.scroll.formatAt(index, length, format, formats[format]);
        });
        return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));
      }
    }, {
      key: 'getContents',
      value: function getContents(index, length) {
        return this.delta.slice(index, index + length);
      }
    }, {
      key: 'getDelta',
      value: function getDelta() {
        return this.scroll.lines().reduce(function (delta, line) {
          return delta.concat(line.delta());
        }, new _quillDelta2.default());
      }
    }, {
      key: 'getFormat',
      value: function getFormat(index) {
        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

        var lines = [],
            leaves = [];
        if (length === 0) {
          this.scroll.path(index).forEach(function (path) {
            var _path = _slicedToArray(path, 1),
                blot = _path[0];

            if (blot instanceof _block2.default) {
              lines.push(blot);
            } else if (blot instanceof _parchment2.default.Leaf) {
              leaves.push(blot);
            }
          });
        } else {
          lines = this.scroll.lines(index, length);
          leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);
        }
        var formatsArr = [lines, leaves].map(function (blots) {
          if (blots.length === 0) return {};
          var formats = (0, _block.bubbleFormats)(blots.shift());
          while (Object.keys(formats).length > 0) {
            var blot = blots.shift();
            if (blot == null) return formats;
            formats = combineFormats((0, _block.bubbleFormats)(blot), formats);
          }
          return formats;
        });
        return _extend2.default.apply(_extend2.default, formatsArr);
      }
    }, {
      key: 'getText',
      value: function getText(index, length) {
        return this.getContents(index, length).filter(function (op) {
          return typeof op.insert === 'string';
        }).map(function (op) {
          return op.insert;
        }).join('');
      }
    }, {
      key: 'insertEmbed',
      value: function insertEmbed(index, embed, value) {
        this.scroll.insertAt(index, embed, value);
        return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));
      }
    }, {
      key: 'insertText',
      value: function insertText(index, text) {
        var _this4 = this;

        var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        text = text.replace(/\r\n/g, '\n').replace(/\r/g, '\n');
        this.scroll.insertAt(index, text);
        Object.keys(formats).forEach(function (format) {
          _this4.scroll.formatAt(index, text.length, format, formats[format]);
        });
        return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));
      }
    }, {
      key: 'isBlank',
      value: function isBlank() {
        if (this.scroll.children.length == 0) return true;
        if (this.scroll.children.length > 1) return false;
        var block = this.scroll.children.head;
        if (block.statics.blotName !== _block2.default.blotName) return false;
        if (block.children.length > 1) return false;
        return block.children.head instanceof _break2.default;
      }
    }, {
      key: 'removeFormat',
      value: function removeFormat(index, length) {
        var text = this.getText(index, length);

        var _scroll$line3 = this.scroll.line(index + length),
            _scroll$line4 = _slicedToArray(_scroll$line3, 2),
            line = _scroll$line4[0],
            offset = _scroll$line4[1];

        var suffixLength = 0,
            suffix = new _quillDelta2.default();
        if (line != null) {
          if (!(line instanceof _code2.default)) {
            suffixLength = line.length() - offset;
          } else {
            suffixLength = line.newlineIndex(offset) - offset + 1;
          }
          suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\n');
        }
        var contents = this.getContents(index, length + suffixLength);
        var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));
        var delta = new _quillDelta2.default().retain(index).concat(diff);
        return this.applyDelta(delta);
      }
    }, {
      key: 'update',
      value: function update(change) {
        var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;

        var oldDelta = this.delta;
        if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {
          // Optimization for character changes
          var textBlot = _parchment2.default.find(mutations[0].target);
          var formats = (0, _block.bubbleFormats)(textBlot);
          var index = textBlot.offset(this.scroll);
          var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');
          var oldText = new _quillDelta2.default().insert(oldValue);
          var newText = new _quillDelta2.default().insert(textBlot.value());
          var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));
          change = diffDelta.reduce(function (delta, op) {
            if (op.insert) {
              return delta.insert(op.insert, formats);
            } else {
              return delta.push(op);
            }
          }, new _quillDelta2.default());
          this.delta = oldDelta.compose(change);
        } else {
          this.delta = this.getDelta();
          if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {
            change = oldDelta.diff(this.delta, cursorIndex);
          }
        }
        return change;
      }
    }]);

    return Editor;
  }();

  function combineFormats(formats, combined) {
    return Object.keys(combined).reduce(function (merged, name) {
      if (formats[name] == null) return merged;
      if (combined[name] === formats[name]) {
        merged[name] = combined[name];
      } else if (Array.isArray(combined[name])) {
        if (combined[name].indexOf(formats[name]) < 0) {
          merged[name] = combined[name].concat([formats[name]]);
        }
      } else {
        merged[name] = [combined[name], formats[name]];
      }
      return merged;
    }, {});
  }

  function normalizeDelta(delta) {
    return delta.reduce(function (delta, op) {
      if (op.insert === 1) {
        var attributes = (0, _clone2.default)(op.attributes);
        delete attributes['image'];
        return delta.insert({ image: op.attributes.image }, attributes);
      }
      if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {
        op = (0, _clone2.default)(op);
        if (op.attributes.list) {
          op.attributes.list = 'ordered';
        } else {
          op.attributes.list = 'bullet';
          delete op.attributes.bullet;
        }
      }
      if (typeof op.insert === 'string') {
        var text = op.insert.replace(/\r\n/g, '\n').replace(/\r/g, '\n');
        return delta.insert(text, op.attributes);
      }
      return delta.push(op);
    }, new _quillDelta2.default());
  }

  exports.default = Editor;

  /***/ }),
  /* 15 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.Range = undefined;

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _clone = __webpack_require__(21);

  var _clone2 = _interopRequireDefault(_clone);

  var _deepEqual = __webpack_require__(11);

  var _deepEqual2 = _interopRequireDefault(_deepEqual);

  var _emitter3 = __webpack_require__(8);

  var _emitter4 = _interopRequireDefault(_emitter3);

  var _logger = __webpack_require__(10);

  var _logger2 = _interopRequireDefault(_logger);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  var debug = (0, _logger2.default)('quill:selection');

  var Range = function Range(index) {
    var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

    _classCallCheck(this, Range);

    this.index = index;
    this.length = length;
  };

  var Selection = function () {
    function Selection(scroll, emitter) {
      var _this = this;

      _classCallCheck(this, Selection);

      this.emitter = emitter;
      this.scroll = scroll;
      this.composing = false;
      this.mouseDown = false;
      this.root = this.scroll.domNode;
      this.cursor = _parchment2.default.create('cursor', this);
      // savedRange is last non-null range
      this.lastRange = this.savedRange = new Range(0, 0);
      this.handleComposition();
      this.handleDragging();
      this.emitter.listenDOM('selectionchange', document, function () {
        if (!_this.mouseDown) {
          setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);
        }
      });
      this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {
        if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {
          _this.update(_emitter4.default.sources.SILENT);
        }
      });
      this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {
        if (!_this.hasFocus()) return;
        var native = _this.getNativeRange();
        if (native == null) return;
        if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle
        // TODO unclear if this has negative side effects
        _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {
          try {
            _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);
          } catch (ignored) {}
        });
      });
      this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {
        if (context.range) {
          var _context$range = context.range,
              startNode = _context$range.startNode,
              startOffset = _context$range.startOffset,
              endNode = _context$range.endNode,
              endOffset = _context$range.endOffset;

          _this.setNativeRange(startNode, startOffset, endNode, endOffset);
        }
      });
      this.update(_emitter4.default.sources.SILENT);
    }

    _createClass(Selection, [{
      key: 'handleComposition',
      value: function handleComposition() {
        var _this2 = this;

        this.root.addEventListener('compositionstart', function () {
          _this2.composing = true;
        });
        this.root.addEventListener('compositionend', function () {
          _this2.composing = false;
          if (_this2.cursor.parent) {
            var range = _this2.cursor.restore();
            if (!range) return;
            setTimeout(function () {
              _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);
            }, 1);
          }
        });
      }
    }, {
      key: 'handleDragging',
      value: function handleDragging() {
        var _this3 = this;

        this.emitter.listenDOM('mousedown', document.body, function () {
          _this3.mouseDown = true;
        });
        this.emitter.listenDOM('mouseup', document.body, function () {
          _this3.mouseDown = false;
          _this3.update(_emitter4.default.sources.USER);
        });
      }
    }, {
      key: 'focus',
      value: function focus() {
        if (this.hasFocus()) return;
        this.root.focus();
        this.setRange(this.savedRange);
      }
    }, {
      key: 'format',
      value: function format(_format, value) {
        if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;
        this.scroll.update();
        var nativeRange = this.getNativeRange();
        if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;
        if (nativeRange.start.node !== this.cursor.textNode) {
          var blot = _parchment2.default.find(nativeRange.start.node, false);
          if (blot == null) return;
          // TODO Give blot ability to not split
          if (blot instanceof _parchment2.default.Leaf) {
            var after = blot.split(nativeRange.start.offset);
            blot.parent.insertBefore(this.cursor, after);
          } else {
            blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen
          }
          this.cursor.attach();
        }
        this.cursor.format(_format, value);
        this.scroll.optimize();
        this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);
        this.update();
      }
    }, {
      key: 'getBounds',
      value: function getBounds(index) {
        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

        var scrollLength = this.scroll.length();
        index = Math.min(index, scrollLength - 1);
        length = Math.min(index + length, scrollLength - 1) - index;
        var node = void 0,
            _scroll$leaf = this.scroll.leaf(index),
            _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),
            leaf = _scroll$leaf2[0],
            offset = _scroll$leaf2[1];
        if (leaf == null) return null;

        var _leaf$position = leaf.position(offset, true);

        var _leaf$position2 = _slicedToArray(_leaf$position, 2);

        node = _leaf$position2[0];
        offset = _leaf$position2[1];

        var range = document.createRange();
        if (length > 0) {
          range.setStart(node, offset);

          var _scroll$leaf3 = this.scroll.leaf(index + length);

          var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);

          leaf = _scroll$leaf4[0];
          offset = _scroll$leaf4[1];

          if (leaf == null) return null;

          var _leaf$position3 = leaf.position(offset, true);

          var _leaf$position4 = _slicedToArray(_leaf$position3, 2);

          node = _leaf$position4[0];
          offset = _leaf$position4[1];

          range.setEnd(node, offset);
          return range.getBoundingClientRect();
        } else {
          var side = 'left';
          var rect = void 0;
          if (node instanceof Text) {
            if (offset < node.data.length) {
              range.setStart(node, offset);
              range.setEnd(node, offset + 1);
            } else {
              range.setStart(node, offset - 1);
              range.setEnd(node, offset);
              side = 'right';
            }
            rect = range.getBoundingClientRect();
          } else {
            rect = leaf.domNode.getBoundingClientRect();
            if (offset > 0) side = 'right';
          }
          return {
            bottom: rect.top + rect.height,
            height: rect.height,
            left: rect[side],
            right: rect[side],
            top: rect.top,
            width: 0
          };
        }
      }
    }, {
      key: 'getNativeRange',
      value: function getNativeRange() {
        var selection = document.getSelection();
        if (selection == null || selection.rangeCount <= 0) return null;
        var nativeRange = selection.getRangeAt(0);
        if (nativeRange == null) return null;
        var range = this.normalizeNative(nativeRange);
        debug.info('getNativeRange', range);
        return range;
      }
    }, {
      key: 'getRange',
      value: function getRange() {
        var normalized = this.getNativeRange();
        if (normalized == null) return [null, null];
        var range = this.normalizedToRange(normalized);
        return [range, normalized];
      }
    }, {
      key: 'hasFocus',
      value: function hasFocus() {
        return document.activeElement === this.root;
      }
    }, {
      key: 'normalizedToRange',
      value: function normalizedToRange(range) {
        var _this4 = this;

        var positions = [[range.start.node, range.start.offset]];
        if (!range.native.collapsed) {
          positions.push([range.end.node, range.end.offset]);
        }
        var indexes = positions.map(function (position) {
          var _position = _slicedToArray(position, 2),
              node = _position[0],
              offset = _position[1];

          var blot = _parchment2.default.find(node, true);
          var index = blot.offset(_this4.scroll);
          if (offset === 0) {
            return index;
          } else if (blot instanceof _parchment2.default.Container) {
            return index + blot.length();
          } else {
            return index + blot.index(node, offset);
          }
        });
        var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);
        var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));
        return new Range(start, end - start);
      }
    }, {
      key: 'normalizeNative',
      value: function normalizeNative(nativeRange) {
        if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {
          return null;
        }
        var range = {
          start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },
          end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },
          native: nativeRange
        };
        [range.start, range.end].forEach(function (position) {
          var node = position.node,
              offset = position.offset;
          while (!(node instanceof Text) && node.childNodes.length > 0) {
            if (node.childNodes.length > offset) {
              node = node.childNodes[offset];
              offset = 0;
            } else if (node.childNodes.length === offset) {
              node = node.lastChild;
              offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;
            } else {
              break;
            }
          }
          position.node = node, position.offset = offset;
        });
        return range;
      }
    }, {
      key: 'rangeToNative',
      value: function rangeToNative(range) {
        var _this5 = this;

        var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];
        var args = [];
        var scrollLength = this.scroll.length();
        indexes.forEach(function (index, i) {
          index = Math.min(scrollLength - 1, index);
          var node = void 0,
              _scroll$leaf5 = _this5.scroll.leaf(index),
              _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),
              leaf = _scroll$leaf6[0],
              offset = _scroll$leaf6[1];
          var _leaf$position5 = leaf.position(offset, i !== 0);

          var _leaf$position6 = _slicedToArray(_leaf$position5, 2);

          node = _leaf$position6[0];
          offset = _leaf$position6[1];

          args.push(node, offset);
        });
        if (args.length < 2) {
          args = args.concat(args);
        }
        return args;
      }
    }, {
      key: 'scrollIntoView',
      value: function scrollIntoView(scrollingContainer) {
        var range = this.lastRange;
        if (range == null) return;
        var bounds = this.getBounds(range.index, range.length);
        if (bounds == null) return;
        var limit = this.scroll.length() - 1;

        var _scroll$line = this.scroll.line(Math.min(range.index, limit)),
            _scroll$line2 = _slicedToArray(_scroll$line, 1),
            first = _scroll$line2[0];

        var last = first;
        if (range.length > 0) {
          var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));

          var _scroll$line4 = _slicedToArray(_scroll$line3, 1);

          last = _scroll$line4[0];
        }
        if (first == null || last == null) return;
        var scrollBounds = scrollingContainer.getBoundingClientRect();
        if (bounds.top < scrollBounds.top) {
          scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;
        } else if (bounds.bottom > scrollBounds.bottom) {
          scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;
        }
      }
    }, {
      key: 'setNativeRange',
      value: function setNativeRange(startNode, startOffset) {
        var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;
        var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;
        var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;

        debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);
        if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {
          return;
        }
        var selection = document.getSelection();
        if (selection == null) return;
        if (startNode != null) {
          if (!this.hasFocus()) this.root.focus();
          var native = (this.getNativeRange() || {}).native;
          if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {

            if (startNode.tagName == "BR") {
              startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);
              startNode = startNode.parentNode;
            }
            if (endNode.tagName == "BR") {
              endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);
              endNode = endNode.parentNode;
            }
            var range = document.createRange();
            range.setStart(startNode, startOffset);
            range.setEnd(endNode, endOffset);
            selection.removeAllRanges();
            selection.addRange(range);
          }
        } else {
          selection.removeAllRanges();
          this.root.blur();
          document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)
        }
      }
    }, {
      key: 'setRange',
      value: function setRange(range) {
        var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
        var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;

        if (typeof force === 'string') {
          source = force;
          force = false;
        }
        debug.info('setRange', range);
        if (range != null) {
          var args = this.rangeToNative(range);
          this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));
        } else {
          this.setNativeRange(null);
        }
        this.update(source);
      }
    }, {
      key: 'update',
      value: function update() {
        var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;

        var oldRange = this.lastRange;

        var _getRange = this.getRange(),
            _getRange2 = _slicedToArray(_getRange, 2),
            lastRange = _getRange2[0],
            nativeRange = _getRange2[1];

        this.lastRange = lastRange;
        if (this.lastRange != null) {
          this.savedRange = this.lastRange;
        }
        if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {
          var _emitter;

          if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {
            this.cursor.restore();
          }
          var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];
          (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));
          if (source !== _emitter4.default.sources.SILENT) {
            var _emitter2;

            (_emitter2 = this.emitter).emit.apply(_emitter2, args);
          }
        }
      }
    }]);

    return Selection;
  }();

  function contains(parent, descendant) {
    try {
      // Firefox inserts inaccessible nodes around video elements
      descendant.parentNode;
    } catch (e) {
      return false;
    }
    // IE11 has bug with Text nodes
    // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect
    if (descendant instanceof Text) {
      descendant = descendant.parentNode;
    }
    return parent.contains(descendant);
  }

  exports.Range = Range;
  exports.default = Selection;

  /***/ }),
  /* 16 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Break = function (_Parchment$Embed) {
    _inherits(Break, _Parchment$Embed);

    function Break() {
      _classCallCheck(this, Break);

      return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));
    }

    _createClass(Break, [{
      key: 'insertInto',
      value: function insertInto(parent, ref) {
        if (parent.children.length === 0) {
          _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);
        } else {
          this.remove();
        }
      }
    }, {
      key: 'length',
      value: function length() {
        return 0;
      }
    }, {
      key: 'value',
      value: function value() {
        return '';
      }
    }], [{
      key: 'value',
      value: function value() {
        return undefined;
      }
    }]);

    return Break;
  }(_parchment2.default.Embed);

  Break.blotName = 'break';
  Break.tagName = 'BR';

  exports.default = Break;

  /***/ }),
  /* 17 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var linked_list_1 = __webpack_require__(44);
  var shadow_1 = __webpack_require__(30);
  var Registry = __webpack_require__(1);
  var ContainerBlot = /** @class */ (function (_super) {
      __extends(ContainerBlot, _super);
      function ContainerBlot(domNode) {
          var _this = _super.call(this, domNode) || this;
          _this.build();
          return _this;
      }
      ContainerBlot.prototype.appendChild = function (other) {
          this.insertBefore(other);
      };
      ContainerBlot.prototype.attach = function () {
          _super.prototype.attach.call(this);
          this.children.forEach(function (child) {
              child.attach();
          });
      };
      ContainerBlot.prototype.build = function () {
          var _this = this;
          this.children = new linked_list_1.default();
          // Need to be reversed for if DOM nodes already in order
          [].slice
              .call(this.domNode.childNodes)
              .reverse()
              .forEach(function (node) {
              try {
                  var child = makeBlot(node);
                  _this.insertBefore(child, _this.children.head || undefined);
              }
              catch (err) {
                  if (err instanceof Registry.ParchmentError)
                      return;
                  else
                      throw err;
              }
          });
      };
      ContainerBlot.prototype.deleteAt = function (index, length) {
          if (index === 0 && length === this.length()) {
              return this.remove();
          }
          this.children.forEachAt(index, length, function (child, offset, length) {
              child.deleteAt(offset, length);
          });
      };
      ContainerBlot.prototype.descendant = function (criteria, index) {
          var _a = this.children.find(index), child = _a[0], offset = _a[1];
          if ((criteria.blotName == null && criteria(child)) ||
              (criteria.blotName != null && child instanceof criteria)) {
              return [child, offset];
          }
          else if (child instanceof ContainerBlot) {
              return child.descendant(criteria, offset);
          }
          else {
              return [null, -1];
          }
      };
      ContainerBlot.prototype.descendants = function (criteria, index, length) {
          if (index === void 0) { index = 0; }
          if (length === void 0) { length = Number.MAX_VALUE; }
          var descendants = [];
          var lengthLeft = length;
          this.children.forEachAt(index, length, function (child, index, length) {
              if ((criteria.blotName == null && criteria(child)) ||
                  (criteria.blotName != null && child instanceof criteria)) {
                  descendants.push(child);
              }
              if (child instanceof ContainerBlot) {
                  descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));
              }
              lengthLeft -= length;
          });
          return descendants;
      };
      ContainerBlot.prototype.detach = function () {
          this.children.forEach(function (child) {
              child.detach();
          });
          _super.prototype.detach.call(this);
      };
      ContainerBlot.prototype.formatAt = function (index, length, name, value) {
          this.children.forEachAt(index, length, function (child, offset, length) {
              child.formatAt(offset, length, name, value);
          });
      };
      ContainerBlot.prototype.insertAt = function (index, value, def) {
          var _a = this.children.find(index), child = _a[0], offset = _a[1];
          if (child) {
              child.insertAt(offset, value, def);
          }
          else {
              var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);
              this.appendChild(blot);
          }
      };
      ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {
          if (this.statics.allowedChildren != null &&
              !this.statics.allowedChildren.some(function (child) {
                  return childBlot instanceof child;
              })) {
              throw new Registry.ParchmentError("Cannot insert " + childBlot.statics.blotName + " into " + this.statics.blotName);
          }
          childBlot.insertInto(this, refBlot);
      };
      ContainerBlot.prototype.length = function () {
          return this.children.reduce(function (memo, child) {
              return memo + child.length();
          }, 0);
      };
      ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {
          this.children.forEach(function (child) {
              targetParent.insertBefore(child, refNode);
          });
      };
      ContainerBlot.prototype.optimize = function (context) {
          _super.prototype.optimize.call(this, context);
          if (this.children.length === 0) {
              if (this.statics.defaultChild != null) {
                  var child = Registry.create(this.statics.defaultChild);
                  this.appendChild(child);
                  child.optimize(context);
              }
              else {
                  this.remove();
              }
          }
      };
      ContainerBlot.prototype.path = function (index, inclusive) {
          if (inclusive === void 0) { inclusive = false; }
          var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];
          var position = [[this, index]];
          if (child instanceof ContainerBlot) {
              return position.concat(child.path(offset, inclusive));
          }
          else if (child != null) {
              position.push([child, offset]);
          }
          return position;
      };
      ContainerBlot.prototype.removeChild = function (child) {
          this.children.remove(child);
      };
      ContainerBlot.prototype.replace = function (target) {
          if (target instanceof ContainerBlot) {
              target.moveChildren(this);
          }
          _super.prototype.replace.call(this, target);
      };
      ContainerBlot.prototype.split = function (index, force) {
          if (force === void 0) { force = false; }
          if (!force) {
              if (index === 0)
                  return this;
              if (index === this.length())
                  return this.next;
          }
          var after = this.clone();
          this.parent.insertBefore(after, this.next);
          this.children.forEachAt(index, this.length(), function (child, offset, length) {
              child = child.split(offset, force);
              after.appendChild(child);
          });
          return after;
      };
      ContainerBlot.prototype.unwrap = function () {
          this.moveChildren(this.parent, this.next);
          this.remove();
      };
      ContainerBlot.prototype.update = function (mutations, context) {
          var _this = this;
          var addedNodes = [];
          var removedNodes = [];
          mutations.forEach(function (mutation) {
              if (mutation.target === _this.domNode && mutation.type === 'childList') {
                  addedNodes.push.apply(addedNodes, mutation.addedNodes);
                  removedNodes.push.apply(removedNodes, mutation.removedNodes);
              }
          });
          removedNodes.forEach(function (node) {
              // Check node has actually been removed
              // One exception is Chrome does not immediately remove IFRAMEs
              // from DOM but MutationRecord is correct in its reported removal
              if (node.parentNode != null &&
                  // @ts-ignore
                  node.tagName !== 'IFRAME' &&
                  document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {
                  return;
              }
              var blot = Registry.find(node);
              if (blot == null)
                  return;
              if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {
                  blot.detach();
              }
          });
          addedNodes
              .filter(function (node) {
              return node.parentNode == _this.domNode;
          })
              .sort(function (a, b) {
              if (a === b)
                  return 0;
              if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {
                  return 1;
              }
              return -1;
          })
              .forEach(function (node) {
              var refBlot = null;
              if (node.nextSibling != null) {
                  refBlot = Registry.find(node.nextSibling);
              }
              var blot = makeBlot(node);
              if (blot.next != refBlot || blot.next == null) {
                  if (blot.parent != null) {
                      blot.parent.removeChild(_this);
                  }
                  _this.insertBefore(blot, refBlot || undefined);
              }
          });
      };
      return ContainerBlot;
  }(shadow_1.default));
  function makeBlot(node) {
      var blot = Registry.find(node);
      if (blot == null) {
          try {
              blot = Registry.create(node);
          }
          catch (e) {
              blot = Registry.create(Registry.Scope.INLINE);
              [].slice.call(node.childNodes).forEach(function (child) {
                  // @ts-ignore
                  blot.domNode.appendChild(child);
              });
              if (node.parentNode) {
                  node.parentNode.replaceChild(blot.domNode, node);
              }
              blot.attach();
          }
      }
      return blot;
  }
  exports.default = ContainerBlot;


  /***/ }),
  /* 18 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var attributor_1 = __webpack_require__(12);
  var store_1 = __webpack_require__(31);
  var container_1 = __webpack_require__(17);
  var Registry = __webpack_require__(1);
  var FormatBlot = /** @class */ (function (_super) {
      __extends(FormatBlot, _super);
      function FormatBlot(domNode) {
          var _this = _super.call(this, domNode) || this;
          _this.attributes = new store_1.default(_this.domNode);
          return _this;
      }
      FormatBlot.formats = function (domNode) {
          if (typeof this.tagName === 'string') {
              return true;
          }
          else if (Array.isArray(this.tagName)) {
              return domNode.tagName.toLowerCase();
          }
          return undefined;
      };
      FormatBlot.prototype.format = function (name, value) {
          var format = Registry.query(name);
          if (format instanceof attributor_1.default) {
              this.attributes.attribute(format, value);
          }
          else if (value) {
              if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {
                  this.replaceWith(name, value);
              }
          }
      };
      FormatBlot.prototype.formats = function () {
          var formats = this.attributes.values();
          var format = this.statics.formats(this.domNode);
          if (format != null) {
              formats[this.statics.blotName] = format;
          }
          return formats;
      };
      FormatBlot.prototype.replaceWith = function (name, value) {
          var replacement = _super.prototype.replaceWith.call(this, name, value);
          this.attributes.copy(replacement);
          return replacement;
      };
      FormatBlot.prototype.update = function (mutations, context) {
          var _this = this;
          _super.prototype.update.call(this, mutations, context);
          if (mutations.some(function (mutation) {
              return mutation.target === _this.domNode && mutation.type === 'attributes';
          })) {
              this.attributes.build();
          }
      };
      FormatBlot.prototype.wrap = function (name, value) {
          var wrapper = _super.prototype.wrap.call(this, name, value);
          if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {
              this.attributes.move(wrapper);
          }
          return wrapper;
      };
      return FormatBlot;
  }(container_1.default));
  exports.default = FormatBlot;


  /***/ }),
  /* 19 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var shadow_1 = __webpack_require__(30);
  var Registry = __webpack_require__(1);
  var LeafBlot = /** @class */ (function (_super) {
      __extends(LeafBlot, _super);
      function LeafBlot() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      LeafBlot.value = function (domNode) {
          return true;
      };
      LeafBlot.prototype.index = function (node, offset) {
          if (this.domNode === node ||
              this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {
              return Math.min(offset, 1);
          }
          return -1;
      };
      LeafBlot.prototype.position = function (index, inclusive) {
          var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);
          if (index > 0)
              offset += 1;
          return [this.parent.domNode, offset];
      };
      LeafBlot.prototype.value = function () {
          var _a;
          return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;
      };
      LeafBlot.scope = Registry.Scope.INLINE_BLOT;
      return LeafBlot;
  }(shadow_1.default));
  exports.default = LeafBlot;


  /***/ }),
  /* 20 */
  /***/ (function(module, exports, __webpack_require__) {

  var equal = __webpack_require__(11);
  var extend = __webpack_require__(3);


  var lib = {
    attributes: {
      compose: function (a, b, keepNull) {
        if (typeof a !== 'object') a = {};
        if (typeof b !== 'object') b = {};
        var attributes = extend(true, {}, b);
        if (!keepNull) {
          attributes = Object.keys(attributes).reduce(function (copy, key) {
            if (attributes[key] != null) {
              copy[key] = attributes[key];
            }
            return copy;
          }, {});
        }
        for (var key in a) {
          if (a[key] !== undefined && b[key] === undefined) {
            attributes[key] = a[key];
          }
        }
        return Object.keys(attributes).length > 0 ? attributes : undefined;
      },

      diff: function(a, b) {
        if (typeof a !== 'object') a = {};
        if (typeof b !== 'object') b = {};
        var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {
          if (!equal(a[key], b[key])) {
            attributes[key] = b[key] === undefined ? null : b[key];
          }
          return attributes;
        }, {});
        return Object.keys(attributes).length > 0 ? attributes : undefined;
      },

      transform: function (a, b, priority) {
        if (typeof a !== 'object') return b;
        if (typeof b !== 'object') return undefined;
        if (!priority) return b;  // b simply overwrites us without priority
        var attributes = Object.keys(b).reduce(function (attributes, key) {
          if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value
          return attributes;
        }, {});
        return Object.keys(attributes).length > 0 ? attributes : undefined;
      }
    },

    iterator: function (ops) {
      return new Iterator(ops);
    },

    length: function (op) {
      if (typeof op['delete'] === 'number') {
        return op['delete'];
      } else if (typeof op.retain === 'number') {
        return op.retain;
      } else {
        return typeof op.insert === 'string' ? op.insert.length : 1;
      }
    }
  };


  function Iterator(ops) {
    this.ops = ops;
    this.index = 0;
    this.offset = 0;
  }
  Iterator.prototype.hasNext = function () {
    return this.peekLength() < Infinity;
  };

  Iterator.prototype.next = function (length) {
    if (!length) length = Infinity;
    var nextOp = this.ops[this.index];
    if (nextOp) {
      var offset = this.offset;
      var opLength = lib.length(nextOp);
      if (length >= opLength - offset) {
        length = opLength - offset;
        this.index += 1;
        this.offset = 0;
      } else {
        this.offset += length;
      }
      if (typeof nextOp['delete'] === 'number') {
        return { 'delete': length };
      } else {
        var retOp = {};
        if (nextOp.attributes) {
          retOp.attributes = nextOp.attributes;
        }
        if (typeof nextOp.retain === 'number') {
          retOp.retain = length;
        } else if (typeof nextOp.insert === 'string') {
          retOp.insert = nextOp.insert.substr(offset, length);
        } else {
          // offset should === 0, length should === 1
          retOp.insert = nextOp.insert;
        }
        return retOp;
      }
    } else {
      return { retain: Infinity };
    }
  };

  Iterator.prototype.peek = function () {
    return this.ops[this.index];
  };

  Iterator.prototype.peekLength = function () {
    if (this.ops[this.index]) {
      // Should never return 0 if our index is being managed correctly
      return lib.length(this.ops[this.index]) - this.offset;
    } else {
      return Infinity;
    }
  };

  Iterator.prototype.peekType = function () {
    if (this.ops[this.index]) {
      if (typeof this.ops[this.index]['delete'] === 'number') {
        return 'delete';
      } else if (typeof this.ops[this.index].retain === 'number') {
        return 'retain';
      } else {
        return 'insert';
      }
    }
    return 'retain';
  };

  Iterator.prototype.rest = function () {
    if (!this.hasNext()) {
      return [];
    } else if (this.offset === 0) {
      return this.ops.slice(this.index);
    } else {
      var offset = this.offset;
      var index = this.index;
      var next = this.next();
      var rest = this.ops.slice(this.index);
      this.offset = offset;
      this.index = index;
      return [next].concat(rest);
    }
  };


  module.exports = lib;


  /***/ }),
  /* 21 */
  /***/ (function(module, exports) {

  var clone = (function() {

  function _instanceof(obj, type) {
    return type != null && obj instanceof type;
  }

  var nativeMap;
  try {
    nativeMap = Map;
  } catch(_) {
    // maybe a reference error because no `Map`. Give it a dummy value that no
    // value will ever be an instanceof.
    nativeMap = function() {};
  }

  var nativeSet;
  try {
    nativeSet = Set;
  } catch(_) {
    nativeSet = function() {};
  }

  var nativePromise;
  try {
    nativePromise = Promise;
  } catch(_) {
    nativePromise = function() {};
  }

  /**
   * Clones (copies) an Object using deep copying.
   *
   * This function supports circular references by default, but if you are certain
   * there are no circular references in your object, you can save some CPU time
   * by calling clone(obj, false).
   *
   * Caution: if `circular` is false and `parent` contains circular references,
   * your program may enter an infinite loop and crash.
   *
   * @param `parent` - the object to be cloned
   * @param `circular` - set to true if the object to be cloned may contain
   *    circular references. (optional - true by default)
   * @param `depth` - set to a number if the object is only to be cloned to
   *    a particular depth. (optional - defaults to Infinity)
   * @param `prototype` - sets the prototype to be used when cloning an object.
   *    (optional - defaults to parent prototype).
   * @param `includeNonEnumerable` - set to true if the non-enumerable properties
   *    should be cloned as well. Non-enumerable properties on the prototype
   *    chain will be ignored. (optional - false by default)
  */
  function clone(parent, circular, depth, prototype, includeNonEnumerable) {
    if (typeof circular === 'object') {
      depth = circular.depth;
      prototype = circular.prototype;
      includeNonEnumerable = circular.includeNonEnumerable;
      circular = circular.circular;
    }
    // maintain two arrays for circular references, where corresponding parents
    // and children have the same index
    var allParents = [];
    var allChildren = [];

    var useBuffer = typeof Buffer != 'undefined';

    if (typeof circular == 'undefined')
      circular = true;

    if (typeof depth == 'undefined')
      depth = Infinity;

    // recurse this function so we don't reset allParents and allChildren
    function _clone(parent, depth) {
      // cloning null always returns null
      if (parent === null)
        return null;

      if (depth === 0)
        return parent;

      var child;
      var proto;
      if (typeof parent != 'object') {
        return parent;
      }

      if (_instanceof(parent, nativeMap)) {
        child = new nativeMap();
      } else if (_instanceof(parent, nativeSet)) {
        child = new nativeSet();
      } else if (_instanceof(parent, nativePromise)) {
        child = new nativePromise(function (resolve, reject) {
          parent.then(function(value) {
            resolve(_clone(value, depth - 1));
          }, function(err) {
            reject(_clone(err, depth - 1));
          });
        });
      } else if (clone.__isArray(parent)) {
        child = [];
      } else if (clone.__isRegExp(parent)) {
        child = new RegExp(parent.source, __getRegExpFlags(parent));
        if (parent.lastIndex) child.lastIndex = parent.lastIndex;
      } else if (clone.__isDate(parent)) {
        child = new Date(parent.getTime());
      } else if (useBuffer && Buffer.isBuffer(parent)) {
        if (Buffer.allocUnsafe) {
          // Node.js >= 4.5.0
          child = Buffer.allocUnsafe(parent.length);
        } else {
          // Older Node.js versions
          child = new Buffer(parent.length);
        }
        parent.copy(child);
        return child;
      } else if (_instanceof(parent, Error)) {
        child = Object.create(parent);
      } else {
        if (typeof prototype == 'undefined') {
          proto = Object.getPrototypeOf(parent);
          child = Object.create(proto);
        }
        else {
          child = Object.create(prototype);
          proto = prototype;
        }
      }

      if (circular) {
        var index = allParents.indexOf(parent);

        if (index != -1) {
          return allChildren[index];
        }
        allParents.push(parent);
        allChildren.push(child);
      }

      if (_instanceof(parent, nativeMap)) {
        parent.forEach(function(value, key) {
          var keyChild = _clone(key, depth - 1);
          var valueChild = _clone(value, depth - 1);
          child.set(keyChild, valueChild);
        });
      }
      if (_instanceof(parent, nativeSet)) {
        parent.forEach(function(value) {
          var entryChild = _clone(value, depth - 1);
          child.add(entryChild);
        });
      }

      for (var i in parent) {
        var attrs;
        if (proto) {
          attrs = Object.getOwnPropertyDescriptor(proto, i);
        }

        if (attrs && attrs.set == null) {
          continue;
        }
        child[i] = _clone(parent[i], depth - 1);
      }

      if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(parent);
        for (var i = 0; i < symbols.length; i++) {
          // Don't need to worry about cloning a symbol because it is a primitive,
          // like a number or string.
          var symbol = symbols[i];
          var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);
          if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {
            continue;
          }
          child[symbol] = _clone(parent[symbol], depth - 1);
          if (!descriptor.enumerable) {
            Object.defineProperty(child, symbol, {
              enumerable: false
            });
          }
        }
      }

      if (includeNonEnumerable) {
        var allPropertyNames = Object.getOwnPropertyNames(parent);
        for (var i = 0; i < allPropertyNames.length; i++) {
          var propertyName = allPropertyNames[i];
          var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);
          if (descriptor && descriptor.enumerable) {
            continue;
          }
          child[propertyName] = _clone(parent[propertyName], depth - 1);
          Object.defineProperty(child, propertyName, {
            enumerable: false
          });
        }
      }

      return child;
    }

    return _clone(parent, depth);
  }

  /**
   * Simple flat clone using prototype, accepts only objects, usefull for property
   * override on FLAT configuration object (no nested props).
   *
   * USE WITH CAUTION! This may not behave as you wish if you do not know how this
   * works.
   */
  clone.clonePrototype = function clonePrototype(parent) {
    if (parent === null)
      return null;

    var c = function () {};
    c.prototype = parent;
    return new c();
  };

  // private utility functions

  function __objToStr(o) {
    return Object.prototype.toString.call(o);
  }
  clone.__objToStr = __objToStr;

  function __isDate(o) {
    return typeof o === 'object' && __objToStr(o) === '[object Date]';
  }
  clone.__isDate = __isDate;

  function __isArray(o) {
    return typeof o === 'object' && __objToStr(o) === '[object Array]';
  }
  clone.__isArray = __isArray;

  function __isRegExp(o) {
    return typeof o === 'object' && __objToStr(o) === '[object RegExp]';
  }
  clone.__isRegExp = __isRegExp;

  function __getRegExpFlags(re) {
    var flags = '';
    if (re.global) flags += 'g';
    if (re.ignoreCase) flags += 'i';
    if (re.multiline) flags += 'm';
    return flags;
  }
  clone.__getRegExpFlags = __getRegExpFlags;

  return clone;
  })();

  if (typeof module === 'object' && module.exports) {
    module.exports = clone;
  }


  /***/ }),
  /* 22 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _emitter = __webpack_require__(8);

  var _emitter2 = _interopRequireDefault(_emitter);

  var _block = __webpack_require__(4);

  var _block2 = _interopRequireDefault(_block);

  var _break = __webpack_require__(16);

  var _break2 = _interopRequireDefault(_break);

  var _code = __webpack_require__(13);

  var _code2 = _interopRequireDefault(_code);

  var _container = __webpack_require__(25);

  var _container2 = _interopRequireDefault(_container);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  function isLine(blot) {
    return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;
  }

  var Scroll = function (_Parchment$Scroll) {
    _inherits(Scroll, _Parchment$Scroll);

    function Scroll(domNode, config) {
      _classCallCheck(this, Scroll);

      var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));

      _this.emitter = config.emitter;
      if (Array.isArray(config.whitelist)) {
        _this.whitelist = config.whitelist.reduce(function (whitelist, format) {
          whitelist[format] = true;
          return whitelist;
        }, {});
      }
      // Some reason fixes composition issues with character languages in Windows/Chrome, Safari
      _this.domNode.addEventListener('DOMNodeInserted', function () {});
      _this.optimize();
      _this.enable();
      return _this;
    }

    _createClass(Scroll, [{
      key: 'batchStart',
      value: function batchStart() {
        this.batch = true;
      }
    }, {
      key: 'batchEnd',
      value: function batchEnd() {
        this.batch = false;
        this.optimize();
      }
    }, {
      key: 'deleteAt',
      value: function deleteAt(index, length) {
        var _line = this.line(index),
            _line2 = _slicedToArray(_line, 2),
            first = _line2[0],
            offset = _line2[1];

        var _line3 = this.line(index + length),
            _line4 = _slicedToArray(_line3, 1),
            last = _line4[0];

        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);
        if (last != null && first !== last && offset > 0) {
          if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {
            this.optimize();
            return;
          }
          if (first instanceof _code2.default) {
            var newlineIndex = first.newlineIndex(first.length(), true);
            if (newlineIndex > -1) {
              first = first.split(newlineIndex + 1);
              if (first === last) {
                this.optimize();
                return;
              }
            }
          } else if (last instanceof _code2.default) {
            var _newlineIndex = last.newlineIndex(0);
            if (_newlineIndex > -1) {
              last.split(_newlineIndex + 1);
            }
          }
          var ref = last.children.head instanceof _break2.default ? null : last.children.head;
          first.moveChildren(last, ref);
          first.remove();
        }
        this.optimize();
      }
    }, {
      key: 'enable',
      value: function enable() {
        var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

        this.domNode.setAttribute('contenteditable', enabled);
      }
    }, {
      key: 'formatAt',
      value: function formatAt(index, length, format, value) {
        if (this.whitelist != null && !this.whitelist[format]) return;
        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);
        this.optimize();
      }
    }, {
      key: 'insertAt',
      value: function insertAt(index, value, def) {
        if (def != null && this.whitelist != null && !this.whitelist[value]) return;
        if (index >= this.length()) {
          if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {
            var blot = _parchment2.default.create(this.statics.defaultChild);
            this.appendChild(blot);
            if (def == null && value.endsWith('\n')) {
              value = value.slice(0, -1);
            }
            blot.insertAt(0, value, def);
          } else {
            var embed = _parchment2.default.create(value, def);
            this.appendChild(embed);
          }
        } else {
          _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);
        }
        this.optimize();
      }
    }, {
      key: 'insertBefore',
      value: function insertBefore(blot, ref) {
        if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {
          var wrapper = _parchment2.default.create(this.statics.defaultChild);
          wrapper.appendChild(blot);
          blot = wrapper;
        }
        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);
      }
    }, {
      key: 'leaf',
      value: function leaf(index) {
        return this.path(index).pop() || [null, -1];
      }
    }, {
      key: 'line',
      value: function line(index) {
        if (index === this.length()) {
          return this.line(index - 1);
        }
        return this.descendant(isLine, index);
      }
    }, {
      key: 'lines',
      value: function lines() {
        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;

        var getLines = function getLines(blot, index, length) {
          var lines = [],
              lengthLeft = length;
          blot.children.forEachAt(index, length, function (child, index, length) {
            if (isLine(child)) {
              lines.push(child);
            } else if (child instanceof _parchment2.default.Container) {
              lines = lines.concat(getLines(child, index, lengthLeft));
            }
            lengthLeft -= length;
          });
          return lines;
        };
        return getLines(this, index, length);
      }
    }, {
      key: 'optimize',
      value: function optimize() {
        var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
        var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

        if (this.batch === true) return;
        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);
        if (mutations.length > 0) {
          this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);
        }
      }
    }, {
      key: 'path',
      value: function path(index) {
        return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self
      }
    }, {
      key: 'update',
      value: function update(mutations) {
        if (this.batch === true) return;
        var source = _emitter2.default.sources.USER;
        if (typeof mutations === 'string') {
          source = mutations;
        }
        if (!Array.isArray(mutations)) {
          mutations = this.observer.takeRecords();
        }
        if (mutations.length > 0) {
          this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);
        }
        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy
        if (mutations.length > 0) {
          this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);
        }
      }
    }]);

    return Scroll;
  }(_parchment2.default.Scroll);

  Scroll.blotName = 'scroll';
  Scroll.className = 'ql-editor';
  Scroll.tagName = 'DIV';
  Scroll.defaultChild = 'block';
  Scroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];

  exports.default = Scroll;

  /***/ }),
  /* 23 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.SHORTKEY = exports.default = undefined;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _clone = __webpack_require__(21);

  var _clone2 = _interopRequireDefault(_clone);

  var _deepEqual = __webpack_require__(11);

  var _deepEqual2 = _interopRequireDefault(_deepEqual);

  var _extend = __webpack_require__(3);

  var _extend2 = _interopRequireDefault(_extend);

  var _quillDelta = __webpack_require__(2);

  var _quillDelta2 = _interopRequireDefault(_quillDelta);

  var _op = __webpack_require__(20);

  var _op2 = _interopRequireDefault(_op);

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _quill = __webpack_require__(5);

  var _quill2 = _interopRequireDefault(_quill);

  var _logger = __webpack_require__(10);

  var _logger2 = _interopRequireDefault(_logger);

  var _module = __webpack_require__(9);

  var _module2 = _interopRequireDefault(_module);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var debug = (0, _logger2.default)('quill:keyboard');

  var SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';

  var Keyboard = function (_Module) {
    _inherits(Keyboard, _Module);

    _createClass(Keyboard, null, [{
      key: 'match',
      value: function match(evt, binding) {
        binding = normalize(binding);
        if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {
          return !!binding[key] !== evt[key] && binding[key] !== null;
        })) {
          return false;
        }
        return binding.key === (evt.which || evt.keyCode);
      }
    }]);

    function Keyboard(quill, options) {
      _classCallCheck(this, Keyboard);

      var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));

      _this.bindings = {};
      Object.keys(_this.options.bindings).forEach(function (name) {
        if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {
          return;
        }
        if (_this.options.bindings[name]) {
          _this.addBinding(_this.options.bindings[name]);
        }
      });
      _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);
      _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});
      if (/Firefox/i.test(navigator.userAgent)) {
        // Need to handle delete and backspace for Firefox in the general case #1171
        _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);
        _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);
      } else {
        _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);
        _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);
      }
      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);
      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);
      _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);
      _this.listen();
      return _this;
    }

    _createClass(Keyboard, [{
      key: 'addBinding',
      value: function addBinding(key) {
        var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        var binding = normalize(key);
        if (binding == null || binding.key == null) {
          return debug.warn('Attempted to add invalid keyboard binding', binding);
        }
        if (typeof context === 'function') {
          context = { handler: context };
        }
        if (typeof handler === 'function') {
          handler = { handler: handler };
        }
        binding = (0, _extend2.default)(binding, context, handler);
        this.bindings[binding.key] = this.bindings[binding.key] || [];
        this.bindings[binding.key].push(binding);
      }
    }, {
      key: 'listen',
      value: function listen() {
        var _this2 = this;

        this.quill.root.addEventListener('keydown', function (evt) {
          if (evt.defaultPrevented) return;
          var which = evt.which || evt.keyCode;
          var bindings = (_this2.bindings[which] || []).filter(function (binding) {
            return Keyboard.match(evt, binding);
          });
          if (bindings.length === 0) return;
          var range = _this2.quill.getSelection();
          if (range == null || !_this2.quill.hasFocus()) return;

          var _quill$getLine = _this2.quill.getLine(range.index),
              _quill$getLine2 = _slicedToArray(_quill$getLine, 2),
              line = _quill$getLine2[0],
              offset = _quill$getLine2[1];

          var _quill$getLeaf = _this2.quill.getLeaf(range.index),
              _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),
              leafStart = _quill$getLeaf2[0],
              offsetStart = _quill$getLeaf2[1];

          var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),
              _ref2 = _slicedToArray(_ref, 2),
              leafEnd = _ref2[0],
              offsetEnd = _ref2[1];

          var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';
          var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';
          var curContext = {
            collapsed: range.length === 0,
            empty: range.length === 0 && line.length() <= 1,
            format: _this2.quill.getFormat(range),
            offset: offset,
            prefix: prefixText,
            suffix: suffixText
          };
          var prevented = bindings.some(function (binding) {
            if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;
            if (binding.empty != null && binding.empty !== curContext.empty) return false;
            if (binding.offset != null && binding.offset !== curContext.offset) return false;
            if (Array.isArray(binding.format)) {
              // any format is present
              if (binding.format.every(function (name) {
                return curContext.format[name] == null;
              })) {
                return false;
              }
            } else if (_typeof(binding.format) === 'object') {
              // all formats must match
              if (!Object.keys(binding.format).every(function (name) {
                if (binding.format[name] === true) return curContext.format[name] != null;
                if (binding.format[name] === false) return curContext.format[name] == null;
                return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);
              })) {
                return false;
              }
            }
            if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;
            if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;
            return binding.handler.call(_this2, range, curContext) !== true;
          });
          if (prevented) {
            evt.preventDefault();
          }
        });
      }
    }]);

    return Keyboard;
  }(_module2.default);

  Keyboard.keys = {
    BACKSPACE: 8,
    TAB: 9,
    ENTER: 13,
    ESCAPE: 27,
    LEFT: 37,
    UP: 38,
    RIGHT: 39,
    DOWN: 40,
    DELETE: 46
  };

  Keyboard.DEFAULTS = {
    bindings: {
      'bold': makeFormatHandler('bold'),
      'italic': makeFormatHandler('italic'),
      'underline': makeFormatHandler('underline'),
      'indent': {
        // highlight tab or tab at beginning of list, indent or blockquote
        key: Keyboard.keys.TAB,
        format: ['blockquote', 'indent', 'list'],
        handler: function handler(range, context) {
          if (context.collapsed && context.offset !== 0) return true;
          this.quill.format('indent', '+1', _quill2.default.sources.USER);
        }
      },
      'outdent': {
        key: Keyboard.keys.TAB,
        shiftKey: true,
        format: ['blockquote', 'indent', 'list'],
        // highlight tab or tab at beginning of list, indent or blockquote
        handler: function handler(range, context) {
          if (context.collapsed && context.offset !== 0) return true;
          this.quill.format('indent', '-1', _quill2.default.sources.USER);
        }
      },
      'outdent backspace': {
        key: Keyboard.keys.BACKSPACE,
        collapsed: true,
        shiftKey: null,
        metaKey: null,
        ctrlKey: null,
        altKey: null,
        format: ['indent', 'list'],
        offset: 0,
        handler: function handler(range, context) {
          if (context.format.indent != null) {
            this.quill.format('indent', '-1', _quill2.default.sources.USER);
          } else if (context.format.list != null) {
            this.quill.format('list', false, _quill2.default.sources.USER);
          }
        }
      },
      'indent code-block': makeCodeBlockHandler(true),
      'outdent code-block': makeCodeBlockHandler(false),
      'remove tab': {
        key: Keyboard.keys.TAB,
        shiftKey: true,
        collapsed: true,
        prefix: /\t$/,
        handler: function handler(range) {
          this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);
        }
      },
      'tab': {
        key: Keyboard.keys.TAB,
        handler: function handler(range) {
          this.quill.history.cutoff();
          var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\t');
          this.quill.updateContents(delta, _quill2.default.sources.USER);
          this.quill.history.cutoff();
          this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
        }
      },
      'list empty enter': {
        key: Keyboard.keys.ENTER,
        collapsed: true,
        format: ['list'],
        empty: true,
        handler: function handler(range, context) {
          this.quill.format('list', false, _quill2.default.sources.USER);
          if (context.format.indent) {
            this.quill.format('indent', false, _quill2.default.sources.USER);
          }
        }
      },
      'checklist enter': {
        key: Keyboard.keys.ENTER,
        collapsed: true,
        format: { list: 'checked' },
        handler: function handler(range) {
          var _quill$getLine3 = this.quill.getLine(range.index),
              _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),
              line = _quill$getLine4[0],
              offset = _quill$getLine4[1];

          var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });
          var delta = new _quillDelta2.default().retain(range.index).insert('\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });
          this.quill.updateContents(delta, _quill2.default.sources.USER);
          this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
          this.quill.scrollIntoView();
        }
      },
      'header enter': {
        key: Keyboard.keys.ENTER,
        collapsed: true,
        format: ['header'],
        suffix: /^$/,
        handler: function handler(range, context) {
          var _quill$getLine5 = this.quill.getLine(range.index),
              _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),
              line = _quill$getLine6[0],
              offset = _quill$getLine6[1];

          var delta = new _quillDelta2.default().retain(range.index).insert('\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });
          this.quill.updateContents(delta, _quill2.default.sources.USER);
          this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
          this.quill.scrollIntoView();
        }
      },
      'list autofill': {
        key: ' ',
        collapsed: true,
        format: { list: false },
        prefix: /^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,
        handler: function handler(range, context) {
          var length = context.prefix.length;

          var _quill$getLine7 = this.quill.getLine(range.index),
              _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),
              line = _quill$getLine8[0],
              offset = _quill$getLine8[1];

          if (offset > length) return true;
          var value = void 0;
          switch (context.prefix.trim()) {
            case '[]':case '[ ]':
              value = 'unchecked';
              break;
            case '[x]':
              value = 'checked';
              break;
            case '-':case '*':
              value = 'bullet';
              break;
            default:
              value = 'ordered';
          }
          this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);
          this.quill.history.cutoff();
          var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });
          this.quill.updateContents(delta, _quill2.default.sources.USER);
          this.quill.history.cutoff();
          this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);
        }
      },
      'code exit': {
        key: Keyboard.keys.ENTER,
        collapsed: true,
        format: ['code-block'],
        prefix: /\n\n$/,
        suffix: /^\s+$/,
        handler: function handler(range) {
          var _quill$getLine9 = this.quill.getLine(range.index),
              _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),
              line = _quill$getLine10[0],
              offset = _quill$getLine10[1];

          var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);
          this.quill.updateContents(delta, _quill2.default.sources.USER);
        }
      },
      'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),
      'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),
      'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),
      'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)
    }
  };

  function makeEmbedArrowHandler(key, shiftKey) {
    var _ref3;

    var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';
    return _ref3 = {
      key: key,
      shiftKey: shiftKey,
      altKey: null
    }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {
      var index = range.index;
      if (key === Keyboard.keys.RIGHT) {
        index += range.length + 1;
      }

      var _quill$getLeaf3 = this.quill.getLeaf(index),
          _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),
          leaf = _quill$getLeaf4[0];

      if (!(leaf instanceof _parchment2.default.Embed)) return true;
      if (key === Keyboard.keys.LEFT) {
        if (shiftKey) {
          this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);
        } else {
          this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);
        }
      } else {
        if (shiftKey) {
          this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);
        } else {
          this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);
        }
      }
      return false;
    }), _ref3;
  }

  function handleBackspace(range, context) {
    if (range.index === 0 || this.quill.getLength() <= 1) return;

    var _quill$getLine11 = this.quill.getLine(range.index),
        _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),
        line = _quill$getLine12[0];

    var formats = {};
    if (context.offset === 0) {
      var _quill$getLine13 = this.quill.getLine(range.index - 1),
          _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),
          prev = _quill$getLine14[0];

      if (prev != null && prev.length() > 1) {
        var curFormats = line.formats();
        var prevFormats = this.quill.getFormat(range.index - 1, 1);
        formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};
      }
    }
    // Check for astral symbols
    var length = /[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(context.prefix) ? 2 : 1;
    this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);
    if (Object.keys(formats).length > 0) {
      this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);
    }
    this.quill.focus();
  }

  function handleDelete(range, context) {
    // Check for astral symbols
    var length = /^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(context.suffix) ? 2 : 1;
    if (range.index >= this.quill.getLength() - length) return;
    var formats = {},
        nextLength = 0;

    var _quill$getLine15 = this.quill.getLine(range.index),
        _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),
        line = _quill$getLine16[0];

    if (context.offset >= line.length() - 1) {
      var _quill$getLine17 = this.quill.getLine(range.index + 1),
          _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),
          next = _quill$getLine18[0];

      if (next) {
        var curFormats = line.formats();
        var nextFormats = this.quill.getFormat(range.index, 1);
        formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};
        nextLength = next.length();
      }
    }
    this.quill.deleteText(range.index, length, _quill2.default.sources.USER);
    if (Object.keys(formats).length > 0) {
      this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);
    }
  }

  function handleDeleteRange(range) {
    var lines = this.quill.getLines(range);
    var formats = {};
    if (lines.length > 1) {
      var firstFormats = lines[0].formats();
      var lastFormats = lines[lines.length - 1].formats();
      formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};
    }
    this.quill.deleteText(range, _quill2.default.sources.USER);
    if (Object.keys(formats).length > 0) {
      this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);
    }
    this.quill.setSelection(range.index, _quill2.default.sources.SILENT);
    this.quill.focus();
  }

  function handleEnter(range, context) {
    var _this3 = this;

    if (range.length > 0) {
      this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change
    }
    var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {
      if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {
        lineFormats[format] = context.format[format];
      }
      return lineFormats;
    }, {});
    this.quill.insertText(range.index, '\n', lineFormats, _quill2.default.sources.USER);
    // Earlier scroll.deleteAt might have messed up our selection,
    // so insertText's built in selection preservation is not reliable
    this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
    this.quill.focus();
    Object.keys(context.format).forEach(function (name) {
      if (lineFormats[name] != null) return;
      if (Array.isArray(context.format[name])) return;
      if (name === 'link') return;
      _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);
    });
  }

  function makeCodeBlockHandler(indent) {
    return {
      key: Keyboard.keys.TAB,
      shiftKey: !indent,
      format: { 'code-block': true },
      handler: function handler(range) {
        var CodeBlock = _parchment2.default.query('code-block');
        var index = range.index,
            length = range.length;

        var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),
            _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),
            block = _quill$scroll$descend2[0],
            offset = _quill$scroll$descend2[1];

        if (block == null) return;
        var scrollIndex = this.quill.getIndex(block);
        var start = block.newlineIndex(offset, true) + 1;
        var end = block.newlineIndex(scrollIndex + offset + length);
        var lines = block.domNode.textContent.slice(start, end).split('\n');
        offset = 0;
        lines.forEach(function (line, i) {
          if (indent) {
            block.insertAt(start + offset, CodeBlock.TAB);
            offset += CodeBlock.TAB.length;
            if (i === 0) {
              index += CodeBlock.TAB.length;
            } else {
              length += CodeBlock.TAB.length;
            }
          } else if (line.startsWith(CodeBlock.TAB)) {
            block.deleteAt(start + offset, CodeBlock.TAB.length);
            offset -= CodeBlock.TAB.length;
            if (i === 0) {
              index -= CodeBlock.TAB.length;
            } else {
              length -= CodeBlock.TAB.length;
            }
          }
          offset += line.length + 1;
        });
        this.quill.update(_quill2.default.sources.USER);
        this.quill.setSelection(index, length, _quill2.default.sources.SILENT);
      }
    };
  }

  function makeFormatHandler(format) {
    return {
      key: format[0].toUpperCase(),
      shortKey: true,
      handler: function handler(range, context) {
        this.quill.format(format, !context.format[format], _quill2.default.sources.USER);
      }
    };
  }

  function normalize(binding) {
    if (typeof binding === 'string' || typeof binding === 'number') {
      return normalize({ key: binding });
    }
    if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {
      binding = (0, _clone2.default)(binding, false);
    }
    if (typeof binding.key === 'string') {
      if (Keyboard.keys[binding.key.toUpperCase()] != null) {
        binding.key = Keyboard.keys[binding.key.toUpperCase()];
      } else if (binding.key.length === 1) {
        binding.key = binding.key.toUpperCase().charCodeAt(0);
      } else {
        return null;
      }
    }
    if (binding.shortKey) {
      binding[SHORTKEY] = binding.shortKey;
      delete binding.shortKey;
    }
    return binding;
  }

  exports.default = Keyboard;
  exports.SHORTKEY = SHORTKEY;

  /***/ }),
  /* 24 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _text = __webpack_require__(7);

  var _text2 = _interopRequireDefault(_text);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Cursor = function (_Parchment$Embed) {
    _inherits(Cursor, _Parchment$Embed);

    _createClass(Cursor, null, [{
      key: 'value',
      value: function value() {
        return undefined;
      }
    }]);

    function Cursor(domNode, selection) {
      _classCallCheck(this, Cursor);

      var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));

      _this.selection = selection;
      _this.textNode = document.createTextNode(Cursor.CONTENTS);
      _this.domNode.appendChild(_this.textNode);
      _this._length = 0;
      return _this;
    }

    _createClass(Cursor, [{
      key: 'detach',
      value: function detach() {
        // super.detach() will also clear domNode.__blot
        if (this.parent != null) this.parent.removeChild(this);
      }
    }, {
      key: 'format',
      value: function format(name, value) {
        if (this._length !== 0) {
          return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);
        }
        var target = this,
            index = 0;
        while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {
          index += target.offset(target.parent);
          target = target.parent;
        }
        if (target != null) {
          this._length = Cursor.CONTENTS.length;
          target.optimize();
          target.formatAt(index, Cursor.CONTENTS.length, name, value);
          this._length = 0;
        }
      }
    }, {
      key: 'index',
      value: function index(node, offset) {
        if (node === this.textNode) return 0;
        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);
      }
    }, {
      key: 'length',
      value: function length() {
        return this._length;
      }
    }, {
      key: 'position',
      value: function position() {
        return [this.textNode, this.textNode.data.length];
      }
    }, {
      key: 'remove',
      value: function remove() {
        _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);
        this.parent = null;
      }
    }, {
      key: 'restore',
      value: function restore() {
        if (this.selection.composing || this.parent == null) return;
        var textNode = this.textNode;
        var range = this.selection.getNativeRange();
        var restoreText = void 0,
            start = void 0,
            end = void 0;
        if (range != null && range.start.node === textNode && range.end.node === textNode) {
          var _ref = [textNode, range.start.offset, range.end.offset];
          restoreText = _ref[0];
          start = _ref[1];
          end = _ref[2];
        }
        // Link format will insert text outside of anchor tag
        while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {
          this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);
        }
        if (this.textNode.data !== Cursor.CONTENTS) {
          var text = this.textNode.data.split(Cursor.CONTENTS).join('');
          if (this.next instanceof _text2.default) {
            restoreText = this.next.domNode;
            this.next.insertAt(0, text);
            this.textNode.data = Cursor.CONTENTS;
          } else {
            this.textNode.data = text;
            this.parent.insertBefore(_parchment2.default.create(this.textNode), this);
            this.textNode = document.createTextNode(Cursor.CONTENTS);
            this.domNode.appendChild(this.textNode);
          }
        }
        this.remove();
        if (start != null) {
          var _map = [start, end].map(function (offset) {
            return Math.max(0, Math.min(restoreText.data.length, offset - 1));
          });

          var _map2 = _slicedToArray(_map, 2);

          start = _map2[0];
          end = _map2[1];

          return {
            startNode: restoreText,
            startOffset: start,
            endNode: restoreText,
            endOffset: end
          };
        }
      }
    }, {
      key: 'update',
      value: function update(mutations, context) {
        var _this2 = this;

        if (mutations.some(function (mutation) {
          return mutation.type === 'characterData' && mutation.target === _this2.textNode;
        })) {
          var range = this.restore();
          if (range) context.range = range;
        }
      }
    }, {
      key: 'value',
      value: function value() {
        return '';
      }
    }]);

    return Cursor;
  }(_parchment2.default.Embed);

  Cursor.blotName = 'cursor';
  Cursor.className = 'ql-cursor';
  Cursor.tagName = 'span';
  Cursor.CONTENTS = '\uFEFF'; // Zero width no break space


  exports.default = Cursor;

  /***/ }),
  /* 25 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _block = __webpack_require__(4);

  var _block2 = _interopRequireDefault(_block);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Container = function (_Parchment$Container) {
    _inherits(Container, _Parchment$Container);

    function Container() {
      _classCallCheck(this, Container);

      return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));
    }

    return Container;
  }(_parchment2.default.Container);

  Container.allowedChildren = [_block2.default, _block.BlockEmbed, Container];

  exports.default = Container;

  /***/ }),
  /* 26 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var ColorAttributor = function (_Parchment$Attributor) {
    _inherits(ColorAttributor, _Parchment$Attributor);

    function ColorAttributor() {
      _classCallCheck(this, ColorAttributor);

      return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));
    }

    _createClass(ColorAttributor, [{
      key: 'value',
      value: function value(domNode) {
        var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);
        if (!value.startsWith('rgb(')) return value;
        value = value.replace(/^[^\d]+/, '').replace(/[^\d]+$/, '');
        return '#' + value.split(',').map(function (component) {
          return ('00' + parseInt(component).toString(16)).slice(-2);
        }).join('');
      }
    }]);

    return ColorAttributor;
  }(_parchment2.default.Attributor.Style);

  var ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {
    scope: _parchment2.default.Scope.INLINE
  });
  var ColorStyle = new ColorAttributor('color', 'color', {
    scope: _parchment2.default.Scope.INLINE
  });

  exports.ColorAttributor = ColorAttributor;
  exports.ColorClass = ColorClass;
  exports.ColorStyle = ColorStyle;

  /***/ }),
  /* 27 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.sanitize = exports.default = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _inline = __webpack_require__(6);

  var _inline2 = _interopRequireDefault(_inline);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Link = function (_Inline) {
    _inherits(Link, _Inline);

    function Link() {
      _classCallCheck(this, Link);

      return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));
    }

    _createClass(Link, [{
      key: 'format',
      value: function format(name, value) {
        if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);
        value = this.constructor.sanitize(value);
        this.domNode.setAttribute('href', value);
      }
    }], [{
      key: 'create',
      value: function create(value) {
        var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);
        value = this.sanitize(value);
        node.setAttribute('href', value);
        node.setAttribute('rel', 'noopener noreferrer');
        node.setAttribute('target', '_blank');
        return node;
      }
    }, {
      key: 'formats',
      value: function formats(domNode) {
        return domNode.getAttribute('href');
      }
    }, {
      key: 'sanitize',
      value: function sanitize(url) {
        return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;
      }
    }]);

    return Link;
  }(_inline2.default);

  Link.blotName = 'link';
  Link.tagName = 'A';
  Link.SANITIZED_URL = 'about:blank';
  Link.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];

  function _sanitize(url, protocols) {
    var anchor = document.createElement('a');
    anchor.href = url;
    var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));
    return protocols.indexOf(protocol) > -1;
  }

  exports.default = Link;
  exports.sanitize = _sanitize;

  /***/ }),
  /* 28 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _keyboard = __webpack_require__(23);

  var _keyboard2 = _interopRequireDefault(_keyboard);

  var _dropdown = __webpack_require__(107);

  var _dropdown2 = _interopRequireDefault(_dropdown);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  var optionsCounter = 0;

  function toggleAriaAttribute(element, attribute) {
    element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));
  }

  var Picker = function () {
    function Picker(select) {
      var _this = this;

      _classCallCheck(this, Picker);

      this.select = select;
      this.container = document.createElement('span');
      this.buildPicker();
      this.select.style.display = 'none';
      this.select.parentNode.insertBefore(this.container, this.select);

      this.label.addEventListener('mousedown', function () {
        _this.togglePicker();
      });
      this.label.addEventListener('keydown', function (event) {
        switch (event.keyCode) {
          // Allows the "Enter" key to open the picker
          case _keyboard2.default.keys.ENTER:
            _this.togglePicker();
            break;

          // Allows the "Escape" key to close the picker
          case _keyboard2.default.keys.ESCAPE:
            _this.escape();
            event.preventDefault();
            break;
        }
      });
      this.select.addEventListener('change', this.update.bind(this));
    }

    _createClass(Picker, [{
      key: 'togglePicker',
      value: function togglePicker() {
        this.container.classList.toggle('ql-expanded');
        // Toggle aria-expanded and aria-hidden to make the picker accessible
        toggleAriaAttribute(this.label, 'aria-expanded');
        toggleAriaAttribute(this.options, 'aria-hidden');
      }
    }, {
      key: 'buildItem',
      value: function buildItem(option) {
        var _this2 = this;

        var item = document.createElement('span');
        item.tabIndex = '0';
        item.setAttribute('role', 'button');

        item.classList.add('ql-picker-item');
        if (option.hasAttribute('value')) {
          item.setAttribute('data-value', option.getAttribute('value'));
        }
        if (option.textContent) {
          item.setAttribute('data-label', option.textContent);
        }
        item.addEventListener('click', function () {
          _this2.selectItem(item, true);
        });
        item.addEventListener('keydown', function (event) {
          switch (event.keyCode) {
            // Allows the "Enter" key to select an item
            case _keyboard2.default.keys.ENTER:
              _this2.selectItem(item, true);
              event.preventDefault();
              break;

            // Allows the "Escape" key to close the picker
            case _keyboard2.default.keys.ESCAPE:
              _this2.escape();
              event.preventDefault();
              break;
          }
        });

        return item;
      }
    }, {
      key: 'buildLabel',
      value: function buildLabel() {
        var label = document.createElement('span');
        label.classList.add('ql-picker-label');
        label.innerHTML = _dropdown2.default;
        label.tabIndex = '0';
        label.setAttribute('role', 'button');
        label.setAttribute('aria-expanded', 'false');
        this.container.appendChild(label);
        return label;
      }
    }, {
      key: 'buildOptions',
      value: function buildOptions() {
        var _this3 = this;

        var options = document.createElement('span');
        options.classList.add('ql-picker-options');

        // Don't want screen readers to read this until options are visible
        options.setAttribute('aria-hidden', 'true');
        options.tabIndex = '-1';

        // Need a unique id for aria-controls
        options.id = 'ql-picker-options-' + optionsCounter;
        optionsCounter += 1;
        this.label.setAttribute('aria-controls', options.id);

        this.options = options;

        [].slice.call(this.select.options).forEach(function (option) {
          var item = _this3.buildItem(option);
          options.appendChild(item);
          if (option.selected === true) {
            _this3.selectItem(item);
          }
        });
        this.container.appendChild(options);
      }
    }, {
      key: 'buildPicker',
      value: function buildPicker() {
        var _this4 = this;

        [].slice.call(this.select.attributes).forEach(function (item) {
          _this4.container.setAttribute(item.name, item.value);
        });
        this.container.classList.add('ql-picker');
        this.label = this.buildLabel();
        this.buildOptions();
      }
    }, {
      key: 'escape',
      value: function escape() {
        var _this5 = this;

        // Close menu and return focus to trigger label
        this.close();
        // Need setTimeout for accessibility to ensure that the browser executes
        // focus on the next process thread and after any DOM content changes
        setTimeout(function () {
          return _this5.label.focus();
        }, 1);
      }
    }, {
      key: 'close',
      value: function close() {
        this.container.classList.remove('ql-expanded');
        this.label.setAttribute('aria-expanded', 'false');
        this.options.setAttribute('aria-hidden', 'true');
      }
    }, {
      key: 'selectItem',
      value: function selectItem(item) {
        var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

        var selected = this.container.querySelector('.ql-selected');
        if (item === selected) return;
        if (selected != null) {
          selected.classList.remove('ql-selected');
        }
        if (item == null) return;
        item.classList.add('ql-selected');
        this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);
        if (item.hasAttribute('data-value')) {
          this.label.setAttribute('data-value', item.getAttribute('data-value'));
        } else {
          this.label.removeAttribute('data-value');
        }
        if (item.hasAttribute('data-label')) {
          this.label.setAttribute('data-label', item.getAttribute('data-label'));
        } else {
          this.label.removeAttribute('data-label');
        }
        if (trigger) {
          if (typeof Event === 'function') {
            this.select.dispatchEvent(new Event('change'));
          } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {
            // IE11
            var event = document.createEvent('Event');
            event.initEvent('change', true, true);
            this.select.dispatchEvent(event);
          }
          this.close();
        }
      }
    }, {
      key: 'update',
      value: function update() {
        var option = void 0;
        if (this.select.selectedIndex > -1) {
          var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];
          option = this.select.options[this.select.selectedIndex];
          this.selectItem(item);
        } else {
          this.selectItem(null);
        }
        var isActive = option != null && option !== this.select.querySelector('option[selected]');
        this.label.classList.toggle('ql-active', isActive);
      }
    }]);

    return Picker;
  }();

  exports.default = Picker;

  /***/ }),
  /* 29 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _quill = __webpack_require__(5);

  var _quill2 = _interopRequireDefault(_quill);

  var _block = __webpack_require__(4);

  var _block2 = _interopRequireDefault(_block);

  var _break = __webpack_require__(16);

  var _break2 = _interopRequireDefault(_break);

  var _container = __webpack_require__(25);

  var _container2 = _interopRequireDefault(_container);

  var _cursor = __webpack_require__(24);

  var _cursor2 = _interopRequireDefault(_cursor);

  var _embed = __webpack_require__(35);

  var _embed2 = _interopRequireDefault(_embed);

  var _inline = __webpack_require__(6);

  var _inline2 = _interopRequireDefault(_inline);

  var _scroll = __webpack_require__(22);

  var _scroll2 = _interopRequireDefault(_scroll);

  var _text = __webpack_require__(7);

  var _text2 = _interopRequireDefault(_text);

  var _clipboard = __webpack_require__(55);

  var _clipboard2 = _interopRequireDefault(_clipboard);

  var _history = __webpack_require__(42);

  var _history2 = _interopRequireDefault(_history);

  var _keyboard = __webpack_require__(23);

  var _keyboard2 = _interopRequireDefault(_keyboard);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  _quill2.default.register({
    'blots/block': _block2.default,
    'blots/block/embed': _block.BlockEmbed,
    'blots/break': _break2.default,
    'blots/container': _container2.default,
    'blots/cursor': _cursor2.default,
    'blots/embed': _embed2.default,
    'blots/inline': _inline2.default,
    'blots/scroll': _scroll2.default,
    'blots/text': _text2.default,

    'modules/clipboard': _clipboard2.default,
    'modules/history': _history2.default,
    'modules/keyboard': _keyboard2.default
  });

  _parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);

  exports.default = _quill2.default;

  /***/ }),
  /* 30 */
  /***/ (function(module, exports, __webpack_require__) {

  Object.defineProperty(exports, "__esModule", { value: true });
  var Registry = __webpack_require__(1);
  var ShadowBlot = /** @class */ (function () {
      function ShadowBlot(domNode) {
          this.domNode = domNode;
          // @ts-ignore
          this.domNode[Registry.DATA_KEY] = { blot: this };
      }
      Object.defineProperty(ShadowBlot.prototype, "statics", {
          // Hack for accessing inherited static methods
          get: function () {
              return this.constructor;
          },
          enumerable: true,
          configurable: true
      });
      ShadowBlot.create = function (value) {
          if (this.tagName == null) {
              throw new Registry.ParchmentError('Blot definition missing tagName');
          }
          var node;
          if (Array.isArray(this.tagName)) {
              if (typeof value === 'string') {
                  value = value.toUpperCase();
                  if (parseInt(value).toString() === value) {
                      value = parseInt(value);
                  }
              }
              if (typeof value === 'number') {
                  node = document.createElement(this.tagName[value - 1]);
              }
              else if (this.tagName.indexOf(value) > -1) {
                  node = document.createElement(value);
              }
              else {
                  node = document.createElement(this.tagName[0]);
              }
          }
          else {
              node = document.createElement(this.tagName);
          }
          if (this.className) {
              node.classList.add(this.className);
          }
          return node;
      };
      ShadowBlot.prototype.attach = function () {
          if (this.parent != null) {
              this.scroll = this.parent.scroll;
          }
      };
      ShadowBlot.prototype.clone = function () {
          var domNode = this.domNode.cloneNode(false);
          return Registry.create(domNode);
      };
      ShadowBlot.prototype.detach = function () {
          if (this.parent != null)
              this.parent.removeChild(this);
          // @ts-ignore
          delete this.domNode[Registry.DATA_KEY];
      };
      ShadowBlot.prototype.deleteAt = function (index, length) {
          var blot = this.isolate(index, length);
          blot.remove();
      };
      ShadowBlot.prototype.formatAt = function (index, length, name, value) {
          var blot = this.isolate(index, length);
          if (Registry.query(name, Registry.Scope.BLOT) != null && value) {
              blot.wrap(name, value);
          }
          else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {
              var parent = Registry.create(this.statics.scope);
              blot.wrap(parent);
              parent.format(name, value);
          }
      };
      ShadowBlot.prototype.insertAt = function (index, value, def) {
          var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);
          var ref = this.split(index);
          this.parent.insertBefore(blot, ref);
      };
      ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {
          if (refBlot === void 0) { refBlot = null; }
          if (this.parent != null) {
              this.parent.children.remove(this);
          }
          var refDomNode = null;
          parentBlot.children.insertBefore(this, refBlot);
          if (refBlot != null) {
              refDomNode = refBlot.domNode;
          }
          if (this.domNode.parentNode != parentBlot.domNode ||
              this.domNode.nextSibling != refDomNode) {
              parentBlot.domNode.insertBefore(this.domNode, refDomNode);
          }
          this.parent = parentBlot;
          this.attach();
      };
      ShadowBlot.prototype.isolate = function (index, length) {
          var target = this.split(index);
          target.split(length);
          return target;
      };
      ShadowBlot.prototype.length = function () {
          return 1;
      };
      ShadowBlot.prototype.offset = function (root) {
          if (root === void 0) { root = this.parent; }
          if (this.parent == null || this == root)
              return 0;
          return this.parent.children.offset(this) + this.parent.offset(root);
      };
      ShadowBlot.prototype.optimize = function (context) {
          // TODO clean up once we use WeakMap
          // @ts-ignore
          if (this.domNode[Registry.DATA_KEY] != null) {
              // @ts-ignore
              delete this.domNode[Registry.DATA_KEY].mutations;
          }
      };
      ShadowBlot.prototype.remove = function () {
          if (this.domNode.parentNode != null) {
              this.domNode.parentNode.removeChild(this.domNode);
          }
          this.detach();
      };
      ShadowBlot.prototype.replace = function (target) {
          if (target.parent == null)
              return;
          target.parent.insertBefore(this, target.next);
          target.remove();
      };
      ShadowBlot.prototype.replaceWith = function (name, value) {
          var replacement = typeof name === 'string' ? Registry.create(name, value) : name;
          replacement.replace(this);
          return replacement;
      };
      ShadowBlot.prototype.split = function (index, force) {
          return index === 0 ? this : this.next;
      };
      ShadowBlot.prototype.update = function (mutations, context) {
          // Nothing to do by default
      };
      ShadowBlot.prototype.wrap = function (name, value) {
          var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;
          if (this.parent != null) {
              this.parent.insertBefore(wrapper, this.next);
          }
          wrapper.appendChild(this);
          return wrapper;
      };
      ShadowBlot.blotName = 'abstract';
      return ShadowBlot;
  }());
  exports.default = ShadowBlot;


  /***/ }),
  /* 31 */
  /***/ (function(module, exports, __webpack_require__) {

  Object.defineProperty(exports, "__esModule", { value: true });
  var attributor_1 = __webpack_require__(12);
  var class_1 = __webpack_require__(32);
  var style_1 = __webpack_require__(33);
  var Registry = __webpack_require__(1);
  var AttributorStore = /** @class */ (function () {
      function AttributorStore(domNode) {
          this.attributes = {};
          this.domNode = domNode;
          this.build();
      }
      AttributorStore.prototype.attribute = function (attribute, value) {
          // verb
          if (value) {
              if (attribute.add(this.domNode, value)) {
                  if (attribute.value(this.domNode) != null) {
                      this.attributes[attribute.attrName] = attribute;
                  }
                  else {
                      delete this.attributes[attribute.attrName];
                  }
              }
          }
          else {
              attribute.remove(this.domNode);
              delete this.attributes[attribute.attrName];
          }
      };
      AttributorStore.prototype.build = function () {
          var _this = this;
          this.attributes = {};
          var attributes = attributor_1.default.keys(this.domNode);
          var classes = class_1.default.keys(this.domNode);
          var styles = style_1.default.keys(this.domNode);
          attributes
              .concat(classes)
              .concat(styles)
              .forEach(function (name) {
              var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);
              if (attr instanceof attributor_1.default) {
                  _this.attributes[attr.attrName] = attr;
              }
          });
      };
      AttributorStore.prototype.copy = function (target) {
          var _this = this;
          Object.keys(this.attributes).forEach(function (key) {
              var value = _this.attributes[key].value(_this.domNode);
              target.format(key, value);
          });
      };
      AttributorStore.prototype.move = function (target) {
          var _this = this;
          this.copy(target);
          Object.keys(this.attributes).forEach(function (key) {
              _this.attributes[key].remove(_this.domNode);
          });
          this.attributes = {};
      };
      AttributorStore.prototype.values = function () {
          var _this = this;
          return Object.keys(this.attributes).reduce(function (attributes, name) {
              attributes[name] = _this.attributes[name].value(_this.domNode);
              return attributes;
          }, {});
      };
      return AttributorStore;
  }());
  exports.default = AttributorStore;


  /***/ }),
  /* 32 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var attributor_1 = __webpack_require__(12);
  function match(node, prefix) {
      var className = node.getAttribute('class') || '';
      return className.split(/\s+/).filter(function (name) {
          return name.indexOf(prefix + "-") === 0;
      });
  }
  var ClassAttributor = /** @class */ (function (_super) {
      __extends(ClassAttributor, _super);
      function ClassAttributor() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      ClassAttributor.keys = function (node) {
          return (node.getAttribute('class') || '').split(/\s+/).map(function (name) {
              return name
                  .split('-')
                  .slice(0, -1)
                  .join('-');
          });
      };
      ClassAttributor.prototype.add = function (node, value) {
          if (!this.canAdd(node, value))
              return false;
          this.remove(node);
          node.classList.add(this.keyName + "-" + value);
          return true;
      };
      ClassAttributor.prototype.remove = function (node) {
          var matches = match(node, this.keyName);
          matches.forEach(function (name) {
              node.classList.remove(name);
          });
          if (node.classList.length === 0) {
              node.removeAttribute('class');
          }
      };
      ClassAttributor.prototype.value = function (node) {
          var result = match(node, this.keyName)[0] || '';
          var value = result.slice(this.keyName.length + 1); // +1 for hyphen
          return this.canAdd(node, value) ? value : '';
      };
      return ClassAttributor;
  }(attributor_1.default));
  exports.default = ClassAttributor;


  /***/ }),
  /* 33 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var attributor_1 = __webpack_require__(12);
  function camelize(name) {
      var parts = name.split('-');
      var rest = parts
          .slice(1)
          .map(function (part) {
          return part[0].toUpperCase() + part.slice(1);
      })
          .join('');
      return parts[0] + rest;
  }
  var StyleAttributor = /** @class */ (function (_super) {
      __extends(StyleAttributor, _super);
      function StyleAttributor() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      StyleAttributor.keys = function (node) {
          return (node.getAttribute('style') || '').split(';').map(function (value) {
              var arr = value.split(':');
              return arr[0].trim();
          });
      };
      StyleAttributor.prototype.add = function (node, value) {
          if (!this.canAdd(node, value))
              return false;
          // @ts-ignore
          node.style[camelize(this.keyName)] = value;
          return true;
      };
      StyleAttributor.prototype.remove = function (node) {
          // @ts-ignore
          node.style[camelize(this.keyName)] = '';
          if (!node.getAttribute('style')) {
              node.removeAttribute('style');
          }
      };
      StyleAttributor.prototype.value = function (node) {
          // @ts-ignore
          var value = node.style[camelize(this.keyName)];
          return this.canAdd(node, value) ? value : '';
      };
      return StyleAttributor;
  }(attributor_1.default));
  exports.default = StyleAttributor;


  /***/ }),
  /* 34 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  var Theme = function () {
    function Theme(quill, options) {
      _classCallCheck(this, Theme);

      this.quill = quill;
      this.options = options;
      this.modules = {};
    }

    _createClass(Theme, [{
      key: 'init',
      value: function init() {
        var _this = this;

        Object.keys(this.options.modules).forEach(function (name) {
          if (_this.modules[name] == null) {
            _this.addModule(name);
          }
        });
      }
    }, {
      key: 'addModule',
      value: function addModule(name) {
        var moduleClass = this.quill.constructor.import('modules/' + name);
        this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});
        return this.modules[name];
      }
    }]);

    return Theme;
  }();

  Theme.DEFAULTS = {
    modules: {}
  };
  Theme.themes = {
    'default': Theme
  };

  exports.default = Theme;

  /***/ }),
  /* 35 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _text = __webpack_require__(7);

  var _text2 = _interopRequireDefault(_text);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var GUARD_TEXT = '\uFEFF';

  var Embed = function (_Parchment$Embed) {
    _inherits(Embed, _Parchment$Embed);

    function Embed(node) {
      _classCallCheck(this, Embed);

      var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));

      _this.contentNode = document.createElement('span');
      _this.contentNode.setAttribute('contenteditable', false);
      [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {
        _this.contentNode.appendChild(childNode);
      });
      _this.leftGuard = document.createTextNode(GUARD_TEXT);
      _this.rightGuard = document.createTextNode(GUARD_TEXT);
      _this.domNode.appendChild(_this.leftGuard);
      _this.domNode.appendChild(_this.contentNode);
      _this.domNode.appendChild(_this.rightGuard);
      return _this;
    }

    _createClass(Embed, [{
      key: 'index',
      value: function index(node, offset) {
        if (node === this.leftGuard) return 0;
        if (node === this.rightGuard) return 1;
        return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);
      }
    }, {
      key: 'restore',
      value: function restore(node) {
        var range = void 0,
            textNode = void 0;
        var text = node.data.split(GUARD_TEXT).join('');
        if (node === this.leftGuard) {
          if (this.prev instanceof _text2.default) {
            var prevLength = this.prev.length();
            this.prev.insertAt(prevLength, text);
            range = {
              startNode: this.prev.domNode,
              startOffset: prevLength + text.length
            };
          } else {
            textNode = document.createTextNode(text);
            this.parent.insertBefore(_parchment2.default.create(textNode), this);
            range = {
              startNode: textNode,
              startOffset: text.length
            };
          }
        } else if (node === this.rightGuard) {
          if (this.next instanceof _text2.default) {
            this.next.insertAt(0, text);
            range = {
              startNode: this.next.domNode,
              startOffset: text.length
            };
          } else {
            textNode = document.createTextNode(text);
            this.parent.insertBefore(_parchment2.default.create(textNode), this.next);
            range = {
              startNode: textNode,
              startOffset: text.length
            };
          }
        }
        node.data = GUARD_TEXT;
        return range;
      }
    }, {
      key: 'update',
      value: function update(mutations, context) {
        var _this2 = this;

        mutations.forEach(function (mutation) {
          if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {
            var range = _this2.restore(mutation.target);
            if (range) context.range = range;
          }
        });
      }
    }]);

    return Embed;
  }(_parchment2.default.Embed);

  exports.default = Embed;

  /***/ }),
  /* 36 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  var config = {
    scope: _parchment2.default.Scope.BLOCK,
    whitelist: ['right', 'center', 'justify']
  };

  var AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);
  var AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);
  var AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);

  exports.AlignAttribute = AlignAttribute;
  exports.AlignClass = AlignClass;
  exports.AlignStyle = AlignStyle;

  /***/ }),
  /* 37 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.BackgroundStyle = exports.BackgroundClass = undefined;

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _color = __webpack_require__(26);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  var BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {
    scope: _parchment2.default.Scope.INLINE
  });
  var BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {
    scope: _parchment2.default.Scope.INLINE
  });

  exports.BackgroundClass = BackgroundClass;
  exports.BackgroundStyle = BackgroundStyle;

  /***/ }),
  /* 38 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  var config = {
    scope: _parchment2.default.Scope.BLOCK,
    whitelist: ['rtl']
  };

  var DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);
  var DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);
  var DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);

  exports.DirectionAttribute = DirectionAttribute;
  exports.DirectionClass = DirectionClass;
  exports.DirectionStyle = DirectionStyle;

  /***/ }),
  /* 39 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.FontClass = exports.FontStyle = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var config = {
    scope: _parchment2.default.Scope.INLINE,
    whitelist: ['serif', 'monospace']
  };

  var FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);

  var FontStyleAttributor = function (_Parchment$Attributor) {
    _inherits(FontStyleAttributor, _Parchment$Attributor);

    function FontStyleAttributor() {
      _classCallCheck(this, FontStyleAttributor);

      return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));
    }

    _createClass(FontStyleAttributor, [{
      key: 'value',
      value: function value(node) {
        return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/["']/g, '');
      }
    }]);

    return FontStyleAttributor;
  }(_parchment2.default.Attributor.Style);

  var FontStyle = new FontStyleAttributor('font', 'font-family', config);

  exports.FontStyle = FontStyle;
  exports.FontClass = FontClass;

  /***/ }),
  /* 40 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.SizeStyle = exports.SizeClass = undefined;

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  var SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {
    scope: _parchment2.default.Scope.INLINE,
    whitelist: ['small', 'large', 'huge']
  });
  var SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {
    scope: _parchment2.default.Scope.INLINE,
    whitelist: ['10px', '18px', '32px']
  });

  exports.SizeClass = SizeClass;
  exports.SizeStyle = SizeStyle;

  /***/ }),
  /* 41 */
  /***/ (function(module, exports, __webpack_require__) {


  module.exports = {
    'align': {
      '': __webpack_require__(76),
      'center': __webpack_require__(77),
      'right': __webpack_require__(78),
      'justify': __webpack_require__(79)
    },
    'background': __webpack_require__(80),
    'blockquote': __webpack_require__(81),
    'bold': __webpack_require__(82),
    'clean': __webpack_require__(83),
    'code': __webpack_require__(58),
    'code-block': __webpack_require__(58),
    'color': __webpack_require__(84),
    'direction': {
      '': __webpack_require__(85),
      'rtl': __webpack_require__(86)
    },
    'float': {
      'center': __webpack_require__(87),
      'full': __webpack_require__(88),
      'left': __webpack_require__(89),
      'right': __webpack_require__(90)
    },
    'formula': __webpack_require__(91),
    'header': {
      '1': __webpack_require__(92),
      '2': __webpack_require__(93)
    },
    'italic': __webpack_require__(94),
    'image': __webpack_require__(95),
    'indent': {
      '+1': __webpack_require__(96),
      '-1': __webpack_require__(97)
    },
    'link': __webpack_require__(98),
    'list': {
      'ordered': __webpack_require__(99),
      'bullet': __webpack_require__(100),
      'check': __webpack_require__(101)
    },
    'script': {
      'sub': __webpack_require__(102),
      'super': __webpack_require__(103)
    },
    'strike': __webpack_require__(104),
    'underline': __webpack_require__(105),
    'video': __webpack_require__(106)
  };

  /***/ }),
  /* 42 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.getLastChangeIndex = exports.default = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _quill = __webpack_require__(5);

  var _quill2 = _interopRequireDefault(_quill);

  var _module = __webpack_require__(9);

  var _module2 = _interopRequireDefault(_module);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var History = function (_Module) {
    _inherits(History, _Module);

    function History(quill, options) {
      _classCallCheck(this, History);

      var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));

      _this.lastRecorded = 0;
      _this.ignoreChange = false;
      _this.clear();
      _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {
        if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;
        if (!_this.options.userOnly || source === _quill2.default.sources.USER) {
          _this.record(delta, oldDelta);
        } else {
          _this.transform(delta);
        }
      });
      _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));
      _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));
      if (/Win/i.test(navigator.platform)) {
        _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));
      }
      return _this;
    }

    _createClass(History, [{
      key: 'change',
      value: function change(source, dest) {
        if (this.stack[source].length === 0) return;
        var delta = this.stack[source].pop();
        this.stack[dest].push(delta);
        this.lastRecorded = 0;
        this.ignoreChange = true;
        this.quill.updateContents(delta[source], _quill2.default.sources.USER);
        this.ignoreChange = false;
        var index = getLastChangeIndex(delta[source]);
        this.quill.setSelection(index);
      }
    }, {
      key: 'clear',
      value: function clear() {
        this.stack = { undo: [], redo: [] };
      }
    }, {
      key: 'cutoff',
      value: function cutoff() {
        this.lastRecorded = 0;
      }
    }, {
      key: 'record',
      value: function record(changeDelta, oldDelta) {
        if (changeDelta.ops.length === 0) return;
        this.stack.redo = [];
        var undoDelta = this.quill.getContents().diff(oldDelta);
        var timestamp = Date.now();
        if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {
          var delta = this.stack.undo.pop();
          undoDelta = undoDelta.compose(delta.undo);
          changeDelta = delta.redo.compose(changeDelta);
        } else {
          this.lastRecorded = timestamp;
        }
        this.stack.undo.push({
          redo: changeDelta,
          undo: undoDelta
        });
        if (this.stack.undo.length > this.options.maxStack) {
          this.stack.undo.shift();
        }
      }
    }, {
      key: 'redo',
      value: function redo() {
        this.change('redo', 'undo');
      }
    }, {
      key: 'transform',
      value: function transform(delta) {
        this.stack.undo.forEach(function (change) {
          change.undo = delta.transform(change.undo, true);
          change.redo = delta.transform(change.redo, true);
        });
        this.stack.redo.forEach(function (change) {
          change.undo = delta.transform(change.undo, true);
          change.redo = delta.transform(change.redo, true);
        });
      }
    }, {
      key: 'undo',
      value: function undo() {
        this.change('undo', 'redo');
      }
    }]);

    return History;
  }(_module2.default);

  History.DEFAULTS = {
    delay: 1000,
    maxStack: 100,
    userOnly: false
  };

  function endsWithNewlineChange(delta) {
    var lastOp = delta.ops[delta.ops.length - 1];
    if (lastOp == null) return false;
    if (lastOp.insert != null) {
      return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\n');
    }
    if (lastOp.attributes != null) {
      return Object.keys(lastOp.attributes).some(function (attr) {
        return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;
      });
    }
    return false;
  }

  function getLastChangeIndex(delta) {
    var deleteLength = delta.reduce(function (length, op) {
      length += op.delete || 0;
      return length;
    }, 0);
    var changeIndex = delta.length() - deleteLength;
    if (endsWithNewlineChange(delta)) {
      changeIndex -= 1;
    }
    return changeIndex;
  }

  exports.default = History;
  exports.getLastChangeIndex = getLastChangeIndex;

  /***/ }),
  /* 43 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.BaseTooltip = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _extend = __webpack_require__(3);

  var _extend2 = _interopRequireDefault(_extend);

  var _quillDelta = __webpack_require__(2);

  var _quillDelta2 = _interopRequireDefault(_quillDelta);

  var _emitter = __webpack_require__(8);

  var _emitter2 = _interopRequireDefault(_emitter);

  var _keyboard = __webpack_require__(23);

  var _keyboard2 = _interopRequireDefault(_keyboard);

  var _theme = __webpack_require__(34);

  var _theme2 = _interopRequireDefault(_theme);

  var _colorPicker = __webpack_require__(59);

  var _colorPicker2 = _interopRequireDefault(_colorPicker);

  var _iconPicker = __webpack_require__(60);

  var _iconPicker2 = _interopRequireDefault(_iconPicker);

  var _picker = __webpack_require__(28);

  var _picker2 = _interopRequireDefault(_picker);

  var _tooltip = __webpack_require__(61);

  var _tooltip2 = _interopRequireDefault(_tooltip);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var ALIGNS = [false, 'center', 'right', 'justify'];

  var COLORS = ["#000000", "#e60000", "#ff9900", "#ffff00", "#008a00", "#0066cc", "#9933ff", "#ffffff", "#facccc", "#ffebcc", "#ffffcc", "#cce8cc", "#cce0f5", "#ebd6ff", "#bbbbbb", "#f06666", "#ffc266", "#ffff66", "#66b966", "#66a3e0", "#c285ff", "#888888", "#a10000", "#b26b00", "#b2b200", "#006100", "#0047b2", "#6b24b2", "#444444", "#5c0000", "#663d00", "#666600", "#003700", "#002966", "#3d1466"];

  var FONTS = [false, 'serif', 'monospace'];

  var HEADERS = ['1', '2', '3', false];

  var SIZES = ['small', false, 'large', 'huge'];

  var BaseTheme = function (_Theme) {
    _inherits(BaseTheme, _Theme);

    function BaseTheme(quill, options) {
      _classCallCheck(this, BaseTheme);

      var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));

      var listener = function listener(e) {
        if (!document.body.contains(quill.root)) {
          return document.body.removeEventListener('click', listener);
        }
        if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {
          _this.tooltip.hide();
        }
        if (_this.pickers != null) {
          _this.pickers.forEach(function (picker) {
            if (!picker.container.contains(e.target)) {
              picker.close();
            }
          });
        }
      };
      quill.emitter.listenDOM('click', document.body, listener);
      return _this;
    }

    _createClass(BaseTheme, [{
      key: 'addModule',
      value: function addModule(name) {
        var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);
        if (name === 'toolbar') {
          this.extendToolbar(module);
        }
        return module;
      }
    }, {
      key: 'buildButtons',
      value: function buildButtons(buttons, icons) {
        buttons.forEach(function (button) {
          var className = button.getAttribute('class') || '';
          className.split(/\s+/).forEach(function (name) {
            if (!name.startsWith('ql-')) return;
            name = name.slice('ql-'.length);
            if (icons[name] == null) return;
            if (name === 'direction') {
              button.innerHTML = icons[name][''] + icons[name]['rtl'];
            } else if (typeof icons[name] === 'string') {
              button.innerHTML = icons[name];
            } else {
              var value = button.value || '';
              if (value != null && icons[name][value]) {
                button.innerHTML = icons[name][value];
              }
            }
          });
        });
      }
    }, {
      key: 'buildPickers',
      value: function buildPickers(selects, icons) {
        var _this2 = this;

        this.pickers = selects.map(function (select) {
          if (select.classList.contains('ql-align')) {
            if (select.querySelector('option') == null) {
              fillSelect(select, ALIGNS);
            }
            return new _iconPicker2.default(select, icons.align);
          } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {
            var format = select.classList.contains('ql-background') ? 'background' : 'color';
            if (select.querySelector('option') == null) {
              fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');
            }
            return new _colorPicker2.default(select, icons[format]);
          } else {
            if (select.querySelector('option') == null) {
              if (select.classList.contains('ql-font')) {
                fillSelect(select, FONTS);
              } else if (select.classList.contains('ql-header')) {
                fillSelect(select, HEADERS);
              } else if (select.classList.contains('ql-size')) {
                fillSelect(select, SIZES);
              }
            }
            return new _picker2.default(select);
          }
        });
        var update = function update() {
          _this2.pickers.forEach(function (picker) {
            picker.update();
          });
        };
        this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);
      }
    }]);

    return BaseTheme;
  }(_theme2.default);

  BaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {
    modules: {
      toolbar: {
        handlers: {
          formula: function formula() {
            this.quill.theme.tooltip.edit('formula');
          },
          image: function image() {
            var _this3 = this;

            var fileInput = this.container.querySelector('input.ql-image[type=file]');
            if (fileInput == null) {
              fileInput = document.createElement('input');
              fileInput.setAttribute('type', 'file');
              fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');
              fileInput.classList.add('ql-image');
              fileInput.addEventListener('change', function () {
                if (fileInput.files != null && fileInput.files[0] != null) {
                  var reader = new FileReader();
                  reader.onload = function (e) {
                    var range = _this3.quill.getSelection(true);
                    _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);
                    _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);
                    fileInput.value = "";
                  };
                  reader.readAsDataURL(fileInput.files[0]);
                }
              });
              this.container.appendChild(fileInput);
            }
            fileInput.click();
          },
          video: function video() {
            this.quill.theme.tooltip.edit('video');
          }
        }
      }
    }
  });

  var BaseTooltip = function (_Tooltip) {
    _inherits(BaseTooltip, _Tooltip);

    function BaseTooltip(quill, boundsContainer) {
      _classCallCheck(this, BaseTooltip);

      var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));

      _this4.textbox = _this4.root.querySelector('input[type="text"]');
      _this4.listen();
      return _this4;
    }

    _createClass(BaseTooltip, [{
      key: 'listen',
      value: function listen() {
        var _this5 = this;

        this.textbox.addEventListener('keydown', function (event) {
          if (_keyboard2.default.match(event, 'enter')) {
            _this5.save();
            event.preventDefault();
          } else if (_keyboard2.default.match(event, 'escape')) {
            _this5.cancel();
            event.preventDefault();
          }
        });
      }
    }, {
      key: 'cancel',
      value: function cancel() {
        this.hide();
      }
    }, {
      key: 'edit',
      value: function edit() {
        var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';
        var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

        this.root.classList.remove('ql-hidden');
        this.root.classList.add('ql-editing');
        if (preview != null) {
          this.textbox.value = preview;
        } else if (mode !== this.root.getAttribute('data-mode')) {
          this.textbox.value = '';
        }
        this.position(this.quill.getBounds(this.quill.selection.savedRange));
        this.textbox.select();
        this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');
        this.root.setAttribute('data-mode', mode);
      }
    }, {
      key: 'restoreFocus',
      value: function restoreFocus() {
        var scrollTop = this.quill.scrollingContainer.scrollTop;
        this.quill.focus();
        this.quill.scrollingContainer.scrollTop = scrollTop;
      }
    }, {
      key: 'save',
      value: function save() {
        var value = this.textbox.value;
        switch (this.root.getAttribute('data-mode')) {
          case 'link':
            {
              var scrollTop = this.quill.root.scrollTop;
              if (this.linkRange) {
                this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);
                delete this.linkRange;
              } else {
                this.restoreFocus();
                this.quill.format('link', value, _emitter2.default.sources.USER);
              }
              this.quill.root.scrollTop = scrollTop;
              break;
            }
          case 'video':
            {
              value = extractVideoUrl(value);
            } // eslint-disable-next-line no-fallthrough
          case 'formula':
            {
              if (!value) break;
              var range = this.quill.getSelection(true);
              if (range != null) {
                var index = range.index + range.length;
                this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);
                if (this.root.getAttribute('data-mode') === 'formula') {
                  this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);
                }
                this.quill.setSelection(index + 2, _emitter2.default.sources.USER);
              }
              break;
            }
        }
        this.textbox.value = '';
        this.hide();
      }
    }]);

    return BaseTooltip;
  }(_tooltip2.default);

  function extractVideoUrl(url) {
    var match = url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);
    if (match) {
      return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';
    }
    if (match = url.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)) {
      // eslint-disable-line no-cond-assign
      return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';
    }
    return url;
  }

  function fillSelect(select, values) {
    var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

    values.forEach(function (value) {
      var option = document.createElement('option');
      if (value === defaultValue) {
        option.setAttribute('selected', 'selected');
      } else {
        option.setAttribute('value', value);
      }
      select.appendChild(option);
    });
  }

  exports.BaseTooltip = BaseTooltip;
  exports.default = BaseTheme;

  /***/ }),
  /* 44 */
  /***/ (function(module, exports, __webpack_require__) {

  Object.defineProperty(exports, "__esModule", { value: true });
  var LinkedList = /** @class */ (function () {
      function LinkedList() {
          this.head = this.tail = null;
          this.length = 0;
      }
      LinkedList.prototype.append = function () {
          var nodes = [];
          for (var _i = 0; _i < arguments.length; _i++) {
              nodes[_i] = arguments[_i];
          }
          this.insertBefore(nodes[0], null);
          if (nodes.length > 1) {
              this.append.apply(this, nodes.slice(1));
          }
      };
      LinkedList.prototype.contains = function (node) {
          var cur, next = this.iterator();
          while ((cur = next())) {
              if (cur === node)
                  return true;
          }
          return false;
      };
      LinkedList.prototype.insertBefore = function (node, refNode) {
          if (!node)
              return;
          node.next = refNode;
          if (refNode != null) {
              node.prev = refNode.prev;
              if (refNode.prev != null) {
                  refNode.prev.next = node;
              }
              refNode.prev = node;
              if (refNode === this.head) {
                  this.head = node;
              }
          }
          else if (this.tail != null) {
              this.tail.next = node;
              node.prev = this.tail;
              this.tail = node;
          }
          else {
              node.prev = null;
              this.head = this.tail = node;
          }
          this.length += 1;
      };
      LinkedList.prototype.offset = function (target) {
          var index = 0, cur = this.head;
          while (cur != null) {
              if (cur === target)
                  return index;
              index += cur.length();
              cur = cur.next;
          }
          return -1;
      };
      LinkedList.prototype.remove = function (node) {
          if (!this.contains(node))
              return;
          if (node.prev != null)
              node.prev.next = node.next;
          if (node.next != null)
              node.next.prev = node.prev;
          if (node === this.head)
              this.head = node.next;
          if (node === this.tail)
              this.tail = node.prev;
          this.length -= 1;
      };
      LinkedList.prototype.iterator = function (curNode) {
          if (curNode === void 0) { curNode = this.head; }
          // TODO use yield when we can
          return function () {
              var ret = curNode;
              if (curNode != null)
                  curNode = curNode.next;
              return ret;
          };
      };
      LinkedList.prototype.find = function (index, inclusive) {
          if (inclusive === void 0) { inclusive = false; }
          var cur, next = this.iterator();
          while ((cur = next())) {
              var length = cur.length();
              if (index < length ||
                  (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {
                  return [cur, index];
              }
              index -= length;
          }
          return [null, 0];
      };
      LinkedList.prototype.forEach = function (callback) {
          var cur, next = this.iterator();
          while ((cur = next())) {
              callback(cur);
          }
      };
      LinkedList.prototype.forEachAt = function (index, length, callback) {
          if (length <= 0)
              return;
          var _a = this.find(index), startNode = _a[0], offset = _a[1];
          var cur, curIndex = index - offset, next = this.iterator(startNode);
          while ((cur = next()) && curIndex < index + length) {
              var curLength = cur.length();
              if (index > curIndex) {
                  callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));
              }
              else {
                  callback(cur, 0, Math.min(curLength, index + length - curIndex));
              }
              curIndex += curLength;
          }
      };
      LinkedList.prototype.map = function (callback) {
          return this.reduce(function (memo, cur) {
              memo.push(callback(cur));
              return memo;
          }, []);
      };
      LinkedList.prototype.reduce = function (callback, memo) {
          var cur, next = this.iterator();
          while ((cur = next())) {
              memo = callback(memo, cur);
          }
          return memo;
      };
      return LinkedList;
  }());
  exports.default = LinkedList;


  /***/ }),
  /* 45 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var container_1 = __webpack_require__(17);
  var Registry = __webpack_require__(1);
  var OBSERVER_CONFIG = {
      attributes: true,
      characterData: true,
      characterDataOldValue: true,
      childList: true,
      subtree: true,
  };
  var MAX_OPTIMIZE_ITERATIONS = 100;
  var ScrollBlot = /** @class */ (function (_super) {
      __extends(ScrollBlot, _super);
      function ScrollBlot(node) {
          var _this = _super.call(this, node) || this;
          _this.scroll = _this;
          _this.observer = new MutationObserver(function (mutations) {
              _this.update(mutations);
          });
          _this.observer.observe(_this.domNode, OBSERVER_CONFIG);
          _this.attach();
          return _this;
      }
      ScrollBlot.prototype.detach = function () {
          _super.prototype.detach.call(this);
          this.observer.disconnect();
      };
      ScrollBlot.prototype.deleteAt = function (index, length) {
          this.update();
          if (index === 0 && length === this.length()) {
              this.children.forEach(function (child) {
                  child.remove();
              });
          }
          else {
              _super.prototype.deleteAt.call(this, index, length);
          }
      };
      ScrollBlot.prototype.formatAt = function (index, length, name, value) {
          this.update();
          _super.prototype.formatAt.call(this, index, length, name, value);
      };
      ScrollBlot.prototype.insertAt = function (index, value, def) {
          this.update();
          _super.prototype.insertAt.call(this, index, value, def);
      };
      ScrollBlot.prototype.optimize = function (mutations, context) {
          var _this = this;
          if (mutations === void 0) { mutations = []; }
          if (context === void 0) { context = {}; }
          _super.prototype.optimize.call(this, context);
          // We must modify mutations directly, cannot make copy and then modify
          var records = [].slice.call(this.observer.takeRecords());
          // Array.push currently seems to be implemented by a non-tail recursive function
          // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());
          while (records.length > 0)
              mutations.push(records.pop());
          // TODO use WeakMap
          var mark = function (blot, markParent) {
              if (markParent === void 0) { markParent = true; }
              if (blot == null || blot === _this)
                  return;
              if (blot.domNode.parentNode == null)
                  return;
              // @ts-ignore
              if (blot.domNode[Registry.DATA_KEY].mutations == null) {
                  // @ts-ignore
                  blot.domNode[Registry.DATA_KEY].mutations = [];
              }
              if (markParent)
                  mark(blot.parent);
          };
          var optimize = function (blot) {
              // Post-order traversal
              if (
              // @ts-ignore
              blot.domNode[Registry.DATA_KEY] == null ||
                  // @ts-ignore
                  blot.domNode[Registry.DATA_KEY].mutations == null) {
                  return;
              }
              if (blot instanceof container_1.default) {
                  blot.children.forEach(optimize);
              }
              blot.optimize(context);
          };
          var remaining = mutations;
          for (var i = 0; remaining.length > 0; i += 1) {
              if (i >= MAX_OPTIMIZE_ITERATIONS) {
                  throw new Error('[Parchment] Maximum optimize iterations reached');
              }
              remaining.forEach(function (mutation) {
                  var blot = Registry.find(mutation.target, true);
                  if (blot == null)
                      return;
                  if (blot.domNode === mutation.target) {
                      if (mutation.type === 'childList') {
                          mark(Registry.find(mutation.previousSibling, false));
                          [].forEach.call(mutation.addedNodes, function (node) {
                              var child = Registry.find(node, false);
                              mark(child, false);
                              if (child instanceof container_1.default) {
                                  child.children.forEach(function (grandChild) {
                                      mark(grandChild, false);
                                  });
                              }
                          });
                      }
                      else if (mutation.type === 'attributes') {
                          mark(blot.prev);
                      }
                  }
                  mark(blot);
              });
              this.children.forEach(optimize);
              remaining = [].slice.call(this.observer.takeRecords());
              records = remaining.slice();
              while (records.length > 0)
                  mutations.push(records.pop());
          }
      };
      ScrollBlot.prototype.update = function (mutations, context) {
          var _this = this;
          if (context === void 0) { context = {}; }
          mutations = mutations || this.observer.takeRecords();
          // TODO use WeakMap
          mutations
              .map(function (mutation) {
              var blot = Registry.find(mutation.target, true);
              if (blot == null)
                  return null;
              // @ts-ignore
              if (blot.domNode[Registry.DATA_KEY].mutations == null) {
                  // @ts-ignore
                  blot.domNode[Registry.DATA_KEY].mutations = [mutation];
                  return blot;
              }
              else {
                  // @ts-ignore
                  blot.domNode[Registry.DATA_KEY].mutations.push(mutation);
                  return null;
              }
          })
              .forEach(function (blot) {
              if (blot == null ||
                  blot === _this ||
                  //@ts-ignore
                  blot.domNode[Registry.DATA_KEY] == null)
                  return;
              // @ts-ignore
              blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);
          });
          // @ts-ignore
          if (this.domNode[Registry.DATA_KEY].mutations != null) {
              // @ts-ignore
              _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);
          }
          this.optimize(mutations, context);
      };
      ScrollBlot.blotName = 'scroll';
      ScrollBlot.defaultChild = 'block';
      ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;
      ScrollBlot.tagName = 'DIV';
      return ScrollBlot;
  }(container_1.default));
  exports.default = ScrollBlot;


  /***/ }),
  /* 46 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var format_1 = __webpack_require__(18);
  var Registry = __webpack_require__(1);
  // Shallow object comparison
  function isEqual(obj1, obj2) {
      if (Object.keys(obj1).length !== Object.keys(obj2).length)
          return false;
      // @ts-ignore
      for (var prop in obj1) {
          // @ts-ignore
          if (obj1[prop] !== obj2[prop])
              return false;
      }
      return true;
  }
  var InlineBlot = /** @class */ (function (_super) {
      __extends(InlineBlot, _super);
      function InlineBlot() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      InlineBlot.formats = function (domNode) {
          if (domNode.tagName === InlineBlot.tagName)
              return undefined;
          return _super.formats.call(this, domNode);
      };
      InlineBlot.prototype.format = function (name, value) {
          var _this = this;
          if (name === this.statics.blotName && !value) {
              this.children.forEach(function (child) {
                  if (!(child instanceof format_1.default)) {
                      child = child.wrap(InlineBlot.blotName, true);
                  }
                  _this.attributes.copy(child);
              });
              this.unwrap();
          }
          else {
              _super.prototype.format.call(this, name, value);
          }
      };
      InlineBlot.prototype.formatAt = function (index, length, name, value) {
          if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {
              var blot = this.isolate(index, length);
              blot.format(name, value);
          }
          else {
              _super.prototype.formatAt.call(this, index, length, name, value);
          }
      };
      InlineBlot.prototype.optimize = function (context) {
          _super.prototype.optimize.call(this, context);
          var formats = this.formats();
          if (Object.keys(formats).length === 0) {
              return this.unwrap(); // unformatted span
          }
          var next = this.next;
          if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {
              next.moveChildren(this);
              next.remove();
          }
      };
      InlineBlot.blotName = 'inline';
      InlineBlot.scope = Registry.Scope.INLINE_BLOT;
      InlineBlot.tagName = 'SPAN';
      return InlineBlot;
  }(format_1.default));
  exports.default = InlineBlot;


  /***/ }),
  /* 47 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var format_1 = __webpack_require__(18);
  var Registry = __webpack_require__(1);
  var BlockBlot = /** @class */ (function (_super) {
      __extends(BlockBlot, _super);
      function BlockBlot() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      BlockBlot.formats = function (domNode) {
          var tagName = Registry.query(BlockBlot.blotName).tagName;
          if (domNode.tagName === tagName)
              return undefined;
          return _super.formats.call(this, domNode);
      };
      BlockBlot.prototype.format = function (name, value) {
          if (Registry.query(name, Registry.Scope.BLOCK) == null) {
              return;
          }
          else if (name === this.statics.blotName && !value) {
              this.replaceWith(BlockBlot.blotName);
          }
          else {
              _super.prototype.format.call(this, name, value);
          }
      };
      BlockBlot.prototype.formatAt = function (index, length, name, value) {
          if (Registry.query(name, Registry.Scope.BLOCK) != null) {
              this.format(name, value);
          }
          else {
              _super.prototype.formatAt.call(this, index, length, name, value);
          }
      };
      BlockBlot.prototype.insertAt = function (index, value, def) {
          if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {
              // Insert text or inline
              _super.prototype.insertAt.call(this, index, value, def);
          }
          else {
              var after = this.split(index);
              var blot = Registry.create(value, def);
              after.parent.insertBefore(blot, after);
          }
      };
      BlockBlot.prototype.update = function (mutations, context) {
          if (navigator.userAgent.match(/Trident/)) {
              this.build();
          }
          else {
              _super.prototype.update.call(this, mutations, context);
          }
      };
      BlockBlot.blotName = 'block';
      BlockBlot.scope = Registry.Scope.BLOCK_BLOT;
      BlockBlot.tagName = 'P';
      return BlockBlot;
  }(format_1.default));
  exports.default = BlockBlot;


  /***/ }),
  /* 48 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var leaf_1 = __webpack_require__(19);
  var EmbedBlot = /** @class */ (function (_super) {
      __extends(EmbedBlot, _super);
      function EmbedBlot() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      EmbedBlot.formats = function (domNode) {
          return undefined;
      };
      EmbedBlot.prototype.format = function (name, value) {
          // super.formatAt wraps, which is what we want in general,
          // but this allows subclasses to overwrite for formats
          // that just apply to particular embeds
          _super.prototype.formatAt.call(this, 0, this.length(), name, value);
      };
      EmbedBlot.prototype.formatAt = function (index, length, name, value) {
          if (index === 0 && length === this.length()) {
              this.format(name, value);
          }
          else {
              _super.prototype.formatAt.call(this, index, length, name, value);
          }
      };
      EmbedBlot.prototype.formats = function () {
          return this.statics.formats(this.domNode);
      };
      return EmbedBlot;
  }(leaf_1.default));
  exports.default = EmbedBlot;


  /***/ }),
  /* 49 */
  /***/ (function(module, exports, __webpack_require__) {

  var __extends = (this && this.__extends) || (function () {
      var extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
      return function (d, b) {
          extendStatics(d, b);
          function __() { this.constructor = d; }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
  })();
  Object.defineProperty(exports, "__esModule", { value: true });
  var leaf_1 = __webpack_require__(19);
  var Registry = __webpack_require__(1);
  var TextBlot = /** @class */ (function (_super) {
      __extends(TextBlot, _super);
      function TextBlot(node) {
          var _this = _super.call(this, node) || this;
          _this.text = _this.statics.value(_this.domNode);
          return _this;
      }
      TextBlot.create = function (value) {
          return document.createTextNode(value);
      };
      TextBlot.value = function (domNode) {
          var text = domNode.data;
          // @ts-ignore
          if (text['normalize'])
              text = text['normalize']();
          return text;
      };
      TextBlot.prototype.deleteAt = function (index, length) {
          this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);
      };
      TextBlot.prototype.index = function (node, offset) {
          if (this.domNode === node) {
              return offset;
          }
          return -1;
      };
      TextBlot.prototype.insertAt = function (index, value, def) {
          if (def == null) {
              this.text = this.text.slice(0, index) + value + this.text.slice(index);
              this.domNode.data = this.text;
          }
          else {
              _super.prototype.insertAt.call(this, index, value, def);
          }
      };
      TextBlot.prototype.length = function () {
          return this.text.length;
      };
      TextBlot.prototype.optimize = function (context) {
          _super.prototype.optimize.call(this, context);
          this.text = this.statics.value(this.domNode);
          if (this.text.length === 0) {
              this.remove();
          }
          else if (this.next instanceof TextBlot && this.next.prev === this) {
              this.insertAt(this.length(), this.next.value());
              this.next.remove();
          }
      };
      TextBlot.prototype.position = function (index, inclusive) {
          return [this.domNode, index];
      };
      TextBlot.prototype.split = function (index, force) {
          if (force === void 0) { force = false; }
          if (!force) {
              if (index === 0)
                  return this;
              if (index === this.length())
                  return this.next;
          }
          var after = Registry.create(this.domNode.splitText(index));
          this.parent.insertBefore(after, this.next);
          this.text = this.statics.value(this.domNode);
          return after;
      };
      TextBlot.prototype.update = function (mutations, context) {
          var _this = this;
          if (mutations.some(function (mutation) {
              return mutation.type === 'characterData' && mutation.target === _this.domNode;
          })) {
              this.text = this.statics.value(this.domNode);
          }
      };
      TextBlot.prototype.value = function () {
          return this.text;
      };
      TextBlot.blotName = 'text';
      TextBlot.scope = Registry.Scope.INLINE_BLOT;
      return TextBlot;
  }(leaf_1.default));
  exports.default = TextBlot;


  /***/ }),
  /* 50 */
  /***/ (function(module, exports, __webpack_require__) {


  var elem = document.createElement('div');
  elem.classList.toggle('test-class', false);
  if (elem.classList.contains('test-class')) {
    var _toggle = DOMTokenList.prototype.toggle;
    DOMTokenList.prototype.toggle = function (token, force) {
      if (arguments.length > 1 && !this.contains(token) === !force) {
        return force;
      } else {
        return _toggle.call(this, token);
      }
    };
  }

  if (!String.prototype.startsWith) {
    String.prototype.startsWith = function (searchString, position) {
      position = position || 0;
      return this.substr(position, searchString.length) === searchString;
    };
  }

  if (!String.prototype.endsWith) {
    String.prototype.endsWith = function (searchString, position) {
      var subjectString = this.toString();
      if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {
        position = subjectString.length;
      }
      position -= searchString.length;
      var lastIndex = subjectString.indexOf(searchString, position);
      return lastIndex !== -1 && lastIndex === position;
    };
  }

  if (!Array.prototype.find) {
    Object.defineProperty(Array.prototype, "find", {
      value: function value(predicate) {
        if (this === null) {
          throw new TypeError('Array.prototype.find called on null or undefined');
        }
        if (typeof predicate !== 'function') {
          throw new TypeError('predicate must be a function');
        }
        var list = Object(this);
        var length = list.length >>> 0;
        var thisArg = arguments[1];
        var value;

        for (var i = 0; i < length; i++) {
          value = list[i];
          if (predicate.call(thisArg, value, i, list)) {
            return value;
          }
        }
        return undefined;
      }
    });
  }

  document.addEventListener("DOMContentLoaded", function () {
    // Disable resizing in Firefox
    document.execCommand("enableObjectResizing", false, false);
    // Disable automatic linkifying in IE11
    document.execCommand("autoUrlDetect", false, false);
  });

  /***/ }),
  /* 51 */
  /***/ (function(module, exports) {

  /**
   * This library modifies the diff-patch-match library by Neil Fraser
   * by removing the patch and match functionality and certain advanced
   * options in the diff function. The original license is as follows:
   *
   * ===
   *
   * Diff Match and Patch
   *
   * Copyright 2006 Google Inc.
   * http://code.google.com/p/google-diff-match-patch/
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */


  /**
   * The data structure representing a diff is an array of tuples:
   * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]
   * which means: delete 'Hello', add 'Goodbye' and keep ' world.'
   */
  var DIFF_DELETE = -1;
  var DIFF_INSERT = 1;
  var DIFF_EQUAL = 0;


  /**
   * Find the differences between two texts.  Simplifies the problem by stripping
   * any common prefix or suffix off the texts before diffing.
   * @param {string} text1 Old string to be diffed.
   * @param {string} text2 New string to be diffed.
   * @param {Int} cursor_pos Expected edit position in text1 (optional)
   * @return {Array} Array of diff tuples.
   */
  function diff_main(text1, text2, cursor_pos) {
    // Check for equality (speedup).
    if (text1 == text2) {
      if (text1) {
        return [[DIFF_EQUAL, text1]];
      }
      return [];
    }

    // Check cursor_pos within bounds
    if (cursor_pos < 0 || text1.length < cursor_pos) {
      cursor_pos = null;
    }

    // Trim off common prefix (speedup).
    var commonlength = diff_commonPrefix(text1, text2);
    var commonprefix = text1.substring(0, commonlength);
    text1 = text1.substring(commonlength);
    text2 = text2.substring(commonlength);

    // Trim off common suffix (speedup).
    commonlength = diff_commonSuffix(text1, text2);
    var commonsuffix = text1.substring(text1.length - commonlength);
    text1 = text1.substring(0, text1.length - commonlength);
    text2 = text2.substring(0, text2.length - commonlength);

    // Compute the diff on the middle block.
    var diffs = diff_compute_(text1, text2);

    // Restore the prefix and suffix.
    if (commonprefix) {
      diffs.unshift([DIFF_EQUAL, commonprefix]);
    }
    if (commonsuffix) {
      diffs.push([DIFF_EQUAL, commonsuffix]);
    }
    diff_cleanupMerge(diffs);
    if (cursor_pos != null) {
      diffs = fix_cursor(diffs, cursor_pos);
    }
    diffs = fix_emoji(diffs);
    return diffs;
  }

  /**
   * Find the differences between two texts.  Assumes that the texts do not
   * have any common prefix or suffix.
   * @param {string} text1 Old string to be diffed.
   * @param {string} text2 New string to be diffed.
   * @return {Array} Array of diff tuples.
   */
  function diff_compute_(text1, text2) {
    var diffs;

    if (!text1) {
      // Just add some text (speedup).
      return [[DIFF_INSERT, text2]];
    }

    if (!text2) {
      // Just delete some text (speedup).
      return [[DIFF_DELETE, text1]];
    }

    var longtext = text1.length > text2.length ? text1 : text2;
    var shorttext = text1.length > text2.length ? text2 : text1;
    var i = longtext.indexOf(shorttext);
    if (i != -1) {
      // Shorter text is inside the longer text (speedup).
      diffs = [[DIFF_INSERT, longtext.substring(0, i)],
               [DIFF_EQUAL, shorttext],
               [DIFF_INSERT, longtext.substring(i + shorttext.length)]];
      // Swap insertions for deletions if diff is reversed.
      if (text1.length > text2.length) {
        diffs[0][0] = diffs[2][0] = DIFF_DELETE;
      }
      return diffs;
    }

    if (shorttext.length == 1) {
      // Single character string.
      // After the previous speedup, the character can't be an equality.
      return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];
    }

    // Check to see if the problem can be split in two.
    var hm = diff_halfMatch_(text1, text2);
    if (hm) {
      // A half-match was found, sort out the return data.
      var text1_a = hm[0];
      var text1_b = hm[1];
      var text2_a = hm[2];
      var text2_b = hm[3];
      var mid_common = hm[4];
      // Send both pairs off for separate processing.
      var diffs_a = diff_main(text1_a, text2_a);
      var diffs_b = diff_main(text1_b, text2_b);
      // Merge the results.
      return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);
    }

    return diff_bisect_(text1, text2);
  }

  /**
   * Find the 'middle snake' of a diff, split the problem in two
   * and return the recursively constructed diff.
   * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.
   * @param {string} text1 Old string to be diffed.
   * @param {string} text2 New string to be diffed.
   * @return {Array} Array of diff tuples.
   * @private
   */
  function diff_bisect_(text1, text2) {
    // Cache the text lengths to prevent multiple calls.
    var text1_length = text1.length;
    var text2_length = text2.length;
    var max_d = Math.ceil((text1_length + text2_length) / 2);
    var v_offset = max_d;
    var v_length = 2 * max_d;
    var v1 = new Array(v_length);
    var v2 = new Array(v_length);
    // Setting all elements to -1 is faster in Chrome & Firefox than mixing
    // integers and undefined.
    for (var x = 0; x < v_length; x++) {
      v1[x] = -1;
      v2[x] = -1;
    }
    v1[v_offset + 1] = 0;
    v2[v_offset + 1] = 0;
    var delta = text1_length - text2_length;
    // If the total number of characters is odd, then the front path will collide
    // with the reverse path.
    var front = (delta % 2 != 0);
    // Offsets for start and end of k loop.
    // Prevents mapping of space beyond the grid.
    var k1start = 0;
    var k1end = 0;
    var k2start = 0;
    var k2end = 0;
    for (var d = 0; d < max_d; d++) {
      // Walk the front path one step.
      for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {
        var k1_offset = v_offset + k1;
        var x1;
        if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {
          x1 = v1[k1_offset + 1];
        } else {
          x1 = v1[k1_offset - 1] + 1;
        }
        var y1 = x1 - k1;
        while (x1 < text1_length && y1 < text2_length &&
               text1.charAt(x1) == text2.charAt(y1)) {
          x1++;
          y1++;
        }
        v1[k1_offset] = x1;
        if (x1 > text1_length) {
          // Ran off the right of the graph.
          k1end += 2;
        } else if (y1 > text2_length) {
          // Ran off the bottom of the graph.
          k1start += 2;
        } else if (front) {
          var k2_offset = v_offset + delta - k1;
          if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {
            // Mirror x2 onto top-left coordinate system.
            var x2 = text1_length - v2[k2_offset];
            if (x1 >= x2) {
              // Overlap detected.
              return diff_bisectSplit_(text1, text2, x1, y1);
            }
          }
        }
      }

      // Walk the reverse path one step.
      for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {
        var k2_offset = v_offset + k2;
        var x2;
        if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {
          x2 = v2[k2_offset + 1];
        } else {
          x2 = v2[k2_offset - 1] + 1;
        }
        var y2 = x2 - k2;
        while (x2 < text1_length && y2 < text2_length &&
               text1.charAt(text1_length - x2 - 1) ==
               text2.charAt(text2_length - y2 - 1)) {
          x2++;
          y2++;
        }
        v2[k2_offset] = x2;
        if (x2 > text1_length) {
          // Ran off the left of the graph.
          k2end += 2;
        } else if (y2 > text2_length) {
          // Ran off the top of the graph.
          k2start += 2;
        } else if (!front) {
          var k1_offset = v_offset + delta - k2;
          if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {
            var x1 = v1[k1_offset];
            var y1 = v_offset + x1 - k1_offset;
            // Mirror x2 onto top-left coordinate system.
            x2 = text1_length - x2;
            if (x1 >= x2) {
              // Overlap detected.
              return diff_bisectSplit_(text1, text2, x1, y1);
            }
          }
        }
      }
    }
    // Diff took too long and hit the deadline or
    // number of diffs equals number of characters, no commonality at all.
    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];
  }

  /**
   * Given the location of the 'middle snake', split the diff in two parts
   * and recurse.
   * @param {string} text1 Old string to be diffed.
   * @param {string} text2 New string to be diffed.
   * @param {number} x Index of split point in text1.
   * @param {number} y Index of split point in text2.
   * @return {Array} Array of diff tuples.
   */
  function diff_bisectSplit_(text1, text2, x, y) {
    var text1a = text1.substring(0, x);
    var text2a = text2.substring(0, y);
    var text1b = text1.substring(x);
    var text2b = text2.substring(y);

    // Compute both diffs serially.
    var diffs = diff_main(text1a, text2a);
    var diffsb = diff_main(text1b, text2b);

    return diffs.concat(diffsb);
  }

  /**
   * Determine the common prefix of two strings.
   * @param {string} text1 First string.
   * @param {string} text2 Second string.
   * @return {number} The number of characters common to the start of each
   *     string.
   */
  function diff_commonPrefix(text1, text2) {
    // Quick check for common null cases.
    if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {
      return 0;
    }
    // Binary search.
    // Performance analysis: http://neil.fraser.name/news/2007/10/09/
    var pointermin = 0;
    var pointermax = Math.min(text1.length, text2.length);
    var pointermid = pointermax;
    var pointerstart = 0;
    while (pointermin < pointermid) {
      if (text1.substring(pointerstart, pointermid) ==
          text2.substring(pointerstart, pointermid)) {
        pointermin = pointermid;
        pointerstart = pointermin;
      } else {
        pointermax = pointermid;
      }
      pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
    }
    return pointermid;
  }

  /**
   * Determine the common suffix of two strings.
   * @param {string} text1 First string.
   * @param {string} text2 Second string.
   * @return {number} The number of characters common to the end of each string.
   */
  function diff_commonSuffix(text1, text2) {
    // Quick check for common null cases.
    if (!text1 || !text2 ||
        text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {
      return 0;
    }
    // Binary search.
    // Performance analysis: http://neil.fraser.name/news/2007/10/09/
    var pointermin = 0;
    var pointermax = Math.min(text1.length, text2.length);
    var pointermid = pointermax;
    var pointerend = 0;
    while (pointermin < pointermid) {
      if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==
          text2.substring(text2.length - pointermid, text2.length - pointerend)) {
        pointermin = pointermid;
        pointerend = pointermin;
      } else {
        pointermax = pointermid;
      }
      pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
    }
    return pointermid;
  }

  /**
   * Do the two texts share a substring which is at least half the length of the
   * longer text?
   * This speedup can produce non-minimal diffs.
   * @param {string} text1 First string.
   * @param {string} text2 Second string.
   * @return {Array.<string>} Five element Array, containing the prefix of
   *     text1, the suffix of text1, the prefix of text2, the suffix of
   *     text2 and the common middle.  Or null if there was no match.
   */
  function diff_halfMatch_(text1, text2) {
    var longtext = text1.length > text2.length ? text1 : text2;
    var shorttext = text1.length > text2.length ? text2 : text1;
    if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {
      return null;  // Pointless.
    }

    /**
     * Does a substring of shorttext exist within longtext such that the substring
     * is at least half the length of longtext?
     * Closure, but does not reference any external variables.
     * @param {string} longtext Longer string.
     * @param {string} shorttext Shorter string.
     * @param {number} i Start index of quarter length substring within longtext.
     * @return {Array.<string>} Five element Array, containing the prefix of
     *     longtext, the suffix of longtext, the prefix of shorttext, the suffix
     *     of shorttext and the common middle.  Or null if there was no match.
     * @private
     */
    function diff_halfMatchI_(longtext, shorttext, i) {
      // Start with a 1/4 length substring at position i as a seed.
      var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));
      var j = -1;
      var best_common = '';
      var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;
      while ((j = shorttext.indexOf(seed, j + 1)) != -1) {
        var prefixLength = diff_commonPrefix(longtext.substring(i),
                                             shorttext.substring(j));
        var suffixLength = diff_commonSuffix(longtext.substring(0, i),
                                             shorttext.substring(0, j));
        if (best_common.length < suffixLength + prefixLength) {
          best_common = shorttext.substring(j - suffixLength, j) +
              shorttext.substring(j, j + prefixLength);
          best_longtext_a = longtext.substring(0, i - suffixLength);
          best_longtext_b = longtext.substring(i + prefixLength);
          best_shorttext_a = shorttext.substring(0, j - suffixLength);
          best_shorttext_b = shorttext.substring(j + prefixLength);
        }
      }
      if (best_common.length * 2 >= longtext.length) {
        return [best_longtext_a, best_longtext_b,
                best_shorttext_a, best_shorttext_b, best_common];
      } else {
        return null;
      }
    }

    // First check if the second quarter is the seed for a half-match.
    var hm1 = diff_halfMatchI_(longtext, shorttext,
                               Math.ceil(longtext.length / 4));
    // Check again based on the third quarter.
    var hm2 = diff_halfMatchI_(longtext, shorttext,
                               Math.ceil(longtext.length / 2));
    var hm;
    if (!hm1 && !hm2) {
      return null;
    } else if (!hm2) {
      hm = hm1;
    } else if (!hm1) {
      hm = hm2;
    } else {
      // Both matched.  Select the longest.
      hm = hm1[4].length > hm2[4].length ? hm1 : hm2;
    }

    // A half-match was found, sort out the return data.
    var text1_a, text1_b, text2_a, text2_b;
    if (text1.length > text2.length) {
      text1_a = hm[0];
      text1_b = hm[1];
      text2_a = hm[2];
      text2_b = hm[3];
    } else {
      text2_a = hm[0];
      text2_b = hm[1];
      text1_a = hm[2];
      text1_b = hm[3];
    }
    var mid_common = hm[4];
    return [text1_a, text1_b, text2_a, text2_b, mid_common];
  }

  /**
   * Reorder and merge like edit sections.  Merge equalities.
   * Any edit section can move as long as it doesn't cross an equality.
   * @param {Array} diffs Array of diff tuples.
   */
  function diff_cleanupMerge(diffs) {
    diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.
    var pointer = 0;
    var count_delete = 0;
    var count_insert = 0;
    var text_delete = '';
    var text_insert = '';
    var commonlength;
    while (pointer < diffs.length) {
      switch (diffs[pointer][0]) {
        case DIFF_INSERT:
          count_insert++;
          text_insert += diffs[pointer][1];
          pointer++;
          break;
        case DIFF_DELETE:
          count_delete++;
          text_delete += diffs[pointer][1];
          pointer++;
          break;
        case DIFF_EQUAL:
          // Upon reaching an equality, check for prior redundancies.
          if (count_delete + count_insert > 1) {
            if (count_delete !== 0 && count_insert !== 0) {
              // Factor out any common prefixies.
              commonlength = diff_commonPrefix(text_insert, text_delete);
              if (commonlength !== 0) {
                if ((pointer - count_delete - count_insert) > 0 &&
                    diffs[pointer - count_delete - count_insert - 1][0] ==
                    DIFF_EQUAL) {
                  diffs[pointer - count_delete - count_insert - 1][1] +=
                      text_insert.substring(0, commonlength);
                } else {
                  diffs.splice(0, 0, [DIFF_EQUAL,
                                      text_insert.substring(0, commonlength)]);
                  pointer++;
                }
                text_insert = text_insert.substring(commonlength);
                text_delete = text_delete.substring(commonlength);
              }
              // Factor out any common suffixies.
              commonlength = diff_commonSuffix(text_insert, text_delete);
              if (commonlength !== 0) {
                diffs[pointer][1] = text_insert.substring(text_insert.length -
                    commonlength) + diffs[pointer][1];
                text_insert = text_insert.substring(0, text_insert.length -
                    commonlength);
                text_delete = text_delete.substring(0, text_delete.length -
                    commonlength);
              }
            }
            // Delete the offending records and add the merged ones.
            if (count_delete === 0) {
              diffs.splice(pointer - count_insert,
                  count_delete + count_insert, [DIFF_INSERT, text_insert]);
            } else if (count_insert === 0) {
              diffs.splice(pointer - count_delete,
                  count_delete + count_insert, [DIFF_DELETE, text_delete]);
            } else {
              diffs.splice(pointer - count_delete - count_insert,
                  count_delete + count_insert, [DIFF_DELETE, text_delete],
                  [DIFF_INSERT, text_insert]);
            }
            pointer = pointer - count_delete - count_insert +
                      (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;
          } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {
            // Merge this equality with the previous one.
            diffs[pointer - 1][1] += diffs[pointer][1];
            diffs.splice(pointer, 1);
          } else {
            pointer++;
          }
          count_insert = 0;
          count_delete = 0;
          text_delete = '';
          text_insert = '';
          break;
      }
    }
    if (diffs[diffs.length - 1][1] === '') {
      diffs.pop();  // Remove the dummy entry at the end.
    }

    // Second pass: look for single edits surrounded on both sides by equalities
    // which can be shifted sideways to eliminate an equality.
    // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC
    var changes = false;
    pointer = 1;
    // Intentionally ignore the first and last element (don't need checking).
    while (pointer < diffs.length - 1) {
      if (diffs[pointer - 1][0] == DIFF_EQUAL &&
          diffs[pointer + 1][0] == DIFF_EQUAL) {
        // This is a single edit surrounded by equalities.
        if (diffs[pointer][1].substring(diffs[pointer][1].length -
            diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {
          // Shift the edit over the previous equality.
          diffs[pointer][1] = diffs[pointer - 1][1] +
              diffs[pointer][1].substring(0, diffs[pointer][1].length -
                                          diffs[pointer - 1][1].length);
          diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];
          diffs.splice(pointer - 1, 1);
          changes = true;
        } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==
            diffs[pointer + 1][1]) {
          // Shift the edit over the next equality.
          diffs[pointer - 1][1] += diffs[pointer + 1][1];
          diffs[pointer][1] =
              diffs[pointer][1].substring(diffs[pointer + 1][1].length) +
              diffs[pointer + 1][1];
          diffs.splice(pointer + 1, 1);
          changes = true;
        }
      }
      pointer++;
    }
    // If shifts were made, the diff needs reordering and another shift sweep.
    if (changes) {
      diff_cleanupMerge(diffs);
    }
  }

  var diff = diff_main;
  diff.INSERT = DIFF_INSERT;
  diff.DELETE = DIFF_DELETE;
  diff.EQUAL = DIFF_EQUAL;

  module.exports = diff;

  /*
   * Modify a diff such that the cursor position points to the start of a change:
   * E.g.
   *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)
   *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]
   *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)
   *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]
   *
   * @param {Array} diffs Array of diff tuples
   * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!
   * @return {Array} A tuple [cursor location in the modified diff, modified diff]
   */
  function cursor_normalize_diff (diffs, cursor_pos) {
    if (cursor_pos === 0) {
      return [DIFF_EQUAL, diffs];
    }
    for (var current_pos = 0, i = 0; i < diffs.length; i++) {
      var d = diffs[i];
      if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {
        var next_pos = current_pos + d[1].length;
        if (cursor_pos === next_pos) {
          return [i + 1, diffs];
        } else if (cursor_pos < next_pos) {
          // copy to prevent side effects
          diffs = diffs.slice();
          // split d into two diff changes
          var split_pos = cursor_pos - current_pos;
          var d_left = [d[0], d[1].slice(0, split_pos)];
          var d_right = [d[0], d[1].slice(split_pos)];
          diffs.splice(i, 1, d_left, d_right);
          return [i + 1, diffs];
        } else {
          current_pos = next_pos;
        }
      }
    }
    throw new Error('cursor_pos is out of bounds!')
  }

  /*
   * Modify a diff such that the edit position is "shifted" to the proposed edit location (cursor_position).
   *
   * Case 1)
   *   Check if a naive shift is possible:
   *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)
   *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result
   * Case 2)
   *   Check if the following shifts are possible:
   *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']
   *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']
   *         ^            ^
   *         d          d_next
   *
   * @param {Array} diffs Array of diff tuples
   * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!
   * @return {Array} Array of diff tuples
   */
  function fix_cursor (diffs, cursor_pos) {
    var norm = cursor_normalize_diff(diffs, cursor_pos);
    var ndiffs = norm[1];
    var cursor_pointer = norm[0];
    var d = ndiffs[cursor_pointer];
    var d_next = ndiffs[cursor_pointer + 1];

    if (d == null) {
      // Text was deleted from end of original string,
      // cursor is now out of bounds in new string
      return diffs;
    } else if (d[0] !== DIFF_EQUAL) {
      // A modification happened at the cursor location.
      // This is the expected outcome, so we can return the original diff.
      return diffs;
    } else {
      if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {
        // Case 1)
        // It is possible to perform a naive shift
        ndiffs.splice(cursor_pointer, 2, d_next, d);
        return merge_tuples(ndiffs, cursor_pointer, 2)
      } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {
        // Case 2)
        // d[1] is a prefix of d_next[1]
        // We can assume that d_next[0] !== 0, since d[0] === 0
        // Shift edit locations..
        ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);
        var suffix = d_next[1].slice(d[1].length);
        if (suffix.length > 0) {
          ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);
        }
        return merge_tuples(ndiffs, cursor_pointer, 3)
      } else {
        // Not possible to perform any modification
        return diffs;
      }
    }
  }

  /*
   * Check diff did not split surrogate pairs.
   * Ex. [0, '\uD83D'], [-1, '\uDC36'], [1, '\uDC2F'] -> [-1, '\uD83D\uDC36'], [1, '\uD83D\uDC2F']
   *     '\uD83D\uDC36' === '🐶', '\uD83D\uDC2F' === '🐯'
   *
   * @param {Array} diffs Array of diff tuples
   * @return {Array} Array of diff tuples
   */
  function fix_emoji (diffs) {
    var compact = false;
    var starts_with_pair_end = function(str) {
      return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;
    };
    var ends_with_pair_start = function(str) {
      return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;
    };
    for (var i = 2; i < diffs.length; i += 1) {
      if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&
          diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&
          diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {
        compact = true;

        diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];
        diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];

        diffs[i-2][1] = diffs[i-2][1].slice(0, -1);
      }
    }
    if (!compact) {
      return diffs;
    }
    var fixed_diffs = [];
    for (var i = 0; i < diffs.length; i += 1) {
      if (diffs[i][1].length > 0) {
        fixed_diffs.push(diffs[i]);
      }
    }
    return fixed_diffs;
  }

  /*
   * Try to merge tuples with their neigbors in a given range.
   * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']
   *
   * @param {Array} diffs Array of diff tuples.
   * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).
   * @param {Int} length Number of consecutive elements to check.
   * @return {Array} Array of merged diff tuples.
   */
  function merge_tuples (diffs, start, length) {
    // Check from (start-1) to (start+length).
    for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {
      if (i + 1 < diffs.length) {
        var left_d = diffs[i];
        var right_d = diffs[i+1];
        if (left_d[0] === right_d[1]) {
          diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);
        }
      }
    }
    return diffs;
  }


  /***/ }),
  /* 52 */
  /***/ (function(module, exports) {

  exports = module.exports = typeof Object.keys === 'function'
    ? Object.keys : shim;

  exports.shim = shim;
  function shim (obj) {
    var keys = [];
    for (var key in obj) keys.push(key);
    return keys;
  }


  /***/ }),
  /* 53 */
  /***/ (function(module, exports) {

  var supportsArgumentsClass = (function(){
    return Object.prototype.toString.call(arguments)
  })() == '[object Arguments]';

  exports = module.exports = supportsArgumentsClass ? supported : unsupported;

  exports.supported = supported;
  function supported(object) {
    return Object.prototype.toString.call(object) == '[object Arguments]';
  }
  exports.unsupported = unsupported;
  function unsupported(object){
    return object &&
      typeof object == 'object' &&
      typeof object.length == 'number' &&
      Object.prototype.hasOwnProperty.call(object, 'callee') &&
      !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||
      false;
  }

  /***/ }),
  /* 54 */
  /***/ (function(module, exports) {

  var has = Object.prototype.hasOwnProperty
    , prefix = '~';

  /**
   * Constructor to create a storage for our `EE` objects.
   * An `Events` instance is a plain object whose properties are event names.
   *
   * @constructor
   * @api private
   */
  function Events() {}

  //
  // We try to not inherit from `Object.prototype`. In some engines creating an
  // instance in this way is faster than calling `Object.create(null)` directly.
  // If `Object.create(null)` is not supported we prefix the event names with a
  // character to make sure that the built-in object properties are not
  // overridden or used as an attack vector.
  //
  if (Object.create) {
    Events.prototype = Object.create(null);

    //
    // This hack is needed because the `__proto__` property is still inherited in
    // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.
    //
    if (!new Events().__proto__) prefix = false;
  }

  /**
   * Representation of a single event listener.
   *
   * @param {Function} fn The listener function.
   * @param {Mixed} context The context to invoke the listener with.
   * @param {Boolean} [once=false] Specify if the listener is a one-time listener.
   * @constructor
   * @api private
   */
  function EE(fn, context, once) {
    this.fn = fn;
    this.context = context;
    this.once = once || false;
  }

  /**
   * Minimal `EventEmitter` interface that is molded against the Node.js
   * `EventEmitter` interface.
   *
   * @constructor
   * @api public
   */
  function EventEmitter() {
    this._events = new Events();
    this._eventsCount = 0;
  }

  /**
   * Return an array listing the events for which the emitter has registered
   * listeners.
   *
   * @returns {Array}
   * @api public
   */
  EventEmitter.prototype.eventNames = function eventNames() {
    var names = []
      , events
      , name;

    if (this._eventsCount === 0) return names;

    for (name in (events = this._events)) {
      if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
    }

    if (Object.getOwnPropertySymbols) {
      return names.concat(Object.getOwnPropertySymbols(events));
    }

    return names;
  };

  /**
   * Return the listeners registered for a given event.
   *
   * @param {String|Symbol} event The event name.
   * @param {Boolean} exists Only check if there are listeners.
   * @returns {Array|Boolean}
   * @api public
   */
  EventEmitter.prototype.listeners = function listeners(event, exists) {
    var evt = prefix ? prefix + event : event
      , available = this._events[evt];

    if (exists) return !!available;
    if (!available) return [];
    if (available.fn) return [available.fn];

    for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {
      ee[i] = available[i].fn;
    }

    return ee;
  };

  /**
   * Calls each of the listeners registered for a given event.
   *
   * @param {String|Symbol} event The event name.
   * @returns {Boolean} `true` if the event had listeners, else `false`.
   * @api public
   */
  EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
    var evt = prefix ? prefix + event : event;

    if (!this._events[evt]) return false;

    var listeners = this._events[evt]
      , len = arguments.length
      , args
      , i;

    if (listeners.fn) {
      if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);

      switch (len) {
        case 1: return listeners.fn.call(listeners.context), true;
        case 2: return listeners.fn.call(listeners.context, a1), true;
        case 3: return listeners.fn.call(listeners.context, a1, a2), true;
        case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;
        case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
        case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
      }

      for (i = 1, args = new Array(len -1); i < len; i++) {
        args[i - 1] = arguments[i];
      }

      listeners.fn.apply(listeners.context, args);
    } else {
      var length = listeners.length
        , j;

      for (i = 0; i < length; i++) {
        if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);

        switch (len) {
          case 1: listeners[i].fn.call(listeners[i].context); break;
          case 2: listeners[i].fn.call(listeners[i].context, a1); break;
          case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;
          case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;
          default:
            if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {
              args[j - 1] = arguments[j];
            }

            listeners[i].fn.apply(listeners[i].context, args);
        }
      }
    }

    return true;
  };

  /**
   * Add a listener for a given event.
   *
   * @param {String|Symbol} event The event name.
   * @param {Function} fn The listener function.
   * @param {Mixed} [context=this] The context to invoke the listener with.
   * @returns {EventEmitter} `this`.
   * @api public
   */
  EventEmitter.prototype.on = function on(event, fn, context) {
    var listener = new EE(fn, context || this)
      , evt = prefix ? prefix + event : event;

    if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;
    else if (!this._events[evt].fn) this._events[evt].push(listener);
    else this._events[evt] = [this._events[evt], listener];

    return this;
  };

  /**
   * Add a one-time listener for a given event.
   *
   * @param {String|Symbol} event The event name.
   * @param {Function} fn The listener function.
   * @param {Mixed} [context=this] The context to invoke the listener with.
   * @returns {EventEmitter} `this`.
   * @api public
   */
  EventEmitter.prototype.once = function once(event, fn, context) {
    var listener = new EE(fn, context || this, true)
      , evt = prefix ? prefix + event : event;

    if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;
    else if (!this._events[evt].fn) this._events[evt].push(listener);
    else this._events[evt] = [this._events[evt], listener];

    return this;
  };

  /**
   * Remove the listeners of a given event.
   *
   * @param {String|Symbol} event The event name.
   * @param {Function} fn Only remove the listeners that match this function.
   * @param {Mixed} context Only remove the listeners that have this context.
   * @param {Boolean} once Only remove one-time listeners.
   * @returns {EventEmitter} `this`.
   * @api public
   */
  EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
    var evt = prefix ? prefix + event : event;

    if (!this._events[evt]) return this;
    if (!fn) {
      if (--this._eventsCount === 0) this._events = new Events();
      else delete this._events[evt];
      return this;
    }

    var listeners = this._events[evt];

    if (listeners.fn) {
      if (
           listeners.fn === fn
        && (!once || listeners.once)
        && (!context || listeners.context === context)
      ) {
        if (--this._eventsCount === 0) this._events = new Events();
        else delete this._events[evt];
      }
    } else {
      for (var i = 0, events = [], length = listeners.length; i < length; i++) {
        if (
             listeners[i].fn !== fn
          || (once && !listeners[i].once)
          || (context && listeners[i].context !== context)
        ) {
          events.push(listeners[i]);
        }
      }

      //
      // Reset the array, or remove it completely if we have no more listeners.
      //
      if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;
      else if (--this._eventsCount === 0) this._events = new Events();
      else delete this._events[evt];
    }

    return this;
  };

  /**
   * Remove all listeners, or those of the specified event.
   *
   * @param {String|Symbol} [event] The event name.
   * @returns {EventEmitter} `this`.
   * @api public
   */
  EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
    var evt;

    if (event) {
      evt = prefix ? prefix + event : event;
      if (this._events[evt]) {
        if (--this._eventsCount === 0) this._events = new Events();
        else delete this._events[evt];
      }
    } else {
      this._events = new Events();
      this._eventsCount = 0;
    }

    return this;
  };

  //
  // Alias methods names because people roll like that.
  //
  EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
  EventEmitter.prototype.addListener = EventEmitter.prototype.on;

  //
  // This function doesn't apply anymore.
  //
  EventEmitter.prototype.setMaxListeners = function setMaxListeners() {
    return this;
  };

  //
  // Expose the prefix.
  //
  EventEmitter.prefixed = prefix;

  //
  // Allow `EventEmitter` to be imported as module namespace.
  //
  EventEmitter.EventEmitter = EventEmitter;

  //
  // Expose the module.
  //
  if ('undefined' !== typeof module) {
    module.exports = EventEmitter;
  }


  /***/ }),
  /* 55 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _extend2 = __webpack_require__(3);

  var _extend3 = _interopRequireDefault(_extend2);

  var _quillDelta = __webpack_require__(2);

  var _quillDelta2 = _interopRequireDefault(_quillDelta);

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _quill = __webpack_require__(5);

  var _quill2 = _interopRequireDefault(_quill);

  var _logger = __webpack_require__(10);

  var _logger2 = _interopRequireDefault(_logger);

  var _module = __webpack_require__(9);

  var _module2 = _interopRequireDefault(_module);

  var _align = __webpack_require__(36);

  var _background = __webpack_require__(37);

  var _code = __webpack_require__(13);

  var _code2 = _interopRequireDefault(_code);

  var _color = __webpack_require__(26);

  var _direction = __webpack_require__(38);

  var _font = __webpack_require__(39);

  var _size = __webpack_require__(40);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var debug = (0, _logger2.default)('quill:clipboard');

  var DOM_KEY = '__ql-matcher';

  var CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];

  var ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {
    memo[attr.keyName] = attr;
    return memo;
  }, {});

  var STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {
    memo[attr.keyName] = attr;
    return memo;
  }, {});

  var Clipboard = function (_Module) {
    _inherits(Clipboard, _Module);

    function Clipboard(quill, options) {
      _classCallCheck(this, Clipboard);

      var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));

      _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));
      _this.container = _this.quill.addContainer('ql-clipboard');
      _this.container.setAttribute('contenteditable', true);
      _this.container.setAttribute('tabindex', -1);
      _this.matchers = [];
      CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 2),
            selector = _ref2[0],
            matcher = _ref2[1];

        if (!options.matchVisual && matcher === matchSpacing) return;
        _this.addMatcher(selector, matcher);
      });
      return _this;
    }

    _createClass(Clipboard, [{
      key: 'addMatcher',
      value: function addMatcher(selector, matcher) {
        this.matchers.push([selector, matcher]);
      }
    }, {
      key: 'convert',
      value: function convert(html) {
        if (typeof html === 'string') {
          this.container.innerHTML = html.replace(/\>\r?\n +\</g, '><'); // Remove spaces between tags
          return this.convert();
        }
        var formats = this.quill.getFormat(this.quill.selection.savedRange.index);
        if (formats[_code2.default.blotName]) {
          var text = this.container.innerText;
          this.container.innerHTML = '';
          return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));
        }

        var _prepareMatching = this.prepareMatching(),
            _prepareMatching2 = _slicedToArray(_prepareMatching, 2),
            elementMatchers = _prepareMatching2[0],
            textMatchers = _prepareMatching2[1];

        var delta = traverse(this.container, elementMatchers, textMatchers);
        // Remove trailing newline
        if (deltaEndsWith(delta, '\n') && delta.ops[delta.ops.length - 1].attributes == null) {
          delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));
        }
        debug.log('convert', this.container.innerHTML, delta);
        this.container.innerHTML = '';
        return delta;
      }
    }, {
      key: 'dangerouslyPasteHTML',
      value: function dangerouslyPasteHTML(index, html) {
        var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;

        if (typeof index === 'string') {
          this.quill.setContents(this.convert(index), html);
          this.quill.setSelection(0, _quill2.default.sources.SILENT);
        } else {
          var paste = this.convert(html);
          this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);
          this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);
        }
      }
    }, {
      key: 'onPaste',
      value: function onPaste(e) {
        var _this2 = this;

        if (e.defaultPrevented || !this.quill.isEnabled()) return;
        var range = this.quill.getSelection();
        var delta = new _quillDelta2.default().retain(range.index);
        var scrollTop = this.quill.scrollingContainer.scrollTop;
        this.container.focus();
        this.quill.selection.update(_quill2.default.sources.SILENT);
        setTimeout(function () {
          delta = delta.concat(_this2.convert()).delete(range.length);
          _this2.quill.updateContents(delta, _quill2.default.sources.USER);
          // range.length contributes to delta.length()
          _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);
          _this2.quill.scrollingContainer.scrollTop = scrollTop;
          _this2.quill.focus();
        }, 1);
      }
    }, {
      key: 'prepareMatching',
      value: function prepareMatching() {
        var _this3 = this;

        var elementMatchers = [],
            textMatchers = [];
        this.matchers.forEach(function (pair) {
          var _pair = _slicedToArray(pair, 2),
              selector = _pair[0],
              matcher = _pair[1];

          switch (selector) {
            case Node.TEXT_NODE:
              textMatchers.push(matcher);
              break;
            case Node.ELEMENT_NODE:
              elementMatchers.push(matcher);
              break;
            default:
              [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {
                // TODO use weakmap
                node[DOM_KEY] = node[DOM_KEY] || [];
                node[DOM_KEY].push(matcher);
              });
              break;
          }
        });
        return [elementMatchers, textMatchers];
      }
    }]);

    return Clipboard;
  }(_module2.default);

  Clipboard.DEFAULTS = {
    matchers: [],
    matchVisual: true
  };

  function applyFormat(delta, format, value) {
    if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {
      return Object.keys(format).reduce(function (delta, key) {
        return applyFormat(delta, key, format[key]);
      }, delta);
    } else {
      return delta.reduce(function (delta, op) {
        if (op.attributes && op.attributes[format]) {
          return delta.push(op);
        } else {
          return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));
        }
      }, new _quillDelta2.default());
    }
  }

  function computeStyle(node) {
    if (node.nodeType !== Node.ELEMENT_NODE) return {};
    var DOM_KEY = '__ql-computed-style';
    return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));
  }

  function deltaEndsWith(delta, text) {
    var endText = "";
    for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {
      var op = delta.ops[i];
      if (typeof op.insert !== 'string') break;
      endText = op.insert + endText;
    }
    return endText.slice(-1 * text.length) === text;
  }

  function isLine(node) {
    if (node.childNodes.length === 0) return false; // Exclude embed blocks
    var style = computeStyle(node);
    return ['block', 'list-item'].indexOf(style.display) > -1;
  }

  function traverse(node, elementMatchers, textMatchers) {
    // Post-order
    if (node.nodeType === node.TEXT_NODE) {
      return textMatchers.reduce(function (delta, matcher) {
        return matcher(node, delta);
      }, new _quillDelta2.default());
    } else if (node.nodeType === node.ELEMENT_NODE) {
      return [].reduce.call(node.childNodes || [], function (delta, childNode) {
        var childrenDelta = traverse(childNode, elementMatchers, textMatchers);
        if (childNode.nodeType === node.ELEMENT_NODE) {
          childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {
            return matcher(childNode, childrenDelta);
          }, childrenDelta);
          childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {
            return matcher(childNode, childrenDelta);
          }, childrenDelta);
        }
        return delta.concat(childrenDelta);
      }, new _quillDelta2.default());
    } else {
      return new _quillDelta2.default();
    }
  }

  function matchAlias(format, node, delta) {
    return applyFormat(delta, format, true);
  }

  function matchAttributor(node, delta) {
    var attributes = _parchment2.default.Attributor.Attribute.keys(node);
    var classes = _parchment2.default.Attributor.Class.keys(node);
    var styles = _parchment2.default.Attributor.Style.keys(node);
    var formats = {};
    attributes.concat(classes).concat(styles).forEach(function (name) {
      var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);
      if (attr != null) {
        formats[attr.attrName] = attr.value(node);
        if (formats[attr.attrName]) return;
      }
      attr = ATTRIBUTE_ATTRIBUTORS[name];
      if (attr != null && (attr.attrName === name || attr.keyName === name)) {
        formats[attr.attrName] = attr.value(node) || undefined;
      }
      attr = STYLE_ATTRIBUTORS[name];
      if (attr != null && (attr.attrName === name || attr.keyName === name)) {
        attr = STYLE_ATTRIBUTORS[name];
        formats[attr.attrName] = attr.value(node) || undefined;
      }
    });
    if (Object.keys(formats).length > 0) {
      delta = applyFormat(delta, formats);
    }
    return delta;
  }

  function matchBlot(node, delta) {
    var match = _parchment2.default.query(node);
    if (match == null) return delta;
    if (match.prototype instanceof _parchment2.default.Embed) {
      var embed = {};
      var value = match.value(node);
      if (value != null) {
        embed[match.blotName] = value;
        delta = new _quillDelta2.default().insert(embed, match.formats(node));
      }
    } else if (typeof match.formats === 'function') {
      delta = applyFormat(delta, match.blotName, match.formats(node));
    }
    return delta;
  }

  function matchBreak(node, delta) {
    if (!deltaEndsWith(delta, '\n')) {
      delta.insert('\n');
    }
    return delta;
  }

  function matchIgnore() {
    return new _quillDelta2.default();
  }

  function matchIndent(node, delta) {
    var match = _parchment2.default.query(node);
    if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\n')) {
      return delta;
    }
    var indent = -1,
        parent = node.parentNode;
    while (!parent.classList.contains('ql-clipboard')) {
      if ((_parchment2.default.query(parent) || {}).blotName === 'list') {
        indent += 1;
      }
      parent = parent.parentNode;
    }
    if (indent <= 0) return delta;
    return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));
  }

  function matchNewline(node, delta) {
    if (!deltaEndsWith(delta, '\n')) {
      if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {
        delta.insert('\n');
      }
    }
    return delta;
  }

  function matchSpacing(node, delta) {
    if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\n\n')) {
      var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);
      if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {
        delta.insert('\n');
      }
    }
    return delta;
  }

  function matchStyles(node, delta) {
    var formats = {};
    var style = node.style || {};
    if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {
      formats.italic = true;
    }
    if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {
      formats.bold = true;
    }
    if (Object.keys(formats).length > 0) {
      delta = applyFormat(delta, formats);
    }
    if (parseFloat(style.textIndent || 0) > 0) {
      // Could be 0.5in
      delta = new _quillDelta2.default().insert('\t').concat(delta);
    }
    return delta;
  }

  function matchText(node, delta) {
    var text = node.data;
    // Word represents empty line with <o:p>&nbsp;</o:p>
    if (node.parentNode.tagName === 'O:P') {
      return delta.insert(text.trim());
    }
    if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {
      return delta;
    }
    if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {
      // eslint-disable-next-line func-style
      var replacer = function replacer(collapse, match) {
        match = match.replace(/[^\u00a0]/g, ''); // \u00a0 is nbsp;
        return match.length < 1 && collapse ? ' ' : match;
      };
      text = text.replace(/\r\n/g, ' ').replace(/\n/g, ' ');
      text = text.replace(/\s\s+/g, replacer.bind(replacer, true)); // collapse whitespace
      if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {
        text = text.replace(/^\s+/, replacer.bind(replacer, false));
      }
      if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {
        text = text.replace(/\s+$/, replacer.bind(replacer, false));
      }
    }
    return delta.insert(text);
  }

  exports.default = Clipboard;
  exports.matchAttributor = matchAttributor;
  exports.matchBlot = matchBlot;
  exports.matchNewline = matchNewline;
  exports.matchSpacing = matchSpacing;
  exports.matchText = matchText;

  /***/ }),
  /* 56 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _inline = __webpack_require__(6);

  var _inline2 = _interopRequireDefault(_inline);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Bold = function (_Inline) {
    _inherits(Bold, _Inline);

    function Bold() {
      _classCallCheck(this, Bold);

      return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));
    }

    _createClass(Bold, [{
      key: 'optimize',
      value: function optimize(context) {
        _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);
        if (this.domNode.tagName !== this.statics.tagName[0]) {
          this.replaceWith(this.statics.blotName);
        }
      }
    }], [{
      key: 'create',
      value: function create() {
        return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);
      }
    }, {
      key: 'formats',
      value: function formats() {
        return true;
      }
    }]);

    return Bold;
  }(_inline2.default);

  Bold.blotName = 'bold';
  Bold.tagName = ['STRONG', 'B'];

  exports.default = Bold;

  /***/ }),
  /* 57 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addControls = exports.default = undefined;

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _quillDelta = __webpack_require__(2);

  var _quillDelta2 = _interopRequireDefault(_quillDelta);

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _quill = __webpack_require__(5);

  var _quill2 = _interopRequireDefault(_quill);

  var _logger = __webpack_require__(10);

  var _logger2 = _interopRequireDefault(_logger);

  var _module = __webpack_require__(9);

  var _module2 = _interopRequireDefault(_module);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var debug = (0, _logger2.default)('quill:toolbar');

  var Toolbar = function (_Module) {
    _inherits(Toolbar, _Module);

    function Toolbar(quill, options) {
      _classCallCheck(this, Toolbar);

      var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));

      if (Array.isArray(_this.options.container)) {
        var container = document.createElement('div');
        addControls(container, _this.options.container);
        quill.container.parentNode.insertBefore(container, quill.container);
        _this.container = container;
      } else if (typeof _this.options.container === 'string') {
        _this.container = document.querySelector(_this.options.container);
      } else {
        _this.container = _this.options.container;
      }
      if (!(_this.container instanceof HTMLElement)) {
        var _ret;

        return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);
      }
      _this.container.classList.add('ql-toolbar');
      _this.controls = [];
      _this.handlers = {};
      Object.keys(_this.options.handlers).forEach(function (format) {
        _this.addHandler(format, _this.options.handlers[format]);
      });
      [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {
        _this.attach(input);
      });
      _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {
        if (type === _quill2.default.events.SELECTION_CHANGE) {
          _this.update(range);
        }
      });
      _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {
        var _this$quill$selection = _this.quill.selection.getRange(),
            _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),
            range = _this$quill$selection2[0]; // quill.getSelection triggers update


        _this.update(range);
      });
      return _this;
    }

    _createClass(Toolbar, [{
      key: 'addHandler',
      value: function addHandler(format, handler) {
        this.handlers[format] = handler;
      }
    }, {
      key: 'attach',
      value: function attach(input) {
        var _this2 = this;

        var format = [].find.call(input.classList, function (className) {
          return className.indexOf('ql-') === 0;
        });
        if (!format) return;
        format = format.slice('ql-'.length);
        if (input.tagName === 'BUTTON') {
          input.setAttribute('type', 'button');
        }
        if (this.handlers[format] == null) {
          if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {
            debug.warn('ignoring attaching to disabled format', format, input);
            return;
          }
          if (_parchment2.default.query(format) == null) {
            debug.warn('ignoring attaching to nonexistent format', format, input);
            return;
          }
        }
        var eventName = input.tagName === 'SELECT' ? 'change' : 'click';
        input.addEventListener(eventName, function (e) {
          var value = void 0;
          if (input.tagName === 'SELECT') {
            if (input.selectedIndex < 0) return;
            var selected = input.options[input.selectedIndex];
            if (selected.hasAttribute('selected')) {
              value = false;
            } else {
              value = selected.value || false;
            }
          } else {
            if (input.classList.contains('ql-active')) {
              value = false;
            } else {
              value = input.value || !input.hasAttribute('value');
            }
            e.preventDefault();
          }
          _this2.quill.focus();

          var _quill$selection$getR = _this2.quill.selection.getRange(),
              _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),
              range = _quill$selection$getR2[0];

          if (_this2.handlers[format] != null) {
            _this2.handlers[format].call(_this2, value);
          } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {
            value = prompt('Enter ' + format);
            if (!value) return;
            _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);
          } else {
            _this2.quill.format(format, value, _quill2.default.sources.USER);
          }
          _this2.update(range);
        });
        // TODO use weakmap
        this.controls.push([format, input]);
      }
    }, {
      key: 'update',
      value: function update(range) {
        var formats = range == null ? {} : this.quill.getFormat(range);
        this.controls.forEach(function (pair) {
          var _pair = _slicedToArray(pair, 2),
              format = _pair[0],
              input = _pair[1];

          if (input.tagName === 'SELECT') {
            var option = void 0;
            if (range == null) {
              option = null;
            } else if (formats[format] == null) {
              option = input.querySelector('option[selected]');
            } else if (!Array.isArray(formats[format])) {
              var value = formats[format];
              if (typeof value === 'string') {
                value = value.replace(/\"/g, '\\"');
              }
              option = input.querySelector('option[value="' + value + '"]');
            }
            if (option == null) {
              input.value = ''; // TODO make configurable?
              input.selectedIndex = -1;
            } else {
              option.selected = true;
            }
          } else {
            if (range == null) {
              input.classList.remove('ql-active');
            } else if (input.hasAttribute('value')) {
              // both being null should match (default values)
              // '1' should match with 1 (headers)
              var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');
              input.classList.toggle('ql-active', isActive);
            } else {
              input.classList.toggle('ql-active', formats[format] != null);
            }
          }
        });
      }
    }]);

    return Toolbar;
  }(_module2.default);

  Toolbar.DEFAULTS = {};

  function addButton(container, format, value) {
    var input = document.createElement('button');
    input.setAttribute('type', 'button');
    input.classList.add('ql-' + format);
    if (value != null) {
      input.value = value;
    }
    container.appendChild(input);
  }

  function addControls(container, groups) {
    if (!Array.isArray(groups[0])) {
      groups = [groups];
    }
    groups.forEach(function (controls) {
      var group = document.createElement('span');
      group.classList.add('ql-formats');
      controls.forEach(function (control) {
        if (typeof control === 'string') {
          addButton(group, control);
        } else {
          var format = Object.keys(control)[0];
          var value = control[format];
          if (Array.isArray(value)) {
            addSelect(group, format, value);
          } else {
            addButton(group, format, value);
          }
        }
      });
      container.appendChild(group);
    });
  }

  function addSelect(container, format, values) {
    var input = document.createElement('select');
    input.classList.add('ql-' + format);
    values.forEach(function (value) {
      var option = document.createElement('option');
      if (value !== false) {
        option.setAttribute('value', value);
      } else {
        option.setAttribute('selected', 'selected');
      }
      input.appendChild(option);
    });
    container.appendChild(input);
  }

  Toolbar.DEFAULTS = {
    container: null,
    handlers: {
      clean: function clean() {
        var _this3 = this;

        var range = this.quill.getSelection();
        if (range == null) return;
        if (range.length == 0) {
          var formats = this.quill.getFormat();
          Object.keys(formats).forEach(function (name) {
            // Clean functionality in existing apps only clean inline formats
            if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {
              _this3.quill.format(name, false);
            }
          });
        } else {
          this.quill.removeFormat(range, _quill2.default.sources.USER);
        }
      },
      direction: function direction(value) {
        var align = this.quill.getFormat()['align'];
        if (value === 'rtl' && align == null) {
          this.quill.format('align', 'right', _quill2.default.sources.USER);
        } else if (!value && align === 'right') {
          this.quill.format('align', false, _quill2.default.sources.USER);
        }
        this.quill.format('direction', value, _quill2.default.sources.USER);
      },
      indent: function indent(value) {
        var range = this.quill.getSelection();
        var formats = this.quill.getFormat(range);
        var indent = parseInt(formats.indent || 0);
        if (value === '+1' || value === '-1') {
          var modifier = value === '+1' ? 1 : -1;
          if (formats.direction === 'rtl') modifier *= -1;
          this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);
        }
      },
      link: function link(value) {
        if (value === true) {
          value = prompt('Enter link URL:');
        }
        this.quill.format('link', value, _quill2.default.sources.USER);
      },
      list: function list(value) {
        var range = this.quill.getSelection();
        var formats = this.quill.getFormat(range);
        if (value === 'check') {
          if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {
            this.quill.format('list', false, _quill2.default.sources.USER);
          } else {
            this.quill.format('list', 'unchecked', _quill2.default.sources.USER);
          }
        } else {
          this.quill.format('list', value, _quill2.default.sources.USER);
        }
      }
    }
  };

  exports.default = Toolbar;
  exports.addControls = addControls;

  /***/ }),
  /* 58 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <polyline class=\"ql-even ql-stroke\" points=\"5 7 3 9 5 11\"></polyline> <polyline class=\"ql-even ql-stroke\" points=\"13 7 15 9 13 11\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>";

  /***/ }),
  /* 59 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _picker = __webpack_require__(28);

  var _picker2 = _interopRequireDefault(_picker);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var ColorPicker = function (_Picker) {
    _inherits(ColorPicker, _Picker);

    function ColorPicker(select, label) {
      _classCallCheck(this, ColorPicker);

      var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));

      _this.label.innerHTML = label;
      _this.container.classList.add('ql-color-picker');
      [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {
        item.classList.add('ql-primary');
      });
      return _this;
    }

    _createClass(ColorPicker, [{
      key: 'buildItem',
      value: function buildItem(option) {
        var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);
        item.style.backgroundColor = option.getAttribute('value') || '';
        return item;
      }
    }, {
      key: 'selectItem',
      value: function selectItem(item, trigger) {
        _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);
        var colorLabel = this.label.querySelector('.ql-color-label');
        var value = item ? item.getAttribute('data-value') || '' : '';
        if (colorLabel) {
          if (colorLabel.tagName === 'line') {
            colorLabel.style.stroke = value;
          } else {
            colorLabel.style.fill = value;
          }
        }
      }
    }]);

    return ColorPicker;
  }(_picker2.default);

  exports.default = ColorPicker;

  /***/ }),
  /* 60 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _picker = __webpack_require__(28);

  var _picker2 = _interopRequireDefault(_picker);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var IconPicker = function (_Picker) {
    _inherits(IconPicker, _Picker);

    function IconPicker(select, icons) {
      _classCallCheck(this, IconPicker);

      var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));

      _this.container.classList.add('ql-icon-picker');
      [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {
        item.innerHTML = icons[item.getAttribute('data-value') || ''];
      });
      _this.defaultItem = _this.container.querySelector('.ql-selected');
      _this.selectItem(_this.defaultItem);
      return _this;
    }

    _createClass(IconPicker, [{
      key: 'selectItem',
      value: function selectItem(item, trigger) {
        _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);
        item = item || this.defaultItem;
        this.label.innerHTML = item.innerHTML;
      }
    }]);

    return IconPicker;
  }(_picker2.default);

  exports.default = IconPicker;

  /***/ }),
  /* 61 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  var Tooltip = function () {
    function Tooltip(quill, boundsContainer) {
      var _this = this;

      _classCallCheck(this, Tooltip);

      this.quill = quill;
      this.boundsContainer = boundsContainer || document.body;
      this.root = quill.addContainer('ql-tooltip');
      this.root.innerHTML = this.constructor.TEMPLATE;
      if (this.quill.root === this.quill.scrollingContainer) {
        this.quill.root.addEventListener('scroll', function () {
          _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';
        });
      }
      this.hide();
    }

    _createClass(Tooltip, [{
      key: 'hide',
      value: function hide() {
        this.root.classList.add('ql-hidden');
      }
    }, {
      key: 'position',
      value: function position(reference) {
        var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;
        // root.scrollTop should be 0 if scrollContainer !== root
        var top = reference.bottom + this.quill.root.scrollTop;
        this.root.style.left = left + 'px';
        this.root.style.top = top + 'px';
        this.root.classList.remove('ql-flip');
        var containerBounds = this.boundsContainer.getBoundingClientRect();
        var rootBounds = this.root.getBoundingClientRect();
        var shift = 0;
        if (rootBounds.right > containerBounds.right) {
          shift = containerBounds.right - rootBounds.right;
          this.root.style.left = left + shift + 'px';
        }
        if (rootBounds.left < containerBounds.left) {
          shift = containerBounds.left - rootBounds.left;
          this.root.style.left = left + shift + 'px';
        }
        if (rootBounds.bottom > containerBounds.bottom) {
          var height = rootBounds.bottom - rootBounds.top;
          var verticalShift = reference.bottom - reference.top + height;
          this.root.style.top = top - verticalShift + 'px';
          this.root.classList.add('ql-flip');
        }
        return shift;
      }
    }, {
      key: 'show',
      value: function show() {
        this.root.classList.remove('ql-editing');
        this.root.classList.remove('ql-hidden');
      }
    }]);

    return Tooltip;
  }();

  exports.default = Tooltip;

  /***/ }),
  /* 62 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _extend = __webpack_require__(3);

  var _extend2 = _interopRequireDefault(_extend);

  var _emitter = __webpack_require__(8);

  var _emitter2 = _interopRequireDefault(_emitter);

  var _base = __webpack_require__(43);

  var _base2 = _interopRequireDefault(_base);

  var _link = __webpack_require__(27);

  var _link2 = _interopRequireDefault(_link);

  var _selection = __webpack_require__(15);

  var _icons = __webpack_require__(41);

  var _icons2 = _interopRequireDefault(_icons);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];

  var SnowTheme = function (_BaseTheme) {
    _inherits(SnowTheme, _BaseTheme);

    function SnowTheme(quill, options) {
      _classCallCheck(this, SnowTheme);

      if (options.modules.toolbar != null && options.modules.toolbar.container == null) {
        options.modules.toolbar.container = TOOLBAR_CONFIG;
      }

      var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));

      _this.quill.container.classList.add('ql-snow');
      return _this;
    }

    _createClass(SnowTheme, [{
      key: 'extendToolbar',
      value: function extendToolbar(toolbar) {
        toolbar.container.classList.add('ql-snow');
        this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);
        this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);
        this.tooltip = new SnowTooltip(this.quill, this.options.bounds);
        if (toolbar.container.querySelector('.ql-link')) {
          this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {
            toolbar.handlers['link'].call(toolbar, !context.format.link);
          });
        }
      }
    }]);

    return SnowTheme;
  }(_base2.default);

  SnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {
    modules: {
      toolbar: {
        handlers: {
          link: function link(value) {
            if (value) {
              var range = this.quill.getSelection();
              if (range == null || range.length == 0) return;
              var preview = this.quill.getText(range);
              if (/^\S+@\S+\.\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {
                preview = 'mailto:' + preview;
              }
              var tooltip = this.quill.theme.tooltip;
              tooltip.edit('link', preview);
            } else {
              this.quill.format('link', false);
            }
          }
        }
      }
    }
  });

  var SnowTooltip = function (_BaseTooltip) {
    _inherits(SnowTooltip, _BaseTooltip);

    function SnowTooltip(quill, bounds) {
      _classCallCheck(this, SnowTooltip);

      var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));

      _this2.preview = _this2.root.querySelector('a.ql-preview');
      return _this2;
    }

    _createClass(SnowTooltip, [{
      key: 'listen',
      value: function listen() {
        var _this3 = this;

        _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);
        this.root.querySelector('a.ql-action').addEventListener('click', function (event) {
          if (_this3.root.classList.contains('ql-editing')) {
            _this3.save();
          } else {
            _this3.edit('link', _this3.preview.textContent);
          }
          event.preventDefault();
        });
        this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {
          if (_this3.linkRange != null) {
            var range = _this3.linkRange;
            _this3.restoreFocus();
            _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);
            delete _this3.linkRange;
          }
          event.preventDefault();
          _this3.hide();
        });
        this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {
          if (range == null) return;
          if (range.length === 0 && source === _emitter2.default.sources.USER) {
            var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),
                _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),
                link = _quill$scroll$descend2[0],
                offset = _quill$scroll$descend2[1];

            if (link != null) {
              _this3.linkRange = new _selection.Range(range.index - offset, link.length());
              var preview = _link2.default.formats(link.domNode);
              _this3.preview.textContent = preview;
              _this3.preview.setAttribute('href', preview);
              _this3.show();
              _this3.position(_this3.quill.getBounds(_this3.linkRange));
              return;
            }
          } else {
            delete _this3.linkRange;
          }
          _this3.hide();
        });
      }
    }, {
      key: 'show',
      value: function show() {
        _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);
        this.root.removeAttribute('data-mode');
      }
    }]);

    return SnowTooltip;
  }(_base.BaseTooltip);

  SnowTooltip.TEMPLATE = ['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-action"></a>', '<a class="ql-remove"></a>'].join('');

  exports.default = SnowTheme;

  /***/ }),
  /* 63 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _core = __webpack_require__(29);

  var _core2 = _interopRequireDefault(_core);

  var _align = __webpack_require__(36);

  var _direction = __webpack_require__(38);

  var _indent = __webpack_require__(64);

  var _blockquote = __webpack_require__(65);

  var _blockquote2 = _interopRequireDefault(_blockquote);

  var _header = __webpack_require__(66);

  var _header2 = _interopRequireDefault(_header);

  var _list = __webpack_require__(67);

  var _list2 = _interopRequireDefault(_list);

  var _background = __webpack_require__(37);

  var _color = __webpack_require__(26);

  var _font = __webpack_require__(39);

  var _size = __webpack_require__(40);

  var _bold = __webpack_require__(56);

  var _bold2 = _interopRequireDefault(_bold);

  var _italic = __webpack_require__(68);

  var _italic2 = _interopRequireDefault(_italic);

  var _link = __webpack_require__(27);

  var _link2 = _interopRequireDefault(_link);

  var _script = __webpack_require__(69);

  var _script2 = _interopRequireDefault(_script);

  var _strike = __webpack_require__(70);

  var _strike2 = _interopRequireDefault(_strike);

  var _underline = __webpack_require__(71);

  var _underline2 = _interopRequireDefault(_underline);

  var _image = __webpack_require__(72);

  var _image2 = _interopRequireDefault(_image);

  var _video = __webpack_require__(73);

  var _video2 = _interopRequireDefault(_video);

  var _code = __webpack_require__(13);

  var _code2 = _interopRequireDefault(_code);

  var _formula = __webpack_require__(74);

  var _formula2 = _interopRequireDefault(_formula);

  var _syntax = __webpack_require__(75);

  var _syntax2 = _interopRequireDefault(_syntax);

  var _toolbar = __webpack_require__(57);

  var _toolbar2 = _interopRequireDefault(_toolbar);

  var _icons = __webpack_require__(41);

  var _icons2 = _interopRequireDefault(_icons);

  var _picker = __webpack_require__(28);

  var _picker2 = _interopRequireDefault(_picker);

  var _colorPicker = __webpack_require__(59);

  var _colorPicker2 = _interopRequireDefault(_colorPicker);

  var _iconPicker = __webpack_require__(60);

  var _iconPicker2 = _interopRequireDefault(_iconPicker);

  var _tooltip = __webpack_require__(61);

  var _tooltip2 = _interopRequireDefault(_tooltip);

  var _bubble = __webpack_require__(108);

  var _bubble2 = _interopRequireDefault(_bubble);

  var _snow = __webpack_require__(62);

  var _snow2 = _interopRequireDefault(_snow);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  _core2.default.register({
    'attributors/attribute/direction': _direction.DirectionAttribute,

    'attributors/class/align': _align.AlignClass,
    'attributors/class/background': _background.BackgroundClass,
    'attributors/class/color': _color.ColorClass,
    'attributors/class/direction': _direction.DirectionClass,
    'attributors/class/font': _font.FontClass,
    'attributors/class/size': _size.SizeClass,

    'attributors/style/align': _align.AlignStyle,
    'attributors/style/background': _background.BackgroundStyle,
    'attributors/style/color': _color.ColorStyle,
    'attributors/style/direction': _direction.DirectionStyle,
    'attributors/style/font': _font.FontStyle,
    'attributors/style/size': _size.SizeStyle
  }, true);

  _core2.default.register({
    'formats/align': _align.AlignClass,
    'formats/direction': _direction.DirectionClass,
    'formats/indent': _indent.IndentClass,

    'formats/background': _background.BackgroundStyle,
    'formats/color': _color.ColorStyle,
    'formats/font': _font.FontClass,
    'formats/size': _size.SizeClass,

    'formats/blockquote': _blockquote2.default,
    'formats/code-block': _code2.default,
    'formats/header': _header2.default,
    'formats/list': _list2.default,

    'formats/bold': _bold2.default,
    'formats/code': _code.Code,
    'formats/italic': _italic2.default,
    'formats/link': _link2.default,
    'formats/script': _script2.default,
    'formats/strike': _strike2.default,
    'formats/underline': _underline2.default,

    'formats/image': _image2.default,
    'formats/video': _video2.default,

    'formats/list/item': _list.ListItem,

    'modules/formula': _formula2.default,
    'modules/syntax': _syntax2.default,
    'modules/toolbar': _toolbar2.default,

    'themes/bubble': _bubble2.default,
    'themes/snow': _snow2.default,

    'ui/icons': _icons2.default,
    'ui/picker': _picker2.default,
    'ui/icon-picker': _iconPicker2.default,
    'ui/color-picker': _colorPicker2.default,
    'ui/tooltip': _tooltip2.default
  }, true);

  exports.default = _core2.default;

  /***/ }),
  /* 64 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.IndentClass = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var IdentAttributor = function (_Parchment$Attributor) {
    _inherits(IdentAttributor, _Parchment$Attributor);

    function IdentAttributor() {
      _classCallCheck(this, IdentAttributor);

      return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));
    }

    _createClass(IdentAttributor, [{
      key: 'add',
      value: function add(node, value) {
        if (value === '+1' || value === '-1') {
          var indent = this.value(node) || 0;
          value = value === '+1' ? indent + 1 : indent - 1;
        }
        if (value === 0) {
          this.remove(node);
          return true;
        } else {
          return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);
        }
      }
    }, {
      key: 'canAdd',
      value: function canAdd(node, value) {
        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));
      }
    }, {
      key: 'value',
      value: function value(node) {
        return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN
      }
    }]);

    return IdentAttributor;
  }(_parchment2.default.Attributor.Class);

  var IndentClass = new IdentAttributor('indent', 'ql-indent', {
    scope: _parchment2.default.Scope.BLOCK,
    whitelist: [1, 2, 3, 4, 5, 6, 7, 8]
  });

  exports.IndentClass = IndentClass;

  /***/ }),
  /* 65 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _block = __webpack_require__(4);

  var _block2 = _interopRequireDefault(_block);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Blockquote = function (_Block) {
    _inherits(Blockquote, _Block);

    function Blockquote() {
      _classCallCheck(this, Blockquote);

      return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));
    }

    return Blockquote;
  }(_block2.default);

  Blockquote.blotName = 'blockquote';
  Blockquote.tagName = 'blockquote';

  exports.default = Blockquote;

  /***/ }),
  /* 66 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _block = __webpack_require__(4);

  var _block2 = _interopRequireDefault(_block);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Header = function (_Block) {
    _inherits(Header, _Block);

    function Header() {
      _classCallCheck(this, Header);

      return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));
    }

    _createClass(Header, null, [{
      key: 'formats',
      value: function formats(domNode) {
        return this.tagName.indexOf(domNode.tagName) + 1;
      }
    }]);

    return Header;
  }(_block2.default);

  Header.blotName = 'header';
  Header.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];

  exports.default = Header;

  /***/ }),
  /* 67 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.ListItem = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _block = __webpack_require__(4);

  var _block2 = _interopRequireDefault(_block);

  var _container = __webpack_require__(25);

  var _container2 = _interopRequireDefault(_container);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var ListItem = function (_Block) {
    _inherits(ListItem, _Block);

    function ListItem() {
      _classCallCheck(this, ListItem);

      return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));
    }

    _createClass(ListItem, [{
      key: 'format',
      value: function format(name, value) {
        if (name === List.blotName && !value) {
          this.replaceWith(_parchment2.default.create(this.statics.scope));
        } else {
          _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);
        }
      }
    }, {
      key: 'remove',
      value: function remove() {
        if (this.prev == null && this.next == null) {
          this.parent.remove();
        } else {
          _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);
        }
      }
    }, {
      key: 'replaceWith',
      value: function replaceWith(name, value) {
        this.parent.isolate(this.offset(this.parent), this.length());
        if (name === this.parent.statics.blotName) {
          this.parent.replaceWith(name, value);
          return this;
        } else {
          this.parent.unwrap();
          return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);
        }
      }
    }], [{
      key: 'formats',
      value: function formats(domNode) {
        return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);
      }
    }]);

    return ListItem;
  }(_block2.default);

  ListItem.blotName = 'list-item';
  ListItem.tagName = 'LI';

  var List = function (_Container) {
    _inherits(List, _Container);

    _createClass(List, null, [{
      key: 'create',
      value: function create(value) {
        var tagName = value === 'ordered' ? 'OL' : 'UL';
        var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);
        if (value === 'checked' || value === 'unchecked') {
          node.setAttribute('data-checked', value === 'checked');
        }
        return node;
      }
    }, {
      key: 'formats',
      value: function formats(domNode) {
        if (domNode.tagName === 'OL') return 'ordered';
        if (domNode.tagName === 'UL') {
          if (domNode.hasAttribute('data-checked')) {
            return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';
          } else {
            return 'bullet';
          }
        }
        return undefined;
      }
    }]);

    function List(domNode) {
      _classCallCheck(this, List);

      var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));

      var listEventHandler = function listEventHandler(e) {
        if (e.target.parentNode !== domNode) return;
        var format = _this2.statics.formats(domNode);
        var blot = _parchment2.default.find(e.target);
        if (format === 'checked') {
          blot.format('list', 'unchecked');
        } else if (format === 'unchecked') {
          blot.format('list', 'checked');
        }
      };

      domNode.addEventListener('touchstart', listEventHandler);
      domNode.addEventListener('mousedown', listEventHandler);
      return _this2;
    }

    _createClass(List, [{
      key: 'format',
      value: function format(name, value) {
        if (this.children.length > 0) {
          this.children.tail.format(name, value);
        }
      }
    }, {
      key: 'formats',
      value: function formats() {
        // We don't inherit from FormatBlot
        return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));
      }
    }, {
      key: 'insertBefore',
      value: function insertBefore(blot, ref) {
        if (blot instanceof ListItem) {
          _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);
        } else {
          var index = ref == null ? this.length() : ref.offset(this);
          var after = this.split(index);
          after.parent.insertBefore(blot, after);
        }
      }
    }, {
      key: 'optimize',
      value: function optimize(context) {
        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);
        var next = this.next;
        if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {
          next.moveChildren(this);
          next.remove();
        }
      }
    }, {
      key: 'replace',
      value: function replace(target) {
        if (target.statics.blotName !== this.statics.blotName) {
          var item = _parchment2.default.create(this.statics.defaultChild);
          target.moveChildren(item);
          this.appendChild(item);
        }
        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);
      }
    }]);

    return List;
  }(_container2.default);

  List.blotName = 'list';
  List.scope = _parchment2.default.Scope.BLOCK_BLOT;
  List.tagName = ['OL', 'UL'];
  List.defaultChild = 'list-item';
  List.allowedChildren = [ListItem];

  exports.ListItem = ListItem;
  exports.default = List;

  /***/ }),
  /* 68 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _bold = __webpack_require__(56);

  var _bold2 = _interopRequireDefault(_bold);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Italic = function (_Bold) {
    _inherits(Italic, _Bold);

    function Italic() {
      _classCallCheck(this, Italic);

      return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));
    }

    return Italic;
  }(_bold2.default);

  Italic.blotName = 'italic';
  Italic.tagName = ['EM', 'I'];

  exports.default = Italic;

  /***/ }),
  /* 69 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _inline = __webpack_require__(6);

  var _inline2 = _interopRequireDefault(_inline);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Script = function (_Inline) {
    _inherits(Script, _Inline);

    function Script() {
      _classCallCheck(this, Script);

      return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));
    }

    _createClass(Script, null, [{
      key: 'create',
      value: function create(value) {
        if (value === 'super') {
          return document.createElement('sup');
        } else if (value === 'sub') {
          return document.createElement('sub');
        } else {
          return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);
        }
      }
    }, {
      key: 'formats',
      value: function formats(domNode) {
        if (domNode.tagName === 'SUB') return 'sub';
        if (domNode.tagName === 'SUP') return 'super';
        return undefined;
      }
    }]);

    return Script;
  }(_inline2.default);

  Script.blotName = 'script';
  Script.tagName = ['SUB', 'SUP'];

  exports.default = Script;

  /***/ }),
  /* 70 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _inline = __webpack_require__(6);

  var _inline2 = _interopRequireDefault(_inline);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Strike = function (_Inline) {
    _inherits(Strike, _Inline);

    function Strike() {
      _classCallCheck(this, Strike);

      return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));
    }

    return Strike;
  }(_inline2.default);

  Strike.blotName = 'strike';
  Strike.tagName = 'S';

  exports.default = Strike;

  /***/ }),
  /* 71 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _inline = __webpack_require__(6);

  var _inline2 = _interopRequireDefault(_inline);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var Underline = function (_Inline) {
    _inherits(Underline, _Inline);

    function Underline() {
      _classCallCheck(this, Underline);

      return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));
    }

    return Underline;
  }(_inline2.default);

  Underline.blotName = 'underline';
  Underline.tagName = 'U';

  exports.default = Underline;

  /***/ }),
  /* 72 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _link = __webpack_require__(27);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var ATTRIBUTES = ['alt', 'height', 'width'];

  var Image = function (_Parchment$Embed) {
    _inherits(Image, _Parchment$Embed);

    function Image() {
      _classCallCheck(this, Image);

      return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));
    }

    _createClass(Image, [{
      key: 'format',
      value: function format(name, value) {
        if (ATTRIBUTES.indexOf(name) > -1) {
          if (value) {
            this.domNode.setAttribute(name, value);
          } else {
            this.domNode.removeAttribute(name);
          }
        } else {
          _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);
        }
      }
    }], [{
      key: 'create',
      value: function create(value) {
        var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);
        if (typeof value === 'string') {
          node.setAttribute('src', this.sanitize(value));
        }
        return node;
      }
    }, {
      key: 'formats',
      value: function formats(domNode) {
        return ATTRIBUTES.reduce(function (formats, attribute) {
          if (domNode.hasAttribute(attribute)) {
            formats[attribute] = domNode.getAttribute(attribute);
          }
          return formats;
        }, {});
      }
    }, {
      key: 'match',
      value: function match(url) {
        return (/\.(jpe?g|gif|png)$/.test(url) || /^data:image\/.+;base64/.test(url)
        );
      }
    }, {
      key: 'sanitize',
      value: function sanitize(url) {
        return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';
      }
    }, {
      key: 'value',
      value: function value(domNode) {
        return domNode.getAttribute('src');
      }
    }]);

    return Image;
  }(_parchment2.default.Embed);

  Image.blotName = 'image';
  Image.tagName = 'IMG';

  exports.default = Image;

  /***/ }),
  /* 73 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _block = __webpack_require__(4);

  var _link = __webpack_require__(27);

  var _link2 = _interopRequireDefault(_link);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var ATTRIBUTES = ['height', 'width'];

  var Video = function (_BlockEmbed) {
    _inherits(Video, _BlockEmbed);

    function Video() {
      _classCallCheck(this, Video);

      return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));
    }

    _createClass(Video, [{
      key: 'format',
      value: function format(name, value) {
        if (ATTRIBUTES.indexOf(name) > -1) {
          if (value) {
            this.domNode.setAttribute(name, value);
          } else {
            this.domNode.removeAttribute(name);
          }
        } else {
          _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);
        }
      }
    }], [{
      key: 'create',
      value: function create(value) {
        var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);
        node.setAttribute('frameborder', '0');
        node.setAttribute('allowfullscreen', true);
        node.setAttribute('src', this.sanitize(value));
        return node;
      }
    }, {
      key: 'formats',
      value: function formats(domNode) {
        return ATTRIBUTES.reduce(function (formats, attribute) {
          if (domNode.hasAttribute(attribute)) {
            formats[attribute] = domNode.getAttribute(attribute);
          }
          return formats;
        }, {});
      }
    }, {
      key: 'sanitize',
      value: function sanitize(url) {
        return _link2.default.sanitize(url);
      }
    }, {
      key: 'value',
      value: function value(domNode) {
        return domNode.getAttribute('src');
      }
    }]);

    return Video;
  }(_block.BlockEmbed);

  Video.blotName = 'video';
  Video.className = 'ql-video';
  Video.tagName = 'IFRAME';

  exports.default = Video;

  /***/ }),
  /* 74 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.FormulaBlot = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _embed = __webpack_require__(35);

  var _embed2 = _interopRequireDefault(_embed);

  var _quill = __webpack_require__(5);

  var _quill2 = _interopRequireDefault(_quill);

  var _module = __webpack_require__(9);

  var _module2 = _interopRequireDefault(_module);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var FormulaBlot = function (_Embed) {
    _inherits(FormulaBlot, _Embed);

    function FormulaBlot() {
      _classCallCheck(this, FormulaBlot);

      return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));
    }

    _createClass(FormulaBlot, null, [{
      key: 'create',
      value: function create(value) {
        var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);
        if (typeof value === 'string') {
          window.katex.render(value, node, {
            throwOnError: false,
            errorColor: '#f00'
          });
          node.setAttribute('data-value', value);
        }
        return node;
      }
    }, {
      key: 'value',
      value: function value(domNode) {
        return domNode.getAttribute('data-value');
      }
    }]);

    return FormulaBlot;
  }(_embed2.default);

  FormulaBlot.blotName = 'formula';
  FormulaBlot.className = 'ql-formula';
  FormulaBlot.tagName = 'SPAN';

  var Formula = function (_Module) {
    _inherits(Formula, _Module);

    _createClass(Formula, null, [{
      key: 'register',
      value: function register() {
        _quill2.default.register(FormulaBlot, true);
      }
    }]);

    function Formula() {
      _classCallCheck(this, Formula);

      var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));

      if (window.katex == null) {
        throw new Error('Formula module requires KaTeX.');
      }
      return _this2;
    }

    return Formula;
  }(_module2.default);

  exports.FormulaBlot = FormulaBlot;
  exports.default = Formula;

  /***/ }),
  /* 75 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.CodeToken = exports.CodeBlock = undefined;

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _parchment = __webpack_require__(0);

  var _parchment2 = _interopRequireDefault(_parchment);

  var _quill = __webpack_require__(5);

  var _quill2 = _interopRequireDefault(_quill);

  var _module = __webpack_require__(9);

  var _module2 = _interopRequireDefault(_module);

  var _code = __webpack_require__(13);

  var _code2 = _interopRequireDefault(_code);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var SyntaxCodeBlock = function (_CodeBlock) {
    _inherits(SyntaxCodeBlock, _CodeBlock);

    function SyntaxCodeBlock() {
      _classCallCheck(this, SyntaxCodeBlock);

      return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));
    }

    _createClass(SyntaxCodeBlock, [{
      key: 'replaceWith',
      value: function replaceWith(block) {
        this.domNode.textContent = this.domNode.textContent;
        this.attach();
        _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);
      }
    }, {
      key: 'highlight',
      value: function highlight(_highlight) {
        var text = this.domNode.textContent;
        if (this.cachedText !== text) {
          if (text.trim().length > 0 || this.cachedText == null) {
            this.domNode.innerHTML = _highlight(text);
            this.domNode.normalize();
            this.attach();
          }
          this.cachedText = text;
        }
      }
    }]);

    return SyntaxCodeBlock;
  }(_code2.default);

  SyntaxCodeBlock.className = 'ql-syntax';

  var CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {
    scope: _parchment2.default.Scope.INLINE
  });

  var Syntax = function (_Module) {
    _inherits(Syntax, _Module);

    _createClass(Syntax, null, [{
      key: 'register',
      value: function register() {
        _quill2.default.register(CodeToken, true);
        _quill2.default.register(SyntaxCodeBlock, true);
      }
    }]);

    function Syntax(quill, options) {
      _classCallCheck(this, Syntax);

      var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));

      if (typeof _this2.options.highlight !== 'function') {
        throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');
      }
      var timer = null;
      _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {
        clearTimeout(timer);
        timer = setTimeout(function () {
          _this2.highlight();
          timer = null;
        }, _this2.options.interval);
      });
      _this2.highlight();
      return _this2;
    }

    _createClass(Syntax, [{
      key: 'highlight',
      value: function highlight() {
        var _this3 = this;

        if (this.quill.selection.composing) return;
        this.quill.update(_quill2.default.sources.USER);
        var range = this.quill.getSelection();
        this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {
          code.highlight(_this3.options.highlight);
        });
        this.quill.update(_quill2.default.sources.SILENT);
        if (range != null) {
          this.quill.setSelection(range, _quill2.default.sources.SILENT);
        }
      }
    }]);

    return Syntax;
  }(_module2.default);

  Syntax.DEFAULTS = {
    highlight: function () {
      if (window.hljs == null) return null;
      return function (text) {
        var result = window.hljs.highlightAuto(text);
        return result.value;
      };
    }(),
    interval: 1000
  };

  exports.CodeBlock = SyntaxCodeBlock;
  exports.CodeToken = CodeToken;
  exports.default = Syntax;

  /***/ }),
  /* 76 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>";

  /***/ }),
  /* 77 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>";

  /***/ }),
  /* 78 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>";

  /***/ }),
  /* 79 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>";

  /***/ }),
  /* 80 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <g class=\"ql-fill ql-color-label\"> <polygon points=\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\"6.817 5 6 5 6 6 6.38 6 6.817 5\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\"4.63 10 4 10 4 11 4.192 11 4.63 10\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\"12 6.868 12 6 11.62 6 12 6.868\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\"12.933 9 13 9 13 8 12.495 8 12.933 9\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\"5.5 13 9 5 12.5 13\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>";

  /***/ }),
  /* 81 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <rect class=\"ql-fill ql-stroke\" height=3 width=3 x=4 y=5></rect> <rect class=\"ql-fill ql-stroke\" height=3 width=3 x=11 y=5></rect> <path class=\"ql-even ql-fill ql-stroke\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\"ql-even ql-fill ql-stroke\" d=M14,8c0,4.031-3,5-3,5></path> </svg>";

  /***/ }),
  /* 82 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>";

  /***/ }),
  /* 83 */
  /***/ (function(module, exports) {

  module.exports = "<svg class=\"\" viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>";

  /***/ }),
  /* 84 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=\"ql-color-label ql-stroke ql-transparent\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\"5.5 11 9 3 12.5 11\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>";

  /***/ }),
  /* 85 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <polygon class=\"ql-stroke ql-fill\" points=\"3 11 5 9 3 7 3 11\"></polygon> <line class=\"ql-stroke ql-fill\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>";

  /***/ }),
  /* 86 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <polygon class=\"ql-stroke ql-fill\" points=\"15 12 13 10 15 8 15 12\"></polygon> <line class=\"ql-stroke ql-fill\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>";

  /***/ }),
  /* 87 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>";

  /***/ }),
  /* 88 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>";

  /***/ }),
  /* 89 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>";

  /***/ }),
  /* 90 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\"translate(24 18) rotate(-180)\"/> </svg>";

  /***/ }),
  /* 91 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>";

  /***/ }),
  /* 92 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewBox=\"0 0 18 18\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>";

  /***/ }),
  /* 93 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewBox=\"0 0 18 18\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>";

  /***/ }),
  /* 94 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>";

  /***/ }),
  /* 95 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\"ql-even ql-fill\" points=\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\"></polyline> </svg>";

  /***/ }),
  /* 96 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\"ql-fill ql-stroke\" points=\"3 7 3 11 5 9 3 7\"></polyline> </svg>";

  /***/ }),
  /* 97 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\"5 7 5 11 3 9 5 7\"></polyline> </svg>";

  /***/ }),
  /* 98 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\"ql-even ql-stroke\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\"ql-even ql-stroke\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>";

  /***/ }),
  /* 99 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\"ql-stroke ql-thin\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\"ql-stroke ql-thin\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\"ql-stroke ql-thin\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>";

  /***/ }),
  /* 100 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>";

  /***/ }),
  /* 101 */
  /***/ (function(module, exports) {

  module.exports = "<svg class=\"\" viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\"3 4 4 5 6 3\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\"3 14 4 15 6 13\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\"3 9 4 10 6 8\"></polyline> </svg>";

  /***/ }),
  /* 102 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>";

  /***/ }),
  /* 103 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>";

  /***/ }),
  /* 104 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <line class=\"ql-stroke ql-thin\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>";

  /***/ }),
  /* 105 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>";

  /***/ }),
  /* 106 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>";

  /***/ }),
  /* 107 */
  /***/ (function(module, exports) {

  module.exports = "<svg viewbox=\"0 0 18 18\"> <polygon class=ql-stroke points=\"7 11 9 13 11 11 7 11\"></polygon> <polygon class=ql-stroke points=\"7 7 9 5 11 7 7 7\"></polygon> </svg>";

  /***/ }),
  /* 108 */
  /***/ (function(module, exports, __webpack_require__) {


  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = exports.BubbleTooltip = undefined;

  var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

  var _extend = __webpack_require__(3);

  var _extend2 = _interopRequireDefault(_extend);

  var _emitter = __webpack_require__(8);

  var _emitter2 = _interopRequireDefault(_emitter);

  var _base = __webpack_require__(43);

  var _base2 = _interopRequireDefault(_base);

  var _selection = __webpack_require__(15);

  var _icons = __webpack_require__(41);

  var _icons2 = _interopRequireDefault(_icons);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

  var TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];

  var BubbleTheme = function (_BaseTheme) {
    _inherits(BubbleTheme, _BaseTheme);

    function BubbleTheme(quill, options) {
      _classCallCheck(this, BubbleTheme);

      if (options.modules.toolbar != null && options.modules.toolbar.container == null) {
        options.modules.toolbar.container = TOOLBAR_CONFIG;
      }

      var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));

      _this.quill.container.classList.add('ql-bubble');
      return _this;
    }

    _createClass(BubbleTheme, [{
      key: 'extendToolbar',
      value: function extendToolbar(toolbar) {
        this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);
        this.tooltip.root.appendChild(toolbar.container);
        this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);
        this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);
      }
    }]);

    return BubbleTheme;
  }(_base2.default);

  BubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {
    modules: {
      toolbar: {
        handlers: {
          link: function link(value) {
            if (!value) {
              this.quill.format('link', false);
            } else {
              this.quill.theme.tooltip.edit();
            }
          }
        }
      }
    }
  });

  var BubbleTooltip = function (_BaseTooltip) {
    _inherits(BubbleTooltip, _BaseTooltip);

    function BubbleTooltip(quill, bounds) {
      _classCallCheck(this, BubbleTooltip);

      var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));

      _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {
        if (type !== _emitter2.default.events.SELECTION_CHANGE) return;
        if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {
          _this2.show();
          // Lock our width so we will expand beyond our offsetParent boundaries
          _this2.root.style.left = '0px';
          _this2.root.style.width = '';
          _this2.root.style.width = _this2.root.offsetWidth + 'px';
          var lines = _this2.quill.getLines(range.index, range.length);
          if (lines.length === 1) {
            _this2.position(_this2.quill.getBounds(range));
          } else {
            var lastLine = lines[lines.length - 1];
            var index = _this2.quill.getIndex(lastLine);
            var length = Math.min(lastLine.length() - 1, range.index + range.length - index);
            var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));
            _this2.position(_bounds);
          }
        } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {
          _this2.hide();
        }
      });
      return _this2;
    }

    _createClass(BubbleTooltip, [{
      key: 'listen',
      value: function listen() {
        var _this3 = this;

        _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);
        this.root.querySelector('.ql-close').addEventListener('click', function () {
          _this3.root.classList.remove('ql-editing');
        });
        this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {
          // Let selection be restored by toolbar handlers before repositioning
          setTimeout(function () {
            if (_this3.root.classList.contains('ql-hidden')) return;
            var range = _this3.quill.getSelection();
            if (range != null) {
              _this3.position(_this3.quill.getBounds(range));
            }
          }, 1);
        });
      }
    }, {
      key: 'cancel',
      value: function cancel() {
        this.show();
      }
    }, {
      key: 'position',
      value: function position(reference) {
        var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);
        var arrow = this.root.querySelector('.ql-tooltip-arrow');
        arrow.style.marginLeft = '';
        if (shift === 0) return shift;
        arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';
      }
    }]);

    return BubbleTooltip;
  }(_base.BaseTooltip);

  BubbleTooltip.TEMPLATE = ['<span class="ql-tooltip-arrow"></span>', '<div class="ql-tooltip-editor">', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-close"></a>', '</div>'].join('');

  exports.BubbleTooltip = BubbleTooltip;
  exports.default = BubbleTheme;

  /***/ }),
  /* 109 */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__(63);


  /***/ })
  /******/ ])["default"];
  });
  });

  var Quill = unwrapExports(quill);

  var defaultToolbar = [[{
    header: [false, 1, 2, 3, 4, 5, 6]
  }], ["bold", "italic", "underline", "strike"], // toggled buttons
  [{
    align: ""
  }, {
    align: "center"
  }, {
    align: "right"
  }, {
    align: "justify"
  }], ["blockquote", "code-block"], [{
    list: "ordered"
  }, {
    list: "bullet"
  }, {
    list: "check"
  }], [{
    indent: "-1"
  }, {
    indent: "+1"
  }], // outdent/indent
  [{
    color: []
  }, {
    background: []
  }], // dropdown with defaults from theme
  ["link", "image", "video"], ["clean"] // remove formatting button
  ];

  var oldApi = {
    props: {
      customModules: Array
    },
    methods: {
      registerCustomModules: function registerCustomModules(Quill) {
        if (this.customModules !== undefined) {
          this.customModules.forEach(function (customModule) {
            Quill.register("modules/" + customModule.alias, customModule.module);
          });
        }
      }
    }
  };

  function _typeof$1(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      _typeof$1 = function (obj) {
        return typeof obj;
      };
    } else {
      _typeof$1 = function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return _typeof$1(obj);
  }

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _inherits$1(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });
    if (superClass) _setPrototypeOf$1(subClass, superClass);
  }

  function _getPrototypeOf$1(o) {
    _getPrototypeOf$1 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf$1(o);
  }

  function _setPrototypeOf$1(o, p) {
    _setPrototypeOf$1 = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };

    return _setPrototypeOf$1(o, p);
  }

  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  }

  function _possibleConstructorReturn(self, call) {
    if (call && (typeof call === "object" || typeof call === "function")) {
      return call;
    }

    return _assertThisInitialized(self);
  }

  function _slicedToArray$1(arr, i) {
    return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1();
  }

  function _arrayWithHoles$1(arr) {
    if (Array.isArray(arr)) return arr;
  }

  function _iterableToArrayLimit$1(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"] != null) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  function _nonIterableRest$1() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance");
  }

  /**
   * Performs a deep merge of `source` into `target`.
   * Mutates `target` only but not its objects and arrays.
   *
   */
  function mergeDeep(target, source) {
    var isObject = function isObject(obj) {
      return obj && _typeof$1(obj) === "object";
    };

    if (!isObject(target) || !isObject(source)) {
      return source;
    }

    Object.keys(source).forEach(function (key) {
      var targetValue = target[key];
      var sourceValue = source[key];

      if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {
        target[key] = targetValue.concat(sourceValue);
      } else if (isObject(targetValue) && isObject(sourceValue)) {
        target[key] = mergeDeep(Object.assign({}, targetValue), sourceValue);
      } else {
        target[key] = sourceValue;
      }
    });
    return target;
  }

  var BlockEmbed = Quill.import("blots/block/embed");

  var HorizontalRule =
  /*#__PURE__*/
  function (_BlockEmbed) {
    _inherits$1(HorizontalRule, _BlockEmbed);

    function HorizontalRule() {
      _classCallCheck(this, HorizontalRule);

      return _possibleConstructorReturn(this, _getPrototypeOf$1(HorizontalRule).apply(this, arguments));
    }

    return HorizontalRule;
  }(BlockEmbed);

  HorizontalRule.blotName = "hr";
  HorizontalRule.tagName = "hr";
  Quill.register("formats/horizontal", HorizontalRule);

  var MarkdownShortcuts =
  /*#__PURE__*/
  function () {
    function MarkdownShortcuts(quill, options) {
      var _this = this;

      _classCallCheck(this, MarkdownShortcuts);

      this.quill = quill;
      this.options = options;
      this.ignoreTags = ["PRE"];
      this.matches = [{
        name: "header",
        pattern: /^(#){1,6}\s/g,
        action: function action(text, selection, pattern) {
          var match = pattern.exec(text);
          if (!match) return;
          var size = match[0].length; // Need to defer this action https://github.com/quilljs/quill/issues/1134

          setTimeout(function () {
            _this.quill.formatLine(selection.index, 0, "header", size - 1);

            _this.quill.deleteText(selection.index - size, size);
          }, 0);
        }
      }, {
        name: "blockquote",
        pattern: /^(>)\s/g,
        action: function action(_text, selection) {
          // Need to defer this action https://github.com/quilljs/quill/issues/1134
          setTimeout(function () {
            _this.quill.formatLine(selection.index, 1, "blockquote", true);

            _this.quill.deleteText(selection.index - 2, 2);
          }, 0);
        }
      }, {
        name: "code-block",
        pattern: /^`{3}(?:\s|\n)/g,
        action: function action(_text, selection) {
          // Need to defer this action https://github.com/quilljs/quill/issues/1134
          setTimeout(function () {
            _this.quill.formatLine(selection.index, 1, "code-block", true);

            _this.quill.deleteText(selection.index - 4, 4);
          }, 0);
        }
      }, {
        name: "bolditalic",
        pattern: /(?:\*|_){3}(.+?)(?:\*|_){3}/g,
        action: function action(text, _selection, pattern, lineStart) {
          var match = pattern.exec(text);
          var annotatedText = match[0];
          var matchedText = match[1];
          var startIndex = lineStart + match.index;
          if (text.match(/^([*_ \n]+)$/g)) return;
          setTimeout(function () {
            _this.quill.deleteText(startIndex, annotatedText.length);

            _this.quill.insertText(startIndex, matchedText, {
              bold: true,
              italic: true
            });

            _this.quill.format("bold", false);
          }, 0);
        }
      }, {
        name: "bold",
        pattern: /(?:\*|_){2}(.+?)(?:\*|_){2}/g,
        action: function action(text, _selection, pattern, lineStart) {
          var match = pattern.exec(text);
          var annotatedText = match[0];
          var matchedText = match[1];
          var startIndex = lineStart + match.index;
          if (text.match(/^([*_ \n]+)$/g)) return;
          setTimeout(function () {
            _this.quill.deleteText(startIndex, annotatedText.length);

            _this.quill.insertText(startIndex, matchedText, {
              bold: true
            });

            _this.quill.format("bold", false);
          }, 0);
        }
      }, {
        name: "italic",
        pattern: /(?:\*|_){1}(.+?)(?:\*|_){1}/g,
        action: function action(text, _selection, pattern, lineStart) {
          var match = pattern.exec(text);
          var annotatedText = match[0];
          var matchedText = match[1];
          var startIndex = lineStart + match.index;
          if (text.match(/^([*_ \n]+)$/g)) return;
          setTimeout(function () {
            _this.quill.deleteText(startIndex, annotatedText.length);

            _this.quill.insertText(startIndex, matchedText, {
              italic: true
            });

            _this.quill.format("italic", false);
          }, 0);
        }
      }, {
        name: "strikethrough",
        pattern: /(?:~~)(.+?)(?:~~)/g,
        action: function action(text, _selection, pattern, lineStart) {
          var match = pattern.exec(text);
          var annotatedText = match[0];
          var matchedText = match[1];
          var startIndex = lineStart + match.index;
          if (text.match(/^([*_ \n]+)$/g)) return;
          setTimeout(function () {
            _this.quill.deleteText(startIndex, annotatedText.length);

            _this.quill.insertText(startIndex, matchedText, {
              strike: true
            });

            _this.quill.format("strike", false);
          }, 0);
        }
      }, {
        name: "code",
        pattern: /(?:`)(.+?)(?:`)/g,
        action: function action(text, _selection, pattern, lineStart) {
          var match = pattern.exec(text);
          var annotatedText = match[0];
          var matchedText = match[1];
          var startIndex = lineStart + match.index;
          if (text.match(/^([*_ \n]+)$/g)) return;
          setTimeout(function () {
            _this.quill.deleteText(startIndex, annotatedText.length);

            _this.quill.insertText(startIndex, matchedText, {
              code: true
            });

            _this.quill.format("code", false);

            _this.quill.insertText(_this.quill.getSelection(), " ");
          }, 0);
        }
      }, {
        name: "hr",
        pattern: /^([-*]\s?){3}/g,
        action: function action(text, selection) {
          var startIndex = selection.index - text.length;
          setTimeout(function () {
            _this.quill.deleteText(startIndex, text.length);

            _this.quill.insertEmbed(startIndex + 1, "hr", true, Quill.sources.USER);

            _this.quill.insertText(startIndex + 2, "\n", Quill.sources.SILENT);

            _this.quill.setSelection(startIndex + 2, Quill.sources.SILENT);
          }, 0);
        }
      }, {
        name: "asterisk-ul",
        pattern: /^(\*|\+)\s$/g,
        action: function action(_text, selection, _pattern) {
          setTimeout(function () {
            _this.quill.formatLine(selection.index, 1, "list", "unordered");

            _this.quill.deleteText(selection.index - 2, 2);
          }, 0);
        }
      }, {
        name: "image",
        pattern: /(?:!\[(.+?)\])(?:\((.+?)\))/g,
        action: function action(text, selection, pattern) {
          var startIndex = text.search(pattern);
          var matchedText = text.match(pattern)[0]; // const hrefText = text.match(/(?:!\[(.*?)\])/g)[0]

          var hrefLink = text.match(/(?:\((.*?)\))/g)[0];
          var start = selection.index - matchedText.length - 1;

          if (startIndex !== -1) {
            setTimeout(function () {
              _this.quill.deleteText(start, matchedText.length);

              _this.quill.insertEmbed(start, "image", hrefLink.slice(1, hrefLink.length - 1));
            }, 0);
          }
        }
      }, {
        name: "link",
        pattern: /(?:\[(.+?)\])(?:\((.+?)\))/g,
        action: function action(text, selection, pattern) {
          var startIndex = text.search(pattern);
          var matchedText = text.match(pattern)[0];
          var hrefText = text.match(/(?:\[(.*?)\])/g)[0];
          var hrefLink = text.match(/(?:\((.*?)\))/g)[0];
          var start = selection.index - matchedText.length - 1;

          if (startIndex !== -1) {
            setTimeout(function () {
              _this.quill.deleteText(start, matchedText.length);

              _this.quill.insertText(start, hrefText.slice(1, hrefText.length - 1), "link", hrefLink.slice(1, hrefLink.length - 1));
            }, 0);
          }
        }
      }]; // Handler that looks for insert deltas that match specific characters

      this.quill.on("text-change", function (delta, _oldContents, _source) {
        for (var i = 0; i < delta.ops.length; i++) {
          if (delta.ops[i].hasOwnProperty("insert")) {
            if (delta.ops[i].insert === " ") {
              _this.onSpace();
            } else if (delta.ops[i].insert === "\n") {
              _this.onEnter();
            }
          }
        }
      });
    }

    _createClass(MarkdownShortcuts, [{
      key: "isValid",
      value: function isValid(text, tagName) {
        return typeof text !== "undefined" && text && this.ignoreTags.indexOf(tagName) === -1;
      }
    }, {
      key: "onSpace",
      value: function onSpace() {
        var selection = this.quill.getSelection();
        if (!selection) return;

        var _this$quill$getLine = this.quill.getLine(selection.index),
            _this$quill$getLine2 = _slicedToArray$1(_this$quill$getLine, 2),
            line = _this$quill$getLine2[0],
            offset = _this$quill$getLine2[1];

        var text = line.domNode.textContent;
        var lineStart = selection.index - offset;

        if (this.isValid(text, line.domNode.tagName)) {
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = this.matches[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var match = _step.value;
              var matchedText = text.match(match.pattern);

              if (matchedText) {
                // We need to replace only matched text not the whole line
                console.log("matched:", match.name, text);
                match.action(text, selection, match.pattern, lineStart);
                return;
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }
    }, {
      key: "onEnter",
      value: function onEnter() {
        var selection = this.quill.getSelection();
        if (!selection) return;

        var _this$quill$getLine3 = this.quill.getLine(selection.index),
            _this$quill$getLine4 = _slicedToArray$1(_this$quill$getLine3, 2),
            line = _this$quill$getLine4[0],
            offset = _this$quill$getLine4[1];

        var text = line.domNode.textContent + " ";
        var lineStart = selection.index - offset;
        selection.length = selection.index++;

        if (this.isValid(text, line.domNode.tagName)) {
          var _iteratorNormalCompletion2 = true;
          var _didIteratorError2 = false;
          var _iteratorError2 = undefined;

          try {
            for (var _iterator2 = this.matches[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var match = _step2.value;
              var matchedText = text.match(match.pattern);

              if (matchedText) {
                console.log("matched", match.name, text);
                match.action(text, selection, match.pattern, lineStart);
                return;
              }
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
        }
      }
    }]);

    return MarkdownShortcuts;
  }(); // module.exports = MarkdownShortcuts;

  //
  var script$L = {
    name: "VueEditor",
    mixins: [oldApi],
    props: {
      id: {
        type: String,
        default: "quill-container"
      },
      placeholder: {
        type: String,
        default: ""
      },
      value: {
        type: String,
        default: ""
      },
      disabled: {
        type: Boolean
      },
      editorToolbar: {
        type: Array,
        default: function _default() {
          return [];
        }
      },
      editorOptions: {
        type: Object,
        required: false,
        default: function _default() {
          return {};
        }
      },
      useCustomImageHandler: {
        type: Boolean,
        default: false
      },
      useMarkdownShortcuts: {
        type: Boolean,
        default: false
      }
    },
    data: function data() {
      return {
        quill: null
      };
    },
    watch: {
      value: function value(val) {
        if (val != this.quill.root.innerHTML && !this.quill.hasFocus()) {
          this.quill.root.innerHTML = val;
        }
      },
      disabled: function disabled(status) {
        this.quill.enable(!status);
      }
    },
    mounted: function mounted() {
      this.registerCustomModules(Quill);
      this.registerPrototypes();
      this.initializeEditor();
    },
    beforeDestroy: function beforeDestroy() {
      this.quill = null;
      delete this.quill;
    },
    methods: {
      initializeEditor: function initializeEditor() {
        this.setupQuillEditor();
        this.checkForCustomImageHandler();
        this.handleInitialContent();
        this.registerEditorEventListeners();
        this.$emit("ready", this.quill);
      },
      setupQuillEditor: function setupQuillEditor() {
        var editorConfig = {
          debug: false,
          modules: this.setModules(),
          theme: "snow",
          placeholder: this.placeholder ? this.placeholder : "",
          readOnly: this.disabled ? this.disabled : false
        };
        this.prepareEditorConfig(editorConfig);
        this.quill = new Quill(this.$refs.quillContainer, editorConfig);
      },
      setModules: function setModules() {
        var modules = {
          toolbar: this.editorToolbar.length ? this.editorToolbar : defaultToolbar
        };

        if (this.useMarkdownShortcuts) {
          Quill.register("modules/markdownShortcuts", MarkdownShortcuts, true);
          modules["markdownShortcuts"] = {};
        }

        return modules;
      },
      prepareEditorConfig: function prepareEditorConfig(editorConfig) {
        if (Object.keys(this.editorOptions).length > 0 && this.editorOptions.constructor === Object) {
          if (this.editorOptions.modules && typeof this.editorOptions.modules.toolbar !== "undefined") {
            // We don't want to merge default toolbar with provided toolbar.
            delete editorConfig.modules.toolbar;
          }

          mergeDeep(editorConfig, this.editorOptions);
        }
      },
      registerPrototypes: function registerPrototypes() {
        Quill.prototype.getHTML = function () {
          return this.container.querySelector(".ql-editor").innerHTML;
        };

        Quill.prototype.getWordCount = function () {
          return this.container.querySelector(".ql-editor").innerText.length;
        };
      },
      registerEditorEventListeners: function registerEditorEventListeners() {
        this.quill.on("text-change", this.handleTextChange);
        this.quill.on("selection-change", this.handleSelectionChange);
        this.listenForEditorEvent("text-change");
        this.listenForEditorEvent("selection-change");
        this.listenForEditorEvent("editor-change");
      },
      listenForEditorEvent: function listenForEditorEvent(type) {
        var _this = this;

        this.quill.on(type, function () {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          _this.$emit.apply(_this, [type].concat(args));
        });
      },
      handleInitialContent: function handleInitialContent() {
        if (this.value) this.quill.root.innerHTML = this.value; // Set initial editor content
      },
      handleSelectionChange: function handleSelectionChange(range, oldRange) {
        if (!range && oldRange) this.$emit("blur", this.quill);else if (range && !oldRange) this.$emit("focus", this.quill);
      },
      handleTextChange: function handleTextChange(delta, oldContents) {
        var editorContent = this.quill.getHTML() === "<p><br></p>" ? "" : this.quill.getHTML();
        this.$emit("input", editorContent);
        if (this.useCustomImageHandler) this.handleImageRemoved(delta, oldContents);
      },
      handleImageRemoved: function handleImageRemoved(delta, oldContents) {
        var _this2 = this;

        var currrentContents = this.quill.getContents();
        var deletedContents = currrentContents.diff(oldContents);
        var operations = deletedContents.ops;
        operations.map(function (operation) {
          if (operation.insert && operation.insert.hasOwnProperty("image")) {
            var image = operation.insert.image;

            _this2.$emit("image-removed", image);
          }
        });
      },
      checkForCustomImageHandler: function checkForCustomImageHandler() {
        this.useCustomImageHandler === true ? this.setupCustomImageHandler() : "";
      },
      setupCustomImageHandler: function setupCustomImageHandler() {
        var toolbar = this.quill.getModule("toolbar");
        toolbar.addHandler("image", this.customImageHandler);
      },
      customImageHandler: function customImageHandler(image, callback) {
        this.$refs.fileInput.click();
      },
      emitImageInfo: function emitImageInfo($event) {
        var resetUploader = function resetUploader() {
          var uploader = document.getElementById("file-upload");
          uploader.value = "";
        };

        var file = $event.target.files[0];
        var Editor = this.quill;
        var range = Editor.getSelection();
        var cursorLocation = range.index;
        this.$emit("image-added", file, Editor, cursorLocation, resetUploader);
      }
    }
  };

  function normalizeComponent$1(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier
  /* server only */
  , shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {
    if (typeof shadowMode !== 'boolean') {
      createInjectorSSR = createInjector;
      createInjector = shadowMode;
      shadowMode = false;
    } // Vue.extend constructor export interop.


    var options = typeof script === 'function' ? script.options : script; // render functions

    if (template && template.render) {
      options.render = template.render;
      options.staticRenderFns = template.staticRenderFns;
      options._compiled = true; // functional template

      if (isFunctionalTemplate) {
        options.functional = true;
      }
    } // scopedId


    if (scopeId) {
      options._scopeId = scopeId;
    }

    var hook;

    if (moduleIdentifier) {
      // server build
      hook = function hook(context) {
        // 2.3 injection
        context = context || // cached call
        this.$vnode && this.$vnode.ssrContext || // stateful
        this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional
        // 2.2 with runInNewContext: true

        if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
          context = __VUE_SSR_CONTEXT__;
        } // inject component styles


        if (style) {
          style.call(this, createInjectorSSR(context));
        } // register component module identifier for async chunk inference


        if (context && context._registeredComponents) {
          context._registeredComponents.add(moduleIdentifier);
        }
      }; // used by ssr in case component is cached and beforeCreate
      // never gets called


      options._ssrRegister = hook;
    } else if (style) {
      hook = shadowMode ? function () {
        style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));
      } : function (context) {
        style.call(this, createInjector(context));
      };
    }

    if (hook) {
      if (options.functional) {
        // register for functional component in vue file
        var originalRender = options.render;

        options.render = function renderWithStyleInjection(h, context) {
          hook.call(context);
          return originalRender(h, context);
        };
      } else {
        // inject component registration as beforeCreate hook
        var existing = options.beforeCreate;
        options.beforeCreate = existing ? [].concat(existing, hook) : [hook];
      }
    }

    return script;
  }

  var normalizeComponent_1 = normalizeComponent$1;

  var isOldIE$1 = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());

  function createInjector$1(context) {
    return function (id, style) {
      return addStyle$1(id, style);
    };
  }

  var HEAD$1;
  var styles$1 = {};

  function addStyle$1(id, css) {
    var group = isOldIE$1 ? css.media || 'default' : id;
    var style = styles$1[group] || (styles$1[group] = {
      ids: new Set(),
      styles: []
    });

    if (!style.ids.has(id)) {
      style.ids.add(id);
      var code = css.source;

      if (css.map) {
        // https://developer.chrome.com/devtools/docs/javascript-debugging
        // this makes source maps inside style tags work properly in Chrome
        code += '\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875

        code += '\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';
      }

      if (!style.element) {
        style.element = document.createElement('style');
        style.element.type = 'text/css';
        if (css.media) style.element.setAttribute('media', css.media);

        if (HEAD$1 === undefined) {
          HEAD$1 = document.head || document.getElementsByTagName('head')[0];
        }

        HEAD$1.appendChild(style.element);
      }

      if ('styleSheet' in style.element) {
        style.styles.push(code);
        style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\n');
      } else {
        var index = style.ids.size - 1;
        var textNode = document.createTextNode(code);
        var nodes = style.element.childNodes;
        if (nodes[index]) style.element.removeChild(nodes[index]);
        if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);
      }
    }
  }

  var browser = createInjector$1;

  /* script */
  const __vue_script__$M = script$L;

  /* template */
  var __vue_render__$G = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"quillWrapper"},[_vm._t("toolbar"),_vm._v(" "),_c('div',{ref:"quillContainer",attrs:{"id":_vm.id}}),_vm._v(" "),(_vm.useCustomImageHandler)?_c('input',{ref:"fileInput",staticStyle:{"display":"none"},attrs:{"id":"file-upload","type":"file","accept":"image/*"},on:{"change":function($event){return _vm.emitImageInfo($event)}}}):_vm._e()],2)};
  var __vue_staticRenderFns__$G = [];

    /* style */
    const __vue_inject_styles__$M = function (inject) {
      if (!inject) return
      inject("data-v-59392418_0", { source: "/*!\n * Quill Editor v1.3.6\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li::before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:0;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li::before{content:'\\2022'}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li::before,.ql-editor ul[data-checked=true]>li::before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li::before{content:'\\2611'}.ql-editor ul[data-checked=false]>li::before{content:'\\2610'}.ql-editor li::before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl)::before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl::before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) '. '}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) '. '}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) '. '}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) '. '}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) '. '}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) '. '}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) '. '}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) '. '}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) '. '}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank::before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow .ql-toolbar:after,.ql-snow.ql-toolbar:after{clear:both;content:'';display:table}.ql-snow .ql-toolbar button,.ql-snow.ql-toolbar button{background:0 0;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow .ql-toolbar button svg,.ql-snow.ql-toolbar button svg{float:left;height:100%}.ql-snow .ql-toolbar button:active:hover,.ql-snow.ql-toolbar button:active:hover{outline:0}.ql-snow .ql-toolbar input.ql-image[type=file],.ql-snow.ql-toolbar input.ql-image[type=file]{display:none}.ql-snow .ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar button.ql-active,.ql-snow .ql-toolbar button:focus,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar button.ql-active,.ql-snow.ql-toolbar button:focus,.ql-snow.ql-toolbar button:hover{color:#06c}.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill{fill:#06c}.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow .ql-toolbar button:hover:not(.ql-active),.ql-snow.ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-item::before,.ql-snow .ql-picker.ql-header .ql-picker-label::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-item::before,.ql-snow .ql-picker.ql-font .ql-picker-label::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-item::before,.ql-snow .ql-picker.ql-size .ql-picker-label::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:\"Visit URL:\";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:\"Enter link:\"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:\"Enter formula:\"}.ql-snow .ql-tooltip[data-mode=video]::before{content:\"Enter video:\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}", map: undefined, media: undefined })
  ,inject("data-v-59392418_1", { source: ".ql-editor{min-height:200px;font-size:16px}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1px!important}.quillWrapper .ql-snow.ql-toolbar{padding-top:8px;padding-bottom:4px}.quillWrapper .ql-snow.ql-toolbar .ql-formats{margin-bottom:10px}.ql-snow .ql-toolbar button svg,.quillWrapper .ql-snow.ql-toolbar button svg{width:22px;height:22px}.quillWrapper .ql-editor ul[data-checked=false]>li::before,.quillWrapper .ql-editor ul[data-checked=true]>li::before{font-size:1.35em;vertical-align:baseline;bottom:-.065em;font-weight:900;color:#222}.quillWrapper .ql-snow .ql-stroke{stroke:rgba(63,63,63,.95);stroke-linecap:square;stroke-linejoin:initial;stroke-width:1.7px}.quillWrapper .ql-picker-label{font-size:15px}.quillWrapper .ql-snow .ql-active .ql-stroke{stroke-width:2.25px}.quillWrapper .ql-toolbar.ql-snow .ql-formats{vertical-align:top}.ql-picker:not(.ql-background){position:relative;top:2px}.ql-picker.ql-color-picker svg{width:22px!important;height:22px!important}.quillWrapper .imageResizeActive img{display:block;cursor:pointer}.quillWrapper .imageResizeActive~div svg{cursor:pointer}", map: undefined, media: undefined });

    };
    /* scoped */
    const __vue_scope_id__$M = undefined;
    /* module identifier */
    const __vue_module_identifier__$M = undefined;
    /* functional template */
    const __vue_is_functional_template__$M = false;
    /* style inject SSR */
    

    
    var VueEditor = normalizeComponent_1(
      { render: __vue_render__$G, staticRenderFns: __vue_staticRenderFns__$G },
      __vue_inject_styles__$M,
      __vue_script__$M,
      __vue_scope_id__$M,
      __vue_is_functional_template__$M,
      __vue_module_identifier__$M,
      browser,
      undefined
    );

  var version = "2.10.2"; // Declare install function executed by Vue.use()

  function install(Vue) {
    if (install.installed) return;
    install.installed = true;
    Vue.component("VueEditor", VueEditor);
  }
  var VPlugin = {
    install: install,
    version: version,
    Quill: Quill,
    VueEditor: VueEditor
  }; // Auto-install when vue is found (eg. in browser via <script> tag)

  var GlobalVue = null;

  if (typeof window !== "undefined") {
    GlobalVue = window.Vue;
  } else if (typeof global$1 !== "undefined") {
    GlobalVue = global$1.Vue;
  }

  if (GlobalVue) {
    GlobalVue.use(VPlugin);
  }

  var script$M = Vue.mgComponent('mgWysiwyg', {
    meta: {
      title: 'WYSIWYG editor',
      icon: 'far fa-atlas',
      category: 'Complex Inputs',
      preferId: true,
      shorthand: ['content']
    },
    components: {
      VueEditor: VueEditor
    },
    props: {
      placeholder: {
        type: 'mgText',
        help: 'Ghost text to display when there is no value'
      },
      required: {
        type: 'mgToggle',
        "default": false
      }
    },
    created: function created() {
      var _this = this;

      this.$on('mgValidate', function (reply) {
        if (_this.$props.required && !_this.data) return reply("".concat(_this.$props.title, " is required"));
      });
    }
  });

  /* script */
  const __vue_script__$N = script$M;

  /* template */
  var __vue_render__$H = function() {
    var _vm = this;
    var _h = _vm.$createElement;
    var _c = _vm._self._c || _h;
    return _c("vue-editor", {
      staticClass: "mg-wysiwyg",
      attrs: { placeholder: _vm.$props.placeholder },
      model: {
        value: _vm.data,
        callback: function($$v) {
          _vm.data = $$v;
        },
        expression: "data"
      }
    })
  };
  var __vue_staticRenderFns__$H = [];
  __vue_render__$H._withStripped = true;

    /* style */
    const __vue_inject_styles__$N = undefined;
    /* scoped */
    const __vue_scope_id__$N = undefined;
    /* module identifier */
    const __vue_module_identifier__$N = undefined;
    /* functional template */
    const __vue_is_functional_template__$N = false;
    /* style inject */
    
    /* style inject SSR */
    
    /* style inject shadow dom */
    

    
    const __vue_component__$M = normalizeComponent(
      { render: __vue_render__$H, staticRenderFns: __vue_staticRenderFns__$H },
      __vue_inject_styles__$N,
      __vue_script__$N,
      __vue_scope_id__$N,
      __vue_is_functional_template__$N,
      __vue_module_identifier__$N,
      false,
      undefined,
      undefined,
      undefined
    );

  var mgWysiwyg = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': __vue_component__$M
  });

}(Vue, $));
//# sourceMappingURL=macgyver.js.map
