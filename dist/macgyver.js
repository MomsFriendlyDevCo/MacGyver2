!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("lodash"));else if("function"==typeof define&&define.amd)define(["lodash"],e);else{var r="object"==typeof exports?e(require("lodash")):e(t._);for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,(function(t){return(()=>{"use strict";var e={8092:e=>{e.exports=t}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{MacGyver:()=>lt});var t={};n.r(t),n.d(t,{$all:()=>K,$and:()=>Z,$elemMatch:()=>M,$eq:()=>I,$exists:()=>G,$gt:()=>J,$gte:()=>z,$in:()=>V,$lt:()=>L,$lte:()=>W,$mod:()=>B,$ne:()=>U,$nin:()=>R,$nor:()=>T,$not:()=>H,$options:()=>tt,$or:()=>q,$regex:()=>Q,$size:()=>Y,$type:()=>X,$where:()=>et});var e,r=n(8092),i=n.n(r),u=function(t){var e="[object "+t+"]";return function(t){return s(t)===e}},s=function(t){return Object.prototype.toString.call(t)},c=function(t){return t instanceof Date?t.getTime():a(t)?t.map(c):t&&"function"==typeof t.toJSON?t.toJSON():t},a=u("Array"),f=u("Object"),p=u("Function"),l=function(t,e){if(null==t&&t==e)return!0;if(t===e)return!0;if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))return!1;if(a(t)){if(t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(!l(t[r],e[r]))return!1;return!0}if(f(t)){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var o in t)if(!l(t[o],e[o]))return!1;return!0}return!1},h=(e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,r)},function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),y=function(t,e,r,n,o,i){var u=e[n];if(a(t)&&isNaN(Number(u)))for(var s=0,c=t.length;s<c;s++)if(!y(t[s],e,r,n,s,t))return!1;return n===e.length||null==t?r(t,o,i):y(t[u],e,r,n+1,u,t)},g=function(){function t(t,e,r){this.params=t,this.owneryQuery=e,this.options=r,this.init()}return t.prototype.init=function(){},t.prototype.reset=function(){this.done=!1,this.success=!1},t}(),d=function(t){function e(e,r,n,o){var i=t.call(this,e,r,n)||this;return i._children=o,i}return h(e,t),e.prototype.reset=function(){this.success=!1,this.done=!1;for(var t=0,e=this._children.length;t<e;t++)this._children[t].reset()},e.prototype.childrenNext=function(t,e,r){for(var n=!0,o=!0,i=0,u=this._children.length;i<u;i++){var s=this._children[i];if(s.next(t,e,r),s.success||(o=!1),s.done){if(!s.success)break}else n=!1}this.done=n,this.success=o},e}(g),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.next=function(t,e,r){this.childrenNext(t,e,r)},e}(d),w=function(t){function e(e,r,n,o,i){var u=t.call(this,r,n,o,i)||this;return u.keyPath=e,u._nextNestedValue=function(t,e,r){return u.childrenNext(t,e,r),!u.done},u}return h(e,t),e.prototype.next=function(t,e,r){y(t,this.keyPath,this._nextNestedValue,0,e,r)},e}(d),v=function(t,e){if(t instanceof Function)return t;if(t instanceof RegExp)return function(e){return"string"==typeof e&&t.test(e)};var r=c(t);return function(t){return e(r,c(t))}},b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.init=function(){this._test=v(this.params,this.options.compare)},e.prototype.next=function(t,e,r){this._test(t,e,r)&&(this.done=!0,this.success=!0)},e}(g),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.next=function(){this.done=!0,this.success=!1},e}(g),F=function(t){return e=function(e,r,n){var o=typeof c(e),i=t(e);return new b((function(t){return typeof c(t)===o&&i(t)}),r,n)},function(t,r,n){return null==t?new x(t,r,n):e(t,r,n)};var e},$=function(t,e,r,n){var o=n.operations[t];if(!o)throw new Error("Unsupported operation: "+t);return o(e,r,n)},j=function(t,e,r,n){if(function(t){for(var e in t)if("$"===e.charAt(0))return!0;return!1}(e)){var o=S(e,n),i=o[0];if(o[1].length)throw new Error("Property queries must contain only operations, or exact objects.");return new w(t,e,r,n,i)}return new w(t,e,r,n,[new b(e,r,n)])},O=function(t,e,r){var n=S(t,r),o=n[0],i=n[1],u=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],u=0,s=i.length;u<s;u++,o++)n[o]=i[u];return n}([new w([],t,e,r,o)],i);return 1===u.length?u[0]:new m(t,e,r,u)},S=function(t,e){var r,n=[],o=[];if(!(r=t)||r.constructor!==Object&&r.constructor!==Array&&"function Object() { [native code] }"!==r.constructor.toString()&&"function Array() { [native code] }"!==r.constructor.toString()||r.toJSON)return n.push(new b(t,t,e)),[n,o];for(var i in t)if("$"===i.charAt(0)){var u=$(i,t[i],t,e);null!=u&&n.push(u)}else o.push(j(i.split("."),t[i],t,e));return[n,o]},E=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.init=function(){this._test=v(this.params,this.options.compare)},e.prototype.reset=function(){t.prototype.reset.call(this),this.success=!0},e.prototype.next=function(t){this._test(t)&&(this.done=!0,this.success=!1)},e}(g),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.init=function(){this._queryOperation=O(this.params,this.owneryQuery,this.options)},e.prototype.reset=function(){this._queryOperation.reset()},e.prototype.next=function(t,e,r){this._queryOperation.next(t,e,r),this.done=this._queryOperation.done,this.success=this._queryOperation.success},e}(g),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.next=function(e,r,n){t.prototype.next.call(this,e,r,n),this.success=!this.success},e}(P),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.init=function(){var t=this;this._ops=this.params.map((function(e){return O(e,null,t.options)}))},e.prototype.reset=function(){this.done=!1,this.success=!1;for(var t=0,e=this._ops.length;t<e;t++)this._ops[t].reset()},e.prototype.next=function(t,e,r){for(var n=!1,o=!1,i=0,u=this._ops.length;i<u;i++){var s=this._ops[i];if(s.next(t,e,r),s.success){n=!0,o=s.success;break}}this.success=o,this.done=n},e}(g),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.next=function(e,r,n){t.prototype.next.call(this,e,r,n),this.success=!this.success},e}(D),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.next=function(t,e,r){r.hasOwnProperty(e)===this.params&&(this.done=!0,this.success=!0)},e}(g),N=function(t){function e(e,r,n){return t.call(this,e,r,n,e.map((function(t){return O(t,r,n)})))||this}return E(e,t),e.prototype.next=function(t,e,r){this.childrenNext(t,e,r)},e}(d),I=function(t,e,r){return new b(t,e,r)},U=function(t,e,r){return new A(t,e,r)},q=function(t,e,r){return new D(t,e,r)},T=function(t,e,r){return new C(t,e,r)},M=function(t,e,r){return new P(t,e,r)},R=function(t,e,r){return new C(t,e,r)},V=function(t,e,r){return new D(t,e,r)},L=F((function(t){return function(e){return e<t}})),W=F((function(t){return function(e){return e<=t}})),J=F((function(t){return function(e){return e>t}})),z=F((function(t){return function(e){return e>=t}})),B=function(t,e,r){var n=t[0],o=t[1];return new b((function(t){return c(t)%n===o}),e,r)},G=function(t,e,r){return new k(t,e,r)},Q=function(t,e,r){return new b(new RegExp(t,e.$options),e,r)},H=function(t,e,r){return new _(t,e,r)},X=function(t,e,r){return new b((function(e){return null!=e&&(e instanceof t||e.constructor===t)}),e,r)},Z=function(t,e,r){return new N(t,e,r)},K=Z,Y=function(t,e,r){return new b((function(e){return e&&e.length===t}),e,r)},tt=function(){return null},et=function(t,e,r){var n;if(p(t))n=t;else{if(process.env.CSP_ENABLED)throw new Error('In CSP mode, sift does not support strings in "$where" condition');n=new Function("obj","return "+t)}return new b((function(t){return n.bind(t)(t)}),e,r)};const rt=function(e,r){var n=void 0===r?{}:r,o=n.compare,i=n.operations;return function(t,e){var r=void 0===e?{}:e,n=r.operations,o=O(t,null,{compare:r.compare||l,operations:Object.assign({},n||{})});return function(t,e,r){return o.reset(),o.next(t,e,r),o.success}}(e,{compare:o,operations:Object.assign({},t,i)})};function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(){ot=function(t,e){return new r(t,void 0,e)};var t=RegExp.prototype,e=new WeakMap;function r(t,n,o){var i=new RegExp(t,n);return e.set(i,o||e.get(t)),ut(i,r.prototype)}function n(t,r){var n=e.get(r);return Object.keys(n).reduce((function(e,r){return e[r]=t[n[r]],e}),Object.create(null))}return it(r,RegExp),r.prototype.exec=function(e){var r=t.exec.call(this,e);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=e.get(this);return t[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+i[e]})))}if("function"==typeof o){var u=this;return t[Symbol.replace].call(this,r,(function(){var t=arguments;return"object"!==nt(t[t.length-1])&&(t=[].slice.call(t)).push(n(t,u)),o.apply(this,t)}))}return t[Symbol.replace].call(this,r,o)},ot.apply(this,arguments)}function it(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(r),!0).forEach((function(e){ft(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ft(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pt={widgets:{},$nextId:0,nextId:function(){return"mgForm".concat(pt.$nextId++)},forms:{}};pt.forms.setConfig=function(t,e){return pt.$forms[t]||(pt.$forms[t]={config:{},data:{}}),pt.$forms[t].config=pt.compileSpec(e).spec,pt},pt.forms.setData=function(t,e){return pt.$forms[t]||(pt.$forms[t]={config:{},data:{}}),pt.$forms[t].data=e,pt},pt.forms.validate=function(t){if(!pt.$forms[t])throw new Error("Invalid MacGyver form");return console.warn("FIXME: Validation not yet supported"),!0},pt.forms.emit=function(t,e){var r;if(!pt.$forms[t])throw new Error("Unknown form ID");for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];(r=pt.$forms[t]).$emit.apply(r,[e].concat(o))},pt.forms.emitDown=function(t,e){var r;if(!pt.$forms[t])throw new Error("Unknown form ID");for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];(r=pt.$forms[t]).$emitDown.apply(r,[e].concat(o))},pt.forms.getPath=function(t,e,r){return pt.utils.getPath(pt.$forms[t],e,r)},pt.forms.getPrototype=function(t){return pt.flatten(t,{type:"spec",want:"array",wantDataPath:!0}).reduce((function(t,e){return e.path&&e.default?(pt.utils.setPath(t,e.path,e.default),t):t}),{})},pt.notify={},pt.notify.loading=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;e&&r&&r.foreground?console.log("[$macgyver]","Loading foreground",t,{status:e}):e?console.log("[$macgyver]","Loading background",t,{status:e}):console.log("[$macgyver]","Stop loading",t,{status:e})},pt.notify.warn=function(t){return console.log("[$macgyver]","WARN",t)},pt.notify.error=function(t){return console.log("[$macgyver]",t)},pt.flatten=function(t,e){var r=i().defaults(e,{root:i().isArray(t)?pt.compileSpec(t).spec:t,maxDepth:0,filter:void 0,filterChildren:void 0,type:"auto",want:"object",wantDataPath:!1,wantSpec:!1,wantSpecPath:!1});if(r.filter&&!i().isFunction(r.filter)&&i().isObject(r.filter)&&(r.filter=i().matches(r.filter)),"object"!=r.want&&"array"!=r.want)throw new Error('$macgyver.flatten({want}) can only be "object" or "array"');if("auto"==r.type)if(r.root&&r.root.items)r.type="spec";else{if(!i().every(r.root,(function(t,e){return!e.items})))throw new Error("Cannot determine type of input object to $macgyver.flatten(), specify it explicitly with {type=spec|data}");r.type="data"}var n="object"==r.want?{}:[];return function t(e,o,u,s){if(i().isObject(e)){r.filter&&!r.filter.call(e,e,path,s)||(r.wantDataPath&&(e[i().isString(r.wantDataPath)?r.wantDataPath:"path"]=o.concat([e.id]).filter((function(t){return t})).join(".")),r.wantSpecPath&&(e[i().isString(r.wantSpecPath)?r.wantSpecPath:"specPath"]=u.join(".")),"object"==r.want?e.id&&(n[e.id]=e):n.push(e));var c="spec"==r.type?e.items:e;!i().isArray(c)||r.filterChildren&&!r.filterChildren.call(e,e,o,u,s)||r.maxDepth&&!(s<=r.maxDepth)||c.forEach((function(e,n){return t(e,o,u.concat("spec"==r.type?["items",n]:[n]),s+1)}))}}(r.root,[],[],0),n},pt.compileSpec=function(t,e){var r=at({clone:!0,convertArray:!0,convertArrayWrapper:function(t){return{type:"mgContainer",showTitles:!1,items:t}},convertShorthand:!0,convertShorthandDetect:function(t){return i().isPlainObject(t)&&!i().has(t,"type")&&i().every(t,(function(t,e){return!(i().has(t,"id")||i().has(t,"type")&&"mgContainer"==t.type)}))},convertShorthandTranslate:function(t){return{type:"mgContainer",items:i().map(t,(function(t,e){var r;if(i().isString(t)&&(t={type:t}),null!==(r=t.type)&&void 0!==r&&r.startsWith("mg"))return t;if(i().isString(e)&&e.startsWith("mg"))return at(at({},t),{},{type:e});if(t.type){var n=t.type.toLowerCase(),o=i().find(pt.widgets,(function(t){return t.meta.id.substr(2).toLowerCase()==n||t.meta.shorthand.includes(n)}));return o?at(at({id:e},t),{},{type:o.meta.id}):{type:"mgError",text:'Unknown widget type "'.concat(t.type,'": ')+JSON.stringify(t,null,"\t")}}return i().isPlainObject(t)?at(at({id:e},t),{},{type:"mgText"}):{type:"mgError",text:"No widget type specified: "+JSON.stringify(t,null,"\t")}}))}},widgetDefaults:!0,widgetTitles:!0,deblank:!0},e);t=r.clone?i().cloneDeep(t):t,r.deblank&&i().isEmpty(t)&&(t={type:"mgContainer",items:[]}),r.convertArray&&i().isArray(t)&&(t=r.convertArrayWrapper(t)),r.convertShorthand&&r.convertShorthandDetect(t)&&(t=r.convertShorthandTranslate(t));var n=[];return pt.flatten(t,{type:"spec",want:"array",wantDataPath:"$dataPath",wantSpecPath:"$specPath"}).forEach((function(t){if(t.type&&pt.widgets[t.type]){if(r.widgetDefaults){var e,o;Object.assign(t,(o=pt.widgets[t.type].config,e=i().pickBy(o,(function(e,r){return!i().has(t,r)&&i().has(e,"default")})),i().mapValues(e,(function(t){return t.default}))))}}else console.log("Unknown widget '".concat(t.type,"'"),t),t={type:"mgError",text:'Unknown widget type "'.concat(t.type,'": ')+JSON.stringify(t)};t.show=null==t.show||!!t.show,t.showIf&&(t.showIf=pt.utils.evalCompile(t.showIf),n.push(t)),r.widgetTitles&&!t.title&&t.id&&(t.title=i().startCase(t.id))})),{spec:t,showIfs:n}},pt.$forms={},pt.utils={},pt.utils.global=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}(),pt.utils.fetch=function(t,e){return Promise.resolve().then((function(){return pt.$http||Promise.reject("No Axios compatible HTTP library - set $macgyver.$http to the library reference")})).then((function(){if(i().isPlainObject(t)){var r=[t.url,t];t=r[0],e=r[1]}else e.url=t;if(!t)throw new Error("Unknown URL to fetch")})).then((function(){return{mappings:{},parsedUrl:new URL(t,window.location),settings:at({type:"object",mappings:{},format:function(t,e){return t},formatError:function(e){return"Unable to format data feed from ".concat(t," - ").concat(e.toString())}},e)}})).then((function(t){return i().isEmpty(e.mappings)?Array.from(t.parsedUrl.searchParams.entries()).forEach((function(e){var r,n,o=(n=2,function(t){if(Array.isArray(t))return t}(r=e)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,o,i=[],u=!0,s=!1;try{for(r=r.call(t);!(u=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{u||null==r.return||r.return()}finally{if(s)throw o}}return i}}(r,n)||function(t,e){if(t){if("string"==typeof t)return st(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(t,e):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],u=o[1];i.startsWith("$")&&(t.mappings[i.substr(1)]={required:!1,from:u},t.parsedUrl.searchParams.delete(i))})):t.mappings=e.mappings,t})).then((function(t){return pt.$http.get(t.parsedUrl.toString()).then((function(e){return t.response=e})).then((function(){return t}))})).then((function(e){switch(e.settings.type){case"array":if(!i().isArray(e.response.data))throw'Expected an array from data feed "'.concat(t,'" but got a non-array');return i().isEmpty(e.mappings)?e.output=e.response.data:e.output=e.response.data.map((function(t,r){return i().mapValues(e.mappings,(function(e,n){if(e.required&&void 0===t[e.from])throw new Error("Required field ".concat(e.from," is not present in data feed for item #").concat(r+1));return t[e.from]}))})),e;case"object":if(!i().isPlainObject(e.response.data))throw'Expected object return from data feed "'.concat(t,'" but got a non-plain-object');return i().isEmpty(e.mappings)?e.output=e.response.data:e.output=i().mapValues(e.mappings,(function(t,r){if(t.required&&void 0===e.response.data[r])throw new Error("Required field ".concat(r," is not present in data feed for item #").concat(itemIndex+1));return e.response.data[t.from]})),e;case"raw":return e.output=e.response.data,e}})).then((function(t){try{return t.settings.format(t.output,t)}catch(e){throw i().isString(t.settings.formatError)?t.settings.formatError:t.settings.formatError(e)}})).catch((function(t){throw pt.notify.error(t),t})).finally((function(){return pt.notify.loading(t,!1)}))},pt.utils.evalCompile=function(t){var e,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i().isFunction(t)){if(!r)throw new Error("Cannot convert compiled Sift object back to an object - disable asFunc parameter");return t}if(i().isPlainObject(t))return r?rt(t):t;if(i().isString(t)&&(e=ot(/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([\.0-9A-Z_a-z]+)([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*==?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*!=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*<=?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*>=?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+\$lte?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+\$gte?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)(.+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,{left:1,operand:2,right:3}).exec(t))){var n;if(e.groups.operand=e.groups.operand.trim(),isFinite(e.groups.right)?e.groups.right=+e.groups.right:/^(["']).*\1$/.test(e.groups.right)&&(e.groups.right=e.groups.right.substr(1,e.groups.right.length-2)),i().isString(e.groups.right)&&"true"===e.groups.right.toLowerCase()&&(e.groups.right=!0),i().isString(e.groups.right)&&"false"===e.groups.right.toLowerCase()&&(e.groups.right=!1),["=","==","$eq"].includes(e.groups.operand))n=ft({},e.groups.left,e.groups.right);else{var o=["!=","$ne"].includes(e.groups.operand)?"$ne":[">","$gt"].includes(e.groups.operand)?"$gt":["<","$lt"].includes(e.groups.operand)?"$lt":[">=","$gte"].includes(e.groups.operand)?"$gte":["<=","$lte"].includes(e.groups.operand)?"$lte":function(t){throw t}(new Error('Unknown operand "'.concat(e.groups.operand,'" while parsing expression "').concat(t,'"')));n=ft({},e.groups.left,ft({},o,e.groups.right))}return r?rt(n):n}throw new Error('Error parsinng expression "'.concat(t,'", $macgyver.utils.evalCompile() can only process simple expressions for now, use Sift object syntax for more complex tests'))},pt.utils.evalMatch=function(t,e){return 1==[e].filter(pt.utils.evalCompile(t)).length},pt.utils.setPath=function(t,e,r,n){if(i().isString(t)||i().isArray(t)||void 0===r){var o=[void 0,t,e,r];t=o[0],e=o[1],r=o[2],n=o[3]}else if(!i().isObject(t))throw new Error("Cannot use $setPath on non-object target");var u=at({arrayNumeric:!0,debug:!1,removeUndefined:!0},n);u.debug&&console.debug("[$setPath]",e,"=",r,{target:t,options:n});var s=t;if(!e)throw new Error("Cannot $setPath with undefined path");return(i().isString(e)?e.split("."):e).some((function(t,e,n){if(e!=n.length-1)return void 0===s[t]?(n.slice(e,n.length-1).forEach((function(t){u.arrayNumeric&&isFinite(t)?pt.utils.set(s,t,[]):pt.utils.set(s,t,{}),s=s[t]})),pt.utils.set(s,n[n.length-1],r),!0):(s=s[t],!1);u.removeUndefined&&void 0===r?pt.utils.unset(s,t):pt.utils.set(s,t,r)})),r},pt.utils.set=pt.utils.global.Vue?Vue.set:function(t,e,r){return t[e]=r},pt.utils.unset=pt.utils.global.Vue?Vue.unset:function(t,e){delete t[e]},pt.utils.getPath=function(t,e,r){return i().get(t,e,r)},pt.utils.incrementId=function(t){if(t){if(/[0-9]$/.test(t)){var e=ot(/^(.*)([0-9]+)$/,{prefix:1,numeric:2}).exec(t);return e.groups.prefix+(parseInt(e.groups.prefix)+1)}return t+"2"}return t};const lt=pt})(),o})()}));